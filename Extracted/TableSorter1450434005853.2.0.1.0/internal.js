/*!
 * MIT License
 * 
 * Copyright (c) 2016 Microsoft
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
(function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:false};t[r].call(i.exports,i,i.exports,n);i.loaded=true;return i.exports}n.m=t;n.c=e;n.p="";return n(0)})([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});n(5);var r=n(64);var i=n(9);var a=n(19);var o=n(20);var s=n(3);var u=n(25);var l=n(124);var c=n(121);var f=n(33);var d=n(125);var p=i.logger("essex:widget:TableSorterVisual");var h=n(92);var m=function T(){var t=window.getComputedStyle(document.documentElement,"");return(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||t["OLink"]===""&&["","-o-"])[0]}();var g=n(68);var y=n(131);var v=n(65);var A=n(158);var b=function(){function t(t,e,n,i){if(n===void 0){n=100}if(i===void 0){i=undefined}var a=this;this.userInteractionDebounce=n;this.defaultPrecision=i;this.listeners=[];this.destroyed=false;this.visualSettings=d.default.create();this.configurationUpdater=y(function(){if(!a.destroyed){var t=a.tableSorter.configuration;var e={merge:[{objectName:"layout",properties:{layout:JSON.stringify(t)},selector:undefined}]};p("Updating Config");a.host.persistProperties(e)}},this.userInteractionDebounce);this.host=t.host;this.initialSettings=g({presentation:{numberFormatter:function(t,e,n){var r=n&&n.column&&n.column.column;var i=r&&e[r];if(r&&(i===null||i===undefined)){t=i}return a.numberFormatter.format(t)},cellFormatter:this.cellFormatter.bind(this)}},e||{});this.element=o('<div><div class="lineup"></div></div>');var s=h&&h.locals&&h.locals.className;if(s){this.element.append(o("<style>"+h+"$</style>"));this.element.addClass(s)}this.numberFormatter=r.formatting.valueFormatter.create({value:0,format:"0",precision:this.defaultPrecision});this.selectionManager=this.host.createSelectionManager();this.tableSorter=new u.TableSorter(this.element.find(".lineup"),undefined,this.userInteractionDebounce);this.tableSorter.settings=this.initialSettings;this.listeners=[this.tableSorter.events.on("selectionChanged",function(t){return a.onSelectionChanged(t)}),this.tableSorter.events.on(u.TableSorter.EVENTS.CLEAR_SELECTION,function(){return a.onSelectionChanged()}),this.tableSorter.events.on(u.TableSorter.EVENTS.LOAD_LINEUP,function(){x(a._data.rankingInfo,a.tableSorter.data)}),this.tableSorter.events.on("configurationChanged",function(t){if(!a.handlingUpdate){a.configurationUpdater()}})];t.element.appendChild(this.element[0])}Object.defineProperty(t.prototype,"dimensions",{get:function(){return this._dimensions},set:function(t){this._dimensions=t;if(this.tableSorter){this.tableSorter.dimensions=t}},enumerable:true,configurable:true});t.prototype.update=function(t,e,n){if(!this.destroyed){var r=n!==undefined?n:i.calcUpdateType(this.prevUpdateOptions,t);this.prevUpdateOptions=t;this.handlingUpdate=true;this.dataView=t.dataViews&&t.dataViews[0];this.dataViewTable=this.dataView&&this.dataView.table;p("Update Type: ",r);var a=this.visualSettings;this.visualSettings=this.visualSettings.receiveFromPBI(this.dataView);var o={width:t.viewport.width,height:t.viewport.height};if(r&i.UpdateType.Resize){this.dimensions=o}if(r&i.UpdateType.Settings){this.loadSettingsFromPowerBI(a,this.visualSettings)}if(r&i.UpdateType.Data||this.hasLayoutChanged(r,t)||this.loadResolver||E(a,this.visualSettings)){this.waitingForMoreData=false;this.waitingForSort=false;this.loadDataFromPowerBI(a,r)}this.handlingUpdate=false}};t.prototype.enumerateObjectInstances=function(t){var e=[];var n=this.visualSettings.buildEnumerationObjects(t.objectName,this.dataView,false);if(n&&n.length){e=e.concat(n)}return t.objectName==="layout"?{}:e.filter(function(t){return Object.keys(t.properties).length>0})};t.prototype.destroy=function(){if(!this.destroyed){if(this.listeners){this.listeners.forEach(function(t){return t.destroy()});this.listeners.length=0}if(this.tableSorter){this.tableSorter.destroy();delete this.tableSorter}this.destroyed=true}};t.prototype.restoreSelection=function(){var t=i.get(this.dataView,function(t){return t.metadata.objects});var e={objectName:"general",propertyName:"filter"};var n=r.dataview.DataViewObjects.getValue(t,e);var a=r.filter.FilterManager.restoreSelectionIds(n);this.setSelectionOnSelectionManager(a);var o=(a||[]).reduce(function(t,e){t[e.getKey()]=1;return t},{});var s=((this._data?this._data.data:undefined)||[]).filter(function(t){return!!o[t.id]});this.tableSorter.selection=s};t.prototype.onSelectionChanged=function(t){var e=this.tableSorter.settings.selection.multiSelect;var n=(t||[]).map(function(t){return t.identity});var r=n.map(function(t){return t.getSelector()});this.setSelectionOnSelectionManager(n);this.selectionManager.applySelectionFilter();this.setSelectionOnSelectionManager(n,true)};t.prototype.setSelectionOnSelectionManager=function(t,e){var n=this;if(e===void 0){e=false}var r=function(){if(t.length>0&&n.selectionManager.select){n.selectionManager.select(t)}else if(n.selectionManager.clear){n.selectionManager.clear()}};if(!e&&this.selectionManager["setSelectionIds"]){this.selectionManager["setSelectionIds"](t)}else if(!e&&this.selectionManager["selectedIds"]){this.selectionManager["selectedIds"]=t}else{r()}};t.prototype.hasLayoutChanged=function(t,e){if(t&i.UpdateType.Settings&&e.dataViews&&e.dataViews.length){if(this.dataView.metadata&&this.dataView.metadata.objects&&this.dataView.metadata.objects["layout"]){var n=this.dataView.metadata.objects["layout"]["layout"]!==JSON.stringify(this.tableSorter.configuration);if(n){p("Layout changed!")}return n}}return false};t.prototype.loadDataFromPowerBI=function(t,e){var n=this;if(this.dataViewTable){var r=this.visualSettings.rankSettings;var a=t.rankSettings;var o=l.default(this.dataView,this.selectionManager.getSelectionIds(),r,function(){return n.host.createSelectionIdBuilder()});var s=f.default(this.dataView,o.data,r,a.reverseBars!==r.reverseBars&&e===i.UpdateType.Settings,r.reverseBars);var u=o.data.filter(function(t){return t.selected});this.tableSorter.configuration=s;this._data=o;if(this.loadResolver){p("Resolving additional data");var c=this.loadResolver;delete this.loadResolver;c(o.data)}else{p("Loading data into MyDataProvider");var d=s.columns.filter(function(t){return!!t.domain}).reduce(function(t,e){t[e.column]=e.domain;return t},{});this.tableSorter.dataProvider=this.createDataProvider(o,d)}this.tableSorter.selection=u}};t.prototype.loadSettingsFromPowerBI=function(e,n){if(this.dataView){var i=o.extend(true,{},this.tableSorter.settings,t.VISUAL_DEFAULT_SETTINGS,this.initialSettings||{},n.toJSONObject());var a=e.presentation.labelPrecision!==n.presentation.labelPrecision||e.presentation.labelDisplayUnits!==n.presentation.labelDisplayUnits;if(a){this.numberFormatter=r.formatting.valueFormatter.create({value:n.presentation.labelDisplayUnits||0,format:"0",precision:n.presentation.labelPrecision||this.defaultPrecision})}var s=n.presentation.headerTextColor;if(e.presentation.headerTextColor!==s){this.element.find(".lu-header").css("color",s||"")}if(a||e.rankSettings.histogram!==n.rankSettings.histogram||e.presentation.textColor!==n.presentation.textColor){this.tableSorter.rerenderValues()}this.tableSorter.settings=i;this.restoreSelection()}};t.prototype.createDataProvider=function(t,e){return new c.default(t.data,e)};t.prototype.cellFormatter=function(t){var e=this;var n=function(t){if(e._data&&e._data.rankingInfo){var n=e._data.rankingInfo,r=n.values,i=n.column,a=n.colors;var o=t.column&&t.column.column&&t.column.column.column;var s=i.displayName;return o===s?a[t.row[s]]:undefined}};var r=this.visualSettings.rankSettings.histogram;var a=function(t){var e=i.get(t,function(t){return t.column.column.config},{});return e.isConfidence};t.style({background:function(t){return r&&a(t)&&t.label>1?m+("linear-gradient(bottom, rgba(0,0,0,.2) "+t.label+"%, rgba(0,0,0,0) "+t.label+"%)"):n(t)},width:function(t){return t["width"]+(r&&a(t)?2:0)+"px"},"margin-left":function(t){return r&&a(t)?"-1px":undefined},color:function(t){if(e.visualSettings.presentation.textColor){return e.visualSettings.presentation.textColor}var r=n(t)||"#ffffff";var i=s.hcl(r);return i.l<=60?"#ececec":"#333333"}}).text(function(t){return a(t)&&t.label+""==="0"?" - ":t.label})};return t}();b.VISUAL_DEFAULT_SETTINGS=o.extend(true,{},u.DEFAULT_TABLESORTER_SETTINGS,{presentation:{columnColors:function(t){return a.default[t%a.default.length]}},experimental:{serverSideSorting:false,serverSideFiltering:false}});e.default=b;function x(t,e){"use strict";if(t){var n=t.values.slice(0).reverse();var r={};var i={};e.forEach(function(e){var r=e[t.column.displayName];n.forEach(function(t){if(f.LOWER_NUMBER_HIGHER_VALUE?r<=t:r>=t){i[t]=(i[t]||0)+1}})});var a=Math.max((e.length+"").length-2,0);e.forEach(function(e,o){var s=e[t.column.displayName];for(var u=0,l=n;u<l.length;u++){var c=l[u];var d=r[c]=r[c]||0;var p="GENERATED_RANK_LEVEL_"+c;var h=0;if(f.LOWER_NUMBER_HIGHER_VALUE?s<=c:s>=c){var m=(i[c]-r[c])/i[c]*100;h=parseFloat(m.toFixed(a));r[c]=d+1}e[p]=h}})}}function E(t,e){"use strict";if(t&&e){var n=i.get(t,function(t){return t.rankSettings},{});var r=i.get(e,function(t){return t.rankSettings},{});var a=i.get(t,function(t){return t.rankSettings.rankGradients},{});var o=i.get(e,function(t){return t.rankSettings.rankGradients},{});var s=n.reverseBars!==r.reverseBars||n.colorMode!==r.colorMode||a.endColor!==o.endColor||a.startColor!==o.startColor||a.endValue!==o.endValue||a.startValue!==o.startValue;if(!s){var u=n.rankInstanceColors||{};var l=r.rankInstanceColors||{};return!A(Object.keys(u),Object.keys(l))||Object.keys(u).filter(function(t){return l[t]!==u[t]}).length>0}return s}return true}(function(t){var e;(function(e){var n;(function(e){var n=function(e){if(e.objects){var n=e.objects;for(var r in n){if(n.hasOwnProperty(r)){var i=n[r].properties;if(i){for(var a in i){if(i.hasOwnProperty(a)){var o=i[a];if(o.type&&o.type.enumeration){o.type.enumeration=t.createEnumType(o.type.enumeration)}}}}}}}return e};e["TableSorter1450434005853"]={name:"TableSorter1450434005853",displayName:"TableSorter","class":"TableSorterVisual",version:"2.0.2",apiVersion:"1.11.0",capabilities:{},create:function(){var t=Object.create(b.prototype);b.apply(t,arguments);return t},custom:true};b.__essex_build_info__="2.0.2 1536258720573 [0b7c4e4b6858935eb5f399a515172006]";Object.defineProperty(b.prototype,"__essex_build_info__",{get:function(){return b.__essex_build_info__}});b.prototype.__essex_visual__=true;(function(e){var n="0.0.1";var r="__essex_patcher__";var i=function(e){var n=t.extensibility.visualApiVersions;for(var r=0,i=n.length;r<i;++r){if(n[r].version===e){return n[r]}}return null};var a=function(t){return!!(t.overloads&&t.overloads[r])};var o=function(t){return!!t.__essex_visual__};var s=function(t){var e=t.overloads;t.overloads=function(t,n){if(!o(t)){return e?e(t,n):t}var r={update:function(){var e=Array.prototype.slice.call(arguments);if(r.options){var n=e[0];for(var i in r.options){if(r.options.hasOwnProperty(i)&&!n.hasOwnProperty(i)){n[i]=r.options[i]}}r.options=null}t.update.apply(t,e)},options:null};var i=e?e(r,n):r;return{update:function(e){if(t.update){r.options=e;i.update(e)}}}};t.overloads[r]=n;return t};var u=i(e);if(u&&!a(u)){s(u)}})("1.11.0")})(n=e.plugins||(e.plugins={}))})(e=t.visuals||(t.visuals={}))})(window["powerbi"]||(window["powerbi"]={}))},function(t,e){var n=Math.pow(2,53)-1;function r(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}t.exports=r},function(t,e){var n=Math.pow(2,53)-1;function r(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}t.exports=r},function(t,e,n){var r,i;!function(){var a={version:"3.5.12"};var o=[].slice,s=function(t){return o.call(t)};var u=this.document;function l(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(u){try{s(u.documentElement.childNodes)[0].nodeType}catch(f){s=function(t){var e=t.length,n=new Array(e);while(e--)n[e]=t[e];return n}}}if(!Date.now)Date.now=function(){return+new Date};if(u){try{u.createElement("DIV").style.setProperty("opacity",0,"")}catch(d){var p=this.Element.prototype,h=p.setAttribute,m=p.setAttributeNS,g=this.CSSStyleDeclaration.prototype,y=g.setProperty;p.setAttribute=function(t,e){h.call(this,t,e+"")};p.setAttributeNS=function(t,e,n){m.call(this,t,e,n+"")};g.setProperty=function(t,e,n){y.call(this,t,e+"",n)}}}a.ascending=v;function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}a.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN};a.min=function(t,e){var n=-1,r=t.length,i,a;if(arguments.length===1){while(++n<r)if((a=t[n])!=null&&a>=a){i=a;break}while(++n<r)if((a=t[n])!=null&&i>a)i=a}else{while(++n<r)if((a=e.call(t,t[n],n))!=null&&a>=a){i=a;break}while(++n<r)if((a=e.call(t,t[n],n))!=null&&i>a)i=a}return i};a.max=function(t,e){var n=-1,r=t.length,i,a;if(arguments.length===1){while(++n<r)if((a=t[n])!=null&&a>=a){i=a;break}while(++n<r)if((a=t[n])!=null&&a>i)i=a}else{while(++n<r)if((a=e.call(t,t[n],n))!=null&&a>=a){i=a;break}while(++n<r)if((a=e.call(t,t[n],n))!=null&&a>i)i=a}return i};a.extent=function(t,e){var n=-1,r=t.length,i,a,o;if(arguments.length===1){while(++n<r)if((a=t[n])!=null&&a>=a){i=o=a;break}while(++n<r)if((a=t[n])!=null){if(i>a)i=a;if(o<a)o=a}}else{while(++n<r)if((a=e.call(t,t[n],n))!=null&&a>=a){i=o=a;break}while(++n<r)if((a=e.call(t,t[n],n))!=null){if(i>a)i=a;if(o<a)o=a}}return[i,o]};function A(t){return t===null?NaN:+t}function b(t){return!isNaN(t)}a.sum=function(t,e){var n=0,r=t.length,i,a=-1;if(arguments.length===1){while(++a<r)if(b(i=+t[a]))n+=i}else{while(++a<r)if(b(i=+e.call(t,t[a],a)))n+=i}return n};a.mean=function(t,e){var n=0,r=t.length,i,a=-1,o=r;if(arguments.length===1){while(++a<r)if(b(i=A(t[a])))n+=i;else--o}else{while(++a<r)if(b(i=A(e.call(t,t[a],a))))n+=i;else--o}if(o)return n/o};a.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i};a.median=function(t,e){var n=[],r=t.length,i,o=-1;if(arguments.length===1){while(++o<r)if(b(i=A(t[o])))n.push(i)}else{while(++o<r)if(b(i=A(e.call(t,t[o],o))))n.push(i)}if(n.length)return a.quantile(n.sort(v),.5)};a.variance=function(t,e){var n=t.length,r=0,i,a,o=0,s=-1,u=0;if(arguments.length===1){while(++s<n){if(b(i=A(t[s]))){a=i-r;r+=a/++u;o+=a*(i-r)}}}else{while(++s<n){if(b(i=A(e.call(t,t[s],s)))){a=i-r;r+=a/++u;o+=a*(i-r)}}}if(u>1)return o/(u-1)};a.deviation=function(){var t=a.variance.apply(this,arguments);return t?Math.sqrt(t):t};function x(t){return{left:function(e,n,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=e.length;while(r<i){var a=r+i>>>1;if(t(e[a],n)<0)r=a+1;else i=a}return r},right:function(e,n,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=e.length;while(r<i){var a=r+i>>>1;if(t(e[a],n)>0)i=a;else r=a+1}return r}}}var E=x(v);a.bisectLeft=E.left;a.bisect=a.bisectRight=E.right;a.bisector=function(t){return x(t.length===1?function(e,n){return v(t(e),n)}:t)};a.shuffle=function(t,e,n){if((r=arguments.length)<3){n=t.length;if(r<2)e=0}var r=n-e,i,a;while(r){a=Math.random()*r--|0;i=t[r+e],t[r+e]=t[a+e],t[a+e]=i}return t};a.permute=function(t,e){var n=e.length,r=new Array(n);while(n--)r[n]=t[e[n]];return r};a.pairs=function(t){var e=0,n=t.length-1,r,i=t[0],a=new Array(n<0?0:n);while(e<n)a[e]=[r=i,i=t[++e]];return a};a.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=a.min(arguments,T),n=new Array(e);++t<e;){for(var r=-1,i,o=n[t]=new Array(i);++r<i;){o[r]=arguments[r][t]}}return n};function T(t){return t.length}a.transpose=function(t){return a.zip.apply(a,t)};a.keys=function(t){var e=[];for(var n in t)e.push(n);return e};a.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e};a.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e};a.merge=function(t){var e=t.length,n,r=-1,i=0,a,o;while(++r<e)i+=t[r].length;a=new Array(i);while(--e>=0){o=t[e];n=o.length;while(--n>=0){a[--i]=o[n]}}return a};var w=Math.abs;a.range=function(t,e,n){if(arguments.length<3){n=1;if(arguments.length<2){e=t;t=0}}if((e-t)/n===Infinity)throw new Error("infinite range");var r=[],i=S(w(n)),a=-1,o;t*=i,e*=i,n*=i;if(n<0)while((o=t+n*++a)>e)r.push(o/i);else while((o=t+n*++a)<e)r.push(o/i);return r};function S(t){var e=1;while(t*e%1)e*=10;return e}function O(t,e){for(var n in e){Object.defineProperty(t.prototype,n,{value:e[n],enumerable:false})}}a.map=function(t,e){var n=new I;if(t instanceof I){t.forEach(function(t,e){n.set(t,e)})}else if(Array.isArray(t)){var r=-1,i=t.length,a;if(arguments.length===1)while(++r<i)n.set(r,t[r]);else while(++r<i)n.set(e.call(t,a=t[r],r),a)}else{for(var o in t)n.set(o,t[o])}return n};function I(){this._=Object.create(null)}var C="__proto__",N="\0";O(I,{has:F,get:function(t){return this._[R(t)]},set:function(t,e){return this._[R(t)]=e},remove:M,keys:_,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:D(e),value:this._[e]});return t},size:P,empty:k,forEach:function(t){for(var e in this._)t.call(this,D(e),this._[e])}});function R(t){return(t+="")===C||t[0]===N?N+t:t}function D(t){return(t+="")[0]===N?t.slice(1):t}function F(t){return R(t)in this._}function M(t){return(t=R(t))in this._&&delete this._[t]}function _(){var t=[];for(var e in this._)t.push(D(e));return t}function P(){var t=0;for(var e in this._)++t;return t}function k(){for(var t in this._)return false;return true}a.nest=function(){var t={},e=[],n=[],r,i;function o(n,a,s){if(s>=e.length)return i?i.call(t,a):r?a.sort(r):a;var u=-1,l=a.length,c=e[s++],f,d,p,h=new I,m;while(++u<l){if(m=h.get(f=c(d=a[u]))){m.push(d)}else{h.set(f,[d])}}if(n){d=n();p=function(t,e){d.set(t,o(n,e,s))}}else{d={};p=function(t,e){d[t]=o(n,e,s)}}h.forEach(p);return d}function s(t,r){if(r>=e.length)return t;var i=[],a=n[r++];t.forEach(function(t,e){i.push({key:t,values:s(e,r)})});return a?i.sort(function(t,e){return a(t.key,e.key)}):i}t.map=function(t,e){return o(e,t,0)};t.entries=function(t){return s(o(a.map,t,0),0)};t.key=function(n){e.push(n);return t};t.sortKeys=function(r){n[e.length-1]=r;return t};t.sortValues=function(e){r=e;return t};t.rollup=function(e){i=e;return t};return t};a.set=function(t){var e=new L;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e};function L(){this._=Object.create(null)}O(L,{has:F,add:function(t){this._[R(t+="")]=true;return t},remove:M,values:_,size:P,empty:k,forEach:function(t){for(var e in this._)t.call(this,D(e))}});a.behavior={};function U(t){return t}a.rebind=function(t,e){var n=1,r=arguments.length,i;while(++n<r)t[i=arguments[n]]=j(t,e,e[i]);return t};function j(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function W(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=B.length;n<r;++n){var i=B[n]+e;if(i in t)return i}}var B=["webkit","ms","moz","Moz","o","O"];function H(){}a.dispatch=function(){var t=new q,e=-1,n=arguments.length;while(++e<n)t[arguments[e]]=G(t);return t};function q(){}q.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0){r=t.slice(n+1);t=t.slice(0,n)}if(t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(arguments.length===2){if(e==null)for(t in this){if(this.hasOwnProperty(t))this[t].on(r,null)}return this}};function G(t){var e=[],n=new I;function r(){var n=e,r=-1,i=n.length,a;while(++r<i)if(a=n[r].on)a.apply(this,arguments);return t}r.on=function(r,i){var a=n.get(r),o;if(arguments.length<2)return a&&a.on;if(a){a.on=null;e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1));n.remove(r)}if(i)e.push(n.set(r,{on:i}));return t};return r}a.event=null;function V(){a.event.preventDefault()}function Y(){var t=a.event,e;while(e=t.sourceEvent)t=e;return t}function Q(t){var e=new q,n=0,r=arguments.length;while(++n<r)e[arguments[n]]=G(e);e.of=function(n,r){return function(i){try{var o=i.sourceEvent=a.event;i.target=t;a.event=i;e[i.type].apply(n,r)}finally{a.event=o}}};return e}a.requote=function(t){return t.replace(z,"\\$&")};var z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var K={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function Z(t){K(t,tt);return t}var $=function(t,e){return e.querySelector(t)},X=function(t,e){return e.querySelectorAll(t)},J=function(t,e){var n=t.matches||t[W(t,"matchesSelector")];J=function(t,e){return n.call(t,e)};return J(t,e)};if(typeof Sizzle==="function"){$=function(t,e){return Sizzle(t,e)[0]||null};X=Sizzle;J=Sizzle.matchesSelector}a.selection=function(){return a.select(u.documentElement)};var tt=a.selection.prototype=[];tt.select=function(t){var e=[],n,r,i,a;t=et(t);for(var o=-1,s=this.length;++o<s;){e.push(n=[]);n.parentNode=(i=this[o]).parentNode;for(var u=-1,l=i.length;++u<l;){if(a=i[u]){n.push(r=t.call(a,a.__data__,u,o));if(r&&"__data__"in a)r.__data__=a.__data__}else{n.push(null)}}}return Z(e)};function et(t){return typeof t==="function"?t:function(){return $(t,this)}}tt.selectAll=function(t){var e=[],n,r;t=nt(t);for(var i=-1,a=this.length;++i<a;){for(var o=this[i],u=-1,l=o.length;++u<l;){if(r=o[u]){e.push(n=s(t.call(r,r.__data__,u,i)));n.parentNode=r}}}return Z(e)};function nt(t){return typeof t==="function"?t:function(){return X(t,this)}}var rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:rt,qualify:function(t){var e=t.indexOf(":"),n=t;if(e>=0&&(n=t.slice(0,e))!=="xmlns")t=t.slice(e+1);return rt.hasOwnProperty(n)?{space:rt[n],local:t}:t}};tt.attr=function(t,e){if(arguments.length<2){if(typeof t==="string"){var n=this.node();t=a.ns.qualify(t);return t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(it(e,t[e]));return this}return this.each(it(t,e))};function it(t,e){t=a.ns.qualify(t);function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function s(){var n=e.apply(this,arguments);if(n==null)this.removeAttribute(t);else this.setAttribute(t,n)}function u(){var n=e.apply(this,arguments);if(n==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,n)}return e==null?t.local?r:n:typeof e==="function"?t.local?u:s:t.local?o:i}function at(t){return t.trim().replace(/\s+/g," ")}tt.classed=function(t,e){if(arguments.length<2){if(typeof t==="string"){var n=this.node(),r=(t=st(t)).length,i=-1;if(e=n.classList){while(++i<r)if(!e.contains(t[i]))return false}else{e=n.getAttribute("class");while(++i<r)if(!ot(t[i]).test(e))return false}return true}for(e in t)this.each(ut(e,t[e]));return this}return this.each(ut(t,e))};function ot(t){return new RegExp("(?:^|\\s+)"+a.requote(t)+"(?:\\s+|$)","g")}function st(t){return(t+"").trim().split(/^|\s+/)}function ut(t,e){t=st(t).map(lt);var n=t.length;function r(){var r=-1;while(++r<n)t[r](this,e)}function i(){var r=-1,i=e.apply(this,arguments);while(++r<n)t[r](this,i)}return typeof e==="function"?i:r}function lt(t){var e=ot(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";if(r){e.lastIndex=0;if(!e.test(i))n.setAttribute("class",at(i+" "+t))}else{n.setAttribute("class",at(i.replace(e," ")))}}}tt.style=function(t,e,n){var r=arguments.length;if(r<3){if(typeof t!=="string"){if(r<2)e="";for(n in t)this.each(ct(n,t[n],e));return this}if(r<2){var i=this.node();return c(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(ct(t,e,n))};function ct(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function a(){var r=e.apply(this,arguments);if(r==null)this.style.removeProperty(t);else this.style.setProperty(t,r,n)}return e==null?r:typeof e==="function"?a:i}tt.property=function(t,e){if(arguments.length<2){if(typeof t==="string")return this.node()[t];for(e in t)this.each(ft(e,t[e]));return this}return this.each(ft(t,e))};function ft(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);if(n==null)delete this[t];else this[t]=n}return e==null?n:typeof e==="function"?i:r}tt.text=function(t){return arguments.length?this.each(typeof t==="function"?function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}:t==null?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent};tt.html=function(t){return arguments.length?this.each(typeof t==="function"?function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}:t==null?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML};tt.append=function(t){t=dt(t);return this.select(function(){return this.appendChild(t.apply(this,arguments))})};function dt(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return typeof t==="function"?t:(t=a.ns.qualify(t)).local?n:e}tt.insert=function(t,e){t=dt(t);e=et(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})};tt.remove=function(){return this.each(pt)};function pt(){var t=this.parentNode;if(t)t.removeChild(this)}tt.data=function(t,e){var n=-1,r=this.length,i,a;if(!arguments.length){t=new Array(r=(i=this[0]).length);while(++n<r){if(a=i[n]){t[n]=a.__data__}}return t}function o(t,n){var r,i=t.length,a=n.length,o=Math.min(i,a),c=new Array(a),f=new Array(a),d=new Array(i),p,h;if(e){var m=new I,g=new Array(i),y;for(r=-1;++r<i;){if(p=t[r]){if(m.has(y=e.call(p,p.__data__,r))){d[r]=p}else{m.set(y,p)}g[r]=y}}for(r=-1;++r<a;){if(!(p=m.get(y=e.call(n,h=n[r],r)))){f[r]=ht(h)}else if(p!==true){c[r]=p;p.__data__=h}m.set(y,true)}for(r=-1;++r<i;){if(r in g&&m.get(g[r])!==true){d[r]=t[r]}}}else{for(r=-1;++r<o;){p=t[r];h=n[r];if(p){p.__data__=h;c[r]=p}else{f[r]=ht(h)}}for(;r<a;++r){f[r]=ht(n[r])}for(;r<i;++r){d[r]=t[r]}}f.update=c;f.parentNode=c.parentNode=d.parentNode=t.parentNode;s.push(f);u.push(c);l.push(d)}var s=vt([]),u=Z([]),l=Z([]);if(typeof t==="function"){while(++n<r){o(i=this[n],t.call(i,i.parentNode.__data__,n))}}else{while(++n<r){o(i=this[n],t)}}u.enter=function(){return s};u.exit=function(){return l};return u};function ht(t){return{__data__:t}}tt.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")};tt.filter=function(t){var e=[],n,r,i;if(typeof t!=="function")t=mt(t);for(var a=0,o=this.length;a<o;a++){e.push(n=[]);n.parentNode=(r=this[a]).parentNode;for(var s=0,u=r.length;s<u;s++){if((i=r[s])&&t.call(i,i.__data__,s,a)){n.push(i)}}}return Z(e)};function mt(t){return function(){return J(this,t)}}tt.order=function(){for(var t=-1,e=this.length;++t<e;){for(var n=this[t],r=n.length-1,i=n[r],a;--r>=0;){if(a=n[r]){if(i&&i!==a.nextSibling)i.parentNode.insertBefore(a,i);i=a}}}return this};tt.sort=function(t){t=gt.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()};function gt(t){if(!arguments.length)t=v;return function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}tt.each=function(t){return yt(this,function(e,n,r){t.call(e,e.__data__,n,r)})};function yt(t,e){for(var n=0,r=t.length;n<r;n++){for(var i=t[n],a=0,o=i.length,s;a<o;a++){if(s=i[a])e(s,a,n)}}return t}tt.call=function(t){var e=s(arguments);t.apply(e[0]=this,e);return this};tt.empty=function(){return!this.node()};tt.node=function(){for(var t=0,e=this.length;t<e;t++){for(var n=this[t],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}}return null};tt.size=function(){var t=0;yt(this,function(){++t});return t};function vt(t){K(t,At);return t}var At=[];a.selection.enter=vt;a.selection.enter.prototype=At;At.append=tt.append;At.empty=tt.empty;At.node=tt.node;At.call=tt.call;At.size=tt.size;At.select=function(t){var e=[],n,r,i,a,o;for(var s=-1,u=this.length;++s<u;){i=(a=this[s]).update;e.push(n=[]);n.parentNode=a.parentNode;for(var l=-1,c=a.length;++l<c;){if(o=a[l]){n.push(i[l]=r=t.call(a.parentNode,o.__data__,l,s));r.__data__=o.__data__}else{n.push(null)}}}return Z(e)};At.insert=function(t,e){if(arguments.length<2)e=bt(this);return tt.insert.call(this,t,e)};function bt(t){var e,n;return function(r,i,a){var o=t[a].update,s=o.length,u;if(a!=n)n=a,e=0;if(i>=e)e=i+1;while(!(u=o[e])&&++e<s);return u}}a.select=function(t){var e;if(typeof t==="string"){e=[$(t,u)];e.parentNode=u.documentElement}else{e=[t];e.parentNode=l(t)}return Z([e])};a.selectAll=function(t){var e;if(typeof t==="string"){e=s(X(t,u));e.parentNode=u.documentElement}else{e=s(t);e.parentNode=null}return Z([e])};tt.on=function(t,e,n){var r=arguments.length;if(r<3){if(typeof t!=="string"){if(r<2)e=false;for(n in t)this.each(xt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=false}return this.each(xt(t,e,n))};function xt(t,e,n){var r="__on"+t,i=t.indexOf("."),o=Tt;if(i>0)t=t.slice(0,i);var u=Et.get(t);if(u)t=u,o=wt;function l(){var e=this[r];if(e){this.removeEventListener(t,e,e.$);delete this[r]}}function c(){var i=o(e,s(arguments));l.call(this);this.addEventListener(t,this[r]=i,i.$=n);i._=e}function f(){var e=new RegExp("^__on([^.]+)"+a.requote(t)+"$"),n;for(var r in this){if(n=r.match(e)){var i=this[r];this.removeEventListener(n[1],i,i.$);delete this[r]}}}return i?e?c:l:e?H:f}var Et=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(u){Et.forEach(function(t){if("on"+t in u)Et.remove(t)})}function Tt(t,e){return function(n){var r=a.event;a.event=n;e[0]=this.__data__;try{t.apply(this,e)}finally{a.event=r}}}function wt(t,e){var n=Tt(t,e);return function(t){var e=this,r=t.relatedTarget;if(!r||r!==e&&!(r.compareDocumentPosition(e)&8)){n.call(e,t)}}}var St,Ot=0;function It(t){var e=".dragsuppress-"+ ++Ot,n="click"+e,r=a.select(c(t)).on("touchmove"+e,V).on("dragstart"+e,V).on("selectstart"+e,V);if(St==null){St="onselectstart"in t?false:W(t.style,"userSelect")}if(St){var i=l(t).style,o=i[St];i[St]="none"}return function(t){r.on(e,null);if(St)i[St]=o;if(t){var a=function(){r.on(n,null)};r.on(n,function(){V();a()},true);setTimeout(a,0)}}}a.mouse=function(t){return Nt(t,Y())};var Ct=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Nt(t,e){if(e.changedTouches)e=e.changedTouches[0];var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Ct<0){var i=c(t);if(i.scrollX||i.scrollY){n=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();Ct=!(o.f||o.e);n.remove()}}if(Ct)r.x=e.pageX,r.y=e.pageY;else r.x=e.clientX,r.y=e.clientY;r=r.matrixTransform(t.getScreenCTM().inverse());return[r.x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}a.touch=function(t,e,n){if(arguments.length<3)n=e,e=Y().changedTouches;if(e)for(var r=0,i=e.length,a;r<i;++r){if((a=e[r]).identifier===n){return Nt(t,a)}}};a.behavior.drag=function(){var t=Q(i,"drag","dragstart","dragend"),e=null,n=o(H,a.mouse,c,"mousemove","mouseup"),r=o(Rt,a.touch,U,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function o(n,r,i,o,s){return function(){var u=this,l=a.event.target,c=u.parentNode,f=t.of(u,arguments),d=0,p=n(),h=".drag"+(p==null?"":"-"+p),m,g=a.select(i(l)).on(o+h,A).on(s+h,b),y=It(l),v=r(c,p);if(e){m=e.apply(u,arguments);m=[m.x-v[0],m.y-v[1]]}else{m=[0,0]}f({type:"dragstart"});function A(){var t=r(c,p),e,n;if(!t)return;e=t[0]-v[0];n=t[1]-v[1];d|=e|n;v=t;f({type:"drag",x:t[0]+m[0],y:t[1]+m[1],dx:e,dy:n})}function b(){if(!r(c,p))return;g.on(o+h,null).on(s+h,null);y(d);f({type:"dragend"})}}}i.origin=function(t){if(!arguments.length)return e;e=t;return i};return a.rebind(i,t,"on")};function Rt(){return a.event.changedTouches[0].identifier}a.touches=function(t,e){if(arguments.length<2)e=Y().touches;return e?s(e).map(function(e){var n=Nt(t,e);n.identifier=e.identifier;return n}):[]};var Dt=1e-6,Ft=Dt*Dt,Mt=Math.PI,_t=2*Mt,Pt=_t-Dt,kt=Mt/2,Lt=Mt/180,Ut=180/Mt;
function jt(t){return t>0?1:t<0?-1:0}function Wt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Bt(t){return t>1?0:t<-1?Mt:Math.acos(t)}function Ht(t){return t>1?kt:t<-1?-kt:Math.asin(t)}function qt(t){return((t=Math.exp(t))-1/t)/2}function Gt(t){return((t=Math.exp(t))+1/t)/2}function Vt(t){return((t=Math.exp(2*t))-1)/(t+1)}function Yt(t){return(t=Math.sin(t/2))*t}var Qt=Math.SQRT2,zt=2,Kt=4;a.interpolateZoom=function(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2],u=a-n,l=o-r,c=u*u+l*l,f,d;if(c<Ft){d=Math.log(s/i)/Qt;f=function(t){return[n+t*u,r+t*l,i*Math.exp(Qt*t*d)]}}else{var p=Math.sqrt(c),h=(s*s-i*i+Kt*c)/(2*i*zt*p),m=(s*s-i*i-Kt*c)/(2*s*zt*p),g=Math.log(Math.sqrt(h*h+1)-h),y=Math.log(Math.sqrt(m*m+1)-m);d=(y-g)/Qt;f=function(t){var e=t*d,a=Gt(g),o=i/(zt*p)*(a*Vt(Qt*e+g)-qt(g));return[n+o*u,r+o*l,i*a/Gt(Qt*e+g)]}}f.duration=d*1e3;return f};a.behavior.zoom=function(){var t={x:0,y:0,k:1},e,n,r,i=[960,500],o=Zt,s=250,l=0,f="mousedown.zoom",d="mousemove.zoom",p="mouseup.zoom",h,m="touchstart.zoom",g,y=Q(E,"zoomstart","zoom","zoomend"),v,A,b,x;if(!Xt){Xt="onwheel"in u?($t=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in u?($t=function(){return a.event.wheelDelta},"mousewheel"):($t=function(){return-a.event.detail},"MozMousePixelScroll")}function E(t){t.on(f,F).on(Xt+".zoom",_).on("dblclick.zoom",P).on(m,M)}E.event=function(e){e.each(function(){var e=y.of(this,arguments),r=t;if(ku){a.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1};N(e)}).tween("zoom:zoom",function(){var o=i[0],s=i[1],u=n?n[0]:o/2,l=n?n[1]:s/2,c=a.interpolateZoom([(u-t.x)/t.k,(l-t.y)/t.k,o/t.k],[(u-r.x)/r.k,(l-r.y)/r.k,o/r.k]);return function(n){var r=c(n),i=o/r[2];this.__chart__=t={x:u-r[0]*i,y:l-r[1]*i,k:i};R(e)}}).each("interrupt.zoom",function(){D(e)}).each("end.zoom",function(){D(e)})}else{this.__chart__=t;N(e);R(e);D(e)}})};E.translate=function(e){if(!arguments.length)return[t.x,t.y];t={x:+e[0],y:+e[1],k:t.k};C();return E};E.scale=function(e){if(!arguments.length)return t.k;t={x:t.x,y:t.y,k:null};S(+e);C();return E};E.scaleExtent=function(t){if(!arguments.length)return o;o=t==null?Zt:[+t[0],+t[1]];return E};E.center=function(t){if(!arguments.length)return r;r=t&&[+t[0],+t[1]];return E};E.size=function(t){if(!arguments.length)return i;i=t&&[+t[0],+t[1]];return E};E.duration=function(t){if(!arguments.length)return s;s=+t;return E};E.x=function(e){if(!arguments.length)return A;A=e;v=e.copy();t={x:0,y:0,k:1};return E};E.y=function(e){if(!arguments.length)return x;x=e;b=e.copy();t={x:0,y:0,k:1};return E};function T(e){return[(e[0]-t.x)/t.k,(e[1]-t.y)/t.k]}function w(e){return[e[0]*t.k+t.x,e[1]*t.k+t.y]}function S(e){t.k=Math.max(o[0],Math.min(o[1],e))}function O(e,n){n=w(n);t.x+=e[0]-n[0];t.y+=e[1]-n[1]}function I(e,r,i,o){e.__chart__={x:t.x,y:t.y,k:t.k};S(Math.pow(2,o));O(n=r,i);e=a.select(e);if(s>0)e=e.transition().duration(s);e.call(E.event)}function C(){if(A)A.domain(v.range().map(function(e){return(e-t.x)/t.k}).map(v.invert));if(x)x.domain(b.range().map(function(e){return(e-t.y)/t.k}).map(b.invert))}function N(t){if(!l++)t({type:"zoomstart"})}function R(e){C();e({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function D(t){if(!--l)t({type:"zoomend"}),n=null}function F(){var t=this,e=y.of(t,arguments),n=0,r=a.select(c(t)).on(d,s).on(p,u),i=T(a.mouse(t)),o=It(t);Du.call(t);N(e);function s(){n=1;O(a.mouse(t),i);R(e)}function u(){r.on(d,null).on(p,null);o(n);D(e)}}function M(){var e=this,n=y.of(e,arguments),r={},i=0,o,s=".zoom-"+a.event.changedTouches[0].identifier,u="touchmove"+s,l="touchend"+s,c=[],d=a.select(e),p=It(e);v();N(n);d.on(f,null).on(m,v);function h(){var n=a.touches(e);o=t.k;n.forEach(function(t){if(t.identifier in r)r[t.identifier]=T(t)});return n}function v(){var n=a.event.target;a.select(n).on(u,A).on(l,b);c.push(n);var o=a.event.changedTouches;for(var s=0,f=o.length;s<f;++s){r[o[s].identifier]=null}var d=h(),p=Date.now();if(d.length===1){if(p-g<500){var m=d[0];I(e,m,r[m.identifier],Math.floor(Math.log(t.k)/Math.LN2)+1);V()}g=p}else if(d.length>1){var m=d[0],y=d[1],v=m[0]-y[0],x=m[1]-y[1];i=v*v+x*x}}function A(){var t=a.touches(e),s,u,l,c;Du.call(e);for(var f=0,d=t.length;f<d;++f,c=null){l=t[f];if(c=r[l.identifier]){if(u)break;s=l,u=c}}if(c){var p=(p=l[0]-s[0])*p+(p=l[1]-s[1])*p,h=i&&Math.sqrt(p/i);s=[(s[0]+l[0])/2,(s[1]+l[1])/2];u=[(u[0]+c[0])/2,(u[1]+c[1])/2];S(h*o)}g=null;O(s,u);R(n)}function b(){if(a.event.touches.length){var t=a.event.changedTouches;for(var e=0,i=t.length;e<i;++e){delete r[t[e].identifier]}for(var o in r){return void h()}}a.selectAll(c).on(s,null);d.on(f,F).on(m,M);p();D(n)}}function _(){var i=y.of(this,arguments);if(h)clearTimeout(h);else Du.call(this),e=T(n=r||a.mouse(this)),N(i);h=setTimeout(function(){h=null;D(i)},50);V();S(Math.pow(2,$t()*.002)*t.k);O(n,e);R(i)}function P(){var e=a.mouse(this),n=Math.log(t.k)/Math.LN2;I(this,e,T(e),a.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return a.rebind(E,y,"on")};var Zt=[0,Infinity],$t,Xt;a.color=Jt;function Jt(){}Jt.prototype.toString=function(){return this.rgb()+""};a.hsl=te;function te(t,e,n){return this instanceof te?void(this.h=+t,this.s=+e,this.l=+n):arguments.length<2?t instanceof te?new te(t.h,t.s,t.l):Ee(""+t,Te,te):new te(t,e,n)}var ee=te.prototype=new Jt;ee.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);return new te(this.h,this.s,this.l/t)};ee.darker=function(t){t=Math.pow(.7,arguments.length?t:1);return new te(this.h,this.s,t*this.l)};ee.rgb=function(){return ne(this.h,this.s,this.l)};function ne(t,e,n){var r,i;t=isNaN(t)?0:(t%=360)<0?t+360:t;e=isNaN(e)?0:e<0?0:e>1?1:e;n=n<0?0:n>1?1:n;i=n<=.5?n*(1+e):n+e-n*e;r=2*n-i;function a(t){if(t>360)t-=360;else if(t<0)t+=360;if(t<60)return r+(i-r)*t/60;if(t<180)return i;if(t<240)return r+(i-r)*(240-t)/60;return r}function o(t){return Math.round(a(t)*255)}return new ye(o(t+120),o(t),o(t-120))}a.hcl=re;function re(t,e,n){return this instanceof re?void(this.h=+t,this.c=+e,this.l=+n):arguments.length<2?t instanceof re?new re(t.h,t.c,t.l):t instanceof oe?pe(t.l,t.a,t.b):pe((t=we((t=a.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new re(t,e,n)}var ie=re.prototype=new Jt;ie.brighter=function(t){return new re(this.h,this.c,Math.min(100,this.l+se*(arguments.length?t:1)))};ie.darker=function(t){return new re(this.h,this.c,Math.max(0,this.l-se*(arguments.length?t:1)))};ie.rgb=function(){return ae(this.h,this.c,this.l).rgb()};function ae(t,e,n){if(isNaN(t))t=0;if(isNaN(e))e=0;return new oe(n,Math.cos(t*=Lt)*e,Math.sin(t)*e)}a.lab=oe;function oe(t,e,n){return this instanceof oe?void(this.l=+t,this.a=+e,this.b=+n):arguments.length<2?t instanceof oe?new oe(t.l,t.a,t.b):t instanceof re?ae(t.h,t.c,t.l):we((t=ye(t)).r,t.g,t.b):new oe(t,e,n)}var se=18;var ue=.95047,le=1,ce=1.08883;var fe=oe.prototype=new Jt;fe.brighter=function(t){return new oe(Math.min(100,this.l+se*(arguments.length?t:1)),this.a,this.b)};fe.darker=function(t){return new oe(Math.max(0,this.l-se*(arguments.length?t:1)),this.a,this.b)};fe.rgb=function(){return de(this.l,this.a,this.b)};function de(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;i=he(i)*ue;r=he(r)*le;a=he(a)*ce;return new ye(ge(3.2404542*i-1.5371385*r-.4985314*a),ge(-.969266*i+1.8760108*r+.041556*a),ge(.0556434*i-.2040259*r+1.0572252*a))}function pe(t,e,n){return t>0?new re(Math.atan2(n,e)*Ut,Math.sqrt(e*e+n*n),t):new re(NaN,NaN,t)}function he(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function me(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ge(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}a.rgb=ye;function ye(t,e,n){return this instanceof ye?void(this.r=~~t,this.g=~~e,this.b=~~n):arguments.length<2?t instanceof ye?new ye(t.r,t.g,t.b):Ee(""+t,ye,ne):new ye(t,e,n)}function ve(t){return new ye(t>>16,t>>8&255,t&255)}function Ae(t){return ve(t)+""}var be=ye.prototype=new Jt;be.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;if(!e&&!n&&!r)return new ye(i,i,i);if(e&&e<i)e=i;if(n&&n<i)n=i;if(r&&r<i)r=i;return new ye(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))};be.darker=function(t){t=Math.pow(.7,arguments.length?t:1);return new ye(t*this.r,t*this.g,t*this.b)};be.hsl=function(){return Te(this.r,this.g,this.b)};be.toString=function(){return"#"+xe(this.r)+xe(this.g)+xe(this.b)};function xe(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Ee(t,e,n){var r=0,i=0,a=0,o,s,u;o=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase());if(o){s=o[2].split(",");switch(o[1]){case"hsl":{return n(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100)}case"rgb":{return e(Oe(s[0]),Oe(s[1]),Oe(s[2]))}}}if(u=Ie.get(t)){return e(u.r,u.g,u.b)}if(t!=null&&t.charAt(0)==="#"&&!isNaN(u=parseInt(t.slice(1),16))){if(t.length===4){r=(u&3840)>>4;r=r>>4|r;i=u&240;i=i>>4|i;a=u&15;a=a<<4|a}else if(t.length===7){r=(u&16711680)>>16;i=(u&65280)>>8;a=u&255}}return e(r,i,a)}function Te(t,e,n){var r=Math.min(t/=255,e/=255,n/=255),i=Math.max(t,e,n),a=i-r,o,s,u=(i+r)/2;if(a){s=u<.5?a/(i+r):a/(2-i-r);if(t==i)o=(e-n)/a+(e<n?6:0);else if(e==i)o=(n-t)/a+2;else o=(t-e)/a+4;o*=60}else{o=NaN;s=u>0&&u<1?0:o}return new te(o,s,u)}function we(t,e,n){t=Se(t);e=Se(e);n=Se(n);var r=me((.4124564*t+.3575761*e+.1804375*n)/ue),i=me((.2126729*t+.7151522*e+.072175*n)/le),a=me((.0193339*t+.119192*e+.9503041*n)/ce);return oe(116*i-16,500*(r-i),200*(i-a))}function Se(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Oe(t){var e=parseFloat(t);return t.charAt(t.length-1)==="%"?Math.round(e*2.55):e}var Ie=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ie.forEach(function(t,e){Ie.set(t,ve(e))});function Ce(t){return typeof t==="function"?t:function(){return t}}a.functor=Ce;a.xhr=Ne(U);function Ne(t){return function(e,n,r){if(arguments.length===2&&typeof n==="function")r=n,n=null;return Re(e,n,t,r)}}function Re(t,e,n,r){var i={},o=a.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;if(this.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(t))l=new XDomainRequest;"onload"in l?l.onload=l.onerror=f:l.onreadystatechange=function(){l.readyState>3&&f()};function f(){var t=l.status,e;if(!t&&Fe(l)||t>=200&&t<300||t===304){try{e=n.call(i,l)}catch(r){o.error.call(i,r);return}o.load.call(i,e)}else{o.error.call(i,l)}}l.onprogress=function(t){var e=a.event;a.event=t;try{o.progress.call(i,l)}finally{a.event=e}};i.header=function(t,e){t=(t+"").toLowerCase();if(arguments.length<2)return u[t];if(e==null)delete u[t];else u[t]=e+"";return i};i.mimeType=function(t){if(!arguments.length)return e;e=t==null?null:t+"";return i};i.responseType=function(t){if(!arguments.length)return c;c=t;return i};i.response=function(t){n=t;return i};["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(s(arguments)))}});i.send=function(n,r,a){if(arguments.length===2&&typeof r==="function")a=r,r=null;l.open(n,t,true);if(e!=null&&!("accept"in u))u["accept"]=e+",*/*";if(l.setRequestHeader)for(var s in u)l.setRequestHeader(s,u[s]);if(e!=null&&l.overrideMimeType)l.overrideMimeType(e);if(c!=null)l.responseType=c;if(a!=null)i.on("error",a).on("load",function(t){a(null,t)});o.beforesend.call(i,l);l.send(r==null?null:r);return i};i.abort=function(){l.abort();return i};a.rebind(i,o,"on");return r==null?i:i.get(De(r))}function De(t){return t.length===1?function(e,n){t(e==null?n:null)}:t}function Fe(t){var e=t.responseType;return e&&e!=="text"?t.response:t.responseText}a.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){if(arguments.length<3)r=n,n=null;var i=Re(t,e,n==null?a:o(n),r);i.row=function(t){return arguments.length?i.response((n=t)==null?a:o(t)):n};return i}function a(t){return i.parse(t.responseText)}function o(t){return function(e){return i.parse(e.responseText,t)}}i.parse=function(t,e){var n;return i.parseRows(t,function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i})};i.parseRows=function(t,e){var n={},i={},a=[],o=t.length,s=0,u=0,l,c;function f(){if(s>=o)return i;if(c)return c=false,n;var e=s;if(t.charCodeAt(e)===34){var a=e;while(a++<o){if(t.charCodeAt(a)===34){if(t.charCodeAt(a+1)!==34)break;++a}}s=a+2;var u=t.charCodeAt(a+1);if(u===13){c=true;if(t.charCodeAt(a+2)===10)++s}else if(u===10){c=true}return t.slice(e+1,a).replace(/""/g,'"')}while(s<o){var u=t.charCodeAt(s++),l=1;if(u===10)c=true;else if(u===13){c=true;if(t.charCodeAt(s)===10)++s,++l}else if(u!==r)continue;return t.slice(e,s-l)}return t.slice(e)}while((l=f())!==i){var d=[];while(l!==n&&l!==i){d.push(l);l=f()}if(e&&(d=e(d,u++))==null)continue;a.push(d)}return a};i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new L,r=[];e.forEach(function(t){for(var e in t){if(!n.has(e)){r.push(n.add(e))}}});return[r.map(u).join(t)].concat(e.map(function(e){return r.map(function(t){return u(e[t])}).join(t)})).join("\n")};i.formatRows=function(t){return t.map(s).join("\n")};function s(e){return e.map(u).join(t)}function u(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i};a.csv=a.dsv(",","text/csv");a.tsv=a.dsv("\t","text/tab-separated-values");var Me,_e,Pe,ke,Le=this[W(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};a.timer=function(){Ue.apply(this,arguments)};function Ue(t,e,n){var r=arguments.length;if(r<2)e=0;if(r<3)n=Date.now();var i=n+e,a={c:t,t:i,n:null};if(_e)_e.n=a;else Me=a;_e=a;if(!Pe){ke=clearTimeout(ke);Pe=1;Le(je)}return a}function je(){var t=We(),e=Be()-t;if(e>24){if(isFinite(e)){clearTimeout(ke);ke=setTimeout(je,e)}Pe=0}else{Pe=1;Le(je)}}a.timer.flush=function(){We();Be()};function We(){var t=Date.now(),e=Me;while(e){if(t>=e.t&&e.c(t-e.t))e.c=null;e=e.n}return t}function Be(){var t,e=Me,n=Infinity;while(e){if(e.c){if(e.t<n)n=e.t;e=(t=e).n}else{e=t?t.n=e.n:Me=e.n}}_e=t;return n}function He(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}a.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var qe=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Ge);a.formatPrefix=function(t,e){var n=0;if(t=+t){if(t<0)t*=-1;if(e)t=a.round(t,He(t,e));n=1+Math.floor(1e-12+Math.log(t)/Math.LN10);n=Math.max(-24,Math.min(24,Math.floor((n-1)/3)*3))}return qe[8+n/3]};function Ge(t,e){var n=Math.pow(10,w(8-e)*3);return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ve(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){var i=t.length,a=[],o=0,s=r[0],u=0;while(i>0&&s>0){if(u+s+1>e)s=Math.max(1,e-u);a.push(t.substring(i-=s,i+s));if((u+=s+1)>e)break;s=r[o=(o+1)%r.length]}return a.reverse().join(n)}:U;return function(t){var n=Ye.exec(t),r=n[1]||" ",s=n[2]||">",u=n[3]||"-",l=n[4]||"",c=n[5],f=+n[6],d=n[7],p=n[8],h=n[9],m=1,g="",y="",v=false,A=true;if(p)p=+p.substring(1);if(c||r==="0"&&s==="="){c=r="0";s="="}switch(h){case"n":d=true;h="g";break;case"%":m=100;y="%";h="f";break;case"p":m=100;y="%";h="r";break;case"b":case"o":case"x":case"X":if(l==="#")g="0"+h.toLowerCase();case"c":A=false;case"d":v=true;p=0;break;case"s":m=-1;h="r";break}if(l==="$")g=i[0],y=i[1];if(h=="r"&&!p)h="g";if(p!=null){if(h=="g")p=Math.max(1,Math.min(21,p));else if(h=="e"||h=="f")p=Math.max(0,Math.min(20,p))}h=Qe.get(h)||ze;var b=c&&d;return function(t){var n=y;if(v&&t%1)return"";var i=t<0||t===0&&1/t<0?(t=-t,"-"):u==="-"?"":u;if(m<0){var l=a.formatPrefix(t,p);t=l.scale(t);n=l.symbol+y}else{t*=m}t=h(t,p);var x=t.lastIndexOf("."),E,T;if(x<0){var w=A?t.lastIndexOf("e"):-1;if(w<0)E=t,T="";else E=t.substring(0,w),T=t.substring(w)}else{E=t.substring(0,x);T=e+t.substring(x+1)}if(!c&&d)E=o(E,Infinity);var S=g.length+E.length+T.length+(b?0:i.length),O=S<f?new Array(S=f-S+1).join(r):"";if(b)E=o(O+E,O.length?f-T.length:Infinity);i+=g;t=E+T;return(s==="<"?i+t+O:s===">"?O+i+t:s==="^"?O.substring(0,S>>=1)+i+t+O.substring(S):i+(b?t:O+t))+n}}}var Ye=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var Qe=a.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=a.round(t,He(t,e))).toFixed(Math.max(0,Math.min(20,He(t*(1+1e-15),e))))}});function ze(t){return t+""}var Ke=a.time={},Ze=Date;function $e(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}$e.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Xe.setUTCDate.apply(this._,arguments)},setDay:function(){Xe.setUTCDay.apply(this._,arguments)},setFullYear:function(){Xe.setUTCFullYear.apply(this._,arguments)},setHours:function(){Xe.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Xe.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Xe.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Xe.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Xe.setUTCSeconds.apply(this._,arguments)},setTime:function(){Xe.setTime.apply(this._,arguments)}};var Xe=Date.prototype;function Je(t,e,n){function r(e){var n=t(e),r=a(n,1);return e-n<r-e?n:r}function i(n){e(n=t(new Ze(n-1)),1);return n}function a(t,n){e(t=new Ze((+t)),n);return t}function o(t,r,a){var o=i(t),s=[];if(a>1){while(o<r){if(!(n(o)%a))s.push(new Date((+o)));e(o,1)}}else{while(o<r)s.push(new Date((+o))),e(o,1)}return s}function s(t,e,n){try{Ze=$e;var r=new $e;r._=t;return o(r,e,n)}finally{Ze=Date}}t.floor=t;t.round=r;t.ceil=i;t.offset=a;t.range=o;var u=t.utc=tn(t);u.floor=u;u.round=tn(r);u.ceil=tn(i);u.offset=tn(a);u.range=s;return t}function tn(t){return function(e,n){try{Ze=$e;var r=new $e;r._=e;return t(r,n)._}finally{Ze=Date}}}Ke.year=Je(function(t){t=Ke.day(t);t.setMonth(0,1);return t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()});Ke.years=Ke.year.range;Ke.years.utc=Ke.year.utc.range;Ke.day=Je(function(t){var e=new Ze(2e3,0);e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());return e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1});Ke.days=Ke.day.range;Ke.days.utc=Ke.day.utc.range;Ke.dayOfYear=function(t){var e=Ke.year(t);return Math.floor((t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=Ke[t]=Je(function(t){(t=Ke.day(t)).setDate(t.getDate()-(t.getDay()+e)%7);return t},function(t,e){t.setDate(t.getDate()+Math.floor(e)*7)},function(t){var n=Ke.year(t).getDay();return Math.floor((Ke.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Ke[t+"s"]=n.range;Ke[t+"s"].utc=n.utc.range;Ke[t+"OfYear"]=function(t){var n=Ke.year(t).getDay();return Math.floor((Ke.dayOfYear(t)+(n+e)%7)/7)}});Ke.week=Ke.sunday;Ke.weeks=Ke.sunday.range;Ke.weeks.utc=Ke.sunday.utc.range;Ke.weekOfYear=Ke.sundayOfYear;function en(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,u=t.months,l=t.shortMonths;function c(t){var e=t.length;function n(n){var r=[],i=-1,a=0,o,s,u;while(++i<e){if(t.charCodeAt(i)===37){r.push(t.slice(a,i));if((s=nn[o=t.charAt(++i)])!=null)o=t.charAt(++i);if(u=x[o])o=u(n,s==null?o==="e"?" ":"0":s);r.push(o);a=i+1}}r.push(t.slice(a,i));return r.join("")}n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=f(n,t,e,0);if(r!=e.length)return null;if("p"in n)n.H=n.H%12+n.p*12;var i=n.Z!=null&&Ze!==$e,a=new(i?$e:Ze);if("j"in n)a.setFullYear(n.y,0,n.j);else if("W"in n||"U"in n){if(!("w"in n))n.w="W"in n?1:0;a.setFullYear(n.y,0,1);a.setFullYear(n.y,0,"W"in n?(n.w+6)%7+n.W*7-(a.getDay()+5)%7:n.w+n.U*7-(a.getDay()+6)%7)}else a.setFullYear(n.y,n.m,n.d);a.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L);return i?a._:a};n.toString=function(){return t};return n}function f(t,e,n,r){var i,a,o,s=0,u=e.length,l=n.length;while(s<u){if(r>=l)return-1;i=e.charCodeAt(s++);if(i===37){o=e.charAt(s++);a=E[o in nn?e.charAt(s++):o];if(!a||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++)){return-1}}return r}c.utc=function(t){var e=c(t);function n(t){try{Ze=$e;var n=new Ze;n._=t;return e(n)}finally{Ze=Date}}n.parse=function(t){try{Ze=$e;var n=e.parse(t);return n&&n._}finally{Ze=Date}};n.toString=e.toString;return n};c.multi=c.utc.multi=Sn;var d=a.map(),p=sn(o),h=un(o),m=sn(s),g=un(s),y=sn(u),v=un(u),A=sn(l),b=un(l);i.forEach(function(t,e){d.set(t.toLowerCase(),e)});var x={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:c(e),d:function(t,e){return on(t.getDate(),e,2)},e:function(t,e){return on(t.getDate(),e,2)},H:function(t,e){return on(t.getHours(),e,2)},I:function(t,e){return on(t.getHours()%12||12,e,2)},j:function(t,e){return on(1+Ke.dayOfYear(t),e,3)},L:function(t,e){return on(t.getMilliseconds(),e,3)},m:function(t,e){return on(t.getMonth()+1,e,2)},M:function(t,e){return on(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return on(t.getSeconds(),e,2)},U:function(t,e){return on(Ke.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return on(Ke.mondayOfYear(t),e,2)},x:c(n),X:c(r),y:function(t,e){return on(t.getFullYear()%100,e,2)},Y:function(t,e){return on(t.getFullYear()%1e4,e,4)},Z:Tn,"%":function(){return"%"}};var E={a:T,A:w,b:S,B:O,c:I,d:yn,e:yn,H:An,I:An,j:vn,L:En,m:gn,M:bn,p:R,S:xn,U:cn,w:ln,W:fn,x:C,X:N,y:pn,Y:dn,Z:hn,"%":wn};function T(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.w=g.get(r[0].toLowerCase()),n+r[0].length):-1}function w(t,e,n){p.lastIndex=0;var r=p.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1}function S(t,e,n){A.lastIndex=0;var r=A.exec(e.slice(n));return r?(t.m=b.get(r[0].toLowerCase()),n+r[0].length):-1}function O(t,e,n){y.lastIndex=0;var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1}function I(t,e,n){return f(t,x.c.toString(),e,n)}function C(t,e,n){return f(t,x.x.toString(),e,n)}function N(t,e,n){return f(t,x.X.toString(),e,n)}function R(t,e,n){var r=d.get(e.slice(n,n+=2).toLowerCase());return r==null?-1:(t.p=r,n)}return c}var nn={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,an=/^%/;function on(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function sn(t){return new RegExp("^(?:"+t.map(a.requote).join("|")+")","i")}function un(t){var e=new I,n=-1,r=t.length;while(++n<r)e.set(t[n].toLowerCase(),n);return e}function ln(t,e,n){rn.lastIndex=0;var r=rn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function cn(t,e,n){rn.lastIndex=0;var r=rn.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function fn(t,e,n){rn.lastIndex=0;var r=rn.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function dn(t,e,n){rn.lastIndex=0;var r=rn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function pn(t,e,n){rn.lastIndex=0;var r=rn.exec(e.slice(n,n+2));return r?(t.y=mn(+r[0]),n+r[0].length):-1}function hn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function mn(t){return t+(t>68?1900:2e3)}function gn(t,e,n){rn.lastIndex=0;var r=rn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function yn(t,e,n){rn.lastIndex=0;var r=rn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vn(t,e,n){rn.lastIndex=0;var r=rn.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function An(t,e,n){rn.lastIndex=0;var r=rn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function bn(t,e,n){rn.lastIndex=0;var r=rn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function xn(t,e,n){rn.lastIndex=0;var r=rn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function En(t,e,n){rn.lastIndex=0;var r=rn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Tn(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=w(e)/60|0,i=w(e)%60;return n+on(r,"0",2)+on(i,"0",2)}function wn(t,e,n){an.lastIndex=0;var r=an.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Sn(t){var e=t.length,n=-1;while(++n<e)t[n][0]=this(t[n][0]);return function(e){var n=0,r=t[n];while(!r[1](e))r=t[++n];return r[0](e)}}a.locale=function(t){return{numberFormat:Ve(t),timeFormat:en(t)}};var On=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});a.format=On.numberFormat;a.geo={};function In(){}In.prototype={s:0,t:0,add:function(t){Nn(t,this.t,Cn);Nn(Cn.s,this.s,this);if(this.s)this.t+=Cn.t;else this.s=Cn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Cn=new In;function Nn(t,e,n){var r=n.s=t+e,i=r-t,a=r-i;n.t=t-a+(e-i)}a.geo.stream=function(t,e){if(t&&Dn.hasOwnProperty(t.type)){Dn[t.type](t,e)}else{Rn(t,e)}};function Rn(t,e){if(t&&Fn.hasOwnProperty(t.type)){Fn[t.type](t,e)}}var Dn={Feature:function(t,e){Rn(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,r=-1,i=n.length;while(++r<i)Rn(n[r].geometry,e)}};var Fn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates;e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Mn(t.coordinates,e,0)},MultiLineString:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)Mn(n[r],e,0)},Polygon:function(t,e){_n(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)_n(n[r],e)},GeometryCollection:function(t,e){var n=t.geometries,r=-1,i=n.length;while(++r<i)Rn(n[r],e)}};function Mn(t,e,n){var r=-1,i=t.length-n,a;e.lineStart();while(++r<i)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function _n(t,e){var n=-1,r=t.length;e.polygonStart();while(++n<r)Mn(t[n],e,1);e.polygonEnd()}a.geo.area=function(t){Pn=0;a.geo.stream(t,Ln);return Pn};var Pn,kn=new In;var Ln={sphere:function(){Pn+=4*Mt},point:H,lineStart:H,lineEnd:H,polygonStart:function(){kn.reset();Ln.lineStart=Un},polygonEnd:function(){var t=2*kn;Pn+=t<0?4*Mt+t:t;Ln.lineStart=Ln.lineEnd=Ln.point=H}};function Un(){var t,e,n,r,i;Ln.point=function(o,s){Ln.point=a;n=(t=o)*Lt,r=Math.cos(s=(e=s)*Lt/2+Mt/4),i=Math.sin(s)};function a(t,e){t*=Lt;e=e*Lt/2+Mt/4;var a=t-n,o=a>=0?1:-1,s=o*a,u=Math.cos(e),l=Math.sin(e),c=i*l,f=r*u+c*Math.cos(s),d=c*o*Math.sin(s);kn.add(Math.atan2(d,f));n=t,r=u,i=l}Ln.lineEnd=function(){a(t,e)}}function jn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Wn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Bn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Hn(t,e){t[0]+=e[0];t[1]+=e[1];t[2]+=e[2]}function qn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Gn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e;t[1]/=e;t[2]/=e}function Vn(t){return[Math.atan2(t[1],t[0]),Ht(t[2])]}function Yn(t,e){return w(t[0]-e[0])<Dt&&w(t[1]-e[1])<Dt}a.geo.bounds=function(){var t,e,n,r,i,o,s,u,l,c,f;var d={point:p,lineStart:m,lineEnd:g,polygonStart:function(){d.point=y;d.lineStart=v;d.lineEnd=A;l=0;Ln.polygonStart()},polygonEnd:function(){Ln.polygonEnd();d.point=p;d.lineStart=m;d.lineEnd=g;if(kn<0)t=-(n=180),e=-(r=90);else if(l>Dt)r=90;else if(l<-Dt)e=-90;f[0]=t,f[1]=n}};function p(i,a){c.push(f=[t=i,n=i]);if(a<e)e=a;if(a>r)r=a}function h(a,o){var s=jn([a*Lt,o*Lt]);if(u){var l=Bn(u,s),c=[l[1],-l[0],0],f=Bn(c,l);Gn(f);f=Vn(f);var d=a-i,h=d>0?1:-1,m=f[0]*Ut*h,g=w(d)>180;if(g^(h*i<m&&m<h*a)){var y=f[1]*Ut;if(y>r)r=y}else if(m=(m+360)%360-180,g^(h*i<m&&m<h*a)){var y=-f[1]*Ut;if(y<e)e=y}else{if(o<e)e=o;if(o>r)r=o}if(g){if(a<i){if(b(t,a)>b(t,n))n=a}else{if(b(a,n)>b(t,n))t=a}}else{if(n>=t){if(a<t)t=a;if(a>n)n=a}else{if(a>i){if(b(t,a)>b(t,n))n=a}else{if(b(a,n)>b(t,n))t=a}}}}else{p(a,o)}u=s,i=a}function m(){d.point=h}function g(){f[0]=t,f[1]=n;d.point=p;u=null}function y(t,e){if(u){var n=t-i;l+=w(n)>180?n+(n>0?360:-360):n}else o=t,s=e;Ln.point(t,e);h(t,e)}function v(){Ln.lineStart()}function A(){y(o,s);Ln.lineEnd();if(w(l)>Dt)t=-(n=180);f[0]=t,f[1]=n;u=null}function b(t,e){return(e-=t)<0?e+360:e}function x(t,e){return t[0]-e[0]}function E(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(i){r=n=-(t=e=Infinity);c=[];a.geo.stream(i,d);var o=c.length;if(o){c.sort(x);for(var s=1,u=c[0],l,p=[u];s<o;++s){l=c[s];if(E(l[0],u)||E(l[1],u)){if(b(u[0],l[1])>b(u[0],u[1]))u[1]=l[1];
if(b(l[0],u[1])>b(u[0],u[1]))u[0]=l[0]}else{p.push(u=l)}}var h=-Infinity,m;for(var o=p.length-1,s=0,u=p[o],l;s<=o;u=l,++s){l=p[s];if((m=b(u[1],l[0]))>h)h=m,t=l[0],n=u[1]}}c=f=null;return t===Infinity||e===Infinity?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}();a.geo.centroid=function(t){Qn=zn=Kn=Zn=$n=Xn=Jn=tr=er=nr=rr=0;a.geo.stream(t,ir);var e=er,n=nr,r=rr,i=e*e+n*n+r*r;if(i<Ft){e=Xn,n=Jn,r=tr;if(zn<Dt)e=Kn,n=Zn,r=$n;i=e*e+n*n+r*r;if(i<Ft)return[NaN,NaN]}return[Math.atan2(n,e)*Ut,Ht(r/Math.sqrt(i))*Ut]};var Qn,zn,Kn,Zn,$n,Xn,Jn,tr,er,nr,rr;var ir={sphere:H,point:ar,lineStart:sr,lineEnd:ur,polygonStart:function(){ir.lineStart=lr},polygonEnd:function(){ir.lineStart=sr}};function ar(t,e){t*=Lt;var n=Math.cos(e*=Lt);or(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function or(t,e,n){++Qn;Kn+=(t-Kn)/Qn;Zn+=(e-Zn)/Qn;$n+=(n-$n)/Qn}function sr(){var t,e,n;ir.point=function(i,a){i*=Lt;var o=Math.cos(a*=Lt);t=o*Math.cos(i);e=o*Math.sin(i);n=Math.sin(a);ir.point=r;or(t,e,n)};function r(r,i){r*=Lt;var a=Math.cos(i*=Lt),o=a*Math.cos(r),s=a*Math.sin(r),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*u-n*s)*l+(l=n*o-t*u)*l+(l=t*s-e*o)*l),t*o+e*s+n*u);zn+=l;Xn+=l*(t+(t=o));Jn+=l*(e+(e=s));tr+=l*(n+(n=u));or(t,e,n)}}function ur(){ir.point=ar}function lr(){var t,e,n,r,i;ir.point=function(o,s){t=o,e=s;ir.point=a;o*=Lt;var u=Math.cos(s*=Lt);n=u*Math.cos(o);r=u*Math.sin(o);i=Math.sin(s);or(n,r,i)};ir.lineEnd=function(){a(t,e);ir.lineEnd=ur;ir.point=ar};function a(t,e){t*=Lt;var a=Math.cos(e*=Lt),o=a*Math.cos(t),s=a*Math.sin(t),u=Math.sin(e),l=r*u-i*s,c=i*o-n*u,f=n*s-r*o,d=Math.sqrt(l*l+c*c+f*f),p=n*o+r*s+i*u,h=d&&-Bt(p)/d,m=Math.atan2(d,p);er+=h*l;nr+=h*c;rr+=h*f;zn+=m;Xn+=m*(n+(n=o));Jn+=m*(r+(r=s));tr+=m*(i+(i=u));or(n,r,i)}}function cr(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}if(t.invert&&e.invert)n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])};return n}function fr(){return true}function dr(t,e,n,r,i){var a=[],o=[];t.forEach(function(t){if((e=t.length-1)<=0)return;var e,n=t[0],r=t[e];if(Yn(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);i.lineEnd();return}var u=new hr(n,t,null,true),l=new hr(n,null,u,false);u.o=l;a.push(u);o.push(l);u=new hr(r,t,null,false);l=new hr(r,null,u,true);u.o=l;a.push(u);o.push(l)});o.sort(e);pr(a);pr(o);if(!a.length)return;for(var s=0,u=n,l=o.length;s<l;++s){o[s].e=u=!u}var c=a[0],f,d;while(1){var p=c,h=true;while(p.v)if((p=p.n)===c)return;f=p.z;i.lineStart();do{p.v=p.o.v=true;if(p.e){if(h){for(var s=0,l=f.length;s<l;++s)i.point((d=f[s])[0],d[1])}else{r(p.x,p.n.x,1,i)}p=p.n}else{if(h){f=p.p.z;for(var s=f.length-1;s>=0;--s)i.point((d=f[s])[0],d[1])}else{r(p.x,p.p.x,-1,i)}p=p.p}p=p.o;f=p.z;h=!h}while(!p.v);i.lineEnd()}}function pr(t){if(!(e=t.length))return;var e,n=0,r=t[0],i;while(++n<e){r.n=i=t[n];i.p=r;r=i}r.n=i=t[0];i.p=r}function hr(t,e,n,r){this.x=t;this.z=e;this.o=n;this.e=r;this.v=false;this.n=this.p=null}function mr(t,e,n,r){return function(i,o){var s=e(o),u=i.invert(r[0],r[1]);var l={point:c,lineStart:d,lineEnd:p,polygonStart:function(){l.point=b;l.lineStart=x;l.lineEnd=E;h=[];v=[]},polygonEnd:function(){l.point=c;l.lineStart=d;l.lineEnd=p;h=a.merge(h);var t=Tr(u,v);if(h.length){if(!y)o.polygonStart(),y=true;dr(h,vr,t,n,o)}else if(t){if(!y)o.polygonStart(),y=true;o.lineStart();n(null,null,1,o);o.lineEnd()}if(y)o.polygonEnd(),y=false;h=v=null},sphere:function(){o.polygonStart();o.lineStart();n(null,null,1,o);o.lineEnd();o.polygonEnd()}};function c(e,n){var r=i(e,n);if(t(e=r[0],n=r[1]))o.point(e,n)}function f(t,e){var n=i(t,e);s.point(n[0],n[1])}function d(){l.point=f;s.lineStart()}function p(){l.point=c;s.lineEnd()}var h;var m=yr(),g=e(m),y=false,v,A;function b(t,e){A.push([t,e]);var n=i(t,e);g.point(n[0],n[1])}function x(){g.lineStart();A=[]}function E(){b(A[0][0],A[0][1]);g.lineEnd();var t=g.clean(),e=m.buffer(),n,r=e.length;A.pop();v.push(A);A=null;if(!r)return;if(t&1){n=e[0];var r=n.length-1,i=-1,a;if(r>0){if(!y)o.polygonStart(),y=true;o.lineStart();while(++i<r)o.point((a=n[i])[0],a[1]);o.lineEnd()}return}if(r>1&&t&2)e.push(e.pop().concat(e.shift()));h.push(e.filter(gr))}return l}}function gr(t){return t.length>1}function yr(){var t=[],e;return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:H,buffer:function(){var n=t;t=[];e=null;return n},rejoin:function(){if(t.length>1)t.push(t.pop().concat(t.shift()))}}}function vr(t,e){return((t=t.x)[0]<0?t[1]-kt-Dt:kt-t[1])-((e=e.x)[0]<0?e[1]-kt-Dt:kt-e[1])}var Ar=mr(fr,br,Er,[-Mt,-Mt/2]);function br(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart();i=1},point:function(a,o){var s=a>0?Mt:-Mt,u=w(a-e);if(w(u-Mt)<Dt){t.point(e,n=(n+o)/2>0?kt:-kt);t.point(r,n);t.lineEnd();t.lineStart();t.point(s,n);t.point(a,n);i=0}else if(r!==s&&u>=Mt){if(w(e-r)<Dt)e-=r*Dt;if(w(a-s)<Dt)a-=s*Dt;n=xr(e,n,a,o);t.point(r,n);t.lineEnd();t.lineStart();t.point(s,n);i=0}t.point(e=a,n=o);r=s},lineEnd:function(){t.lineEnd();e=n=NaN},clean:function(){return 2-i}}}function xr(t,e,n,r){var i,a,o=Math.sin(t-n);return w(o)>Dt?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*a*o)):(e+r)/2}function Er(t,e,n,r){var i;if(t==null){i=n*kt;r.point(-Mt,i);r.point(0,i);r.point(Mt,i);r.point(Mt,0);r.point(Mt,-i);r.point(0,-i);r.point(-Mt,-i);r.point(-Mt,0);r.point(-Mt,i)}else if(w(t[0]-e[0])>Dt){var a=t[0]<e[0]?Mt:-Mt;i=n*a/2;r.point(-a,i);r.point(0,i);r.point(a,i)}else{r.point(e[0],e[1])}}function Tr(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;kn.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(!c)continue;var f=l[0],d=f[0],p=f[1]/2+Mt/4,h=Math.sin(p),m=Math.cos(p),g=1;while(true){if(g===c)g=0;t=l[g];var y=t[0],v=t[1]/2+Mt/4,A=Math.sin(v),b=Math.cos(v),x=y-d,E=x>=0?1:-1,T=E*x,w=T>Mt,S=h*A;kn.add(Math.atan2(S*E*Math.sin(T),m*b+S*Math.cos(T)));a+=w?x+E*_t:x;if(w^d>=n^y>=n){var O=Bn(jn(f),jn(t));Gn(O);var I=Bn(i,O);Gn(I);var C=(w^x>=0?-1:1)*Ht(I[2]);if(r>C||r===C&&(O[0]||O[1])){o+=w^x>=0?1:-1}}if(!g++)break;d=y,h=A,m=b,f=t}}return(a<-Dt||a<Dt&&kn<0)^o&1}function wr(t){var e=Math.cos(t),n=e>0,r=w(e)>Dt,i=si(t,6*Lt);return mr(a,o,i,n?[0,-t]:[-Mt,t-Mt]);function a(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t){var e,i,o,l,c;return{lineStart:function(){l=o=false;c=1},point:function(f,d){var p=[f,d],h,m=a(f,d),g=n?m?0:u(f,d):m?u(f+(f<0?Mt:-Mt),d):0;if(!e&&(l=o=m))t.lineStart();if(m!==o){h=s(e,p);if(Yn(e,h)||Yn(p,h)){p[0]+=Dt;p[1]+=Dt;m=a(p[0],p[1])}}if(m!==o){c=0;if(m){t.lineStart();h=s(p,e);t.point(h[0],h[1])}else{h=s(e,p);t.point(h[0],h[1]);t.lineEnd()}e=h}else if(r&&e&&n^m){var y;if(!(g&i)&&(y=s(p,e,true))){c=0;if(n){t.lineStart();t.point(y[0][0],y[0][1]);t.point(y[1][0],y[1][1]);t.lineEnd()}else{t.point(y[1][0],y[1][1]);t.lineEnd();t.lineStart();t.point(y[0][0],y[0][1])}}}if(m&&(!e||!Yn(e,p))){t.point(p[0],p[1])}e=p,o=m,i=g},lineEnd:function(){if(o)t.lineEnd();e=null},clean:function(){return c|(l&&o)<<1}}}function s(t,n,r){var i=jn(t),a=jn(n);var o=[1,0,0],s=Bn(i,a),u=Wn(s,s),l=s[0],c=u-l*l;if(!c)return!r&&t;var f=e*u/c,d=-e*l/c,p=Bn(o,s),h=qn(o,f),m=qn(s,d);Hn(h,m);var g=p,y=Wn(h,g),v=Wn(g,g),A=y*y-v*(Wn(h,h)-1);if(A<0)return;var b=Math.sqrt(A),x=qn(g,(-y-b)/v);Hn(x,h);x=Vn(x);if(!r)return x;var E=t[0],T=n[0],S=t[1],O=n[1],I;if(T<E)I=E,E=T,T=I;var C=T-E,N=w(C-Mt)<Dt,R=N||C<Dt;if(!N&&O<S)I=S,S=O,O=I;if(R?N?S+O>0^x[1]<(w(x[0]-E)<Dt?S:O):S<=x[1]&&x[1]<=O:C>Mt^(E<=x[0]&&x[0]<=T)){var D=qn(g,(-y+b)/v);Hn(D,h);return[x,Vn(D)]}}function u(e,r){var i=n?t:Mt-t,a=0;if(e<-i)a|=1;else if(e>i)a|=2;if(r<-i)a|=4;else if(r>i)a|=8;return a}}function Sr(t,e,n,r){return function(i){var a=i.a,o=i.b,s=a.x,u=a.y,l=o.x,c=o.y,f=0,d=1,p=l-s,h=c-u,m;m=t-s;if(!p&&m>0)return;m/=p;if(p<0){if(m<f)return;if(m<d)d=m}else if(p>0){if(m>d)return;if(m>f)f=m}m=n-s;if(!p&&m<0)return;m/=p;if(p<0){if(m>d)return;if(m>f)f=m}else if(p>0){if(m<f)return;if(m<d)d=m}m=e-u;if(!h&&m>0)return;m/=h;if(h<0){if(m<f)return;if(m<d)d=m}else if(h>0){if(m>d)return;if(m>f)f=m}m=r-u;if(!h&&m<0)return;m/=h;if(h<0){if(m>d)return;if(m>f)f=m}else if(h>0){if(m<f)return;if(m<d)d=m}if(f>0)i.a={x:s+f*p,y:u+f*h};if(d<1)i.b={x:s+d*p,y:u+d*h};return i}}var Or=1e9;a.geo.clipExtent=function(){var t,e,n,r,i,a,o={stream:function(t){if(i)i.valid=false;i=a(t);i.valid=true;return i},extent:function(s){if(!arguments.length)return[[t,e],[n,r]];a=Ir(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]);if(i)i.valid=false,i=null;return o}};return o.extent([[0,0],[960,500]])};function Ir(t,e,n,r){return function(u){var l=u,c=yr(),f=Sr(t,e,n,r),d,p,h;var m={point:A,lineStart:C,lineEnd:N,polygonStart:function(){u=c;d=[];p=[];I=true},polygonEnd:function(){u=l;d=a.merge(d);var e=g([t,r]),n=I&&e,i=d.length;if(n||i){u.polygonStart();if(n){u.lineStart();y(null,null,1,u);u.lineEnd()}if(i){dr(d,o,e,y,u)}u.polygonEnd()}d=p=h=null}};function g(t){var e=0,n=p.length,r=t[1];for(var i=0;i<n;++i){for(var a=1,o=p[i],s=o.length,u=o[0],l;a<s;++a){l=o[a];if(u[1]<=r){if(l[1]>r&&Wt(u,l,t)>0)++e}else{if(l[1]<=r&&Wt(u,l,t)<0)--e}u=l}}return e!==0}function y(a,o,u,l){var c=0,f=0;if(a==null||(c=i(a,u))!==(f=i(o,u))||s(a,o)<0^u>0){do{l.point(c===0||c===3?t:n,c>1?r:e)}while((c=(c+u+4)%4)!==f)}else{l.point(o[0],o[1])}}function v(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function A(t,e){if(v(t,e))u.point(t,e)}var b,x,E,T,w,S,O,I;function C(){m.point=R;if(p)p.push(h=[]);O=true;S=false;T=w=NaN}function N(){if(d){R(b,x);if(E&&S)c.rejoin();d.push(c.buffer())}m.point=A;if(S)u.lineEnd()}function R(t,e){t=Math.max(-Or,Math.min(Or,t));e=Math.max(-Or,Math.min(Or,e));var n=v(t,e);if(p)h.push([t,e]);if(O){b=t,x=e,E=n;O=false;if(n){u.lineStart();u.point(t,e)}}else{if(n&&S)u.point(t,e);else{var r={a:{x:T,y:w},b:{x:t,y:e}};if(f(r)){if(!S){u.lineStart();u.point(r.a.x,r.a.y)}u.point(r.b.x,r.b.y);if(!n)u.lineEnd();I=false}else if(n){u.lineStart();u.point(t,e);I=false}}}T=t,w=e,S=n}return m};function i(r,i){return w(r[0]-t)<Dt?i>0?0:3:w(r[0]-n)<Dt?i>0?2:1:w(r[1]-e)<Dt?i>0?1:0:i>0?3:2}function o(t,e){return s(t.x,e.x)}function s(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:n===0?e[1]-t[1]:n===1?t[0]-e[0]:n===2?t[1]-e[1]:e[0]-t[0]}}function Cr(t){var e=0,n=Mt/3,r=Jr(t),i=r(e,n);i.parallels=function(t){if(!arguments.length)return[e/Mt*180,n/Mt*180];return r(e=t[0]*Mt/180,n=t[1]*Mt/180)};return i}function Nr(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;function o(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}o.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,Ht((i-(t*t+n*n)*r*r)/(2*r))]};return o}(a.geo.conicEqualArea=function(){return Cr(Nr)}).raw=Nr;a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};a.geo.albersUsa=function(){var t=a.geo.albers();var e=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var n=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var r,i={point:function(t,e){r=[t,e]}},o,s,u;function l(t){var e=t[0],n=t[1];r=null;(o(e,n),r)||(s(e,n),r)||u(e,n);return r}l.invert=function(r){var i=t.scale(),a=t.translate(),o=(r[0]-a[0])/i,s=(r[1]-a[1])/i;return(s>=.12&&s<.234&&o>=-.425&&o<-.214?e:s>=.166&&s<.234&&o>=-.214&&o<-.115?n:t).invert(r)};l.stream=function(r){var i=t.stream(r),a=e.stream(r),o=n.stream(r);return{point:function(t,e){i.point(t,e);a.point(t,e);o.point(t,e)},sphere:function(){i.sphere();a.sphere();o.sphere()},lineStart:function(){i.lineStart();a.lineStart();o.lineStart()},lineEnd:function(){i.lineEnd();a.lineEnd();o.lineEnd()},polygonStart:function(){i.polygonStart();a.polygonStart();o.polygonStart()},polygonEnd:function(){i.polygonEnd();a.polygonEnd();o.polygonEnd()}}};l.precision=function(r){if(!arguments.length)return t.precision();t.precision(r);e.precision(r);n.precision(r);return l};l.scale=function(r){if(!arguments.length)return t.scale();t.scale(r);e.scale(r*.35);n.scale(r);return l.translate(t.translate())};l.translate=function(r){if(!arguments.length)return t.translate();var a=t.scale(),c=+r[0],f=+r[1];o=t.translate(r).clipExtent([[c-.455*a,f-.238*a],[c+.455*a,f+.238*a]]).stream(i).point;s=e.translate([c-.307*a,f+.201*a]).clipExtent([[c-.425*a+Dt,f+.12*a+Dt],[c-.214*a-Dt,f+.234*a-Dt]]).stream(i).point;u=n.translate([c-.205*a,f+.212*a]).clipExtent([[c-.214*a+Dt,f+.166*a+Dt],[c-.115*a-Dt,f+.234*a-Dt]]).stream(i).point;return l};return l.scale(1070)};var Rr,Dr,Fr={point:H,lineStart:H,lineEnd:H,polygonStart:function(){Dr=0;Fr.lineStart=Mr},polygonEnd:function(){Fr.lineStart=Fr.lineEnd=Fr.point=H;Rr+=w(Dr/2)}};function Mr(){var t,e,n,r;Fr.point=function(a,o){Fr.point=i;t=n=a,e=r=o};function i(t,e){Dr+=r*t-n*e;n=t,r=e}Fr.lineEnd=function(){i(t,e)}}var _r,Pr,kr,Lr;var Ur={point:jr,lineStart:H,lineEnd:H,polygonStart:H,polygonEnd:H};function jr(t,e){if(t<_r)_r=t;if(t>kr)kr=t;if(e<Pr)Pr=e;if(e>Lr)Lr=e}function Wr(){var t=Br(4.5),e=[];var n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o;n.point=r},pointRadius:function(e){t=Br(e);return n},result:function(){if(e.length){var t=e.join("");e=[];return t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r);n.point=a}function a(t,n){e.push("L",t,",",n)}function o(){n.point=r}function s(){e.push("Z")}return n}function Br(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Hr={point:qr,lineStart:Gr,lineEnd:Vr,polygonStart:function(){Hr.lineStart=Yr},polygonEnd:function(){Hr.point=qr;Hr.lineStart=Gr;Hr.lineEnd=Vr}};function qr(t,e){Kn+=t;Zn+=e;++$n}function Gr(){var t,e;Hr.point=function(r,i){Hr.point=n;qr(t=r,e=i)};function n(n,r){var i=n-t,a=r-e,o=Math.sqrt(i*i+a*a);Xn+=o*(t+n)/2;Jn+=o*(e+r)/2;tr+=o;qr(t=n,e=r)}}function Vr(){Hr.point=qr}function Yr(){var t,e,n,r;Hr.point=function(a,o){Hr.point=i;qr(t=n=a,e=r=o)};function i(t,e){var i=t-n,a=e-r,o=Math.sqrt(i*i+a*a);Xn+=o*(n+t)/2;Jn+=o*(r+e)/2;tr+=o;o=r*t-n*e;er+=o*(n+t);nr+=o*(r+e);rr+=o*3;qr(n=t,r=e)}Hr.lineEnd=function(){i(t,e)}}function Qr(t){var e=4.5;var n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o;n.point=r},pointRadius:function(t){e=t;return n},result:H};function r(n,r){t.moveTo(n+e,r);t.arc(n,r,e,0,_t)}function i(e,r){t.moveTo(e,r);n.point=a}function a(e,n){t.lineTo(e,n)}function o(){n.point=r}function s(){t.closePath()}return n}function zr(t){var e=.5,n=Math.cos(30*Lt),r=16;function i(t){return(r?o:a)(t)}function a(e){return $r(e,function(n,r){n=t(n,r);e.point(n[0],n[1])})}function o(e){var n,i,a,o,u,l,c,f,d,p,h,m,g;var y={point:v,lineStart:A,lineEnd:x,polygonStart:function(){e.polygonStart();y.lineStart=E},polygonEnd:function(){e.polygonEnd();y.lineStart=A}};function v(n,r){n=t(n,r);e.point(n[0],n[1])}function A(){d=NaN;y.point=b;e.lineStart()}function b(n,i){var a=jn([n,i]),o=t(n,i);s(d,p,f,h,m,g,d=o[0],p=o[1],f=n,h=a[0],m=a[1],g=a[2],r,e);e.point(d,p)}function x(){y.point=v;e.lineEnd()}function E(){A();y.point=T;y.lineEnd=w}function T(t,e){b(n=t,i=e),a=d,o=p,u=h,l=m,c=g;y.point=b}function w(){s(d,p,f,h,m,g,a,o,n,u,l,c,r,e);y.lineEnd=x;x()}return y}function s(r,i,a,o,u,l,c,f,d,p,h,m,g,y){var v=c-r,A=f-i,b=v*v+A*A;if(b>4*e&&g--){var x=o+p,E=u+h,T=l+m,S=Math.sqrt(x*x+E*E+T*T),O=Math.asin(T/=S),I=w(w(T)-1)<Dt||w(a-d)<Dt?(a+d)/2:Math.atan2(E,x),C=t(I,O),N=C[0],R=C[1],D=N-r,F=R-i,M=A*D-v*F;if(M*M/b>e||w((v*D+A*F)/b-.5)>.3||o*p+u*h+l*m<n){s(r,i,a,o,u,l,N,R,I,x/=S,E/=S,T,g,y);y.point(N,R);s(N,R,I,x,E,T,c,f,d,p,h,m,g,y)}}}i.precision=function(t){if(!arguments.length)return Math.sqrt(e);r=(e=t*t)>0&&16;return i};return i}a.geo.path=function(){var t=4.5,e,n,r,i,o;function s(e){if(e){if(typeof t==="function")i.pointRadius(+t.apply(this,arguments));if(!o||!o.valid)o=r(i);a.geo.stream(e,o)}return i.result()}s.area=function(t){Rr=0;a.geo.stream(t,r(Fr));return Rr};s.centroid=function(t){Kn=Zn=$n=Xn=Jn=tr=er=nr=rr=0;a.geo.stream(t,r(Hr));return rr?[er/rr,nr/rr]:tr?[Xn/tr,Jn/tr]:$n?[Kn/$n,Zn/$n]:[NaN,NaN]};s.bounds=function(t){kr=Lr=-(_r=Pr=Infinity);a.geo.stream(t,r(Ur));return[[_r,Pr],[kr,Lr]]};s.projection=function(t){if(!arguments.length)return e;r=(e=t)?t.stream||Kr(t):U;return u()};s.context=function(e){if(!arguments.length)return n;i=(n=e)==null?new Wr:new Qr(e);if(typeof t!=="function")i.pointRadius(t);return u()};s.pointRadius=function(e){if(!arguments.length)return t;t=typeof e==="function"?e:(i.pointRadius(+e),+e);return s};function u(){o=null;return s}return s.projection(a.geo.albersUsa()).context(null)};function Kr(t){var e=zr(function(e,n){return t([e*Ut,n*Ut])});return function(t){return ti(e(t))}}a.geo.transform=function(t){return{stream:function(e){var n=new Zr(e);for(var r in t)n[r]=t[r];return n}}};function Zr(t){this.stream=t}Zr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function $r(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}a.geo.projection=Xr;a.geo.projectionMutator=Jr;function Xr(t){return Jr(function(){return t})()}function Jr(t){var e,n,r,i=zr(function(t,n){t=e(t,n);return[t[0]*o+h,m-t[1]*o]}),o=150,s=480,u=250,l=0,c=0,f=0,d=0,p=0,h,m,g=Ar,y=U,v=null,A=null,b;function x(t){t=r(t[0]*Lt,t[1]*Lt);return[t[0]*o+h,m-t[1]*o]}function E(t){t=r.invert((t[0]-h)/o,(m-t[1])/o);return t&&[t[0]*Ut,t[1]*Ut]}x.stream=function(t){if(b)b.valid=false;b=ti(g(n,i(y(t))));b.valid=true;return b};x.clipAngle=function(t){if(!arguments.length)return v;g=t==null?(v=t,Ar):wr((v=+t)*Lt);return w()};x.clipExtent=function(t){if(!arguments.length)return A;A=t;y=t?Ir(t[0][0],t[0][1],t[1][0],t[1][1]):U;return w()};x.scale=function(t){if(!arguments.length)return o;o=+t;return T()};x.translate=function(t){if(!arguments.length)return[s,u];s=+t[0];u=+t[1];return T()};x.center=function(t){if(!arguments.length)return[l*Ut,c*Ut];l=t[0]%360*Lt;c=t[1]%360*Lt;return T()};x.rotate=function(t){if(!arguments.length)return[f*Ut,d*Ut,p*Ut];f=t[0]%360*Lt;d=t[1]%360*Lt;p=t.length>2?t[2]%360*Lt:0;return T()};a.rebind(x,i,"precision");function T(){r=cr(n=ri(f,d,p),e);var t=e(l,c);h=s-t[0]*o;m=u+t[1]*o;return w()}function w(){if(b)b.valid=false,b=null;return x}return function(){e=t.apply(this,arguments);x.invert=e.invert&&E;return T()}}function ti(t){return $r(t,function(e,n){t.point(e*Lt,n*Lt)})}function ei(t,e){return[t,e]}(a.geo.equirectangular=function(){return Xr(ei)}).raw=ei.invert=ei;a.geo.rotation=function(t){t=ri(t[0]%360*Lt,t[1]*Lt,t.length>2?t[2]*Lt:0);function e(e){e=t(e[0]*Lt,e[1]*Lt);return e[0]*=Ut,e[1]*=Ut,e}e.invert=function(e){e=t.invert(e[0]*Lt,e[1]*Lt);return e[0]*=Ut,e[1]*=Ut,e};return e};function ni(t,e){return[t>Mt?t-_t:t<-Mt?t+_t:t,e]}ni.invert=ei;function ri(t,e,n){return t?e||n?cr(ai(t),oi(e,n)):ai(t):e||n?oi(e,n):ni}function ii(t){return function(e,n){return e+=t,[e>Mt?e-_t:e<-Mt?e+_t:e,n]}}function ai(t){var e=ii(t);e.invert=ii(-t);return e}function oi(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),a=Math.sin(e);function o(t,e){var o=Math.cos(e),s=Math.cos(t)*o,u=Math.sin(t)*o,l=Math.sin(e),c=l*n+s*r;return[Math.atan2(u*i-c*a,s*n-l*r),Ht(c*i+u*a)]}o.invert=function(t,e){var o=Math.cos(e),s=Math.cos(t)*o,u=Math.sin(t)*o,l=Math.sin(e),c=l*i-u*a;return[Math.atan2(u*i+l*a,s*n+c*r),Ht(c*n-s*r)]};return o}a.geo.circle=function(){var t=[0,0],e,n=6,r;function i(){var e=typeof t==="function"?t.apply(this,arguments):t,n=ri(-e[0]*Lt,-e[1]*Lt,0).invert,i=[];r(null,null,1,{point:function(t,e){i.push(t=n(t,e));t[0]*=Ut,t[1]*=Ut}});return{type:"Polygon",coordinates:[i]}}i.origin=function(e){if(!arguments.length)return t;t=e;return i};i.angle=function(t){if(!arguments.length)return e;r=si((e=+t)*Lt,n*Lt);return i};i.precision=function(t){if(!arguments.length)return n;r=si(e*Lt,(n=+t)*Lt);return i};return i.angle(90)};function si(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,a,o,s){var u=o*e;if(i!=null){i=ui(n,i);a=ui(n,a);if(o>0?i<a:i>a)i+=o*_t}else{i=t+o*_t;a=t-.5*u}for(var l,c=i;o>0?c>a:c<a;c-=u){s.point((l=Vn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}}function ui(t,e){var n=jn(e);n[0]-=t;Gn(n);var r=Bt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Dt)%(2*Math.PI)}a.geo.distance=function(t,e){var n=(e[0]-t[0])*Lt,r=t[1]*Lt,i=e[1]*Lt,a=Math.sin(n),o=Math.cos(n),s=Math.sin(r),u=Math.cos(r),l=Math.sin(i),c=Math.cos(i),f;return Math.atan2(Math.sqrt((f=c*a)*f+(f=u*l-s*c*o)*f),s*l+u*c*o)};a.geo.graticule=function(){var t,e,n,r,i,o,s,u,l=10,c=l,f=90,d=360,p,h,m,g,y=2.5;function v(){return{type:"MultiLineString",coordinates:A()}}function A(){return a.range(Math.ceil(r/f)*f,n,f).map(m).concat(a.range(Math.ceil(u/d)*d,s,d).map(g)).concat(a.range(Math.ceil(e/l)*l,t,l).filter(function(t){return w(t%f)>Dt}).map(p)).concat(a.range(Math.ceil(o/c)*c,i,c).filter(function(t){return w(t%d)>Dt}).map(h))}v.lines=function(){return A().map(function(t){return{type:"LineString",coordinates:t}})};v.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(g(s).slice(1),m(n).reverse().slice(1),g(u).reverse().slice(1))]}};v.extent=function(t){if(!arguments.length)return v.minorExtent();return v.majorExtent(t).minorExtent(t)};v.majorExtent=function(t){if(!arguments.length)return[[r,u],[n,s]];r=+t[0][0],n=+t[1][0];u=+t[0][1],s=+t[1][1];if(r>n)t=r,r=n,n=t;if(u>s)t=u,u=s,s=t;return v.precision(y)};v.minorExtent=function(n){if(!arguments.length)return[[e,o],[t,i]];e=+n[0][0],t=+n[1][0];o=+n[0][1],i=+n[1][1];if(e>t)n=e,e=t,t=n;if(o>i)n=o,o=i,i=n;return v.precision(y)};v.step=function(t){if(!arguments.length)return v.minorStep();return v.majorStep(t).minorStep(t)};v.majorStep=function(t){if(!arguments.length)return[f,d];f=+t[0],d=+t[1];return v};v.minorStep=function(t){if(!arguments.length)return[l,c];l=+t[0],c=+t[1];return v};v.precision=function(a){if(!arguments.length)return y;y=+a;p=li(o,i,90);h=ci(e,t,y);m=li(u,s,90);g=ci(r,n,y);return v};return v.majorExtent([[-180,-90+Dt],[180,90-Dt]]).minorExtent([[-180,-80-Dt],[180,80+Dt]])};function li(t,e,n){var r=a.range(t,e-Dt,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function ci(t,e,n){var r=a.range(t,e-Dt,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function fi(t){return t.source}function di(t){return t.target}a.geo.greatArc=function(){var t=fi,e,n=di,r;function i(){return{type:"LineString",coordinates:[e||t.apply(this,arguments),r||n.apply(this,arguments)]}}i.distance=function(){return a.geo.distance(e||t.apply(this,arguments),r||n.apply(this,arguments))};i.source=function(n){if(!arguments.length)return t;t=n,e=typeof n==="function"?null:n;return i};i.target=function(t){if(!arguments.length)return n;n=t,r=typeof t==="function"?null:t;return i};i.precision=function(){return arguments.length?i:0};return i};a.geo.interpolate=function(t,e){return pi(t[0]*Lt,t[1]*Lt,e[0]*Lt,e[1]*Lt)};function pi(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),c=o*Math.cos(n),f=o*Math.sin(n),d=2*Math.asin(Math.sqrt(Yt(r-e)+i*o*Yt(n-t))),p=1/Math.sin(d);var h=d?function(t){var e=Math.sin(t*=d)*p,n=Math.sin(d-t)*p,r=n*u+e*c,i=n*l+e*f,o=n*a+e*s;return[Math.atan2(i,r)*Ut,Math.atan2(o,Math.sqrt(r*r+i*i))*Ut]}:function(){return[t*Ut,e*Ut]};h.distance=d;return h}a.geo.length=function(t){hi=0;a.geo.stream(t,mi);return hi};var hi;var mi={sphere:H,point:H,lineStart:gi,lineEnd:H,polygonStart:H,polygonEnd:H};function gi(){var t,e,n;mi.point=function(i,a){t=i*Lt,e=Math.sin(a*=Lt),n=Math.cos(a);mi.point=r};mi.lineEnd=function(){mi.point=mi.lineEnd=H};function r(r,i){var a=Math.sin(i*=Lt),o=Math.cos(i),s=w((r*=Lt)-t),u=Math.cos(s);hi+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*a-e*o*u)*s),e*a+n*o*u);t=r,e=a,n=o}}function yi(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),a=t(r*i);return[a*i*Math.sin(e),a*Math.sin(n)]}n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*a,r*o),Math.asin(r&&n*a/r)]};return n}var vi=yi(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(a.geo.azimuthalEqualArea=function(){return Xr(vi)}).raw=vi;var Ai=yi(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},U);(a.geo.azimuthalEquidistant=function(){return Xr(Ai)}).raw=Ai;function bi(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Mt/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),a=n*Math.pow(r(t),i)/i;if(!i)return Ti;function o(t,e){if(a>0){if(e<-kt+Dt)e=-kt+Dt}else{if(e>kt-Dt)e=kt-Dt}var n=a/Math.pow(r(e),i);return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}o.invert=function(t,e){var n=a-e,r=jt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(a/r,1/i))-kt]};return o}(a.geo.conicConformal=function(){return Cr(bi)}).raw=bi;function xi(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(w(r)<Dt)return ei;function a(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}a.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-jt(r)*Math.sqrt(t*t+n*n)]};return a}(a.geo.conicEquidistant=function(){return Cr(xi)}).raw=xi;var Ei=yi(function(t){return 1/t},Math.atan);(a.geo.gnomonic=function(){return Xr(Ei)}).raw=Ei;function Ti(t,e){return[t,Math.log(Math.tan(Mt/4+e/2))]}Ti.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-kt]};function wi(t){var e=Xr(t),n=e.scale,r=e.translate,i=e.clipExtent,a;e.scale=function(){var t=n.apply(e,arguments);return t===e?a?e.clipExtent(null):e:t};e.translate=function(){var t=r.apply(e,arguments);return t===e?a?e.clipExtent(null):e:t};e.clipExtent=function(t){var o=i.apply(e,arguments);if(o===e){if(a=t==null){var s=Mt*n(),u=r();i([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else if(a){o=null}return o};return e.clipExtent(null)}(a.geo.mercator=function(){return wi(Ti)}).raw=Ti;var Si=yi(function(){return 1},Math.asin);(a.geo.orthographic=function(){return Xr(Si)}).raw=Si;var Oi=yi(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(a.geo.stereographic=function(){return Xr(Oi)}).raw=Oi;function Ii(t,e){return[Math.log(Math.tan(Mt/4+e/2)),-t]}Ii.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-kt]};(a.geo.transverseMercator=function(){var t=wi(Ii),e=t.center,n=t.rotate;t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])};t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])};return n([0,0,90])}).raw=Ii;a.geom={};function Ci(t){return t[0]}function Ni(t){return t[1]}a.geom.hull=function(t){var e=Ci,n=Ni;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r=Ce(e),i=Ce(n),a,o=t.length,s=[],u=[];for(a=0;a<o;a++){s.push([+r.call(this,t[a],a),+i.call(this,t[a],a),a])}s.sort(Di);for(a=0;a<o;a++)u.push([s[a][0],-s[a][1]]);var l=Ri(s),c=Ri(u);var f=c[0]===l[0],d=c[c.length-1]===l[l.length-1],p=[];for(a=l.length-1;a>=0;--a)p.push(t[s[l[a]][2]]);for(a=+f;a<c.length-d;++a)p.push(t[s[c[a]][2]]);return p}r.x=function(t){return arguments.length?(e=t,r):e};r.y=function(t){return arguments.length?(n=t,r):n};return r};function Ri(t){var e=t.length,n=[0,1],r=2;for(var i=2;i<e;i++){while(r>1&&Wt(t[n[r-2]],t[n[r-1]],t[i])<=0)--r;n[r++]=i}return n.slice(0,r)}function Di(t,e){return t[0]-e[0]||t[1]-e[1]}a.geom.polygon=function(t){K(t,Fi);return t};var Fi=a.geom.polygon.prototype=[];Fi.area=function(){var t=-1,e=this.length,n,r=this[e-1],i=0;while(++t<e){n=r;r=this[t];i+=n[1]*r[0]-n[0]*r[1]}return i*.5};Fi.centroid=function(t){var e=-1,n=this.length,r=0,i=0,a,o=this[n-1],s;if(!arguments.length)t=-1/(6*this.area());while(++e<n){a=o;o=this[e];s=a[0]*o[1]-o[0]*a[1];r+=(a[0]+o[0])*s;i+=(a[1]+o[1])*s}return[r*t,i*t]};Fi.clip=function(t){var e,n=Pi(t),r=-1,i=this.length-Pi(this),a,o,s=this[i-1],u,l,c;while(++r<i){e=t.slice();t.length=0;u=this[r];l=e[(o=e.length-n)-1];a=-1;while(++a<o){c=e[a];if(Mi(c,s,u)){if(!Mi(l,s,u)){t.push(_i(l,c,s,u))}t.push(c)}else if(Mi(l,s,u)){t.push(_i(l,c,s,u))}l=c}if(n)t.push(t[0]);s=u}return t};function Mi(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function _i(t,e,n,r){var i=t[0],a=n[0],o=e[0]-i,s=r[0]-a,u=t[1],l=n[1],c=e[1]-u,f=r[1]-l,d=(s*(u-l)-f*(i-a))/(f*o-s*c);return[i+d*o,u+d*c]}function Pi(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}var ki,Li,Ui,ji=[],Wi,Bi,Hi=[];function qi(){ca(this);this.edge=this.site=this.circle=null}function Gi(t){var e=ji.pop()||new qi;e.site=t;return e}function Vi(t){ea(t);Ui.remove(t);ji.push(t);ca(t)}function Yi(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,o=t.N,s=[t];Vi(t);var u=a;while(u.circle&&w(n-u.circle.x)<Dt&&w(r-u.circle.cy)<Dt){a=u.P;s.unshift(u);Vi(u);u=a}s.unshift(u);ea(u);var l=o;while(l.circle&&w(n-l.circle.x)<Dt&&w(r-l.circle.cy)<Dt){o=l.N;s.push(l);Vi(l);l=o}s.push(l);ea(l);var c=s.length,f;for(f=1;f<c;++f){l=s[f];u=s[f-1];sa(l.edge,u.site,l.site,i)}u=s[0];l=s[c-1];l.edge=aa(u.site,l.site,null,i);ta(u);ta(l)}function Qi(t){var e=t.x,n=t.y,r,i,a,o,s=Ui._;while(s){a=zi(s,n)-e;if(a>Dt)s=s.L;else{o=e-Ki(s,n);if(o>Dt){if(!s.R){r=s;break}s=s.R}else{if(a>-Dt){r=s.P;i=s}else if(o>-Dt){r=s;i=s.N}else{r=i=s}break}}}var u=Gi(t);Ui.insert(r,u);if(!r&&!i)return;if(r===i){ea(r);i=Gi(r.site);Ui.insert(u,i);u.edge=i.edge=aa(r.site,u.site);ta(r);ta(i);return}if(!i){u.edge=aa(r.site,u.site);return}ea(r);ea(i);var l=r.site,c=l.x,f=l.y,d=t.x-c,p=t.y-f,h=i.site,m=h.x-c,g=h.y-f,y=2*(d*g-p*m),v=d*d+p*p,A=m*m+g*g,b={x:(g*v-p*A)/y+c,y:(d*A-m*v)/y+f};sa(i.edge,l,h,b);u.edge=aa(l,t,null,b);i.edge=aa(t,h,null,b);ta(r);ta(i)}function zi(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var o=t.P;if(!o)return-Infinity;n=o.site;var s=n.x,u=n.y,l=u-e;if(!l)return s;var c=s-r,f=1/a-1/l,d=c/l;if(f)return(-d+Math.sqrt(d*d-2*f*(c*c/(-2*l)-u+l/2+i-a/2)))/f+r;return(r+s)/2}function Ki(t,e){var n=t.N;if(n)return zi(n,e);var r=t.site;return r.y===e?r.x:Infinity}function Zi(t){this.site=t;this.edges=[]}Zi.prototype.prepare=function(){var t=this.edges,e=t.length,n;while(e--){n=t[e].edge;if(!n.b||!n.a)t.splice(e,1)}t.sort(Xi);return t.length};function $i(t){var e=t[0][0],n=t[1][0],r=t[0][1],i=t[1][1],a,o,s,u,l=Li,c=l.length,f,d,p,h,m,g;while(c--){f=l[c];if(!f||!f.prepare())continue;p=f.edges;h=p.length;d=0;while(d<h){g=p[d].end(),s=g.x,u=g.y;m=p[++d%h].start(),a=m.x,o=m.y;if(w(s-a)>Dt||w(u-o)>Dt){p.splice(d,0,new ua(oa(f.site,g,w(s-e)<Dt&&i-u>Dt?{x:e,y:w(a-e)<Dt?o:i}:w(u-i)<Dt&&n-s>Dt?{x:w(o-i)<Dt?a:n,y:i}:w(s-n)<Dt&&u-r>Dt?{x:n,y:w(a-n)<Dt?o:r}:w(u-r)<Dt&&s-e>Dt?{x:w(o-r)<Dt?a:e,y:r}:null),f.site,null));++h}}}}function Xi(t,e){return e.angle-t.angle}function Ji(){ca(this);this.x=this.y=this.arc=this.site=this.cy=null}function ta(t){var e=t.P,n=t.N;if(!e||!n)return;var r=e.site,i=t.site,a=n.site;if(r===a)return;var o=i.x,s=i.y,u=r.x-o,l=r.y-s,c=a.x-o,f=a.y-s;var d=2*(u*f-l*c);if(d>=-Ft)return;var p=u*u+l*l,h=c*c+f*f,m=(f*p-l*h)/d,g=(u*h-c*p)/d,f=g+s;var y=Hi.pop()||new Ji;y.arc=t;y.site=i;y.x=m+o;y.y=f+Math.sqrt(m*m+g*g);y.cy=f;t.circle=y;var v=null,A=Bi._;while(A){if(y.y<A.y||y.y===A.y&&y.x<=A.x){if(A.L)A=A.L;else{v=A.P;break}}else{if(A.R)A=A.R;else{v=A;break}}}Bi.insert(v,y);if(!v)Wi=y}function ea(t){var e=t.circle;if(e){if(!e.P)Wi=e.N;Bi.remove(e);Hi.push(e);ca(e);t.circle=null}}function na(t){var e=ki,n=Sr(t[0][0],t[0][1],t[1][0],t[1][1]),r=e.length,i;while(r--){i=e[r];if(!ra(i,t)||!n(i)||w(i.a.x-i.b.x)<Dt&&w(i.a.y-i.b.y)<Dt){i.a=i.b=null;e.splice(r,1)}}}function ra(t,e){var n=t.b;if(n)return true;var r=t.a,i=e[0][0],a=e[1][0],o=e[0][1],s=e[1][1],u=t.l,l=t.r,c=u.x,f=u.y,d=l.x,p=l.y,h=(c+d)/2,m=(f+p)/2,g,y;if(p===f){if(h<i||h>=a)return;if(c>d){if(!r)r={x:h,y:o};else if(r.y>=s)return;n={x:h,y:s}}else{if(!r)r={x:h,y:s};else if(r.y<o)return;n={x:h,y:o}}}else{g=(c-d)/(p-f);y=m-g*h;if(g<-1||g>1){if(c>d){if(!r)r={x:(o-y)/g,y:o};else if(r.y>=s)return;n={x:(s-y)/g,y:s}}else{if(!r)r={x:(s-y)/g,y:s};else if(r.y<o)return;n={x:(o-y)/g,y:o}}}else{if(f<p){if(!r)r={x:i,y:g*i+y};else if(r.x>=a)return;
n={x:a,y:g*a+y}}else{if(!r)r={x:a,y:g*a+y};else if(r.x<i)return;n={x:i,y:g*i+y}}}}t.a=r;t.b=n;return true}function ia(t,e){this.l=t;this.r=e;this.a=this.b=null}function aa(t,e,n,r){var i=new ia(t,e);ki.push(i);if(n)sa(i,t,e,n);if(r)sa(i,e,t,r);Li[t.i].edges.push(new ua(i,t,e));Li[e.i].edges.push(new ua(i,e,t));return i}function oa(t,e,n){var r=new ia(t,null);r.a=e;r.b=n;ki.push(r);return r}function sa(t,e,n,r){if(!t.a&&!t.b){t.a=r;t.l=e;t.r=n}else if(t.l===n){t.b=r}else{t.a=r}}function ua(t,e,n){var r=t.a,i=t.b;this.edge=t;this.site=e;this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}ua.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function la(){this._=null}function ca(t){t.U=t.C=t.L=t.R=t.P=t.N=null}la.prototype={insert:function(t,e){var n,r,i;if(t){e.P=t;e.N=t.N;if(t.N)t.N.P=e;t.N=e;if(t.R){t=t.R;while(t.L)t=t.L;t.L=e}else{t.R=e}n=t}else if(this._){t=pa(this._);e.P=null;e.N=t;t.P=t.L=e;n=t}else{e.P=e.N=null;this._=e;n=null}e.L=e.R=null;e.U=n;e.C=true;t=e;while(n&&n.C){r=n.U;if(n===r.L){i=r.R;if(i&&i.C){n.C=i.C=false;r.C=true;t=r}else{if(t===n.R){fa(this,n);t=n;n=t.U}n.C=false;r.C=true;da(this,r)}}else{i=r.L;if(i&&i.C){n.C=i.C=false;r.C=true;t=r}else{if(t===n.L){da(this,n);t=n;n=t.U}n.C=false;r.C=true;fa(this,r)}}n=t.U}this._.C=false},remove:function(t){if(t.N)t.N.P=t.P;if(t.P)t.P.N=t.N;t.N=t.P=null;var e=t.U,n,r=t.L,i=t.R,a,o;if(!r)a=i;else if(!i)a=r;else a=pa(i);if(e){if(e.L===t)e.L=a;else e.R=a}else{this._=a}if(r&&i){o=a.C;a.C=t.C;a.L=r;r.U=a;if(a!==i){e=a.U;a.U=t.U;t=a.R;e.L=t;a.R=i;i.U=a}else{a.U=e;e=a;t=a.R}}else{o=t.C;t=a}if(t)t.U=e;if(o)return;if(t&&t.C){t.C=false;return}do{if(t===this._)break;if(t===e.L){n=e.R;if(n.C){n.C=false;e.C=true;fa(this,e);n=e.R}if(n.L&&n.L.C||n.R&&n.R.C){if(!n.R||!n.R.C){n.L.C=false;n.C=true;da(this,n);n=e.R}n.C=e.C;e.C=n.R.C=false;fa(this,e);t=this._;break}}else{n=e.L;if(n.C){n.C=false;e.C=true;da(this,e);n=e.L}if(n.L&&n.L.C||n.R&&n.R.C){if(!n.L||!n.L.C){n.R.C=false;n.C=true;fa(this,n);n=e.L}n.C=e.C;e.C=n.L.C=false;da(this,e);t=this._;break}}n.C=true;t=e;e=e.U}while(!t.C);if(t)t.C=false}};function fa(t,e){var n=e,r=e.R,i=n.U;if(i){if(i.L===n)i.L=r;else i.R=r}else{t._=r}r.U=i;n.U=r;n.R=r.L;if(n.R)n.R.U=n;r.L=n}function da(t,e){var n=e,r=e.L,i=n.U;if(i){if(i.L===n)i.L=r;else i.R=r}else{t._=r}r.U=i;n.U=r;n.L=r.R;if(n.L)n.L.U=n;r.R=n}function pa(t){while(t.L)t=t.L;return t}function ha(t,e){var n=t.sort(ma).pop(),r,i,a;ki=[];Li=new Array(t.length);Ui=new la;Bi=new la;while(true){a=Wi;if(n&&(!a||n.y<a.y||n.y===a.y&&n.x<a.x)){if(n.x!==r||n.y!==i){Li[n.i]=new Zi(n);Qi(n);r=n.x,i=n.y}n=t.pop()}else if(a){Yi(a.arc)}else{break}}if(e)na(e),$i(e);var o={cells:Li,edges:ki};Ui=Bi=ki=Li=null;return o}function ma(t,e){return e.y-t.y||e.x-t.x}a.geom.voronoi=function(t){var e=Ci,n=Ni,r=e,i=n,a=ga;if(t)return o(t);function o(t){var e=new Array(t.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];ha(s(t),a).cells.forEach(function(a,s){var u=a.edges,l=a.site,c=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=n&&l.x<=i&&l.y>=r&&l.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[];c.point=t[s]});return e}function s(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/Dt)*Dt,y:Math.round(i(t,e)/Dt)*Dt,i:e}})}o.links=function(t){return ha(s(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})};o.triangles=function(t){var e=[];ha(s(t)).cells.forEach(function(n,r){var i=n.site,a=n.edges.sort(Xi),o=-1,s=a.length,u,l,c=a[s-1].edge,f=c.l===i?c.r:c.l;while(++o<s){u=c;l=f;c=a[o].edge;f=c.l===i?c.r:c.l;if(r<l.i&&r<f.i&&ya(i,l,f)<0){e.push([t[r],t[l.i],t[f.i]])}}});return e};o.x=function(t){return arguments.length?(r=Ce(e=t),o):e};o.y=function(t){return arguments.length?(i=Ce(n=t),o):n};o.clipExtent=function(t){if(!arguments.length)return a===ga?null:a;a=t==null?ga:t;return o};o.size=function(t){if(!arguments.length)return a===ga?null:a&&a[1];return o.clipExtent(t&&[[0,0],t])};return o};var ga=[[-1e6,-1e6],[1e6,1e6]];function ya(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}a.geom.delaunay=function(t){return a.geom.voronoi().triangles(t)};a.geom.quadtree=function(t,e,n,r,i){var a=Ci,o=Ni,s;if(s=arguments.length){a=va;o=Aa;if(s===3){i=n;r=e;n=e=0}return u(t)}function u(t){var u,l=Ce(a),c=Ce(o),f,d,p,h,m,g,y,v;if(e!=null){m=e,g=n,y=r,v=i}else{y=v=-(m=g=Infinity);f=[],d=[];h=t.length;if(s)for(p=0;p<h;++p){u=t[p];if(u.x<m)m=u.x;if(u.y<g)g=u.y;if(u.x>y)y=u.x;if(u.y>v)v=u.y;f.push(u.x);d.push(u.y)}else for(p=0;p<h;++p){var A=+l(u=t[p],p),b=+c(u,p);if(A<m)m=A;if(b<g)g=b;if(A>y)y=A;if(b>v)v=b;f.push(A);d.push(b)}}var x=y-m,E=v-g;if(x>E)v=g+x;else y=m+E;function T(t,e,n,r,i,a,o,s){if(isNaN(n)||isNaN(r))return;if(t.leaf){var u=t.x,l=t.y;if(u!=null){if(w(u-n)+w(l-r)<.01){S(t,e,n,r,i,a,o,s)}else{var c=t.point;t.x=t.y=t.point=null;S(t,c,u,l,i,a,o,s);S(t,e,n,r,i,a,o,s)}}else{t.x=n,t.y=r,t.point=e}}else{S(t,e,n,r,i,a,o,s)}}function S(t,e,n,r,i,a,o,s){var u=(i+o)*.5,l=(a+s)*.5,c=n>=u,f=r>=l,d=f<<1|c;t.leaf=false;t=t.nodes[d]||(t.nodes[d]=ba());if(c)i=u;else o=u;if(f)a=l;else s=l;T(t,e,n,r,i,a,o,s)}var O=ba();O.add=function(t){T(O,t,+l(t,++p),+c(t,p),m,g,y,v)};O.visit=function(t){xa(t,O,m,g,y,v)};O.find=function(t){return Ea(O,t[0],t[1],m,g,y,v)};p=-1;if(e==null){while(++p<h){T(O,t[p],f[p],d[p],m,g,y,v)}--p}else t.forEach(O.add);f=d=t=u=null;return O}u.x=function(t){return arguments.length?(a=t,u):a};u.y=function(t){return arguments.length?(o=t,u):o};u.extent=function(t){if(!arguments.length)return e==null?null:[[e,n],[r,i]];if(t==null)e=n=r=i=null;else e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1];return u};u.size=function(t){if(!arguments.length)return e==null?null:[r-e,i-n];if(t==null)e=n=r=i=null;else e=n=0,r=+t[0],i=+t[1];return u};return u};function va(t){return t.x}function Aa(t){return t.y}function ba(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function xa(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var o=(n+i)*.5,s=(r+a)*.5,u=e.nodes;if(u[0])xa(t,u[0],n,r,o,s);if(u[1])xa(t,u[1],o,r,i,s);if(u[2])xa(t,u[2],n,s,o,a);if(u[3])xa(t,u[3],o,s,i,a)}}function Ea(t,e,n,r,i,a,o){var s=Infinity,u;(function l(t,c,f,d,p){if(c>a||f>o||d<r||p<i)return;if(h=t.point){var h,m=e-t.x,g=n-t.y,y=m*m+g*g;if(y<s){var v=Math.sqrt(s=y);r=e-v,i=n-v;a=e+v,o=n+v;u=h}}var A=t.nodes,b=(c+d)*.5,x=(f+p)*.5,E=e>=b,T=n>=x;for(var w=T<<1|E,S=w+4;w<S;++w){if(t=A[w&3])switch(w&3){case 0:l(t,c,f,b,x);break;case 1:l(t,b,f,d,x);break;case 2:l(t,c,x,b,p);break;case 3:l(t,b,x,d,p);break}}})(t,r,i,a,o);return u}a.interpolateRgb=Ta;function Ta(t,e){t=a.rgb(t);e=a.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,s=e.g-r,u=e.b-i;return function(t){return"#"+xe(Math.round(n+o*t))+xe(Math.round(r+s*t))+xe(Math.round(i+u*t))}}a.interpolateObject=wa;function wa(t,e){var n={},r={},i;for(i in t){if(i in e){n[i]=Na(t[i],e[i])}else{r[i]=t[i]}}for(i in e){if(!(i in t)){r[i]=e[i]}}return function(t){for(i in n)r[i]=n[i](t);return r}}a.interpolateNumber=Sa;function Sa(t,e){t=+t,e=+e;return function(n){return t*(1-n)+e*n}}a.interpolateString=Oa;function Oa(t,e){var n=Ia.lastIndex=Ca.lastIndex=0,r,i,a,o=-1,s=[],u=[];t=t+"",e=e+"";while((r=Ia.exec(t))&&(i=Ca.exec(e))){if((a=i.index)>n){a=e.slice(n,a);if(s[o])s[o]+=a;else s[++o]=a}if((r=r[0])===(i=i[0])){if(s[o])s[o]+=i;else s[++o]=i}else{s[++o]=null;u.push({i:o,x:Sa(r,i)})}n=Ca.lastIndex}if(n<e.length){a=e.slice(n);if(s[o])s[o]+=a;else s[++o]=a}return s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n=0,r;n<e;++n)s[(r=u[n]).i]=r.x(t);return s.join("")})}var Ia=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ca=new RegExp(Ia.source,"g");a.interpolate=Na;function Na(t,e){var n=a.interpolators.length,r;while(--n>=0&&!(r=a.interpolators[n](t,e)));return r}a.interpolators=[function(t,e){var n=typeof e;return(n==="string"?Ie.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Ta:Oa:e instanceof Jt?Ta:Array.isArray(e)?Ra:n==="object"&&isNaN(e)?wa:Sa)(t,e)}];a.interpolateArray=Ra;function Ra(t,e){var n=[],r=[],i=t.length,a=e.length,o=Math.min(t.length,e.length),s;for(s=0;s<o;++s)n.push(Na(t[s],e[s]));for(;s<i;++s)r[s]=t[s];for(;s<a;++s)r[s]=e[s];return function(t){for(s=0;s<o;++s)r[s]=n[s](t);return r}}var Da=function(){return U};var Fa=a.map({linear:Da,poly:Wa,quad:function(){return La},cubic:function(){return Ua},sin:function(){return Ba},exp:function(){return Ha},circle:function(){return qa},elastic:Ga,back:Va,bounce:function(){return Ya}});var Ma=a.map({"in":U,out:Pa,"in-out":ka,"out-in":function(t){return ka(Pa(t))}});a.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";n=Fa.get(n)||Da;r=Ma.get(r)||U;return _a(r(n.apply(null,o.call(arguments,1))))};function _a(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Pa(t){return function(e){return 1-t(1-e)}}function ka(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function La(t){return t*t}function Ua(t){return t*t*t}function ja(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Wa(t){return function(e){return Math.pow(e,t)}}function Ba(t){return 1-Math.cos(t*kt)}function Ha(t){return Math.pow(2,10*(t-1))}function qa(t){return 1-Math.sqrt(1-t*t)}function Ga(t,e){var n;if(arguments.length<2)e=.45;if(arguments.length)n=e/_t*Math.asin(1/t);else t=1,n=e/4;return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*_t/e)}}function Va(t){if(!t)t=1.70158;return function(e){return e*e*((t+1)*e-t)}}function Ya(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}a.interpolateHcl=Qa;function Qa(t,e){t=a.hcl(t);e=a.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,s=e.c-r,u=e.l-i;if(isNaN(s))s=0,r=isNaN(r)?e.c:r;if(isNaN(o))o=0,n=isNaN(n)?e.h:n;else if(o>180)o-=360;else if(o<-180)o+=360;return function(t){return ae(n+o*t,r+s*t,i+u*t)+""}}a.interpolateHsl=za;function za(t,e){t=a.hsl(t);e=a.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,s=e.s-r,u=e.l-i;if(isNaN(s))s=0,r=isNaN(r)?e.s:r;if(isNaN(o))o=0,n=isNaN(n)?e.h:n;else if(o>180)o-=360;else if(o<-180)o+=360;return function(t){return ne(n+o*t,r+s*t,i+u*t)+""}}a.interpolateLab=Ka;function Ka(t,e){t=a.lab(t);e=a.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,s=e.a-r,u=e.b-i;return function(t){return de(n+o*t,r+s*t,i+u*t)+""}}a.interpolateRound=Za;function Za(t,e){e-=t;return function(n){return Math.round(t+e*n)}}a.transform=function(t){var e=u.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(t){if(t!=null){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new $a(n?n.matrix:eo)})(t)};function $a(t){var e=[t.a,t.b],n=[t.c,t.d],r=Ja(e),i=Xa(e,n),a=Ja(to(n,e,-i))||0;if(e[0]*n[1]<n[0]*e[1]){e[0]*=-1;e[1]*=-1;r*=-1;i*=-1}this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ut;this.translate=[t.e,t.f];this.scale=[r,a];this.skew=a?Math.atan2(i,a)*Ut:0}$a.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Xa(t,e){return t[0]*e[0]+t[1]*e[1]}function Ja(t){var e=Math.sqrt(Xa(t,t));if(e){t[0]/=e;t[1]/=e}return e}function to(t,e,n){t[0]+=n*e[0];t[1]+=n*e[1];return t}var eo={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=so;function no(t){return t.length?t.pop()+",":""}function ro(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:Sa(t[0],e[0])},{i:i-2,x:Sa(t[1],e[1])})}else if(e[0]||e[1]){n.push("translate("+e+")")}}function io(t,e,n,r){if(t!==e){if(t-e>180)e+=360;else if(e-t>180)t+=360;r.push({i:n.push(no(n)+"rotate(",null,")")-2,x:Sa(t,e)})}else if(e){n.push(no(n)+"rotate("+e+")")}}function ao(t,e,n,r){if(t!==e){r.push({i:n.push(no(n)+"skewX(",null,")")-2,x:Sa(t,e)})}else if(e){n.push(no(n)+"skewX("+e+")")}}function oo(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(no(n)+"scale(",null,",",null,")");r.push({i:i-4,x:Sa(t[0],e[0])},{i:i-2,x:Sa(t[1],e[1])})}else if(e[0]!==1||e[1]!==1){n.push(no(n)+"scale("+e+")")}}function so(t,e){var n=[],r=[];t=a.transform(t),e=a.transform(e);ro(t.translate,e.translate,n,r);io(t.rotate,e.rotate,n,r);ao(t.skew,e.skew,n,r);oo(t.scale,e.scale,n,r);t=e=null;return function(t){var e=-1,i=r.length,a;while(++e<i)n[(a=r[e]).i]=a.x(t);return n.join("")}}function uo(t,e){e=(e-=t=+t)||1/e;return function(n){return(n-t)/e}}function lo(t,e){e=(e-=t=+t)||1/e;return function(n){return Math.max(0,Math.min(1,(n-t)/e))}}a.layout={};a.layout.bundle=function(){return function(t){var e=[],n=-1,r=t.length;while(++n<r)e.push(co(t[n]));return e}};function co(t){var e=t.source,n=t.target,r=po(e,n),i=[e];while(e!==r){e=e.parent;i.push(e)}var a=i.length;while(n!==r){i.splice(a,0,n);n=n.parent}return i}function fo(t){var e=[],n=t.parent;while(n!=null){e.push(t);t=n;n=n.parent}e.push(t);return e}function po(t,e){if(t===e)return t;var n=fo(t),r=fo(e),i=n.pop(),a=r.pop(),o=null;while(i===a){o=i;i=n.pop();a=r.pop()}return o}a.layout.chord=function(){var t={},e,n,r,i,o=0,s,u,l;function c(){var t={},c=[],d=a.range(i),p=[],h,m,g,y,v;e=[];n=[];h=0,y=-1;while(++y<i){m=0,v=-1;while(++v<i){m+=r[y][v]}c.push(m);p.push(a.range(i));h+=m}if(s){d.sort(function(t,e){return s(c[t],c[e])})}if(u){p.forEach(function(t,e){t.sort(function(t,n){return u(r[e][t],r[e][n])})})}h=(_t-o*i)/h;m=0,y=-1;while(++y<i){g=m,v=-1;while(++v<i){var A=d[y],b=p[A][v],x=r[A][b],E=m,T=m+=x*h;t[A+"-"+b]={index:A,subindex:b,startAngle:E,endAngle:T,value:x}}n[A]={index:A,startAngle:g,endAngle:m,value:c[A]};m+=o}y=-1;while(++y<i){v=y-1;while(++v<i){var w=t[y+"-"+v],S=t[v+"-"+y];if(w.value||S.value){e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}}}if(l)f()}function f(){e.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}t.matrix=function(a){if(!arguments.length)return r;i=(r=a)&&r.length;e=n=null;return t};t.padding=function(r){if(!arguments.length)return o;o=r;e=n=null;return t};t.sortGroups=function(r){if(!arguments.length)return s;s=r;e=n=null;return t};t.sortSubgroups=function(n){if(!arguments.length)return u;u=n;e=null;return t};t.sortChords=function(n){if(!arguments.length)return l;l=n;if(e)f();return t};t.chords=function(){if(!e)c();return e};t.groups=function(){if(!n)c();return n};return t};a.layout.force=function(){var t={},e=a.dispatch("start","tick","end"),n,r=[1,1],i,o,s=.9,u=Ao,l=bo,c=-30,f=xo,d=.1,p=.64,h=[],m=[],g,y,v;function A(t){return function(e,n,r,i){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=i-n,u=a*a+o*o;if(s*s/p<u){if(u<f){var l=e.charge/u;t.px-=a*l;t.py-=o*l}return true}if(e.point&&u&&u<f){var l=e.pointCharge/u;t.px-=a*l;t.py-=o*l}}return!e.charge}}t.tick=function(){if((o*=.99)<.005){n=null;e.end({type:"end",alpha:o=0});return true}var t=h.length,i=m.length,u,l,f,p,b,x,E,T,w;for(l=0;l<i;++l){f=m[l];p=f.source;b=f.target;T=b.x-p.x;w=b.y-p.y;if(x=T*T+w*w){x=o*y[l]*((x=Math.sqrt(x))-g[l])/x;T*=x;w*=x;b.x-=T*(E=p.weight+b.weight?p.weight/(p.weight+b.weight):.5);b.y-=w*E;p.x+=T*(E=1-E);p.y+=w*E}}if(E=o*d){T=r[0]/2;w=r[1]/2;l=-1;if(E)while(++l<t){f=h[l];f.x+=(T-f.x)*E;f.y+=(w-f.y)*E}}if(c){vo(u=a.geom.quadtree(h),o,v);l=-1;while(++l<t){if(!(f=h[l]).fixed){u.visit(A(f))}}}l=-1;while(++l<t){f=h[l];if(f.fixed){f.x=f.px;f.y=f.py}else{f.x-=(f.px-(f.px=f.x))*s;f.y-=(f.py-(f.py=f.y))*s}}e.tick({type:"tick",alpha:o})};t.nodes=function(e){if(!arguments.length)return h;h=e;return t};t.links=function(e){if(!arguments.length)return m;m=e;return t};t.size=function(e){if(!arguments.length)return r;r=e;return t};t.linkDistance=function(e){if(!arguments.length)return u;u=typeof e==="function"?e:+e;return t};t.distance=t.linkDistance;t.linkStrength=function(e){if(!arguments.length)return l;l=typeof e==="function"?e:+e;return t};t.friction=function(e){if(!arguments.length)return s;s=+e;return t};t.charge=function(e){if(!arguments.length)return c;c=typeof e==="function"?e:+e;return t};t.chargeDistance=function(e){if(!arguments.length)return Math.sqrt(f);f=e*e;return t};t.gravity=function(e){if(!arguments.length)return d;d=+e;return t};t.theta=function(e){if(!arguments.length)return Math.sqrt(p);p=e*e;return t};t.alpha=function(r){if(!arguments.length)return o;r=+r;if(o){if(r>0){o=r}else{n.c=null,n.t=NaN,n=null;e.end({type:"end",alpha:o=0})}}else if(r>0){e.start({type:"start",alpha:o=r});n=Ue(t.tick)}return t};t.start=function(){var e,n=h.length,i=m.length,a=r[0],o=r[1],s,f;for(e=0;e<n;++e){(f=h[e]).index=e;f.weight=0}for(e=0;e<i;++e){f=m[e];if(typeof f.source=="number")f.source=h[f.source];if(typeof f.target=="number")f.target=h[f.target];++f.source.weight;++f.target.weight}for(e=0;e<n;++e){f=h[e];if(isNaN(f.x))f.x=d("x",a);if(isNaN(f.y))f.y=d("y",o);if(isNaN(f.px))f.px=f.x;if(isNaN(f.py))f.py=f.y}g=[];if(typeof u==="function")for(e=0;e<i;++e)g[e]=+u.call(this,m[e],e);else for(e=0;e<i;++e)g[e]=u;y=[];if(typeof l==="function")for(e=0;e<i;++e)y[e]=+l.call(this,m[e],e);else for(e=0;e<i;++e)y[e]=l;v=[];if(typeof c==="function")for(e=0;e<n;++e)v[e]=+c.call(this,h[e],e);else for(e=0;e<n;++e)v[e]=c;function d(t,r){if(!s){s=new Array(n);for(u=0;u<n;++u){s[u]=[]}for(u=0;u<i;++u){var a=m[u];s[a.source.index].push(a.target);s[a.target.index].push(a.source)}}var o=s[e],u=-1,l=o.length,c;while(++u<l)if(!isNaN(c=o[u][t]))return c;return Math.random()*r}return t.resume()};t.resume=function(){return t.alpha(.1)};t.stop=function(){return t.alpha(0)};t.drag=function(){if(!i)i=a.behavior.drag().origin(U).on("dragstart.force",ho).on("drag.force",b).on("dragend.force",mo);if(!arguments.length)return i;this.on("mouseover.force",go).on("mouseout.force",yo).call(i)};function b(e){e.px=a.event.x,e.py=a.event.y;t.resume()}return a.rebind(t,e,"on")};function ho(t){t.fixed|=2}function mo(t){t.fixed&=~6}function go(t){t.fixed|=4;t.px=t.x,t.py=t.y}function yo(t){t.fixed&=~4}function vo(t,e,n){var r=0,i=0;t.charge=0;if(!t.leaf){var a=t.nodes,o=a.length,s=-1,u;while(++s<o){u=a[s];if(u==null)continue;vo(u,e,n);t.charge+=u.charge;r+=u.charge*u.cx;i+=u.charge*u.cy}}if(t.point){if(!t.leaf){t.point.x+=Math.random()-.5;t.point.y+=Math.random()-.5}var l=e*n[t.point.index];t.charge+=t.pointCharge=l;r+=l*t.point.x;i+=l*t.point.y}t.cx=r/t.charge;t.cy=i/t.charge}var Ao=20,bo=1,xo=Infinity;a.layout.hierarchy=function(){var t=Io,e=So,n=Oo;function r(i){var a=[i],o=[],s;i.depth=0;while((s=a.pop())!=null){o.push(s);if((l=e.call(r,s,s.depth))&&(u=l.length)){var u,l,c;while(--u>=0){a.push(c=l[u]);c.parent=s;c.depth=s.depth+1}if(n)s.value=0;s.children=l}else{if(n)s.value=+n.call(r,s,s.depth)||0;delete s.children}}wo(i,function(e){var r,i;if(t&&(r=e.children))r.sort(t);if(n&&(i=e.parent))i.value+=e.value});return o}r.sort=function(e){if(!arguments.length)return t;t=e;return r};r.children=function(t){if(!arguments.length)return e;e=t;return r};r.value=function(t){if(!arguments.length)return n;n=t;return r};r.revalue=function(t){if(n){To(t,function(t){if(t.children)t.value=0});wo(t,function(t){var e;if(!t.children)t.value=+n.call(r,t,t.depth)||0;if(e=t.parent)e.value+=t.value})}return t};return r};function Eo(t,e){a.rebind(t,e,"sort","children","value");t.nodes=t;t.links=Co;return t}function To(t,e){var n=[t];while((t=n.pop())!=null){e(t);if((i=t.children)&&(r=i.length)){var r,i;while(--r>=0)n.push(i[r])}}}function wo(t,e){var n=[t],r=[];while((t=n.pop())!=null){r.push(t);if((o=t.children)&&(a=o.length)){var i=-1,a,o;while(++i<a)n.push(o[i])}}while((t=r.pop())!=null){e(t)}}function So(t){return t.children}function Oo(t){return t.value}function Io(t,e){return e.value-t.value}function Co(t){return a.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}a.layout.partition=function(){var t=a.layout.hierarchy(),e=[1,1];function n(t,e,r,i){var a=t.children;t.x=e;t.y=t.depth*i;t.dx=r;t.dy=i;if(a&&(s=a.length)){var o=-1,s,u,l;r=t.value?r/t.value:0;while(++o<s){n(u=a[o],e,l=u.value*r,i);e+=l}}}function r(t){var e=t.children,n=0;if(e&&(a=e.length)){var i=-1,a;while(++i<a)n=Math.max(n,r(e[i]))}return 1+n}function i(i,a){var o=t.call(this,i,a);n(o[0],0,e[0],e[1]/r(o[0]));return o}i.size=function(t){if(!arguments.length)return e;e=t;return i};return Eo(i,t)};a.layout.pie=function(){var t=Number,e=No,n=0,r=_t,i=0;function o(s){var u=s.length,l=s.map(function(e,n){return+t.call(o,e,n)}),c=+(typeof n==="function"?n.apply(this,arguments):n),f=(typeof r==="function"?r.apply(this,arguments):r)-c,d=Math.min(Math.abs(f)/u,+(typeof i==="function"?i.apply(this,arguments):i)),p=d*(f<0?-1:1),h=a.sum(l),m=h?(f-u*p)/h:0,g=a.range(u),y=[],v;if(e!=null)g.sort(e===No?function(t,e){return l[e]-l[t]}:function(t,n){return e(s[t],s[n])});g.forEach(function(t){y[t]={data:s[t],value:v=l[t],startAngle:c,endAngle:c+=v*m+p,padAngle:d}});return y}o.value=function(e){if(!arguments.length)return t;t=e;return o};o.sort=function(t){if(!arguments.length)return e;e=t;return o};o.startAngle=function(t){if(!arguments.length)return n;n=t;return o};o.endAngle=function(t){if(!arguments.length)return r;r=t;return o};o.padAngle=function(t){if(!arguments.length)return i;i=t;return o};return o};var No={};a.layout.stack=function(){var t=U,e=Po,n=ko,r=Fo,i=Ro,o=Do;function s(u,l){if(!(m=u.length))return u;var c=u.map(function(e,n){return t.call(s,e,n)});var f=c.map(function(t){return t.map(function(t,e){return[i.call(s,t,e),o.call(s,t,e)]})});var d=e.call(s,f,l);c=a.permute(c,d);f=a.permute(f,d);var p=n.call(s,f,l);var h=c[0].length,m,g,y,v;for(y=0;y<h;++y){r.call(s,c[0][y],v=p[y],f[0][y][1]);for(g=1;g<m;++g){r.call(s,c[g][y],v+=f[g-1][y][1],f[g][y][1])}}return u}s.values=function(e){if(!arguments.length)return t;t=e;return s};s.order=function(t){if(!arguments.length)return e;e=typeof t==="function"?t:Mo.get(t)||Po;return s};s.offset=function(t){if(!arguments.length)return n;n=typeof t==="function"?t:_o.get(t)||ko;return s};s.x=function(t){if(!arguments.length)return i;i=t;return s};s.y=function(t){if(!arguments.length)return o;o=t;return s};s.out=function(t){if(!arguments.length)return r;r=t;return s};return s};function Ro(t){return t.x}function Do(t){return t.y}function Fo(t,e,n){t.y0=e;t.y=n}var Mo=a.map({"inside-out":function(t){var e=t.length,n,r,i=t.map(Lo),o=t.map(Uo),s=a.range(e).sort(function(t,e){return i[t]-i[e]}),u=0,l=0,c=[],f=[];for(n=0;n<e;++n){r=s[n];if(u<l){u+=o[r];c.push(r)}else{l+=o[r];f.push(r)}}return f.reverse().concat(c)},reverse:function(t){return a.range(t.length).reverse()},"default":Po});var _o=a.map({silhouette:function(t){var e=t.length,n=t[0].length,r=[],i=0,a,o,s,u=[];for(o=0;o<n;++o){for(a=0,s=0;a<e;a++)s+=t[a][o][1];if(s>i)i=s;r.push(s)}for(o=0;o<n;++o){u[o]=(i-r[o])/2}return u},wiggle:function(t){var e=t.length,n=t[0],r=n.length,i,a,o,s,u,l,c,f,d,p=[];p[0]=f=d=0;for(a=1;a<r;++a){for(i=0,s=0;i<e;++i)s+=t[i][a][1];for(i=0,u=0,c=n[a][0]-n[a-1][0];i<e;++i){for(o=0,l=(t[i][a][1]-t[i][a-1][1])/(2*c);o<i;++o){l+=(t[o][a][1]-t[o][a-1][1])/c}u+=l*t[i][a][1]}p[a]=f-=s?u/s*c:0;if(f<d)d=f}for(a=0;a<r;++a)p[a]-=d;return p},expand:function(t){var e=t.length,n=t[0].length,r=1/e,i,a,o,s=[];for(a=0;a<n;++a){for(i=0,o=0;i<e;i++)o+=t[i][a][1];if(o)for(i=0;i<e;i++)t[i][a][1]/=o;else for(i=0;i<e;i++)t[i][a][1]=r}for(a=0;a<n;++a)s[a]=0;return s},zero:ko});function Po(t){return a.range(t.length)}function ko(t){var e=-1,n=t[0].length,r=[];while(++e<n)r[e]=0;return r}function Lo(t){var e=1,n=0,r=t[0][1],i,a=t.length;for(;e<a;++e){if((i=t[e][1])>r){n=e;r=i}}return n}function Uo(t){return t.reduce(jo,0)}function jo(t,e){return t+e[1]}a.layout.histogram=function(){var t=true,e=Number,n=Ho,r=Wo;function i(i,o){var s=[],u=i.map(e,this),l=n.call(this,u,o),c=r.call(this,l,u,o),f,o=-1,d=u.length,p=c.length-1,h=t?1:1/d,m;while(++o<p){f=s[o]=[];f.dx=c[o+1]-(f.x=c[o]);f.y=0}if(p>0){o=-1;while(++o<d){m=u[o];if(m>=l[0]&&m<=l[1]){f=s[a.bisect(c,m,1,p)-1];f.y+=h;f.push(i[o])}}}return s}i.value=function(t){if(!arguments.length)return e;e=t;return i};i.range=function(t){if(!arguments.length)return n;n=Ce(t);return i};i.bins=function(t){if(!arguments.length)return r;r=typeof t==="number"?function(e){return Bo(e,t)}:Ce(t);return i};i.frequency=function(e){if(!arguments.length)return t;t=!!e;return i};return i};function Wo(t,e){return Bo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Bo(t,e){var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];while(++n<=e)a[n]=i*n+r;return a}function Ho(t){return[a.min(t),a.max(t)]}a.layout.pack=function(){var t=a.layout.hierarchy().sort(qo),e=0,n=[1,1],r;function i(i,a){var o=t.call(this,i,a),s=o[0],u=n[0],l=n[1],c=r==null?Math.sqrt:typeof r==="function"?r:function(){return r};s.x=s.y=0;wo(s,function(t){t.r=+c(t.value)});wo(s,Qo);if(e){var f=e*(r?1:Math.max(2*s.r/u,2*s.r/l))/2;wo(s,function(t){t.r+=f});wo(s,Qo);wo(s,function(t){t.r-=f})}Zo(s,u/2,l/2,r?1:1/Math.max(2*s.r/u,2*s.r/l));return o}i.size=function(t){if(!arguments.length)return n;n=t;return i};i.radius=function(t){if(!arguments.length)return r;r=t==null||typeof t==="function"?t:+t;return i};i.padding=function(t){if(!arguments.length)return e;e=+t;return i};return Eo(i,t)};function qo(t,e){return t.value-e.value}function Go(t,e){var n=t._pack_next;t._pack_next=e;e._pack_prev=t;e._pack_next=n;n._pack_prev=e}function Vo(t,e){t._pack_next=e;e._pack_prev=t}function Yo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Qo(t){if(!(e=t.children)||!(d=e.length))return;var e,n=Infinity,r=-Infinity,i=Infinity,a=-Infinity,o,s,u,l,c,f,d;function p(t){n=Math.min(t.x-t.r,n);r=Math.max(t.x+t.r,r);i=Math.min(t.y-t.r,i);a=Math.max(t.y+t.r,a)}e.forEach(zo);o=e[0];o.x=-o.r;o.y=0;p(o);if(d>1){s=e[1];s.x=s.r;s.y=0;p(s);if(d>2){u=e[2];$o(o,s,u);p(u);Go(o,u);o._pack_prev=u;Go(u,s);s=o._pack_next;for(l=3;l<d;l++){$o(o,s,u=e[l]);var h=0,m=1,g=1;for(c=s._pack_next;c!==s;c=c._pack_next,m++){if(Yo(c,u)){h=1;break}}if(h==1){for(f=o._pack_prev;f!==c._pack_prev;f=f._pack_prev,g++){if(Yo(f,u)){break}}}if(h){if(m<g||m==g&&s.r<o.r)Vo(o,s=c);else Vo(o=f,s);l--}else{Go(o,u);s=u;p(u)}}}}var y=(n+r)/2,v=(i+a)/2,A=0;for(l=0;l<d;l++){u=e[l];u.x-=y;u.y-=v;A=Math.max(A,u.r+Math.sqrt(u.x*u.x+u.y*u.y))}t.r=A;e.forEach(Ko)}function zo(t){t._pack_next=t._pack_prev=t}function Ko(t){delete t._pack_next;delete t._pack_prev}function Zo(t,e,n,r){var i=t.children;t.x=e+=r*t.x;t.y=n+=r*t.y;t.r*=r;if(i){var a=-1,o=i.length;while(++a<o)Zo(i[a],e,n,r)}}function $o(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var o=e.r+n.r,s=i*i+a*a;o*=o;r*=r;var u=.5+(r-o)/(2*s),l=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=t.x+u*i+l*a;n.y=t.y+u*a-l*i}else{n.x=t.x+r;n.y=t.y}}a.layout.tree=function(){var t=a.layout.hierarchy().sort(null).value(null),e=Xo,n=[1,1],r=null;function i(i,a){var l=t.call(this,i,a),f=l[0],d=o(f);wo(d,s),d.parent.m=-d.z;To(d,u);if(r)To(f,c);else{var p=f,h=f,m=f;To(f,function(t){if(t.x<p.x)p=t;if(t.x>h.x)h=t;if(t.depth>m.depth)m=t});var g=e(p,h)/2-p.x,y=n[0]/(h.x+e(h,p)/2+g),v=n[1]/(m.depth||1);To(f,function(t){t.x=(t.x+g)*y;t.y=t.depth*v})}return l}function o(t){var e={A:null,children:[t]},n=[e],r;while((r=n.pop())!=null){for(var i=r.children,a,o=0,s=i.length;o<s;++o){n.push((i[o]=a={_:i[o],parent:r,children:(a=i[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a)}}return e.children[0]}function s(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){ns(t);var a=(n[0].z+n[n.length-1].z)/2;if(i){t.z=i.z+e(t._,i._);t.m=t.z-a}else{t.z=a}}else if(i){t.z=i.z+e(t._,i._)}t.parent.A=l(t,i,t.parent.A||r[0])}function u(t){t._.x=t.z+t.parent.m;t.m+=t.parent.m}function l(t,n,r){if(n){var i=t,a=t,o=n,s=i.parent.children[0],u=i.m,l=a.m,c=o.m,f=s.m,d;while(o=ts(o),i=Jo(i),o&&i){s=Jo(s);a=ts(a);a.a=t;d=o.z+c-i.z-u+e(o._,i._);if(d>0){es(rs(o,t,r),t,d);u+=d;l+=d}c+=o.m;u+=i.m;f+=s.m;l+=a.m}if(o&&!ts(a)){a.t=o;a.m+=c-l}if(i&&!Jo(s)){s.t=i;s.m+=u-f;r=t}}return r}function c(t){t.x*=n[0];t.y=t.depth*n[1]}i.separation=function(t){if(!arguments.length)return e;e=t;return i};i.size=function(t){if(!arguments.length)return r?null:n;r=(n=t)==null?c:null;return i};i.nodeSize=function(t){if(!arguments.length)return r?n:null;r=(n=t)==null?null:c;return i};return Eo(i,t)};function Xo(t,e){return t.parent==e.parent?1:2}function Jo(t){var e=t.children;return e.length?e[0]:t.t}function ts(t){var e=t.children,n;return(n=e.length)?e[n-1]:t.t}function es(t,e,n){var r=n/(e.i-t.i);e.c-=r;e.s+=n;t.c+=r;e.z+=n;e.m+=n}function ns(t){var e=0,n=0,r=t.children,i=r.length,a;while(--i>=0){a=r[i];a.z+=e;a.m+=e;e+=a.s+(n+=a.c)}}function rs(t,e,n){return t.a.parent===e.parent?t.a:n}a.layout.cluster=function(){var t=a.layout.hierarchy().sort(null).value(null),e=Xo,n=[1,1],r=false;function i(i,a){var o=t.call(this,i,a),s=o[0],u,l=0;wo(s,function(t){var n=t.children;if(n&&n.length){t.x=as(n);t.y=is(n)}else{t.x=u?l+=e(t,u):0;t.y=0;u=t}});var c=os(s),f=ss(s),d=c.x-e(c,f)/2,p=f.x+e(f,c)/2;wo(s,r?function(t){t.x=(t.x-s.x)*n[0];t.y=(s.y-t.y)*n[1]}:function(t){t.x=(t.x-d)/(p-d)*n[0];t.y=(1-(s.y?t.y/s.y:1))*n[1]});return o}i.separation=function(t){if(!arguments.length)return e;e=t;return i};i.size=function(t){if(!arguments.length)return r?null:n;r=(n=t)==null;return i};i.nodeSize=function(t){if(!arguments.length)return r?n:null;r=(n=t)!=null;return i};return Eo(i,t)};function is(t){return 1+a.max(t,function(t){return t.y})}function as(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function os(t){var e=t.children;return e&&e.length?os(e[0]):t}function ss(t){var e=t.children,n;return e&&(n=e.length)?ss(e[n-1]):t}a.layout.treemap=function(){var t=a.layout.hierarchy(),e=Math.round,n=[1,1],r=null,i=us,o=false,s,u="squarify",l=.5*(1+Math.sqrt(5));function c(t,e){var n=-1,r=t.length,i,a;while(++n<r){a=(i=t[n]).value*(e<0?0:e);i.area=isNaN(a)||a<=0?0:a}}function f(t){var e=t.children;if(e&&e.length){var n=i(t),r=[],a=e.slice(),o,s=Infinity,l,d=u==="slice"?n.dx:u==="dice"?n.dy:u==="slice-dice"?t.depth&1?n.dy:n.dx:Math.min(n.dx,n.dy),m;c(a,n.dx*n.dy/t.value);r.area=0;while((m=a.length)>0){r.push(o=a[m-1]);r.area+=o.area;if(u!=="squarify"||(l=p(r,d))<=s){a.pop();s=l}else{r.area-=r.pop().area;h(r,d,n,false);d=Math.min(n.dx,n.dy);r.length=r.area=0;s=Infinity}}if(r.length){h(r,d,n,true);r.length=r.area=0}e.forEach(f)}}function d(t){var e=t.children;if(e&&e.length){var n=i(t),r=e.slice(),a,o=[];c(r,n.dx*n.dy/t.value);o.area=0;while(a=r.pop()){o.push(a);o.area+=a.area;if(a.z!=null){h(o,a.z?n.dx:n.dy,n,!r.length);o.length=o.area=0}}e.forEach(d)}}function p(t,e){var n=t.area,r,i=0,a=Infinity,o=-1,s=t.length;while(++o<s){if(!(r=t[o].area))continue;if(r<a)a=r;if(r>i)i=r}n*=n;e*=e;return n?Math.max(e*i*l/n,n/(e*a*l)):Infinity}function h(t,n,r,i){var a=-1,o=t.length,s=r.x,u=r.y,l=n?e(t.area/n):0,c;if(n==r.dx){if(i||l>r.dy)l=r.dy;while(++a<o){c=t[a];c.x=s;c.y=u;c.dy=l;s+=c.dx=Math.min(r.x+r.dx-s,l?e(c.area/l):0)}c.z=true;c.dx+=r.x+r.dx-s;r.y+=l;r.dy-=l}else{if(i||l>r.dx)l=r.dx;while(++a<o){c=t[a];c.x=s;c.y=u;c.dx=l;u+=c.dy=Math.min(r.y+r.dy-u,l?e(c.area/l):0)}c.z=false;c.dy+=r.y+r.dy-u;r.x+=l;r.dx-=l}}function m(e){var r=s||t(e),i=r[0];i.x=i.y=0;if(i.value)i.dx=n[0],i.dy=n[1];else i.dx=i.dy=0;if(s)t.revalue(i);c([i],i.dx*i.dy/i.value);(s?d:f)(i);if(o)s=r;return r}m.size=function(t){if(!arguments.length)return n;n=t;return m};m.padding=function(t){if(!arguments.length)return r;function e(e){var n=t.call(m,e,e.depth);return n==null?us(e):ls(e,typeof n==="number"?[n,n,n,n]:n)}function n(e){return ls(e,t)}var a;i=(r=t)==null?us:(a=typeof t)==="function"?e:a==="number"?(t=[t,t,t,t],n):n;return m};m.round=function(t){if(!arguments.length)return e!=Number;e=t?Math.round:Number;return m};m.sticky=function(t){if(!arguments.length)return o;o=t;s=null;return m};m.ratio=function(t){if(!arguments.length)return l;l=t;return m};m.mode=function(t){if(!arguments.length)return u;u=t+"";return m};return Eo(m,t)};function us(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ls(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];if(i<0){n+=i/2;i=0}if(a<0){r+=a/2;a=0}return{x:n,y:r,dx:i,dy:a}}a.random={normal:function(t,e){var n=arguments.length;if(n<2)e=1;
if(n<1)t=0;return function(){var n,r,i;do{n=Math.random()*2-1;r=Math.random()*2-1;i=n*n+r*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=a.random.normal.apply(a,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=a.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}};a.scale={};function cs(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function fs(t){return t.rangeExtent?t.rangeExtent():cs(t.range())}function ds(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(i(t))}}function ps(t,e){var n=0,r=t.length-1,i=t[n],a=t[r],o;if(a<i){o=n,n=r,r=o;o=i,i=a,a=o}t[n]=e.floor(i);t[r]=e.ceil(a);return t}function hs(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ms}var ms={floor:U,ceil:U};function gs(t,e,n,r){var i=[],o=[],s=0,u=Math.min(t.length,e.length)-1;if(t[u]<t[0]){t=t.slice().reverse();e=e.slice().reverse()}while(++s<=u){i.push(n(t[s-1],t[s]));o.push(r(e[s-1],e[s]))}return function(e){var n=a.bisect(t,e,1,u)-1;return o[n](i[n](e))}}a.scale.linear=function(){return ys([0,1],[0,1],Na,false)};function ys(t,e,n,r){var i,a;function o(){var o=Math.min(t.length,e.length)>2?gs:ds,u=r?lo:uo;i=o(t,e,u,n);a=o(e,t,u,Na);return s}function s(t){return i(t)}s.invert=function(t){return a(t)};s.domain=function(e){if(!arguments.length)return t;t=e.map(Number);return o()};s.range=function(t){if(!arguments.length)return e;e=t;return o()};s.rangeRound=function(t){return s.range(t).interpolate(Za)};s.clamp=function(t){if(!arguments.length)return r;r=t;return o()};s.interpolate=function(t){if(!arguments.length)return n;n=t;return o()};s.ticks=function(e){return xs(t,e)};s.tickFormat=function(e,n){return Es(t,e,n)};s.nice=function(e){As(t,e);return o()};s.copy=function(){return ys(t,e,n,r)};return o()}function vs(t,e){return a.rebind(t,e,"range","rangeRound","interpolate","clamp")}function As(t,e){ps(t,hs(bs(t,e)[2]));ps(t,hs(bs(t,e)[2]));return t}function bs(t,e){if(e==null)e=10;var n=cs(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;if(a<=.15)i*=10;else if(a<=.35)i*=5;else if(a<=.75)i*=2;n[0]=Math.ceil(n[0]/i)*i;n[1]=Math.floor(n[1]/i)*i+i*.5;n[2]=i;return n}function xs(t,e){return a.range.apply(a,bs(t,e))}function Es(t,e,n){var r=bs(t,e);if(n){var i=Ye.exec(n);i.shift();if(i[8]==="s"){var o=a.formatPrefix(Math.max(w(r[0]),w(r[1])));if(!i[7])i[7]="."+ws(o.scale(r[2]));i[8]="f";n=a.format(i.join(""));return function(t){return n(o.scale(t))+o.symbol}}if(!i[7])i[7]="."+Ss(i[8],r);n=i.join("")}else{n=",."+ws(r[2])+"f"}return a.format(n)}var Ts={s:1,g:1,p:1,r:1,e:1};function ws(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Ss(t,e){var n=ws(e[2]);return t in Ts?Math.abs(n-ws(Math.max(w(e[0]),w(e[1]))))+ +(t!=="e"):n-(t==="%")*2}a.scale.log=function(){return Os(a.scale.linear().domain([0,1]),10,true,[1,10])};function Os(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function s(e){return t(i(e))}s.invert=function(e){return o(t.invert(e))};s.domain=function(e){if(!arguments.length)return r;n=e[0]>=0;t.domain((r=e.map(Number)).map(i));return s};s.base=function(n){if(!arguments.length)return e;e=+n;t.domain(r.map(i));return s};s.nice=function(){var e=ps(r.map(i),n?Math:Cs);t.domain(e);r=e.map(o);return s};s.ticks=function(){var t=cs(r),a=[],s=t[0],u=t[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),f=e%1?2:e;if(isFinite(c-l)){if(n){for(;l<c;l++)for(var d=1;d<f;d++)a.push(o(l)*d);a.push(o(l))}else{a.push(o(l));for(;l++<c;)for(var d=f-1;d>0;d--)a.push(o(l)*d)}for(l=0;a[l]<s;l++){}for(c=a.length;a[c-1]>u;c--){}a=a.slice(l,c)}return a};s.tickFormat=function(t,n){if(!arguments.length)return Is;if(arguments.length<2)n=Is;else if(typeof n!=="function")n=a.format(n);var r=Math.max(1,e*t/s.ticks().length);return function(t){var a=t/o(Math.round(i(t)));if(a*e<e-.5)a*=e;return a<=r?n(t):""}};s.copy=function(){return Os(t.copy(),e,n,r)};return vs(s,t)}var Is=a.format(".0e"),Cs={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};a.scale.pow=function(){return Ns(a.scale.linear(),1,[0,1])};function Ns(t,e,n){var r=Rs(e),i=Rs(1/e);function a(e){return t(r(e))}a.invert=function(e){return i(t.invert(e))};a.domain=function(e){if(!arguments.length)return n;t.domain((n=e.map(Number)).map(r));return a};a.ticks=function(t){return xs(n,t)};a.tickFormat=function(t,e){return Es(n,t,e)};a.nice=function(t){return a.domain(As(n,t))};a.exponent=function(o){if(!arguments.length)return e;r=Rs(e=o);i=Rs(1/e);t.domain(n.map(r));return a};a.copy=function(){return Ns(t.copy(),e,n)};return vs(a,t)}function Rs(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)};a.scale.ordinal=function(){return Ds([],{t:"range",a:[[]]})};function Ds(t,e){var n,r,i;function o(i){return r[((n.get(i)||(e.t==="range"?n.set(i,t.push(i)):NaN))-1)%r.length]}function s(e,n){return a.range(t.length).map(function(t){return e+n*t})}o.domain=function(r){if(!arguments.length)return t;t=[];n=new I;var i=-1,a=r.length,s;while(++i<a)if(!n.has(s=r[i]))n.set(s,t.push(s));return o[e.t].apply(o,e.a)};o.range=function(t){if(!arguments.length)return r;r=t;i=0;e={t:"range",a:arguments};return o};o.rangePoints=function(n,a){if(arguments.length<2)a=0;var u=n[0],l=n[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+a);r=s(u+c*a/2,c);i=0;e={t:"rangePoints",a:arguments};return o};o.rangeRoundPoints=function(n,a){if(arguments.length<2)a=0;var u=n[0],l=n[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+a)|0;r=s(u+Math.round(c*a/2+(l-u-(t.length-1+a)*c)/2),c);i=0;e={t:"rangeRoundPoints",a:arguments};return o};o.rangeBands=function(n,a,u){if(arguments.length<2)a=0;if(arguments.length<3)u=a;var l=n[1]<n[0],c=n[l-0],f=n[1-l],d=(f-c)/(t.length-a+2*u);r=s(c+d*u,d);if(l)r.reverse();i=d*(1-a);e={t:"rangeBands",a:arguments};return o};o.rangeRoundBands=function(n,a,u){if(arguments.length<2)a=0;if(arguments.length<3)u=a;var l=n[1]<n[0],c=n[l-0],f=n[1-l],d=Math.floor((f-c)/(t.length-a+2*u));r=s(c+Math.round((f-c-(t.length-a)*d)/2),d);if(l)r.reverse();i=Math.round(d*(1-a));e={t:"rangeRoundBands",a:arguments};return o};o.rangeBand=function(){return i};o.rangeExtent=function(){return cs(e.a[0])};o.copy=function(){return Ds(t,e)};return o.domain(t)}a.scale.category10=function(){return a.scale.ordinal().range(Fs)};a.scale.category20=function(){return a.scale.ordinal().range(Ms)};a.scale.category20b=function(){return a.scale.ordinal().range(_s)};a.scale.category20c=function(){return a.scale.ordinal().range(Ps)};var Fs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ae);var Ms=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ae);var _s=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ae);var Ps=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ae);a.scale.quantile=function(){return ks([],[])};function ks(t,e){var n;function r(){var r=0,o=e.length;n=[];while(++r<o)n[r-1]=a.quantile(t,r/o);return i}function i(t){if(!isNaN(t=+t))return e[a.bisect(n,t)]}i.domain=function(e){if(!arguments.length)return t;t=e.map(A).filter(b).sort(v);return r()};i.range=function(t){if(!arguments.length)return e;e=t;return r()};i.quantiles=function(){return n};i.invertExtent=function(r){r=e.indexOf(r);return r<0?[NaN,NaN]:[r>0?n[r-1]:t[0],r<n.length?n[r]:t[t.length-1]]};i.copy=function(){return ks(t,e)};return r()}a.scale.quantize=function(){return Ls(0,1,[0,1])};function Ls(t,e,n){var r,i;function a(e){return n[Math.max(0,Math.min(i,Math.floor(r*(e-t))))]}function o(){r=n.length/(e-t);i=n.length-1;return a}a.domain=function(n){if(!arguments.length)return[t,e];t=+n[0];e=+n[n.length-1];return o()};a.range=function(t){if(!arguments.length)return n;n=t;return o()};a.invertExtent=function(e){e=n.indexOf(e);e=e<0?NaN:e/r+t;return[e,e+1/r]};a.copy=function(){return Ls(t,e,n)};return o()}a.scale.threshold=function(){return Us([.5],[0,1])};function Us(t,e){function n(n){if(n<=n)return e[a.bisect(t,n)]}n.domain=function(e){if(!arguments.length)return t;t=e;return n};n.range=function(t){if(!arguments.length)return e;e=t;return n};n.invertExtent=function(n){n=e.indexOf(n);return[t[n-1],t[n]]};n.copy=function(){return Us(t,e)};return n}a.scale.identity=function(){return js([0,1])};function js(t){function e(t){return+t}e.invert=e;e.domain=e.range=function(n){if(!arguments.length)return t;t=n.map(e);return e};e.ticks=function(e){return xs(t,e)};e.tickFormat=function(e,n){return Es(t,e,n)};e.copy=function(){return js(t)};return e}a.svg={};function Ws(){return 0}a.svg.arc=function(){var t=Hs,e=qs,n=Ws,r=Bs,i=Gs,a=Vs,o=Ys;function s(){var s=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-kt,f=a.apply(this,arguments)-kt,d=Math.abs(f-c),p=c>f?0:1;if(l<s)h=l,l=s,s=h;if(d>=Pt)return u(l,p)+(s?u(s,1-p):"")+"Z";var h,m,g,y,v=0,A=0,b,x,E,T,w,S,O,I,C=[];if(y=(+o.apply(this,arguments)||0)/2){g=r===Bs?Math.sqrt(s*s+l*l):+r.apply(this,arguments);if(!p)A*=-1;if(l)A=Ht(g/l*Math.sin(y));if(s)v=Ht(g/s*Math.sin(y))}if(l){b=l*Math.cos(c+A);x=l*Math.sin(c+A);E=l*Math.cos(f-A);T=l*Math.sin(f-A);var N=Math.abs(f-c-2*A)<=Mt?0:1;if(A&&Qs(b,x,E,T)===p^N){var R=(c+f)/2;b=l*Math.cos(R);x=l*Math.sin(R);E=T=null}}else{b=x=0}if(s){w=s*Math.cos(f-v);S=s*Math.sin(f-v);O=s*Math.cos(c+v);I=s*Math.sin(c+v);var D=Math.abs(c-f+2*v)<=Mt?0:1;if(v&&Qs(w,S,O,I)===1-p^D){var F=(c+f)/2;w=s*Math.cos(F);S=s*Math.sin(F);O=I=null}}else{w=S=0}if(d>Dt&&(h=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){m=s<l^p?0:1;var M=h,_=h;if(d<Mt){var P=O==null?[w,S]:E==null?[b,x]:_i([b,x],[O,I],[E,T],[w,S]),k=b-P[0],L=x-P[1],U=E-P[0],j=T-P[1],W=1/Math.sin(Math.acos((k*U+L*j)/(Math.sqrt(k*k+L*L)*Math.sqrt(U*U+j*j)))/2),B=Math.sqrt(P[0]*P[0]+P[1]*P[1]);_=Math.min(h,(s-B)/(W-1));M=Math.min(h,(l-B)/(W+1))}if(E!=null){var H=zs(O==null?[w,S]:[O,I],[b,x],l,M,p),q=zs([E,T],[w,S],l,M,p);if(h===M){C.push("M",H[0],"A",M,",",M," 0 0,",m," ",H[1],"A",l,",",l," 0 ",1-p^Qs(H[1][0],H[1][1],q[1][0],q[1][1]),",",p," ",q[1],"A",M,",",M," 0 0,",m," ",q[0])}else{C.push("M",H[0],"A",M,",",M," 0 1,",m," ",q[0])}}else{C.push("M",b,",",x)}if(O!=null){var G=zs([b,x],[O,I],s,-_,p),V=zs([w,S],E==null?[b,x]:[E,T],s,-_,p);if(h===_){C.push("L",V[0],"A",_,",",_," 0 0,",m," ",V[1],"A",s,",",s," 0 ",p^Qs(V[1][0],V[1][1],G[1][0],G[1][1]),",",1-p," ",G[1],"A",_,",",_," 0 0,",m," ",G[0])}else{C.push("L",V[0],"A",_,",",_," 0 0,",m," ",G[0])}}else{C.push("L",w,",",S)}}else{C.push("M",b,",",x);if(E!=null)C.push("A",l,",",l," 0 ",N,",",p," ",E,",",T);C.push("L",w,",",S);if(O!=null)C.push("A",s,",",s," 0 ",D,",",1-p," ",O,",",I)}C.push("Z");return C.join("")}function u(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}s.innerRadius=function(e){if(!arguments.length)return t;t=Ce(e);return s};s.outerRadius=function(t){if(!arguments.length)return e;e=Ce(t);return s};s.cornerRadius=function(t){if(!arguments.length)return n;n=Ce(t);return s};s.padRadius=function(t){if(!arguments.length)return r;r=t==Bs?Bs:Ce(t);return s};s.startAngle=function(t){if(!arguments.length)return i;i=Ce(t);return s};s.endAngle=function(t){if(!arguments.length)return a;a=Ce(t);return s};s.padAngle=function(t){if(!arguments.length)return o;o=Ce(t);return s};s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-kt;return[Math.cos(r)*n,Math.sin(r)*n]};return s};var Bs="auto";function Hs(t){return t.innerRadius}function qs(t){return t.outerRadius}function Gs(t){return t.startAngle}function Vs(t){return t.endAngle}function Ys(t){return t&&t.padAngle}function Qs(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function zs(t,e,n,r,i){var a=t[0]-e[0],o=t[1]-e[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),u=s*o,l=-s*a,c=t[0]+u,f=t[1]+l,d=e[0]+u,p=e[1]+l,h=(c+d)/2,m=(f+p)/2,g=d-c,y=p-f,v=g*g+y*y,A=n-r,b=c*p-d*f,x=(y<0?-1:1)*Math.sqrt(Math.max(0,A*A*v-b*b)),E=(b*y-g*x)/v,T=(-b*g-y*x)/v,w=(b*y+g*x)/v,S=(-b*g+y*x)/v,O=E-h,I=T-m,C=w-h,N=S-m;if(O*O+I*I>C*C+N*N)E=w,T=S;return[[E-u,T-l],[E*n/A,T*n/A]]}function Ks(t){var e=Ci,n=Ni,r=fr,i=$s,a=i.key,o=.7;function s(a){var s=[],u=[],l=-1,c=a.length,f,d=Ce(e),p=Ce(n);function h(){s.push("M",i(t(u),o))}while(++l<c){if(r.call(this,f=a[l],l)){u.push([+d.call(this,f,l),+p.call(this,f,l)])}else if(u.length){h();u=[]}}if(u.length)h();return s.length?s.join(""):null}s.x=function(t){if(!arguments.length)return e;e=t;return s};s.y=function(t){if(!arguments.length)return n;n=t;return s};s.defined=function(t){if(!arguments.length)return r;r=t;return s};s.interpolate=function(t){if(!arguments.length)return a;if(typeof t==="function")a=i=t;else a=(i=Zs.get(t)||$s).key;return s};s.tension=function(t){if(!arguments.length)return o;o=t;return s};return s}a.svg.line=function(){return Ks(U)};var Zs=a.map({linear:$s,"linear-closed":Xs,step:Js,"step-before":tu,"step-after":eu,basis:su,"basis-open":uu,"basis-closed":lu,bundle:cu,cardinal:iu,"cardinal-open":nu,"cardinal-closed":ru,monotone:Au});Zs.forEach(function(t,e){e.key=t;e.closed=/-closed$/.test(t)});function $s(t){return t.length>1?t.join("L"):t+"Z"}function Xs(t){return t.join("L")+"Z"}function Js(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];while(++e<n)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);if(n>1)i.push("H",r[0]);return i.join("")}function tu(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];while(++e<n)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function eu(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];while(++e<n)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function nu(t,e){return t.length<4?$s(t):t[1]+au(t.slice(1,-1),ou(t,e))}function ru(t,e){return t.length<3?Xs(t):t[0]+au((t.push(t[0]),t),ou([t[t.length-2]].concat(t,[t[1]]),e))}function iu(t,e){return t.length<3?$s(t):t[0]+au(t,ou(t,e))}function au(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2){return $s(t)}var n=t.length!=e.length,r="",i=t[0],a=t[1],o=e[0],s=o,u=1;if(n){r+="Q"+(a[0]-o[0]*2/3)+","+(a[1]-o[1]*2/3)+","+a[0]+","+a[1];i=t[1];u=2}if(e.length>1){s=e[1];a=t[u];u++;r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var l=2;l<e.length;l++,u++){a=t[u];s=e[l];r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}}if(n){var c=t[u];r+="Q"+(a[0]+s[0]*2/3)+","+(a[1]+s[1]*2/3)+","+c[0]+","+c[1]}return r}function ou(t,e){var n=[],r=(1-e)/2,i,a=t[0],o=t[1],s=1,u=t.length;while(++s<u){i=a;a=o;o=t[s];n.push([r*(o[0]-i[0]),r*(o[1]-i[1])])}return n}function su(t){if(t.length<3)return $s(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],o=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],u=[i,",",a,"L",fu(hu,o),",",fu(hu,s)];t.push(t[n-1]);while(++e<=n){r=t[e];o.shift();o.push(r[0]);s.shift();s.push(r[1]);mu(u,o,s)}t.pop();u.push("L",r);return u.join("")}function uu(t){if(t.length<4)return $s(t);var e=[],n=-1,r=t.length,i,a=[0],o=[0];while(++n<3){i=t[n];a.push(i[0]);o.push(i[1])}e.push(fu(hu,a)+","+fu(hu,o));--n;while(++n<r){i=t[n];a.shift();a.push(i[0]);o.shift();o.push(i[1]);mu(e,a,o)}return e.join("")}function lu(t){var e,n=-1,r=t.length,i=r+4,a,o=[],s=[];while(++n<4){a=t[n%r];o.push(a[0]);s.push(a[1])}e=[fu(hu,o),",",fu(hu,s)];--n;while(++n<i){a=t[n%r];o.shift();o.push(a[0]);s.shift();s.push(a[1]);mu(e,o,s)}return e.join("")}function cu(t,e){var n=t.length-1;if(n){var r=t[0][0],i=t[0][1],a=t[n][0]-r,o=t[n][1]-i,s=-1,u,l;while(++s<=n){u=t[s];l=s/n;u[0]=e*u[0]+(1-e)*(r+l*a);u[1]=e*u[1]+(1-e)*(i+l*o)}}return su(t)}function fu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}var du=[0,2/3,1/3,0],pu=[0,1/3,2/3,0],hu=[0,1/6,2/3,1/6];function mu(t,e,n){t.push("C",fu(du,e),",",fu(du,n),",",fu(pu,e),",",fu(pu,n),",",fu(hu,e),",",fu(hu,n))}function gu(t,e){return(e[1]-t[1])/(e[0]-t[0])}function yu(t){var e=0,n=t.length-1,r=[],i=t[0],a=t[1],o=r[0]=gu(i,a);while(++e<n){r[e]=(o+(o=gu(i=a,a=t[e+1])))/2}r[e]=o;return r}function vu(t){var e=[],n,r,i,a,o=yu(t),s=-1,u=t.length-1;while(++s<u){n=gu(t[s],t[s+1]);if(w(n)<Dt){o[s]=o[s+1]=0}else{r=o[s]/n;i=o[s+1]/n;a=r*r+i*i;if(a>9){a=n*3/Math.sqrt(a);o[s]=a*r;o[s+1]=a*i}}}s=-1;while(++s<=u){a=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s]));e.push([a||0,o[s]*a||0])}return e}function Au(t){return t.length<3?$s(t):t[0]+au(t,vu(t))}a.svg.line.radial=function(){var t=Ks(bu);t.radius=t.x,delete t.x;t.angle=t.y,delete t.y;return t};function bu(t){var e,n=-1,r=t.length,i,a;while(++n<r){e=t[n];i=e[0];a=e[1]-kt;e[0]=i*Math.cos(a);e[1]=i*Math.sin(a)}return t}function xu(t){var e=Ci,n=Ci,r=0,i=Ni,a=fr,o=$s,s=o.key,u=o,l="L",c=.7;function f(s){var f=[],d=[],p=[],h=-1,m=s.length,g,y=Ce(e),v=Ce(r),A=e===n?function(){return x}:Ce(n),b=r===i?function(){return E}:Ce(i),x,E;function T(){f.push("M",o(t(p),c),l,u(t(d.reverse()),c),"Z")}while(++h<m){if(a.call(this,g=s[h],h)){d.push([x=+y.call(this,g,h),E=+v.call(this,g,h)]);p.push([+A.call(this,g,h),+b.call(this,g,h)])}else if(d.length){T();d=[];p=[]}}if(d.length)T();return f.length?f.join(""):null}f.x=function(t){if(!arguments.length)return n;e=n=t;return f};f.x0=function(t){if(!arguments.length)return e;e=t;return f};f.x1=function(t){if(!arguments.length)return n;n=t;return f};f.y=function(t){if(!arguments.length)return i;r=i=t;return f};f.y0=function(t){if(!arguments.length)return r;r=t;return f};f.y1=function(t){if(!arguments.length)return i;i=t;return f};f.defined=function(t){if(!arguments.length)return a;a=t;return f};f.interpolate=function(t){if(!arguments.length)return s;if(typeof t==="function")s=o=t;else s=(o=Zs.get(t)||$s).key;u=o.reverse||o;l=o.closed?"M":"L";return f};f.tension=function(t){if(!arguments.length)return c;c=t;return f};return f}tu.reverse=eu;eu.reverse=tu;a.svg.area=function(){return xu(U)};a.svg.area.radial=function(){var t=xu(bu);t.radius=t.x,delete t.x;t.innerRadius=t.x0,delete t.x0;t.outerRadius=t.x1,delete t.x1;t.angle=t.y,delete t.y;t.startAngle=t.y0,delete t.y0;t.endAngle=t.y1,delete t.y1;return t};a.svg.chord=function(){var t=fi,e=di,n=Eu,r=Gs,i=Vs;function a(n,r){var i=o(this,t,n,r),a=o(this,e,n,r);return"M"+i.p0+u(i.r,i.p1,i.a1-i.a0)+(s(i,a)?l(i.r,i.p1,i.r,i.p0):l(i.r,i.p1,a.r,a.p0)+u(a.r,a.p1,a.a1-a.a0)+l(a.r,a.p1,i.r,i.p0))+"Z"}function o(t,e,a,o){var s=e.call(t,a,o),u=n.call(t,s,o),l=r.call(t,s,o)-kt,c=i.call(t,s,o)-kt;return{r:u,a0:l,a1:c,p0:[u*Math.cos(l),u*Math.sin(l)],p1:[u*Math.cos(c),u*Math.sin(c)]}}function s(t,e){return t.a0==e.a0&&t.a1==e.a1}function u(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Mt)+",1 "+e}function l(t,e,n,r){return"Q 0,0 "+r}a.radius=function(t){if(!arguments.length)return n;n=Ce(t);return a};a.source=function(e){if(!arguments.length)return t;t=Ce(e);return a};a.target=function(t){if(!arguments.length)return e;e=Ce(t);return a};a.startAngle=function(t){if(!arguments.length)return r;r=Ce(t);return a};a.endAngle=function(t){if(!arguments.length)return i;i=Ce(t);return a};return a};function Eu(t){return t.radius}a.svg.diagonal=function(){var t=fi,e=di,n=Tu;function r(r,i){var a=t.call(this,r,i),o=e.call(this,r,i),s=(a.y+o.y)/2,u=[a,{x:a.x,y:s},{x:o.x,y:s},o];u=u.map(n);return"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}r.source=function(e){if(!arguments.length)return t;t=Ce(e);return r};r.target=function(t){if(!arguments.length)return e;e=Ce(t);return r};r.projection=function(t){if(!arguments.length)return n;n=t;return r};return r};function Tu(t){return[t.x,t.y]}a.svg.diagonal.radial=function(){var t=a.svg.diagonal(),e=Tu,n=t.projection;t.projection=function(t){return arguments.length?n(wu(e=t)):e};return t};function wu(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-kt;return[n*Math.cos(r),n*Math.sin(r)]}}a.svg.symbol=function(){var t=Ou,e=Su;function n(n,r){return(Cu.get(t.call(this,n,r))||Iu)(e.call(this,n,r))}n.type=function(e){if(!arguments.length)return t;t=Ce(e);return n};n.size=function(t){if(!arguments.length)return e;e=Ce(t);return n};return n};function Su(){return 64}function Ou(){return"circle"}function Iu(t){var e=Math.sqrt(t/Mt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}var Cu=a.map({circle:Iu,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ru)),n=e*Ru;return"M0,"+-e+"L"+n+",0"+" 0,"+e+" "+-n+",0"+"Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Nu),n=e*Nu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Nu),n=e*Nu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});a.svg.symbolTypes=Cu.keys();var Nu=Math.sqrt(3),Ru=Math.tan(30*Lt);tt.transition=function(t){var e=ku||++Pu,n=Wu(t),r=[],i,a,o=Lu||{time:Date.now(),ease:ja,delay:0,duration:250};for(var s=-1,u=this.length;++s<u;){r.push(i=[]);for(var l=this[s],c=-1,f=l.length;++c<f;){if(a=l[c])Bu(a,c,n,e,o);i.push(a)}}return Mu(r,n,e)};tt.interrupt=function(t){return this.each(t==null?Du:Fu(Wu(t)))};var Du=Fu(Wu());function Fu(t){return function(){var e,n,r;if((e=this[t])&&(r=e[n=e.active])){r.timer.c=null;r.timer.t=NaN;if(--e.count)delete e[n];else delete this[t];e.active+=.5;r.event&&r.event.interrupt.call(this,this.__data__,r.index)}}}function Mu(t,e,n){K(t,_u);t.namespace=e;t.id=n;return t}var _u=[],Pu=0,ku,Lu;_u.call=tt.call;_u.empty=tt.empty;_u.node=tt.node;_u.size=tt.size;a.transition=function(t,e){return t&&t.transition?ku?t.transition(e):t:a.selection().transition(t)};a.transition.prototype=_u;_u.select=function(t){var e=this.id,n=this.namespace,r=[],i,a,o;t=et(t);for(var s=-1,u=this.length;++s<u;){r.push(i=[]);for(var l=this[s],c=-1,f=l.length;++c<f;){if((o=l[c])&&(a=t.call(o,o.__data__,c,s))){if("__data__"in o)a.__data__=o.__data__;Bu(a,c,n,e,o[n][e]);i.push(a)}else{i.push(null)}}}return Mu(r,n,e)};_u.selectAll=function(t){var e=this.id,n=this.namespace,r=[],i,a,o,s,u;t=nt(t);for(var l=-1,c=this.length;++l<c;){for(var f=this[l],d=-1,p=f.length;++d<p;){if(o=f[d]){u=o[n][e];a=t.call(o,o.__data__,d,l);r.push(i=[]);for(var h=-1,m=a.length;++h<m;){if(s=a[h])Bu(s,h,n,e,u);i.push(s)}}}}return Mu(r,n,e)};_u.filter=function(t){var e=[],n,r,i;if(typeof t!=="function")t=mt(t);for(var a=0,o=this.length;a<o;a++){e.push(n=[]);for(var r=this[a],s=0,u=r.length;s<u;s++){if((i=r[s])&&t.call(i,i.__data__,s,a)){n.push(i)}}}return Mu(e,this.namespace,this.id)};_u.tween=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2)return this.node()[r][n].tween.get(t);return yt(this,e==null?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})};function Uu(t,e,n,r){var i=t.id,a=t.namespace;return yt(t,typeof n==="function"?function(t,o,s){t[a][i].tween.set(e,r(n.call(t,t.__data__,o,s)))}:(n=r(n),function(t){t[a][i].tween.set(e,n)}))}_u.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n=t=="transform"?so:Na,r=a.ns.qualify(t);function i(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}function s(t){return t==null?i:(t+="",function(){var e=this.getAttribute(r),i;return e!==t&&(i=n(e,t),function(t){this.setAttribute(r,i(t))})})}function u(t){return t==null?o:(t+="",function(){var e=this.getAttributeNS(r.space,r.local),i;return e!==t&&(i=n(e,t),function(t){this.setAttributeNS(r.space,r.local,i(t))})})}return Uu(this,"attr."+t,e,r.local?u:s)};_u.attrTween=function(t,e){var n=a.ns.qualify(t);function r(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}}function i(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}return this.tween("attr."+t,n.local?i:r)};_u.style=function(t,e,n){var r=arguments.length;if(r<3){if(typeof t!=="string"){if(r<2)e="";for(n in t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function a(e){return e==null?i:(e+="",function(){var r=c(this).getComputedStyle(this,null).getPropertyValue(t),i;return r!==e&&(i=Na(r,e),function(e){this.style.setProperty(t,i(e),n)})})}return Uu(this,"style."+t,e,a)};_u.styleTween=function(t,e,n){if(arguments.length<3)n="";function r(r,i){var a=e.call(this,r,i,c(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return this.tween("style."+t,r)};_u.text=function(t){return Uu(this,"text",t,ju)};function ju(t){if(t==null)t="";return function(){this.textContent=t}}_u.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;if(this[t].count<2&&(e=this.parentNode))e.removeChild(this)})};_u.ease=function(t){var e=this.id,n=this.namespace;if(arguments.length<1)return this.node()[n][e].ease;if(typeof t!=="function")t=a.ease.apply(a,arguments);return yt(this,function(r){r[n][e].ease=t})};_u.delay=function(t){var e=this.id,n=this.namespace;if(arguments.length<1)return this.node()[n][e].delay;return yt(this,typeof t==="function"?function(r,i,a){r[n][e].delay=+t.call(r,r.__data__,i,a)}:(t=+t,function(r){r[n][e].delay=t}))};_u.duration=function(t){var e=this.id,n=this.namespace;if(arguments.length<1)return this.node()[n][e].duration;return yt(this,typeof t==="function"?function(r,i,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))};_u.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Lu,o=ku;try{ku=n;yt(this,function(e,i,a){Lu=e[r][n];t.call(e,e.__data__,i,a)})}finally{Lu=i;ku=o}}else{yt(this,function(i){var o=i[r][n];(o.event||(o.event=a.dispatch("start","end","interrupt"))).on(t,e)})}return this};_u.transition=function(){var t=this.id,e=++Pu,n=this.namespace,r=[],i,a,o,s;for(var u=0,l=this.length;u<l;u++){r.push(i=[]);for(var a=this[u],c=0,f=a.length;c<f;c++){if(o=a[c]){s=o[n][t];Bu(o,c,n,e,{time:s.time,ease:s.ease,delay:s.delay+s.duration,duration:s.duration})}i.push(o)}}return Mu(r,n,e)};function Wu(t){return t==null?"__transition__":"__transition_"+t+"__"}function Bu(t,e,n,r,i){var a=t[n]||(t[n]={active:0,count:0}),o=a[r],s,u,l,c,f;function d(t){var e=o.delay;u.t=e+s;if(e<=t)return p(t-e);u.c=p}function p(n){var i=a.active,d=a[i];if(d){d.timer.c=null;d.timer.t=NaN;--a.count;delete a[i];d.event&&d.event.interrupt.call(t,t.__data__,d.index)}for(var p in a){if(+p<r){var m=a[p];m.timer.c=null;m.timer.t=NaN;--a.count;delete a[p]}}u.c=h;Ue(function(){if(u.c&&h(n||1)){u.c=null;u.t=NaN}return 1},0,s);a.active=r;o.event&&o.event.start.call(t,t.__data__,e);f=[];o.tween.forEach(function(n,r){if(r=r.call(t,t.__data__,e)){f.push(r)}});c=o.ease;l=o.duration}function h(i){var s=i/l,u=c(s),d=f.length;while(d>0){f[--d].call(t,u)}if(s>=1){o.event&&o.event.end.call(t,t.__data__,e);if(--a.count)delete a[r];else delete t[n];return 1}}if(!o){s=i.time;u=Ue(d,0,s);o=a[r]={tween:new I,time:s,timer:u,delay:i.delay,duration:i.duration,ease:i.ease,index:e};i=null;++a.count}}a.svg.axis=function(){var t=a.scale.linear(),e=Hu,n=6,r=6,i=3,o=[10],u=null,l;function c(s){s.each(function(){var s=a.select(this);var c=this.__chart__||t,f=this.__chart__=t.copy();var d=u==null?f.ticks?f.ticks.apply(f,o):f.domain():u,p=l==null?f.tickFormat?f.tickFormat.apply(f,o):U:l,h=s.selectAll(".tick").data(d,f),m=h.enter().insert("g",".domain").attr("class","tick").style("opacity",Dt),g=a.transition(h.exit()).style("opacity",Dt).remove(),y=a.transition(h.order()).style("opacity",1),v=Math.max(n,0)+i,A;var b=fs(f),x=s.selectAll(".domain").data([0]),E=(x.enter().append("path").attr("class","domain"),a.transition(x));m.append("line");m.append("text");var T=m.select("line"),w=y.select("line"),S=h.select("text").text(p),O=m.select("text"),I=y.select("text"),C=e==="top"||e==="left"?-1:1,N,R,D,F;if(e==="bottom"||e==="top"){A=Gu,N="x",D="y",R="x2",F="y2";S.attr("dy",C<0?"0em":".71em").style("text-anchor","middle");E.attr("d","M"+b[0]+","+C*r+"V0H"+b[1]+"V"+C*r)}else{A=Vu,N="y",D="x",R="y2",F="x2";S.attr("dy",".32em").style("text-anchor",C<0?"end":"start");E.attr("d","M"+C*r+","+b[0]+"H0V"+b[1]+"H"+C*r)}T.attr(F,C*n);O.attr(D,C*v);w.attr(R,0).attr(F,C*n);I.attr(N,0).attr(D,C*v);if(f.rangeBand){var M=f,_=M.rangeBand()/2;c=f=function(t){return M(t)+_}}else if(c.rangeBand){c=f}else{g.call(A,f,c)}m.call(A,c,f);y.call(A,f,f)})}c.scale=function(e){if(!arguments.length)return t;t=e;return c};c.orient=function(t){if(!arguments.length)return e;e=t in qu?t+"":Hu;return c};c.ticks=function(){if(!arguments.length)return o;o=s(arguments);return c};c.tickValues=function(t){if(!arguments.length)return u;u=t;return c};c.tickFormat=function(t){if(!arguments.length)return l;l=t;return c};c.tickSize=function(t){var e=arguments.length;if(!e)return n;n=+t;r=+arguments[e-1];return c};c.innerTickSize=function(t){if(!arguments.length)return n;n=+t;return c};c.outerTickSize=function(t){if(!arguments.length)return r;r=+t;return c};c.tickPadding=function(t){if(!arguments.length)return i;i=+t;return c};c.tickSubdivide=function(){return arguments.length&&c};return c};var Hu="bottom",qu={top:1,right:1,bottom:1,left:1};function Gu(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function Vu(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}a.svg.brush=function(){var t=Q(d,"brushstart","brush","brushend"),e=null,n=null,r=[0,0],i=[0,0],o,s,u=true,l=true,f=Qu[0];function d(t){t.each(function(){var t=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g);var r=t.selectAll(".background").data([0]);r.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var i=t.selectAll(".resize").data(f,U);i.exit().remove();i.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Yu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");i.style("display",d.empty()?"none":null);var o=a.transition(t),s=a.transition(r),u;if(e){u=fs(e);s.attr("x",u[0]).attr("width",u[1]-u[0]);h(o)}if(n){u=fs(n);s.attr("y",u[0]).attr("height",u[1]-u[0]);m(o)}p(o)})}d.event=function(e){e.each(function(){var e=t.of(this,arguments),n={x:r,y:i,i:o,j:s},u=this.__chart__||n;this.__chart__=n;if(ku){a.select(this).transition().each("start.brush",function(){o=u.i;s=u.j;r=u.x;i=u.y;e({type:"brushstart"})}).tween("brush:brush",function(){var t=Ra(r,n.x),a=Ra(i,n.y);o=s=null;return function(o){r=n.x=t(o);i=n.y=a(o);e({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=n.i;s=n.j;e({type:"brush",mode:"resize"});e({type:"brushend"})})}else{e({type:"brushstart"});e({type:"brush",mode:"resize"});e({type:"brushend"})}})};function p(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+r[+/e$/.test(t)]+","+i[+/^s/.test(t)]+")"})}function h(t){t.select(".extent").attr("x",r[0]);t.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1]-r[0])}function m(t){t.select(".extent").attr("y",i[0]);t.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1]-i[0])}function g(){var f=this,g=a.select(a.event.target),y=t.of(f,arguments),v=a.select(f),A=g.datum(),b=!/^(n|s)$/.test(A)&&e,x=!/^(e|w)$/.test(A)&&n,E=g.classed("extent"),T=It(f),w,S=a.mouse(f),O;var I=a.select(c(f)).on("keydown.brush",R).on("keyup.brush",D);
if(a.event.changedTouches){I.on("touchmove.brush",F).on("touchend.brush",_)}else{I.on("mousemove.brush",F).on("mouseup.brush",_)}v.interrupt().selectAll("*").interrupt();if(E){S[0]=r[0]-S[0];S[1]=i[0]-S[1]}else if(A){var C=+/w$/.test(A),N=+/^n/.test(A);O=[r[1-C]-S[0],i[1-N]-S[1]];S[0]=r[C];S[1]=i[N]}else if(a.event.altKey)w=S.slice();v.style("pointer-events","none").selectAll(".resize").style("display",null);a.select("body").style("cursor",g.style("cursor"));y({type:"brushstart"});F();function R(){if(a.event.keyCode==32){if(!E){w=null;S[0]-=r[1];S[1]-=i[1];E=2}V()}}function D(){if(a.event.keyCode==32&&E==2){S[0]+=r[1];S[1]+=i[1];E=0;V()}}function F(){var t=a.mouse(f),o=false;if(O){t[0]+=O[0];t[1]+=O[1]}if(!E){if(a.event.altKey){if(!w)w=[(r[0]+r[1])/2,(i[0]+i[1])/2];S[0]=r[+(t[0]<w[0])];S[1]=i[+(t[1]<w[1])]}else w=null}if(b&&M(t,e,0)){h(v);o=true}if(x&&M(t,n,1)){m(v);o=true}if(o){p(v);y({type:"brush",mode:E?"move":"resize"})}}function M(t,e,n){var a=fs(e),c=a[0],f=a[1],d=S[n],p=n?i:r,h=p[1]-p[0],m,g;if(E){c-=d;f-=h+d}m=(n?l:u)?Math.max(c,Math.min(f,t[n])):t[n];if(E){g=(m+=d)+h}else{if(w)d=Math.max(c,Math.min(f,2*w[n]-m));if(d<m){g=m;m=d}else{g=d}}if(p[0]!=m||p[1]!=g){if(n)s=null;else o=null;p[0]=m;p[1]=g;return true}}function _(){F();v.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null);a.select("body").style("cursor",null);I.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);T();y({type:"brushend"})}}d.x=function(t){if(!arguments.length)return e;e=t;f=Qu[!e<<1|!n];return d};d.y=function(t){if(!arguments.length)return n;n=t;f=Qu[!e<<1|!n];return d};d.clamp=function(t){if(!arguments.length)return e&&n?[u,l]:e?u:n?l:null;if(e&&n)u=!!t[0],l=!!t[1];else if(e)u=!!t;else if(n)l=!!t;return d};d.extent=function(t){var a,u,l,c,f;if(!arguments.length){if(e){if(o){a=o[0],u=o[1]}else{a=r[0],u=r[1];if(e.invert)a=e.invert(a),u=e.invert(u);if(u<a)f=a,a=u,u=f}}if(n){if(s){l=s[0],c=s[1]}else{l=i[0],c=i[1];if(n.invert)l=n.invert(l),c=n.invert(c);if(c<l)f=l,l=c,c=f}}return e&&n?[[a,l],[u,c]]:e?[a,u]:n&&[l,c]}if(e){a=t[0],u=t[1];if(n)a=a[0],u=u[0];o=[a,u];if(e.invert)a=e(a),u=e(u);if(u<a)f=a,a=u,u=f;if(a!=r[0]||u!=r[1])r=[a,u]}if(n){l=t[0],c=t[1];if(e)l=l[1],c=c[1];s=[l,c];if(n.invert)l=n(l),c=n(c);if(c<l)f=l,l=c,c=f;if(l!=i[0]||c!=i[1])i=[l,c]}return d};d.clear=function(){if(!d.empty()){r=[0,0],i=[0,0];o=s=null}return d};d.empty=function(){return!!e&&r[0]==r[1]||!!n&&i[0]==i[1]};return a.rebind(d,t,"on")};var Yu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var Qu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var zu=Ke.format=On.timeFormat;var Ku=zu.utc;var Zu=Ku("%Y-%m-%dT%H:%M:%S.%LZ");zu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?$u:Zu;function $u(t){return t.toISOString()}$u.parse=function(t){var e=new Date(t);return isNaN(e)?null:e};$u.toString=Zu.toString;Ke.second=Je(function(t){return new Ze(Math.floor(t/1e3)*1e3)},function(t,e){t.setTime(t.getTime()+Math.floor(e)*1e3)},function(t){return t.getSeconds()});Ke.seconds=Ke.second.range;Ke.seconds.utc=Ke.second.utc.range;Ke.minute=Je(function(t){return new Ze(Math.floor(t/6e4)*6e4)},function(t,e){t.setTime(t.getTime()+Math.floor(e)*6e4)},function(t){return t.getMinutes()});Ke.minutes=Ke.minute.range;Ke.minutes.utc=Ke.minute.utc.range;Ke.hour=Je(function(t){var e=t.getTimezoneOffset()/60;return new Ze((Math.floor(t/36e5-e)+e)*36e5)},function(t,e){t.setTime(t.getTime()+Math.floor(e)*36e5)},function(t){return t.getHours()});Ke.hours=Ke.hour.range;Ke.hours.utc=Ke.hour.utc.range;Ke.month=Je(function(t){t=Ke.day(t);t.setDate(1);return t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()});Ke.months=Ke.month.range;Ke.months.utc=Ke.month.utc.range;function Xu(t,e,n){function r(e){return t(e)}r.invert=function(e){return Ju(t.invert(e))};r.domain=function(e){if(!arguments.length)return t.domain().map(Ju);t.domain(e);return r};function i(t,n){var r=t[1]-t[0],i=r/n,o=a.bisect(tl,i);return o==tl.length?[e.year,bs(t.map(function(t){return t/31536e6}),n)[2]]:!o?[rl,bs(t,n)[2]]:e[i/tl[o-1]<tl[o]/i?o-1:o]}r.nice=function(t,e){var n=r.domain(),a=cs(n),o=t==null?i(a,10):typeof t==="number"&&i(a,t);if(o)t=o[0],e=o[1];function s(n){return!isNaN(n)&&!t.range(n,Ju(+n+1),e).length}return r.domain(ps(n,e>1?{floor:function(e){while(s(e=t.floor(e)))e=Ju(e-1);return e},ceil:function(e){while(s(e=t.ceil(e)))e=Ju(+e+1);return e}}:t))};r.ticks=function(t,e){var n=cs(r.domain()),a=t==null?i(n,10):typeof t==="number"?i(n,t):!t.range&&[{range:t},e];if(a)t=a[0],e=a[1];return t.range(n[0],Ju(+n[1]+1),e<1?1:e)};r.tickFormat=function(){return n};r.copy=function(){return Xu(t.copy(),e,n)};return vs(r,t)}function Ju(t){return new Date(t)}var tl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var el=[[Ke.second,1],[Ke.second,5],[Ke.second,15],[Ke.second,30],[Ke.minute,1],[Ke.minute,5],[Ke.minute,15],[Ke.minute,30],[Ke.hour,1],[Ke.hour,3],[Ke.hour,6],[Ke.hour,12],[Ke.day,1],[Ke.day,2],[Ke.week,1],[Ke.month,1],[Ke.month,3],[Ke.year,1]];var nl=zu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&t.getDate()!=1}],["%b %d",function(t){return t.getDate()!=1}],["%B",function(t){return t.getMonth()}],["%Y",fr]]);var rl={range:function(t,e,n){return a.range(Math.ceil(t/n)*n,+e,n).map(Ju)},floor:U,ceil:U};el.year=Ke.year;Ke.scale=function(){return Xu(a.scale.linear(),el,nl)};var il=el.map(function(t){return[t[0].utc,t[1]]});var al=Ku.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&t.getUTCDate()!=1}],["%b %d",function(t){return t.getUTCDate()!=1}],["%B",function(t){return t.getUTCMonth()}],["%Y",fr]]);il.year=Ke.year.utc;Ke.scale.utc=function(){return Xu(a.scale.linear(),il,al)};a.text=Ne(function(t){return t.responseText});a.json=function(t,e){return Re(t,"application/json",ol,e)};function ol(t){return JSON.parse(t.responseText)}a.html=function(t,e){return Re(t,"text/html",sl,e)};function sl(t){var e=u.createRange();e.selectNode(u.body);return e.createContextualFragment(t.responseText)}a.xml=Ne(function(t){return t.responseXML});if(true)this.d3=a,!(r=a,i=typeof r==="function"?r.call(e,n,e,t):r,i!==undefined&&(t.exports=i));else if(typeof t==="object"&&t.exports)t.exports=a;else this.d3=a}()},function(t,e){function n(t){return!!t&&typeof t=="object"}t.exports=n},function(t,e){(function(t){t.noop=function(){}})(typeof t==="object"&&typeof t.exports==="object"?t.exports:window)},function(t,e){function n(t){var e=typeof t;return e=="function"||!!t&&e=="object"}t.exports=n},function(t,e,n){var r=n(1),i=n(28),a=n(4);var o="[object Array]";var s=Object.prototype;var u=s.toString;var l=i(l=Array.isArray)&&l;var c=l||function(t){return a(t)&&r(t.length)&&u.call(t)==o};t.exports=c},function(t,e){function n(t){var e=typeof t;return e=="function"||!!t&&e=="object"}t.exports=n},function(t,e,n){"use strict";function r(t){for(var n in t)if(!e.hasOwnProperty(n))e[n]=t[n]}Object.defineProperty(e,"__esModule",{value:true});var i=n(31);i.save=function(){};if(false){i.enable(process.env.DEBUG)}var a=n(85);e.calcUpdateType=a.default;var o=n(87);e.createPropertyPersister=o.default;r(n(89));var s=n(54);e.PropertyPersister=s.default;r(n(91));var u=n(55);e.UpdateType=u.default;var l=n(84);e.buildContainsFilter=l.default;var c=n(90);e.createPersistObjectBuilder=c.default;var f=n(59);e.get=f.default;r(n(86));r(n(58));var d=n(57);e.calculateSegments=d.default;var p=n(88);e.listDiff=p.default;var h=n(56);e.buildColumnTarget=h.default},function(t,e){t.exports=function(t){if(typeof execScript!=="undefined")execScript(t);else eval.call(null,t)}},function(t,e){function n(t){return!!t&&typeof t=="object"}t.exports=n},function(t,e,n){var r=n(2),i=n(24),a=n(11);var o="[object Array]";var s=Object.prototype;var u=s.toString;var l=i(l=Array.isArray)&&l;var c=l||function(t){return a(t)&&r(t.length)&&u.call(t)==o};t.exports=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(9);var i=n(21);var a=n(62);var o=n(15);var s=n(98);e.METADATA_KEY="__settings__";function u(t,e,n,r,i){"use strict";if(n===void 0){n={}}if(r===void 0){r=true}if(i===void 0){i=true}var a=g(t);var s=new t;o(s,n);if(a){Object.keys(a).forEach(function(t){var o=a[t];var l=o.propertyName;var c=n[l];var f;if(o.isChildSettings){f=u(o.childClassType,e,c,r)}else{if(r&&(c||n.hasOwnProperty(l))){f=i&&c===null?undefined:c}else{var d=b(o,e);f=d.adaptedValue}}s[l]=f})}return s}e.parseSettingsFromPBI=u;function l(t,e,n,i){"use strict";if(i===void 0){i=true}if(e){e=u(t,undefined,e);var a=g(t);if(a){var o=r.createPersistObjectBuilder();Object.keys(a).forEach(function(t){var r=a[t];var s=r.descriptor,u=s.readOnly,f=s.persist;if(r.isChildSettings){var d=e[r.propertyName];if(d&&f!==false&&u!==true){var p=l(r.childClassType,e[r.propertyName],n,i);o.mergePersistObjects(p)}}else{c(r,e,n,i,o)}});return o.build()}}}e.buildPersistObjects=l;function c(t,e,n,r,i){"use strict";if(r===void 0){r=true}var a=t.descriptor,o=a.readOnly,s=a.persist;if(s!==false&&o!==true){var u=A(e,t,n,r);if(u){var l=v(t),c=l.objName,f=l.propName;var d=u.adaptedValue;d=d&&d.forEach?d:[d];d.forEach(function(t){var e=!!(t&&t.properties);var n=t;i.persist(c,f,t,undefined,n&&n.selector,n&&n.displayName,e)})}}}function f(t,e,n,r,i){"use strict";if(i===void 0){i=false}var a=[{selector:null,objectName:n,properties:{}}];if(e){e=u(t,undefined,e);var o=g(t);if(o){Object.keys(o).forEach(function(t){var s=o[t];if(s.isChildSettings){var u=e[s.propertyName];if(u&&E(e,s.descriptor,r)){a=a.concat(f(s.childClassType,u,n,r,i))}}else{var l=v(s).objName;var c=l===n;if(c){d(s,e,r,i,a)}}})}}a=a.filter(function(t){return Object.keys(t.properties).length>0});return a}e.buildEnumerationObjects=f;function d(t,e,n,r,i){"use strict";if(r===void 0){r=false}var o=t.descriptor,s=o.readOnly,u=o.enumerable;if(s!==true&&u!==false){var l=A(e,t,n,r);if(l){var c=v(t),f=c.objName,d=c.propName;var p=l.adaptedValue;p=p&&p.forEach?p:[p];p.forEach(function(t){var e=!!(t&&t.properties);var n=t;if(e){n=a(n,{objectName:f});if(typeof n.displayName==="undefined"||n.displayName===null){n.displayName="(Blank)"}n.displayName=n.displayName+"";i.push(n)}else{i[0].properties[d]=l.adaptedValue}})}}}function p(t){"use strict";var e;if(t){var n=g(t);if(n){e={};Object.keys(n).map(function(t){var r=n[t];var i=r.isChildSettings,s=r.childClassType;if(i){if(r.descriptor.readOnly!==true){a(e,p(s))}}else{var u=h(r);if(u){var l=u.objectName;var c=e[l]||u;o(c.properties,u.properties);e[l]=c}}})}}return e}e.buildCapabilitiesObjects=p;function h(t){"use strict";var e=v(t),n=e.objName,r=e.propName;var i=t.descriptor,a=i.category,o=i.displayName,s=i.defaultValue,u=i.description,l=i.readOnly;var c=t.descriptor.config;var f="General";if(l!==true){var d={objectName:n,displayName:a||f,properties:{}};var p=void 0;if(typeof s==="number"){p={numeric:true}}else if(typeof s==="boolean"){p={bool:true}}else if(typeof s==="string"){p={text:{}}}c=c||{};var h={displayName:c.displayName||o||r,description:c.description||u,type:c.type||p};if(c.rule){h.rule=c.rule}d.properties[r]=h;return d}}function m(t,e){"use strict";var n=JSON.parse(s(e,function(t,e){return e===undefined?null:e}));return n}e.toJSON=m;function g(t){"use strict";var n;if(t){n=i(t,e.METADATA_KEY+".settings");if(!n&&t.constructor){n=i(t.constructor,e.METADATA_KEY+".settings")}}return n}function y(t,e){"use strict";var n=g(t);if(n&&n[e]){return n[e].descriptor}}e.getSetting=y;function v(t){"use strict";var e=t.propertyName,n=t.descriptor,r=n.name,i=n.category;return{objName:x(i||"General"),propName:(r||e).replace(/\s/g,"_")}}e.getPBIObjectNameAndPropertyName=v;function A(t,e,n,r){"use strict";if(r===void 0){r=false}var i=e.descriptor,a=e.propertyName;var o=i.compose,s=i.readOnly;var u=E(t,i,n);if((r||u)&&s!==true){var l=t[a];if(o){l=o(l,i,n,e)}return{adaptedValue:l}}}e.convertValueToPBI=A;function b(t,e){"use strict";var n=i(e,"metadata.objects");var r=t.descriptor,a=t.descriptor,o=a.defaultValue,s=a.parse,u=a.min,l=a.max;var c=v(t),f=c.objName,d=c.propName;var p=i(n,f+"."+d);var h=typeof o!=="undefined"||r.hasOwnProperty("defaultValue");p=s?s(p,r,e,t):p;if(h&&(p===null||typeof p==="undefined")){p=o}if(typeof u!=="undefined"){p=Math.max(u,p)}if(typeof l!=="undefined"){p=Math.min(l,p)}return{adaptedValue:p}}e.convertValueFromPBI=b;function x(t){"use strict";return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,e){return e===0?t.toLowerCase():t.toUpperCase()}).replace(/\s+/g,"")}function E(t,e,n){"use strict";var r=e.hidden,i=e.enumerable,a=e.readOnly;if(a===true){return false}if(typeof i!=="undefined"){return!!(typeof i==="function"?i(t,n):i)}return!(typeof r==="function"?r(t,n):r)}function T(t,e,n,r){"use strict";var i=v(t),a=i.objName,o=i.propName;return{objectName:a,selector:e,displayName:n,properties:(s={},s[o]=r,s)};var s}e.composeInstance=T;function w(t,e,n){"use strict";var r=v(e),a=r.objName,o=r.propName;var s=i(t,"objects."+a);if(n){return i(s,"$instances."+n+"."+o)}else{return i(s,""+o)}}e.getObjectsForColumn=w;function S(t,e){"use strict";return{metadata:t.queryName,id:e}}e.createObjectSelectorForColumn=S},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});var i=n(13);var a=n(15);function o(t){"use strict";return function(e,n){var r={propertyName:n,descriptor:t,isChildSettings:false,classType:e};if(Object.freeze){r=Object.freeze(r)}d(e,n,r);Object.defineProperty(e,n,{writable:true,enumerable:true});return e}}e.setting=o;function s(t,e){"use strict";return function(n,i){var a=t;var o=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(a);var s=c(a);e=e||{};var u={propertyName:i,descriptor:e,isChildSettings:true,childClassType:o,classType:n};c(o,Object.create(s));l(u);if(!t){throw new Error("Could not find config for setting: "+i)}if(Object.freeze){u=Object.freeze(u)}d(n,i,u);Object.defineProperty(n,i,{writable:true,enumerable:true});return n}}e.settings=s;function u(t,e){"use strict";var n=Object.create(a({},e),{descriptor:{value:Object.create({category:t.descriptor.category},Object.keys(e.descriptor).reduce(function(t,n){t[n]={enumerable:true,value:e.descriptor[n]};return t},{}))}});n.parentSetting=t;n.classType=t.childClassType;l(n);return n}function l(t){"use strict";if(t.isChildSettings){var e=c(t.childClassType);e.settings=Object.keys(e.settings).reduce(function(n,r){n[r]=u(t,e.settings[r]);return n},{})}}function c(t,e){"use strict";var n=t.constructor===Function?t:t.constructor;return n[i.METADATA_KEY]=e||n[i.METADATA_KEY]||{}}function f(t){"use strict";var e=c(t);return e.settings=e.settings||{}}function d(t,e,n){"use strict";f(t)[e]=n}e.defineSetting=d},function(t,e){var n=9007199254740991;var r="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]";var o=/^(?:0|[1-9]\d*)$/;function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e){var n=-1,r=Array(t);while(++n<t){r[n]=e(n)}return r}var l=Object.prototype;var c=l.hasOwnProperty;var f=l.toString;var d=l.propertyIsEnumerable;var p=Math.max;function h(t,e){var n=O(t)||S(t)?u(t.length,String):[];var r=n.length,i=!!r;for(var a in t){if((e||c.call(t,a))&&!(i&&(a=="length"||b(a,r)))){n.push(a)}}return n}function m(t,e,n){var r=t[e];if(!(c.call(t,e)&&w(r,n))||n===undefined&&!(e in t)){t[e]=n}}function g(t){if(!D(t)){return T(t)}var e=E(t),n=[];for(var r in t){if(!(r=="constructor"&&(e||!c.call(t,r)))){n.push(r)}}return n}function y(t,e){e=p(e===undefined?t.length-1:e,0);return function(){var n=arguments,r=-1,i=p(n.length-e,0),a=Array(i);while(++r<i){a[r]=n[e+r]}r=-1;var o=Array(e+1);while(++r<e){o[r]=n[r]}o[e]=a;return s(t,this,o)}}function v(t,e,n,r){n||(n={});var i=-1,a=e.length;while(++i<a){var o=e[i];var s=r?r(n[o],t[o],o,n,t):undefined;m(n,o,s===undefined?t[o]:s)}return n}function A(t){return y(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:undefined,o=i>2?n[2]:undefined;a=t.length>3&&typeof a=="function"?(i--,a):undefined;if(o&&x(n[0],n[1],o)){a=i<3?undefined:a;i=1}e=Object(e);while(++r<i){var s=n[r];if(s){t(e,s,r,a)}}return e})}function b(t,e){e=e==null?n:e;return!!e&&(typeof t=="number"||o.test(t))&&(t>-1&&t%1==0&&t<e)}function x(t,e,n){if(!D(n)){return false}var r=typeof e;if(r=="number"?I(n)&&b(e,n.length):r=="string"&&e in n){return w(n[e],t)}return false}function E(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||l;return t===n}function T(t){var e=[];if(t!=null){for(var n in Object(t)){e.push(n)}}return e}function w(t,e){return t===e||t!==t&&e!==e}function S(t){return C(t)&&c.call(t,"callee")&&(!d.call(t,"callee")||f.call(t)==r)}var O=Array.isArray;function I(t){return t!=null&&R(t.length)&&!N(t)}function C(t){return F(t)&&I(t)}function N(t){var e=D(t)?f.call(t):"";return e==i||e==a}function R(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}function D(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function F(t){return!!t&&typeof t=="object"}var M=A(function(t,e){v(e,_(e),t)});function _(t){return I(t)?h(t,true):g(t)}t.exports=M},function(t,e,n){"use strict";n(5);n(118);t.exports=powerbi.extensibility.utils.type},function(t,e,n){var r=n(8);function i(t){return r(t)?t:Object(t)}t.exports=i},function(t,e,n){"use strict";function r(t){for(var n in t)if(!e.hasOwnProperty(n))e[n]=t[n]}Object.defineProperty(e,"__esModule",{value:true});r(n(13));r(n(14));r(n(29));r(n(50));r(n(53));r(n(30));r(n(52));r(n(81))},function(t,e,n){var r=n(83);e.fullColors=r.fullColors;e.default=r.default},function(t,e,n){var r,i;(function(e,n){"use strict";if(typeof t==="object"&&typeof t.exports==="object"){t.exports=e.document?n(e,true):function(t){if(!t.document){throw new Error("jQuery requires a window with a document")}return n(t)}}else{n(e)}})(typeof window!=="undefined"?window:this,function(n,a){"use strict";var o=[];var s=n.document;var u=Object.getPrototypeOf;var l=o.slice;var c=o.concat;var f=o.push;var d=o.indexOf;var p={};var h=p.toString;var m=p.hasOwnProperty;var g=m.toString;var y=g.call(Object);var v={};var A=function an(t){return typeof t==="function"&&typeof t.nodeType!=="number"};var b=function on(t){return t!=null&&t===t.window};var x={type:true,src:true,noModule:true};function E(t,e,n){e=e||s;var r,i=e.createElement("script");i.text=t;if(n){for(r in x){if(n[r]){i[r]=n[r]}}}e.head.appendChild(i).parentNode.removeChild(i)}function T(t){if(t==null){return t+""}return typeof t==="object"||typeof t==="function"?p[h.call(t)]||"object":typeof t}var w="3.3.1",S=function(t,e){return new S.fn.init(t,e)},O=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.fn=S.prototype={jquery:w,constructor:S,length:0,toArray:function(){return l.call(this)},get:function(t){if(t==null){return l.call(this)}return t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);e.prevObject=this;return e},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:f,sort:o.sort,splice:o.splice};S.extend=S.fn.extend=function(){var t,e,n,r,i,a,o=arguments[0]||{},s=1,u=arguments.length,l=false;if(typeof o==="boolean"){l=o;o=arguments[s]||{};s++}if(typeof o!=="object"&&!A(o)){o={}}if(s===u){o=this;s--}for(;s<u;s++){if((t=arguments[s])!=null){for(e in t){n=o[e];r=t[e];if(o===r){continue}if(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))){if(i){i=false;a=n&&Array.isArray(n)?n:[]}else{a=n&&S.isPlainObject(n)?n:{}}o[e]=S.extend(l,a,r)}else if(r!==undefined){o[e]=r}}}}return o};S.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:true,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;if(!t||h.call(t)!=="[object Object]"){return false}e=u(t);if(!e){return true}n=m.call(e,"constructor")&&e.constructor;return typeof n==="function"&&g.call(n)===y},isEmptyObject:function(t){var e;for(e in t){return false}return true},globalEval:function(t){E(t)},each:function(t,e){var n,r=0;if(I(t)){n=t.length;for(;r<n;r++){if(e.call(t[r],r,t[r])===false){break}}}else{for(r in t){if(e.call(t[r],r,t[r])===false){break}}}return t},trim:function(t){return t==null?"":(t+"").replace(O,"")},makeArray:function(t,e){var n=e||[];if(t!=null){if(I(Object(t))){S.merge(n,typeof t==="string"?[t]:t)}else{f.call(n,t)}}return n},inArray:function(t,e,n){return e==null?-1:d.call(e,t,n)},merge:function(t,e){var n=+e.length,r=0,i=t.length;for(;r<n;r++){t[i++]=e[r]}t.length=i;return t},grep:function(t,e,n){var r,i=[],a=0,o=t.length,s=!n;for(;a<o;a++){r=!e(t[a],a);if(r!==s){i.push(t[a])}}return i},map:function(t,e,n){var r,i,a=0,o=[];if(I(t)){r=t.length;for(;a<r;a++){i=e(t[a],a,n);if(i!=null){o.push(i)}}}else{for(a in t){i=e(t[a],a,n);if(i!=null){o.push(i)}}}return c.apply([],o)},guid:1,support:v});if(typeof Symbol==="function"){S.fn[Symbol.iterator]=o[Symbol.iterator]}S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){p["[object "+e+"]"]=e.toLowerCase()});function I(t){var e=!!t&&"length"in t&&t.length,n=T(t);if(A(t)||b(t)){return false}return n==="array"||e===0||typeof e==="number"&&e>0&&e-1 in t}var C=function(t){var e,n,r,i,a,o,s,u,l,c,f,d,p,h,m,g,y,v,A,b="sizzle"+1*new Date,x=t.document,E=0,T=0,w=st(),S=st(),O=st(),I=function(t,e){if(t===e){f=true}return 0},C={}.hasOwnProperty,N=[],R=N.pop,D=N.push,F=N.push,M=N.slice,_=function(t,e){var n=0,r=t.length;for(;n<r;n++){if(t[n]===e){return n}}return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",k="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",U="\\["+k+"*("+L+")(?:"+k+"*([*^$|!~]?=)"+k+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+k+"*\\]",j=":("+L+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|"+".*"+")\\)|)",W=new RegExp(k+"+","g"),B=new RegExp("^"+k+"+|((?:^|[^\\\\])(?:\\\\.)*)"+k+"+$","g"),H=new RegExp("^"+k+"*,"+k+"*"),q=new RegExp("^"+k+"*([>+~]|"+k+")"+k+"*"),G=new RegExp("="+k+"*([^\\]'\"]*?)"+k+"*\\]","g"),V=new RegExp(j),Y=new RegExp("^"+L+"$"),Q={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+k+"*(even|odd|(([+-]|)(\\d*)n|)"+k+"*(?:([+-]|)"+k+"*(\\d+)|))"+k+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+k+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+k+"*((?:-\\d)?\\d*)"+k+"*\\)|)(?=[^-]|$)","i")},z=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+k+"?|("+k+")|.)","ig"),tt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){if(e){if(t==="\0"){return"\ufffd"}return t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" "}return"\\"+t},rt=function(){d()},it=At(function(t){return t.disabled===true&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{F.apply(N=M.call(x.childNodes),x.childNodes);N[x.childNodes.length].nodeType}catch(at){F={apply:N.length?function(t,e){D.apply(t,M.call(e))}:function(t,e){var n=t.length,r=0;while(t[n++]=e[r++]){}t.length=n-1}}}function ot(t,e,r,i){var a,s,l,c,f,h,y,v=e&&e.ownerDocument,E=e?e.nodeType:9;r=r||[];if(typeof t!=="string"||!t||E!==1&&E!==9&&E!==11){return r}if(!i){if((e?e.ownerDocument||e:x)!==p){d(e)}e=e||p;if(m){if(E!==11&&(f=$.exec(t))){if(a=f[1]){if(E===9){if(l=e.getElementById(a)){if(l.id===a){r.push(l);return r}}else{return r}}else{if(v&&(l=v.getElementById(a))&&A(e,l)&&l.id===a){r.push(l);return r}}}else if(f[2]){F.apply(r,e.getElementsByTagName(t));return r}else if((a=f[3])&&n.getElementsByClassName&&e.getElementsByClassName){F.apply(r,e.getElementsByClassName(a));return r}}if(n.qsa&&!O[t+" "]&&(!g||!g.test(t))){if(E!==1){v=e;y=t}else if(e.nodeName.toLowerCase()!=="object"){if(c=e.getAttribute("id")){c=c.replace(et,nt)}else{e.setAttribute("id",c=b)}h=o(t);s=h.length;while(s--){h[s]="#"+c+" "+vt(h[s])}y=h.join(",");v=X.test(t)&&gt(e.parentNode)||e}if(y){try{F.apply(r,v.querySelectorAll(y));return r}catch(T){}finally{if(c===b){e.removeAttribute("id")}}}}}}return u(t.replace(B,"$1"),e,r,i)}function st(){var t=[];function e(n,i){if(t.push(n+" ")>r.cacheLength){delete e[t.shift()]}return e[n+" "]=i}return e}function ut(t){t[b]=true;return t}function lt(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(n){return false}finally{if(e.parentNode){e.parentNode.removeChild(e)}e=null}}function ct(t,e){var n=t.split("|"),i=n.length;while(i--){r.attrHandle[n[i]]=e}}function ft(t,e){var n=e&&t,r=n&&t.nodeType===1&&e.nodeType===1&&t.sourceIndex-e.sourceIndex;if(r){return r}if(n){while(n=n.nextSibling){if(n===e){return-1}}}return t?1:-1}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return(n==="input"||n==="button")&&e.type===t}}function ht(t){return function(e){if("form"in e){if(e.parentNode&&e.disabled===false){if("label"in e){if("label"in e.parentNode){return e.parentNode.disabled===t}else{return e.disabled===t}}return e.isDisabled===t||e.isDisabled!==!t&&it(e)===t}return e.disabled===t}else if("label"in e){return e.disabled===t}return false}}function mt(t){return ut(function(e){e=+e;return ut(function(n,r){var i,a=t([],n.length,e),o=a.length;while(o--){if(n[i=a[o]]){n[i]=!(r[i]=n[i])}}})})}function gt(t){return t&&typeof t.getElementsByTagName!=="undefined"&&t}n=ot.support={};a=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?e.nodeName!=="HTML":false};d=ot.setDocument=function(t){var e,i,o=t?t.ownerDocument||t:x;if(o===p||o.nodeType!==9||!o.documentElement){return p}p=o;h=p.documentElement;m=!a(p);if(x!==p&&(i=p.defaultView)&&i.top!==i){if(i.addEventListener){i.addEventListener("unload",rt,false)}else if(i.attachEvent){i.attachEvent("onunload",rt)}}n.attributes=lt(function(t){t.className="i";return!t.getAttribute("className")});n.getElementsByTagName=lt(function(t){t.appendChild(p.createComment(""));return!t.getElementsByTagName("*").length});n.getElementsByClassName=Z.test(p.getElementsByClassName);n.getById=lt(function(t){h.appendChild(t).id=b;return!p.getElementsByName||!p.getElementsByName(b).length});if(n.getById){r.filter["ID"]=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}};r.find["ID"]=function(t,e){if(typeof e.getElementById!=="undefined"&&m){var n=e.getElementById(t);return n?[n]:[]}}}else{r.filter["ID"]=function(t){var e=t.replace(J,tt);return function(t){var n=typeof t.getAttributeNode!=="undefined"&&t.getAttributeNode("id");return n&&n.value===e}};r.find["ID"]=function(t,e){if(typeof e.getElementById!=="undefined"&&m){var n,r,i,a=e.getElementById(t);if(a){n=a.getAttributeNode("id");if(n&&n.value===t){return[a]}i=e.getElementsByName(t);r=0;while(a=i[r++]){n=a.getAttributeNode("id");if(n&&n.value===t){return[a]}}}return[]}}}r.find["TAG"]=n.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName(t)}else if(n.qsa){return e.querySelectorAll(t)}}:function(t,e){var n,r=[],i=0,a=e.getElementsByTagName(t);if(t==="*"){while(n=a[i++]){if(n.nodeType===1){r.push(n)}}return r}return a};r.find["CLASS"]=n.getElementsByClassName&&function(t,e){if(typeof e.getElementsByClassName!=="undefined"&&m){return e.getElementsByClassName(t)}};y=[];g=[];if(n.qsa=Z.test(p.querySelectorAll)){lt(function(t){h.appendChild(t).innerHTML="<a id='"+b+"'></a>"+"<select id='"+b+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(t.querySelectorAll("[msallowcapture^='']").length){g.push("[*^$]="+k+"*(?:''|\"\")")}if(!t.querySelectorAll("[selected]").length){g.push("\\["+k+"*(?:value|"+P+")")}if(!t.querySelectorAll("[id~="+b+"-]").length){g.push("~=")}if(!t.querySelectorAll(":checked").length){g.push(":checked")}if(!t.querySelectorAll("a#"+b+"+*").length){g.push(".#.+[+~]")}});lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a>"+"<select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden");t.appendChild(e).setAttribute("name","D");if(t.querySelectorAll("[name=d]").length){g.push("name"+k+"*[*^$|!~]?=")}if(t.querySelectorAll(":enabled").length!==2){g.push(":enabled",":disabled")}h.appendChild(t).disabled=true;if(t.querySelectorAll(":disabled").length!==2){g.push(":enabled",":disabled")}t.querySelectorAll("*,:x");g.push(",.*:")})}if(n.matchesSelector=Z.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector)){lt(function(t){n.disconnectedMatch=v.call(t,"*");v.call(t,"[s!='']:x");y.push("!=",j)})}g=g.length&&new RegExp(g.join("|"));y=y.length&&new RegExp(y.join("|"));e=Z.test(h.compareDocumentPosition);A=e||Z.test(h.contains)?function(t,e){var n=t.nodeType===9?t.documentElement:t,r=e&&e.parentNode;return t===r||!!(r&&r.nodeType===1&&(n.contains?n.contains(r):t.compareDocumentPosition&&t.compareDocumentPosition(r)&16))}:function(t,e){if(e){while(e=e.parentNode){if(e===t){return true}}}return false};I=e?function(t,e){if(t===e){f=true;return 0}var r=!t.compareDocumentPosition-!e.compareDocumentPosition;if(r){return r}r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1;if(r&1||!n.sortDetached&&e.compareDocumentPosition(t)===r){if(t===p||t.ownerDocument===x&&A(x,t)){return-1}if(e===p||e.ownerDocument===x&&A(x,e)){return 1}return c?_(c,t)-_(c,e):0}return r&4?-1:1}:function(t,e){if(t===e){f=true;return 0}var n,r=0,i=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!i||!a){return t===p?-1:e===p?1:i?-1:a?1:c?_(c,t)-_(c,e):0}else if(i===a){return ft(t,e)}n=t;while(n=n.parentNode){o.unshift(n)}n=e;while(n=n.parentNode){s.unshift(n)}while(o[r]===s[r]){r++}return r?ft(o[r],s[r]):o[r]===x?-1:s[r]===x?1:0};return p};ot.matches=function(t,e){return ot(t,null,null,e)};ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p){d(t)}e=e.replace(G,"='$1']");if(n.matchesSelector&&m&&!O[e+" "]&&(!y||!y.test(e))&&(!g||!g.test(e))){try{var r=v.call(t,e);if(r||n.disconnectedMatch||t.document&&t.document.nodeType!==11){return r}}catch(i){}}return ot(e,p,null,[t]).length>0};ot.contains=function(t,e){if((t.ownerDocument||t)!==p){d(t)}return A(t,e)};ot.attr=function(t,e){if((t.ownerDocument||t)!==p){d(t)}var i=r.attrHandle[e.toLowerCase()],a=i&&C.call(r.attrHandle,e.toLowerCase())?i(t,e,!m):undefined;return a!==undefined?a:n.attributes||!m?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null};ot.escape=function(t){
return(t+"").replace(et,nt)};ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)};ot.uniqueSort=function(t){var e,r=[],i=0,a=0;f=!n.detectDuplicates;c=!n.sortStable&&t.slice(0);t.sort(I);if(f){while(e=t[a++]){if(e===t[a]){i=r.push(a)}}while(i--){t.splice(r[i],1)}}c=null;return t};i=ot.getText=function(t){var e,n="",r=0,a=t.nodeType;if(!a){while(e=t[r++]){n+=i(e)}}else if(a===1||a===9||a===11){if(typeof t.textContent==="string"){return t.textContent}else{for(t=t.firstChild;t;t=t.nextSibling){n+=i(t)}}}else if(a===3||a===4){return t.nodeValue}return n};r=ot.selectors={cacheLength:50,createPseudo:ut,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){t[1]=t[1].replace(J,tt);t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt);if(t[2]==="~="){t[3]=" "+t[3]+" "}return t.slice(0,4)},CHILD:function(t){t[1]=t[1].toLowerCase();if(t[1].slice(0,3)==="nth"){if(!t[3]){ot.error(t[0])}t[4]=+(t[4]?t[5]+(t[6]||1):2*(t[3]==="even"||t[3]==="odd"));t[5]=+(t[7]+t[8]||t[3]==="odd")}else if(t[3]){ot.error(t[0])}return t},PSEUDO:function(t){var e,n=!t[6]&&t[2];if(Q["CHILD"].test(t[0])){return null}if(t[3]){t[2]=t[4]||t[5]||""}else if(n&&V.test(n)&&(e=o(n,true))&&(e=n.indexOf(")",n.length-e)-n.length)){t[0]=t[0].slice(0,e);t[2]=n.slice(0,e)}return t.slice(0,3)}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return t==="*"?function(){return true}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=w[t+" "];return e||(e=new RegExp("(^|"+k+")"+t+"("+k+"|$)"))&&w(t,function(t){return e.test(typeof t.className==="string"&&t.className||typeof t.getAttribute!=="undefined"&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=ot.attr(r,t);if(i==null){return e==="!="}if(!e){return true}i+="";return e==="="?i===n:e==="!="?i!==n:e==="^="?n&&i.indexOf(n)===0:e==="*="?n&&i.indexOf(n)>-1:e==="$="?n&&i.slice(-n.length)===n:e==="~="?(" "+i.replace(W," ")+" ").indexOf(n)>-1:e==="|="?i===n||i.slice(0,n.length+1)===n+"-":false}},CHILD:function(t,e,n,r,i){var a=t.slice(0,3)!=="nth",o=t.slice(-4)!=="last",s=e==="of-type";return r===1&&i===0?function(t){return!!t.parentNode}:function(e,n,u){var l,c,f,d,p,h,m=a!==o?"nextSibling":"previousSibling",g=e.parentNode,y=s&&e.nodeName.toLowerCase(),v=!u&&!s,A=false;if(g){if(a){while(m){d=e;while(d=d[m]){if(s?d.nodeName.toLowerCase()===y:d.nodeType===1){return false}}h=m=t==="only"&&!h&&"nextSibling"}return true}h=[o?g.firstChild:g.lastChild];if(o&&v){d=g;f=d[b]||(d[b]={});c=f[d.uniqueID]||(f[d.uniqueID]={});l=c[t]||[];p=l[0]===E&&l[1];A=p&&l[2];d=p&&g.childNodes[p];while(d=++p&&d&&d[m]||(A=p=0)||h.pop()){if(d.nodeType===1&&++A&&d===e){c[t]=[E,p,A];break}}}else{if(v){d=e;f=d[b]||(d[b]={});c=f[d.uniqueID]||(f[d.uniqueID]={});l=c[t]||[];p=l[0]===E&&l[1];A=p}if(A===false){while(d=++p&&d&&d[m]||(A=p=0)||h.pop()){if((s?d.nodeName.toLowerCase()===y:d.nodeType===1)&&++A){if(v){f=d[b]||(d[b]={});c=f[d.uniqueID]||(f[d.uniqueID]={});c[t]=[E,A]}if(d===e){break}}}}}A-=i;return A===r||A%r===0&&A/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);if(i[b]){return i(e)}if(i.length>1){n=[t,t,"",e];return r.setFilters.hasOwnProperty(t.toLowerCase())?ut(function(t,n){var r,a=i(t,e),o=a.length;while(o--){r=_(t,a[o]);t[r]=!(n[r]=a[o])}}):function(t){return i(t,0,n)}}return i}},pseudos:{not:ut(function(t){var e=[],n=[],r=s(t.replace(B,"$1"));return r[b]?ut(function(t,e,n,i){var a,o=r(t,null,i,[]),s=t.length;while(s--){if(a=o[s]){t[s]=!(e[s]=a)}}}):function(t,i,a){e[0]=t;r(e,null,a,n);e[0]=null;return!n.pop()}}),has:ut(function(t){return function(e){return ot(t,e).length>0}}),contains:ut(function(t){t=t.replace(J,tt);return function(e){return(e.textContent||e.innerText||i(e)).indexOf(t)>-1}}),lang:ut(function(t){if(!Y.test(t||"")){ot.error("unsupported lang: "+t)}t=t.replace(J,tt).toLowerCase();return function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang")){n=n.toLowerCase();return n===t||n.indexOf(t+"-")===0}}while((e=e.parentNode)&&e.nodeType===1);return false}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===h},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ht(false),disabled:ht(true),checked:function(t){var e=t.nodeName.toLowerCase();return e==="input"&&!!t.checked||e==="option"&&!!t.selected},selected:function(t){if(t.parentNode){t.parentNode.selectedIndex}return t.selected===true},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling){if(t.nodeType<6){return false}}return true},parent:function(t){return!r.pseudos["empty"](t)},header:function(t){return K.test(t.nodeName)},input:function(t){return z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return e==="input"&&t.type==="button"||e==="button"},text:function(t){var e;return t.nodeName.toLowerCase()==="input"&&t.type==="text"&&((e=t.getAttribute("type"))==null||e.toLowerCase()==="text")},first:mt(function(){return[0]}),last:mt(function(t,e){return[e-1]}),eq:mt(function(t,e,n){return[n<0?n+e:n]}),even:mt(function(t,e){var n=0;for(;n<e;n+=2){t.push(n)}return t}),odd:mt(function(t,e){var n=1;for(;n<e;n+=2){t.push(n)}return t}),lt:mt(function(t,e,n){var r=n<0?n+e:n;for(;--r>=0;){t.push(r)}return t}),gt:mt(function(t,e,n){var r=n<0?n+e:n;for(;++r<e;){t.push(r)}return t})}};r.pseudos["nth"]=r.pseudos["eq"];for(e in{radio:true,checkbox:true,file:true,password:true,image:true}){r.pseudos[e]=dt(e)}for(e in{submit:true,reset:true}){r.pseudos[e]=pt(e)}function yt(){}yt.prototype=r.filters=r.pseudos;r.setFilters=new yt;o=ot.tokenize=function(t,e){var n,i,a,o,s,u,l,c=S[t+" "];if(c){return e?0:c.slice(0)}s=t;u=[];l=r.preFilter;while(s){if(!n||(i=H.exec(s))){if(i){s=s.slice(i[0].length)||s}u.push(a=[])}n=false;if(i=q.exec(s)){n=i.shift();a.push({value:n,type:i[0].replace(B," ")});s=s.slice(n.length)}for(o in r.filter){if((i=Q[o].exec(s))&&(!l[o]||(i=l[o](i)))){n=i.shift();a.push({value:n,type:o,matches:i});s=s.slice(n.length)}}if(!n){break}}return e?s.length:s?ot.error(t):S(t,u).slice(0)};function vt(t){var e=0,n=t.length,r="";for(;e<n;e++){r+=t[e].value}return r}function At(t,e,n){var r=e.dir,i=e.next,a=i||r,o=n&&a==="parentNode",s=T++;return e.first?function(e,n,i){while(e=e[r]){if(e.nodeType===1||o){return t(e,n,i)}}return false}:function(e,n,u){var l,c,f,d=[E,s];if(u){while(e=e[r]){if(e.nodeType===1||o){if(t(e,n,u)){return true}}}}else{while(e=e[r]){if(e.nodeType===1||o){f=e[b]||(e[b]={});c=f[e.uniqueID]||(f[e.uniqueID]={});if(i&&i===e.nodeName.toLowerCase()){e=e[r]||e}else if((l=c[a])&&l[0]===E&&l[1]===s){return d[2]=l[2]}else{c[a]=d;if(d[2]=t(e,n,u)){return true}}}}}return false}}function bt(t){return t.length>1?function(e,n,r){var i=t.length;while(i--){if(!t[i](e,n,r)){return false}}return true}:t[0]}function xt(t,e,n){var r=0,i=e.length;for(;r<i;r++){ot(t,e[r],n)}return n}function Et(t,e,n,r,i){var a,o=[],s=0,u=t.length,l=e!=null;for(;s<u;s++){if(a=t[s]){if(!n||n(a,r,i)){o.push(a);if(l){e.push(s)}}}}return o}function Tt(t,e,n,r,i,a){if(r&&!r[b]){r=Tt(r)}if(i&&!i[b]){i=Tt(i,a)}return ut(function(a,o,s,u){var l,c,f,d=[],p=[],h=o.length,m=a||xt(e||"*",s.nodeType?[s]:s,[]),g=t&&(a||!e)?Et(m,d,t,s,u):m,y=n?i||(a?t:h||r)?[]:o:g;if(n){n(g,y,s,u)}if(r){l=Et(y,p);r(l,[],s,u);c=l.length;while(c--){if(f=l[c]){y[p[c]]=!(g[p[c]]=f)}}}if(a){if(i||t){if(i){l=[];c=y.length;while(c--){if(f=y[c]){l.push(g[c]=f)}}i(null,y=[],l,u)}c=y.length;while(c--){if((f=y[c])&&(l=i?_(a,f):d[c])>-1){a[l]=!(o[l]=f)}}}}else{y=Et(y===o?y.splice(h,y.length):y);if(i){i(null,o,y,u)}else{F.apply(o,y)}}})}function wt(t){var e,n,i,a=t.length,o=r.relative[t[0].type],s=o||r.relative[" "],u=o?1:0,c=At(function(t){return t===e},s,true),f=At(function(t){return _(e,t)>-1},s,true),d=[function(t,n,r){var i=!o&&(r||n!==l)||((e=n).nodeType?c(t,n,r):f(t,n,r));e=null;return i}];for(;u<a;u++){if(n=r.relative[t[u].type]){d=[At(bt(d),n)]}else{n=r.filter[t[u].type].apply(null,t[u].matches);if(n[b]){i=++u;for(;i<a;i++){if(r.relative[t[i].type]){break}}return Tt(u>1&&bt(d),u>1&&vt(t.slice(0,u-1).concat({value:t[u-2].type===" "?"*":""})).replace(B,"$1"),n,u<i&&wt(t.slice(u,i)),i<a&&wt(t=t.slice(i)),i<a&&vt(t))}d.push(n)}}return bt(d)}function St(t,e){var n=e.length>0,i=t.length>0,a=function(a,o,s,u,c){var f,h,g,y=0,v="0",A=a&&[],b=[],x=l,T=a||i&&r.find["TAG"]("*",c),w=E+=x==null?1:Math.random()||.1,S=T.length;if(c){l=o===p||o||c}for(;v!==S&&(f=T[v])!=null;v++){if(i&&f){h=0;if(!o&&f.ownerDocument!==p){d(f);s=!m}while(g=t[h++]){if(g(f,o||p,s)){u.push(f);break}}if(c){E=w}}if(n){if(f=!g&&f){y--}if(a){A.push(f)}}}y+=v;if(n&&v!==y){h=0;while(g=e[h++]){g(A,b,o,s)}if(a){if(y>0){while(v--){if(!(A[v]||b[v])){b[v]=R.call(u)}}}b=Et(b)}F.apply(u,b);if(c&&!a&&b.length>0&&y+e.length>1){ot.uniqueSort(u)}}if(c){E=w;l=x}return A};return n?ut(a):a}s=ot.compile=function(t,e){var n,r=[],i=[],a=O[t+" "];if(!a){if(!e){e=o(t)}n=e.length;while(n--){a=wt(e[n]);if(a[b]){r.push(a)}else{i.push(a)}}a=O(t,St(i,r));a.selector=t}return a};u=ot.select=function(t,e,n,i){var a,u,l,c,f,d=typeof t==="function"&&t,p=!i&&o(t=d.selector||t);n=n||[];if(p.length===1){u=p[0]=p[0].slice(0);if(u.length>2&&(l=u[0]).type==="ID"&&e.nodeType===9&&m&&r.relative[u[1].type]){e=(r.find["ID"](l.matches[0].replace(J,tt),e)||[])[0];if(!e){return n}else if(d){e=e.parentNode}t=t.slice(u.shift().value.length)}a=Q["needsContext"].test(t)?0:u.length;while(a--){l=u[a];if(r.relative[c=l.type]){break}if(f=r.find[c]){if(i=f(l.matches[0].replace(J,tt),X.test(u[0].type)&&gt(e.parentNode)||e)){u.splice(a,1);t=i.length&&vt(u);if(!t){F.apply(n,i);return n}break}}}}(d||s(t,p))(i,e,!m,n,!e||X.test(t)&&gt(e.parentNode)||e);return n};n.sortStable=b.split("").sort(I).join("")===b;n.detectDuplicates=!!f;d();n.sortDetached=lt(function(t){return t.compareDocumentPosition(p.createElement("fieldset"))&1});if(!lt(function(t){t.innerHTML="<a href='#'></a>";return t.firstChild.getAttribute("href")==="#"})){ct("type|href|height|width",function(t,e,n){if(!n){return t.getAttribute(e,e.toLowerCase()==="type"?1:2)}})}if(!n.attributes||!lt(function(t){t.innerHTML="<input/>";t.firstChild.setAttribute("value","");return t.firstChild.getAttribute("value")===""})){ct("value",function(t,e,n){if(!n&&t.nodeName.toLowerCase()==="input"){return t.defaultValue}})}if(!lt(function(t){return t.getAttribute("disabled")==null})){ct(P,function(t,e,n){var r;if(!n){return t[e]===true?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}})}return ot}(n);S.find=C;S.expr=C.selectors;S.expr[":"]=S.expr.pseudos;S.uniqueSort=S.unique=C.uniqueSort;S.text=C.getText;S.isXMLDoc=C.isXML;S.contains=C.contains;S.escapeSelector=C.escape;var N=function(t,e,n){var r=[],i=n!==undefined;while((t=t[e])&&t.nodeType!==9){if(t.nodeType===1){if(i&&S(t).is(n)){break}r.push(t)}}return r};var R=function(t,e){var n=[];for(;t;t=t.nextSibling){if(t.nodeType===1&&t!==e){n.push(t)}}return n};var D=S.expr.match.needsContext;function F(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function _(t,e,n){if(A(e)){return S.grep(t,function(t,r){return!!e.call(t,r,t)!==n})}if(e.nodeType){return S.grep(t,function(t){return t===e!==n})}if(typeof e!=="string"){return S.grep(t,function(t){return d.call(e,t)>-1!==n})}return S.filter(e,t,n)}S.filter=function(t,e,n){var r=e[0];if(n){t=":not("+t+")"}if(e.length===1&&r.nodeType===1){return S.find.matchesSelector(r,t)?[r]:[]}return S.find.matches(t,S.grep(e,function(t){return t.nodeType===1}))};S.fn.extend({find:function(t){var e,n,r=this.length,i=this;if(typeof t!=="string"){return this.pushStack(S(t).filter(function(){for(e=0;e<r;e++){if(S.contains(i[e],this)){return true}}}))}n=this.pushStack([]);for(e=0;e<r;e++){S.find(t,i[e],n)}return r>1?S.uniqueSort(n):n},filter:function(t){return this.pushStack(_(this,t||[],false))},not:function(t){return this.pushStack(_(this,t||[],true))},is:function(t){return!!_(this,typeof t==="string"&&D.test(t)?S(t):t||[],false).length}});var P,k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,L=S.fn.init=function(t,e,n){var r,i;if(!t){return this}n=n||P;if(typeof t==="string"){if(t[0]==="<"&&t[t.length-1]===">"&&t.length>=3){r=[null,t,null]}else{r=k.exec(t)}if(r&&(r[1]||!e)){if(r[1]){e=e instanceof S?e[0]:e;S.merge(this,S.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:s,true));if(M.test(r[1])&&S.isPlainObject(e)){for(r in e){if(A(this[r])){this[r](e[r])}else{this.attr(r,e[r])}}}return this}else{i=s.getElementById(r[2]);if(i){this[0]=i;this.length=1}return this}}else if(!e||e.jquery){return(e||n).find(t)}else{return this.constructor(e).find(t)}}else if(t.nodeType){this[0]=t;this.length=1;return this}else if(A(t)){return n.ready!==undefined?n.ready(t):t(S)}return S.makeArray(t,this)};L.prototype=S.fn;P=S(s);var U=/^(?:parents|prev(?:Until|All))/,j={children:true,contents:true,next:true,prev:true};S.fn.extend({has:function(t){var e=S(t,this),n=e.length;return this.filter(function(){var t=0;for(;t<n;t++){if(S.contains(this,e[t])){return true}}})},closest:function(t,e){var n,r=0,i=this.length,a=[],o=typeof t!=="string"&&S(t);if(!D.test(t)){for(;r<i;r++){for(n=this[r];n&&n!==e;n=n.parentNode){if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&S.find.matchesSelector(n,t))){a.push(n);break}}}}return this.pushStack(a.length>1?S.uniqueSort(a):a)},index:function(t){if(!t){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof t==="string"){return d.call(S(t),this[0])}return d.call(this,t.jquery?t[0]:t)},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}});function W(t,e){while((t=t[e])&&t.nodeType!==1){}return t}S.each({parent:function(t){var e=t.parentNode;return e&&e.nodeType!==11?e:null},parents:function(t){return N(t,"parentNode")},parentsUntil:function(t,e,n){return N(t,"parentNode",n)},next:function(t){return W(t,"nextSibling")},prev:function(t){return W(t,"previousSibling")},nextAll:function(t){return N(t,"nextSibling")},prevAll:function(t){return N(t,"previousSibling")},nextUntil:function(t,e,n){return N(t,"nextSibling",n)},prevUntil:function(t,e,n){return N(t,"previousSibling",n)},siblings:function(t){return R((t.parentNode||{}).firstChild,t)},children:function(t){return R(t.firstChild)},contents:function(t){if(F(t,"iframe")){return t.contentDocument}if(F(t,"template")){t=t.content||t}return S.merge([],t.childNodes)}},function(t,e){S.fn[t]=function(n,r){var i=S.map(this,e,n);if(t.slice(-5)!=="Until"){r=n}if(r&&typeof r==="string"){i=S.filter(r,i)}if(this.length>1){if(!j[t]){S.uniqueSort(i)}if(U.test(t)){i.reverse()}}return this.pushStack(i)}});var B=/[^\x20\t\r\n\f]+/g;function H(t){var e={};S.each(t.match(B)||[],function(t,n){e[n]=true});return e}S.Callbacks=function(t){t=typeof t==="string"?H(t):S.extend({},t);var e,n,r,i,a=[],o=[],s=-1,u=function(){i=i||t.once;r=e=true;for(;o.length;s=-1){n=o.shift();while(++s<a.length){if(a[s].apply(n[0],n[1])===false&&t.stopOnFalse){s=a.length;n=false}}}if(!t.memory){n=false}e=false;if(i){if(n){a=[]}else{a=""}}},l={add:function(){if(a){if(n&&!e){s=a.length-1;o.push(n)}(function r(e){S.each(e,function(e,n){if(A(n)){if(!t.unique||!l.has(n)){a.push(n)}}else if(n&&n.length&&T(n)!=="string"){r(n)}})})(arguments);if(n&&!e){u()}}return this},remove:function(){S.each(arguments,function(t,e){var n;while((n=S.inArray(e,a,n))>-1){a.splice(n,1);if(n<=s){s--}}});return this},has:function(t){return t?S.inArray(t,a)>-1:a.length>0},empty:function(){if(a){a=[]}return this},disable:function(){i=o=[];a=n="";return this},disabled:function(){return!a},lock:function(){i=o=[];if(!n&&!e){a=n=""}return this},locked:function(){return!!i},fireWith:function(t,n){if(!i){n=n||[];n=[t,n.slice?n.slice():n];o.push(n);if(!e){u()}}return this},fire:function(){l.fireWith(this,arguments);return this},fired:function(){return!!r}};return l};function q(t){return t}function G(t){throw t}function V(t,e,n,r){var i;try{if(t&&A(i=t.promise)){i.call(t).done(e).fail(n)}else if(t&&A(i=t.then)){i.call(t,e,n)}else{e.apply(undefined,[t].slice(r))}}catch(t){n.apply(undefined,[t])}}S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){a.done(arguments).fail(arguments);return this},"catch":function(t){return i.then(null,t)},pipe:function(){var t=arguments;return S.Deferred(function(n){S.each(e,function(e,r){var i=A(t[r[4]])&&t[r[4]];a[r[1]](function(){var t=i&&i.apply(this,arguments);if(t&&A(t.promise)){t.promise().progress(n.notify).done(n.resolve).fail(n.reject)}else{n[r[0]+"With"](this,i?[t]:arguments)}})});t=null}).promise()},then:function(t,r,i){var a=0;function o(t,e,r,i){return function(){var s=this,u=arguments,l=function(){var n,l;if(t<a){return}n=r.apply(s,u);if(n===e.promise()){throw new TypeError("Thenable self-resolution")}l=n&&(typeof n==="object"||typeof n==="function")&&n.then;if(A(l)){if(i){l.call(n,o(a,e,q,i),o(a,e,G,i))}else{a++;l.call(n,o(a,e,q,i),o(a,e,G,i),o(a,e,q,e.notifyWith))}}else{if(r!==q){s=undefined;u=[n]}(i||e.resolveWith)(s,u)}},c=i?l:function(){try{l()}catch(n){if(S.Deferred.exceptionHook){S.Deferred.exceptionHook(n,c.stackTrace)}if(t+1>=a){if(r!==G){s=undefined;u=[n]}e.rejectWith(s,u)}}};if(t){c()}else{if(S.Deferred.getStackHook){c.stackTrace=S.Deferred.getStackHook()}n.setTimeout(c)}}}return S.Deferred(function(n){e[0][3].add(o(0,n,A(i)?i:q,n.notifyWith));e[1][3].add(o(0,n,A(t)?t:q));e[2][3].add(o(0,n,A(r)?r:G))}).promise()},promise:function(t){return t!=null?S.extend(t,i):i}},a={};S.each(e,function(t,n){var o=n[2],s=n[5];i[n[1]]=o.add;if(s){o.add(function(){r=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock)}o.add(n[3].fire);a[n[0]]=function(){a[n[0]+"With"](this===a?undefined:this,arguments);return this};a[n[0]+"With"]=o.fireWith});i.promise(a);if(t){t.call(a,a)}return a},when:function(t){var e=arguments.length,n=e,r=Array(n),i=l.call(arguments),a=S.Deferred(),o=function(t){return function(n){r[t]=this;i[t]=arguments.length>1?l.call(arguments):n;if(!--e){a.resolveWith(r,i)}}};if(e<=1){V(t,a.done(o(n)).resolve,a.reject,!e);if(a.state()==="pending"||A(i[n]&&i[n].then)){return a.then()}}while(n--){V(i[n],o(n),a.reject)}return a.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){if(n.console&&n.console.warn&&t&&Y.test(t.name)){n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)}};S.readyException=function(t){n.setTimeout(function(){throw t})};var Q=S.Deferred();S.fn.ready=function(t){Q.then(t).catch(function(t){S.readyException(t)});return this};S.extend({isReady:false,readyWait:1,ready:function(t){if(t===true?--S.readyWait:S.isReady){return}S.isReady=true;if(t!==true&&--S.readyWait>0){return}Q.resolveWith(s,[S])}});S.ready.then=Q.then;function z(){s.removeEventListener("DOMContentLoaded",z);n.removeEventListener("load",z);S.ready()}if(s.readyState==="complete"||s.readyState!=="loading"&&!s.documentElement.doScroll){n.setTimeout(S.ready)}else{s.addEventListener("DOMContentLoaded",z);n.addEventListener("load",z)}var K=function(t,e,n,r,i,a,o){var s=0,u=t.length,l=n==null;if(T(n)==="object"){i=true;for(s in n){K(t,e,s,n[s],true,a,o)}}else if(r!==undefined){i=true;if(!A(r)){o=true}if(l){if(o){e.call(t,r);e=null}else{l=e;e=function(t,e,n){return l.call(S(t),n)}}}if(e){for(;s<u;s++){e(t[s],n,o?r:r.call(t[s],s,e(t[s],n)))}}}if(i){return t}if(l){return e.call(t)}return u?e(t[0],n):a};var Z=/^-ms-/,$=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function J(t){return t.replace(Z,"ms-").replace($,X)}var tt=function(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType};function et(){this.expando=S.expando+et.uid++}et.uid=1;et.prototype={cache:function(t){var e=t[this.expando];if(!e){e={};if(tt(t)){if(t.nodeType){t[this.expando]=e}else{Object.defineProperty(t,this.expando,{value:e,configurable:true})}}}return e},set:function(t,e,n){var r,i=this.cache(t);if(typeof e==="string"){i[J(e)]=n}else{for(r in e){i[J(r)]=e[r]}}return i},get:function(t,e){return e===undefined?this.cache(t):t[this.expando]&&t[this.expando][J(e)]},access:function(t,e,n){if(e===undefined||e&&typeof e==="string"&&n===undefined){return this.get(t,e)}this.set(t,e,n);return n!==undefined?n:e},remove:function(t,e){var n,r=t[this.expando];if(r===undefined){return}if(e!==undefined){if(Array.isArray(e)){e=e.map(J)}else{e=J(e);e=e in r?[e]:e.match(B)||[]}n=e.length;while(n--){delete r[e[n]]}}if(e===undefined||S.isEmptyObject(r)){if(t.nodeType){t[this.expando]=undefined}else{delete t[this.expando]}}},hasData:function(t){var e=t[this.expando];return e!==undefined&&!S.isEmptyObject(e)}};var nt=new et;var rt=new et;var it=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,at=/[A-Z]/g;function ot(t){if(t==="true"){return true}if(t==="false"){return false}if(t==="null"){return null}if(t===+t+""){return+t}if(it.test(t)){return JSON.parse(t)}return t}function st(t,e,n){var r;if(n===undefined&&t.nodeType===1){r="data-"+e.replace(at,"-$&").toLowerCase();n=t.getAttribute(r);if(typeof n==="string"){try{n=ot(n)}catch(i){}rt.set(t,e,n)}else{n=undefined}}return n}S.extend({hasData:function(t){return rt.hasData(t)||nt.hasData(t)},data:function(t,e,n){return rt.access(t,e,n)},removeData:function(t,e){rt.remove(t,e)},_data:function(t,e,n){return nt.access(t,e,n)},_removeData:function(t,e){nt.remove(t,e)}});S.fn.extend({data:function(t,e){var n,r,i,a=this[0],o=a&&a.attributes;if(t===undefined){if(this.length){i=rt.get(a);if(a.nodeType===1&&!nt.get(a,"hasDataAttrs")){n=o.length;while(n--){if(o[n]){r=o[n].name;if(r.indexOf("data-")===0){r=J(r.slice(5));st(a,r,i[r])}}}nt.set(a,"hasDataAttrs",true)}}return i}if(typeof t==="object"){return this.each(function(){rt.set(this,t)})}return K(this,function(e){var n;if(a&&e===undefined){n=rt.get(a,t);if(n!==undefined){return n}n=st(a,t);if(n!==undefined){return n}return}this.each(function(){rt.set(this,t,e)})},null,e,arguments.length>1,null,true)},removeData:function(t){return this.each(function(){rt.remove(this,t)})}});S.extend({queue:function(t,e,n){var r;if(t){e=(e||"fx")+"queue";r=nt.get(t,e);if(n){if(!r||Array.isArray(n)){r=nt.access(t,e,S.makeArray(n))}else{r.push(n)}}return r||[]}},dequeue:function(t,e){e=e||"fx";var n=S.queue(t,e),r=n.length,i=n.shift(),a=S._queueHooks(t,e),o=function(){S.dequeue(t,e)};if(i==="inprogress"){i=n.shift();r--}if(i){if(e==="fx"){n.unshift("inprogress")}delete a.stop;i.call(t,o,a)}if(!r&&a){a.empty.fire()}},_queueHooks:function(t,e){var n=e+"queueHooks";return nt.get(t,n)||nt.access(t,n,{empty:S.Callbacks("once memory").add(function(){nt.remove(t,[e+"queue",n])})})}});S.fn.extend({queue:function(t,e){var n=2;if(typeof t!=="string"){e=t;t="fx";n--}if(arguments.length<n){return S.queue(this[0],t)}return e===undefined?this:this.each(function(){var n=S.queue(this,t,e);S._queueHooks(this,t);if(t==="fx"&&n[0]!=="inprogress"){S.dequeue(this,t)}})},dequeue:function(t){return this.each(function(){S.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=S.Deferred(),a=this,o=this.length,s=function(){if(!--r){i.resolveWith(a,[a])}};if(typeof t!=="string"){e=t;t=undefined}t=t||"fx";while(o--){n=nt.get(a[o],t+"queueHooks");if(n&&n.empty){r++;n.empty.add(s)}}s();return i.promise(e)}});var ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var lt=new RegExp("^(?:([+-])=|)("+ut+")([a-z%]*)$","i");var ct=["Top","Right","Bottom","Left"];var ft=function(t,e){t=e||t;return t.style.display==="none"||t.style.display===""&&S.contains(t.ownerDocument,t)&&S.css(t,"display")==="none"};var dt=function(t,e,n,r){var i,a,o={};for(a in e){o[a]=t.style[a];t.style[a]=e[a]}i=n.apply(t,r||[]);for(a in e){t.style[a]=o[a]}return i};function pt(t,e,n,r){var i,a,o=20,s=r?function(){return r.cur()}:function(){return S.css(t,e,"")},u=s(),l=n&&n[3]||(S.cssNumber[e]?"":"px"),c=(S.cssNumber[e]||l!=="px"&&+u)&&lt.exec(S.css(t,e));if(c&&c[3]!==l){u=u/2;l=l||c[3];c=+u||1;while(o--){S.style(t,e,c+l);if((1-a)*(1-(a=s()/u||.5))<=0){o=0}c=c/a}c=c*2;S.style(t,e,c+l);n=n||[]}if(n){c=+c||+u||0;i=n[1]?c+(n[1]+1)*n[2]:+n[2];if(r){r.unit=l;r.start=c;r.end=i}}return i}var ht={};function mt(t){var e,n=t.ownerDocument,r=t.nodeName,i=ht[r];if(i){return i}e=n.body.appendChild(n.createElement(r));i=S.css(e,"display");e.parentNode.removeChild(e);if(i==="none"){i="block"}ht[r]=i;return i}function gt(t,e){var n,r,i=[],a=0,o=t.length;for(;a<o;a++){r=t[a];if(!r.style){continue}n=r.style.display;if(e){if(n==="none"){i[a]=nt.get(r,"display")||null;if(!i[a]){r.style.display=""}}if(r.style.display===""&&ft(r)){i[a]=mt(r)}}else{if(n!=="none"){i[a]="none";nt.set(r,"display",n)}}}for(a=0;a<o;a++){if(i[a]!=null){t[a].style.display=i[a]}}return t}S.fn.extend({show:function(){return gt(this,true)},hide:function(){return gt(this)},toggle:function(t){if(typeof t==="boolean"){return t?this.show():this.hide()}return this.each(function(){if(ft(this)){S(this).show()}else{S(this).hide()}})}});var yt=/^(?:checkbox|radio)$/i;var vt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;var At=/^$|^module$|\/(?:java|ecma)script/i;var bt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};bt.optgroup=bt.option;bt.tbody=bt.tfoot=bt.colgroup=bt.caption=bt.thead;bt.th=bt.td;function xt(t,e){var n;if(typeof t.getElementsByTagName!=="undefined"){n=t.getElementsByTagName(e||"*")}else if(typeof t.querySelectorAll!=="undefined"){n=t.querySelectorAll(e||"*")}else{n=[]}if(e===undefined||e&&F(t,e)){return S.merge([t],n)}return n}function Et(t,e){var n=0,r=t.length;for(;n<r;n++){nt.set(t[n],"globalEval",!e||nt.get(e[n],"globalEval"))}}var Tt=/<|&#?\w+;/;function wt(t,e,n,r,i){var a,o,s,u,l,c,f=e.createDocumentFragment(),d=[],p=0,h=t.length;for(;p<h;p++){a=t[p];if(a||a===0){if(T(a)==="object"){S.merge(d,a.nodeType?[a]:a)}else if(!Tt.test(a)){d.push(e.createTextNode(a))}else{o=o||f.appendChild(e.createElement("div"));s=(vt.exec(a)||["",""])[1].toLowerCase();u=bt[s]||bt._default;o.innerHTML=u[1]+S.htmlPrefilter(a)+u[2];c=u[0];while(c--){o=o.lastChild}S.merge(d,o.childNodes);o=f.firstChild;o.textContent=""}}}f.textContent="";p=0;while(a=d[p++]){if(r&&S.inArray(a,r)>-1){if(i){i.push(a)}continue}l=S.contains(a.ownerDocument,a);o=xt(f.appendChild(a),"script");if(l){Et(o)}if(n){c=0;while(a=o[c++]){if(At.test(a.type||"")){n.push(a)}}}}return f}(function(){var t=s.createDocumentFragment(),e=t.appendChild(s.createElement("div")),n=s.createElement("input");n.setAttribute("type","radio");n.setAttribute("checked","checked");n.setAttribute("name","t");e.appendChild(n);v.checkClone=e.cloneNode(true).cloneNode(true).lastChild.checked;e.innerHTML="<textarea>x</textarea>";v.noCloneChecked=!!e.cloneNode(true).lastChild.defaultValue})();var St=s.documentElement;var Ot=/^key/,It=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ct=/^([^.]*)(?:\.(.+)|)/;function Nt(){return true}function Rt(){return false}function Dt(){try{return s.activeElement}catch(t){}}function Ft(t,e,n,r,i,a){var o,s;if(typeof e==="object"){if(typeof n!=="string"){r=r||n;n=undefined}for(s in e){Ft(t,s,n,r,e[s],a)}return t}if(r==null&&i==null){i=n;r=n=undefined}else if(i==null){if(typeof n==="string"){i=r;r=undefined}else{i=r;r=n;n=undefined}}if(i===false){i=Rt}else if(!i){return t}if(a===1){o=i;i=function(t){S().off(t);return o.apply(this,arguments)};i.guid=o.guid||(o.guid=S.guid++)}return t.each(function(){S.event.add(this,e,i,r,n)})}S.event={global:{},add:function(t,e,n,r,i){var a,o,s,u,l,c,f,d,p,h,m,g=nt.get(t);if(!g){return}if(n.handler){a=n;n=a.handler;i=a.selector}if(i){S.find.matchesSelector(St,i)}if(!n.guid){n.guid=S.guid++}if(!(u=g.events)){u=g.events={}}if(!(o=g.handle)){o=g.handle=function(e){return typeof S!=="undefined"&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):undefined}}e=(e||"").match(B)||[""];l=e.length;while(l--){s=Ct.exec(e[l])||[];p=m=s[1];h=(s[2]||"").split(".").sort();if(!p){continue}f=S.event.special[p]||{};p=(i?f.delegateType:f.bindType)||p;f=S.event.special[p]||{};c=S.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},a);if(!(d=u[p])){d=u[p]=[];d.delegateCount=0;if(!f.setup||f.setup.call(t,r,h,o)===false){if(t.addEventListener){t.addEventListener(p,o)}}}if(f.add){f.add.call(t,c);if(!c.handler.guid){c.handler.guid=n.guid}}if(i){d.splice(d.delegateCount++,0,c)}else{d.push(c)}S.event.global[p]=true}},remove:function(t,e,n,r,i){var a,o,s,u,l,c,f,d,p,h,m,g=nt.hasData(t)&&nt.get(t);if(!g||!(u=g.events)){return}e=(e||"").match(B)||[""];l=e.length;while(l--){s=Ct.exec(e[l])||[];p=m=s[1];h=(s[2]||"").split(".").sort();if(!p){for(p in u){S.event.remove(t,p+e[l],n,r,true)}continue}f=S.event.special[p]||{};p=(r?f.delegateType:f.bindType)||p;d=u[p]||[];s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)");o=a=d.length;while(a--){c=d[a];if((i||m===c.origType)&&(!n||n.guid===c.guid)&&(!s||s.test(c.namespace))&&(!r||r===c.selector||r==="**"&&c.selector)){d.splice(a,1);if(c.selector){d.delegateCount--}if(f.remove){f.remove.call(t,c)}}}if(o&&!d.length){if(!f.teardown||f.teardown.call(t,h,g.handle)===false){S.removeEvent(t,p,g.handle)}delete u[p]}}if(S.isEmptyObject(u)){nt.remove(t,"handle events")}},dispatch:function(t){var e=S.event.fix(t);var n,r,i,a,o,s,u=new Array(arguments.length),l=(nt.get(this,"events")||{})[e.type]||[],c=S.event.special[e.type]||{};u[0]=e;for(n=1;n<arguments.length;n++){u[n]=arguments[n]}e.delegateTarget=this;if(c.preDispatch&&c.preDispatch.call(this,e)===false){return}s=S.event.handlers.call(this,e,l);n=0;while((a=s[n++])&&!e.isPropagationStopped()){e.currentTarget=a.elem;r=0;while((o=a.handlers[r++])&&!e.isImmediatePropagationStopped()){if(!e.rnamespace||e.rnamespace.test(o.namespace)){e.handleObj=o;e.data=o.data;i=((S.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,u);if(i!==undefined){if((e.result=i)===false){e.preventDefault();e.stopPropagation()}}}}}if(c.postDispatch){c.postDispatch.call(this,e)}return e.result},handlers:function(t,e){var n,r,i,a,o,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!(t.type==="click"&&t.button>=1)){for(;l!==this;l=l.parentNode||this){if(l.nodeType===1&&!(t.type==="click"&&l.disabled===true)){a=[];o={};for(n=0;n<u;n++){r=e[n];i=r.selector+" ";if(o[i]===undefined){o[i]=r.needsContext?S(i,this).index(l)>-1:S.find(i,this,null,[l]).length}if(o[i]){a.push(r)}}if(a.length){s.push({elem:l,handlers:a})}}}}l=this;if(u<e.length){s.push({elem:l,handlers:e.slice(u)})}return s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:true,configurable:true,get:A(e)?function(){if(this.originalEvent){return e(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[t]}},set:function(e){Object.defineProperty(this,t,{enumerable:true,configurable:true,writable:true,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==Dt()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===Dt()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&F(this,"input")){this.click();return false}},_default:function(t){return F(t.target,"a")}},beforeunload:{postDispatch:function(t){if(t.result!==undefined&&t.originalEvent){t.originalEvent.returnValue=t.result;
}}}}};S.removeEvent=function(t,e,n){if(t.removeEventListener){t.removeEventListener(e,n)}};S.Event=function(t,e){if(!(this instanceof S.Event)){return new S.Event(t,e)}if(t&&t.type){this.originalEvent=t;this.type=t.type;this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&t.returnValue===false?Nt:Rt;this.target=t.target&&t.target.nodeType===3?t.target.parentNode:t.target;this.currentTarget=t.currentTarget;this.relatedTarget=t.relatedTarget}else{this.type=t}if(e){S.extend(this,e)}this.timeStamp=t&&t.timeStamp||Date.now();this[S.expando]=true};S.Event.prototype={constructor:S.Event,isDefaultPrevented:Rt,isPropagationStopped:Rt,isImmediatePropagationStopped:Rt,isSimulated:false,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Nt;if(t&&!this.isSimulated){t.preventDefault()}},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Nt;if(t&&!this.isSimulated){t.stopPropagation()}},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Nt;if(t&&!this.isSimulated){t.stopImmediatePropagation()}this.stopPropagation()}};S.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,"char":true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:function(t){var e=t.button;if(t.which==null&&Ot.test(t.type)){return t.charCode!=null?t.charCode:t.keyCode}if(!t.which&&e!==undefined&&It.test(t.type)){if(e&1){return 1}if(e&2){return 3}if(e&4){return 2}return 0}return t.which}},S.event.addProp);S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,a=t.handleObj;if(!i||i!==r&&!S.contains(r,i)){t.type=a.origType;n=a.handler.apply(this,arguments);t.type=e}return n}}});S.fn.extend({on:function(t,e,n,r){return Ft(this,t,e,n,r)},one:function(t,e,n,r){return Ft(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj){r=t.handleObj;S(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler);return this}if(typeof t==="object"){for(i in t){this.off(i,e,t[i])}return this}if(e===false||typeof e==="function"){n=e;e=undefined}if(n===false){n=Rt}return this.each(function(){S.event.remove(this,t,n,e)})}});var Mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,_t=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Lt(t,e){if(F(t,"table")&&F(e.nodeType!==11?e:e.firstChild,"tr")){return S(t).children("tbody")[0]||t}return t}function Ut(t){t.type=(t.getAttribute("type")!==null)+"/"+t.type;return t}function jt(t){if((t.type||"").slice(0,5)==="true/"){t.type=t.type.slice(5)}else{t.removeAttribute("type")}return t}function Wt(t,e){var n,r,i,a,o,s,u,l;if(e.nodeType!==1){return}if(nt.hasData(t)){a=nt.access(t);o=nt.set(e,a);l=a.events;if(l){delete o.handle;o.events={};for(i in l){for(n=0,r=l[i].length;n<r;n++){S.event.add(e,i,l[i][n])}}}}if(rt.hasData(t)){s=rt.access(t);u=S.extend({},s);rt.set(e,u)}}function Bt(t,e){var n=e.nodeName.toLowerCase();if(n==="input"&&yt.test(t.type)){e.checked=t.checked}else if(n==="input"||n==="textarea"){e.defaultValue=t.defaultValue}}function Ht(t,e,n,r){e=c.apply([],e);var i,a,o,s,u,l,f=0,d=t.length,p=d-1,h=e[0],m=A(h);if(m||d>1&&typeof h==="string"&&!v.checkClone&&Pt.test(h)){return t.each(function(i){var a=t.eq(i);if(m){e[0]=h.call(this,i,a.html())}Ht(a,e,n,r)})}if(d){i=wt(e,t[0].ownerDocument,false,t,r);a=i.firstChild;if(i.childNodes.length===1){i=a}if(a||r){o=S.map(xt(i,"script"),Ut);s=o.length;for(;f<d;f++){u=i;if(f!==p){u=S.clone(u,true,true);if(s){S.merge(o,xt(u,"script"))}}n.call(t[f],u,f)}if(s){l=o[o.length-1].ownerDocument;S.map(o,jt);for(f=0;f<s;f++){u=o[f];if(At.test(u.type||"")&&!nt.access(u,"globalEval")&&S.contains(l,u)){if(u.src&&(u.type||"").toLowerCase()!=="module"){if(S._evalUrl){S._evalUrl(u.src)}}else{E(u.textContent.replace(kt,""),l,u)}}}}}}return t}function qt(t,e,n){var r,i=e?S.filter(e,t):t,a=0;for(;(r=i[a])!=null;a++){if(!n&&r.nodeType===1){S.cleanData(xt(r))}if(r.parentNode){if(n&&S.contains(r.ownerDocument,r)){Et(xt(r,"script"))}r.parentNode.removeChild(r)}}return t}S.extend({htmlPrefilter:function(t){return t.replace(Mt,"<$1></$2>")},clone:function(t,e,n){var r,i,a,o,s=t.cloneNode(true),u=S.contains(t.ownerDocument,t);if(!v.noCloneChecked&&(t.nodeType===1||t.nodeType===11)&&!S.isXMLDoc(t)){o=xt(s);a=xt(t);for(r=0,i=a.length;r<i;r++){Bt(a[r],o[r])}}if(e){if(n){a=a||xt(t);o=o||xt(s);for(r=0,i=a.length;r<i;r++){Wt(a[r],o[r])}}else{Wt(t,s)}}o=xt(s,"script");if(o.length>0){Et(o,!u&&xt(t,"script"))}return s},cleanData:function(t){var e,n,r,i=S.event.special,a=0;for(;(n=t[a])!==undefined;a++){if(tt(n)){if(e=n[nt.expando]){if(e.events){for(r in e.events){if(i[r]){S.event.remove(n,r)}else{S.removeEvent(n,r,e.handle)}}}n[nt.expando]=undefined}if(n[rt.expando]){n[rt.expando]=undefined}}}}});S.fn.extend({detach:function(t){return qt(this,t,true)},remove:function(t){return qt(this,t)},text:function(t){return K(this,function(t){return t===undefined?S.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=t}})},null,t,arguments.length)},append:function(){return Ht(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=Lt(this,t);e.appendChild(t)}})},prepend:function(){return Ht(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=Lt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ht(this,arguments,function(t){if(this.parentNode){this.parentNode.insertBefore(t,this)}})},after:function(){return Ht(this,arguments,function(t){if(this.parentNode){this.parentNode.insertBefore(t,this.nextSibling)}})},empty:function(){var t,e=0;for(;(t=this[e])!=null;e++){if(t.nodeType===1){S.cleanData(xt(t,false));t.textContent=""}}return this},clone:function(t,e){t=t==null?false:t;e=e==null?t:e;return this.map(function(){return S.clone(this,t,e)})},html:function(t){return K(this,function(t){var e=this[0]||{},n=0,r=this.length;if(t===undefined&&e.nodeType===1){return e.innerHTML}if(typeof t==="string"&&!_t.test(t)&&!bt[(vt.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;n<r;n++){e=this[n]||{};if(e.nodeType===1){S.cleanData(xt(e,false));e.innerHTML=t}}e=0}catch(i){}}if(e){this.empty().append(t)}},null,t,arguments.length)},replaceWith:function(){var t=[];return Ht(this,arguments,function(e){var n=this.parentNode;if(S.inArray(this,t)<0){S.cleanData(xt(this));if(n){n.replaceChild(e,this)}}},t)}});S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){S.fn[t]=function(t){var n,r=[],i=S(t),a=i.length-1,o=0;for(;o<=a;o++){n=o===a?this:this.clone(true);S(i[o])[e](n);f.apply(r,n.get())}return this.pushStack(r)}});var Gt=new RegExp("^("+ut+")(?!px)[a-z%]+$","i");var Vt=function(t){var e=t.ownerDocument.defaultView;if(!e||!e.opener){e=n}return e.getComputedStyle(t)};var Yt=new RegExp(ct.join("|"),"i");(function(){function t(){if(!c){return}l.style.cssText="position:absolute;left:-11111px;width:60px;"+"margin-top:1px;padding:0;border:0";c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;"+"margin:auto;border:1px;padding:1px;"+"width:60%;top:1%";St.appendChild(l).appendChild(c);var t=n.getComputedStyle(c);r=t.top!=="1%";u=e(t.marginLeft)===12;c.style.right="60%";o=e(t.right)===36;i=e(t.width)===36;c.style.position="absolute";a=c.offsetWidth===36||"absolute";St.removeChild(l);c=null}function e(t){return Math.round(parseFloat(t))}var r,i,a,o,u,l=s.createElement("div"),c=s.createElement("div");if(!c.style){return}c.style.backgroundClip="content-box";c.cloneNode(true).style.backgroundClip="";v.clearCloneStyle=c.style.backgroundClip==="content-box";S.extend(v,{boxSizingReliable:function(){t();return i},pixelBoxStyles:function(){t();return o},pixelPosition:function(){t();return r},reliableMarginLeft:function(){t();return u},scrollboxSize:function(){t();return a}})})();function Qt(t,e,n){var r,i,a,o,s=t.style;n=n||Vt(t);if(n){o=n.getPropertyValue(e)||n[e];if(o===""&&!S.contains(t.ownerDocument,t)){o=S.style(t,e)}if(!v.pixelBoxStyles()&&Gt.test(o)&&Yt.test(e)){r=s.width;i=s.minWidth;a=s.maxWidth;s.minWidth=s.maxWidth=s.width=o;o=n.width;s.width=r;s.minWidth=i;s.maxWidth=a}}return o!==undefined?o+"":o}function zt(t,e){return{get:function(){if(t()){delete this.get;return}return(this.get=e).apply(this,arguments)}}}var Kt=/^(none|table(?!-c[ea]).+)/,Zt=/^--/,$t={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Jt=["Webkit","Moz","ms"],te=s.createElement("div").style;function ee(t){if(t in te){return t}var e=t[0].toUpperCase()+t.slice(1),n=Jt.length;while(n--){t=Jt[n]+e;if(t in te){return t}}}function ne(t){var e=S.cssProps[t];if(!e){e=S.cssProps[t]=ee(t)||t}return e}function re(t,e,n){var r=lt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function ie(t,e,n,r,i,a){var o=e==="width"?1:0,s=0,u=0;if(n===(r?"border":"content")){return 0}for(;o<4;o+=2){if(n==="margin"){u+=S.css(t,n+ct[o],true,i)}if(!r){u+=S.css(t,"padding"+ct[o],true,i);if(n!=="padding"){u+=S.css(t,"border"+ct[o]+"Width",true,i)}else{s+=S.css(t,"border"+ct[o]+"Width",true,i)}}else{if(n==="content"){u-=S.css(t,"padding"+ct[o],true,i)}if(n!=="margin"){u-=S.css(t,"border"+ct[o]+"Width",true,i)}}}if(!r&&a>=0){u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-u-s-.5))}return u}function ae(t,e,n){var r=Vt(t),i=Qt(t,e,r),a=S.css(t,"boxSizing",false,r)==="border-box",o=a;if(Gt.test(i)){if(!n){return i}i="auto"}o=o&&(v.boxSizingReliable()||i===t.style[e]);if(i==="auto"||!parseFloat(i)&&S.css(t,"display",false,r)==="inline"){i=t["offset"+e[0].toUpperCase()+e.slice(1)];o=true}i=parseFloat(i)||0;return i+ie(t,e,n||(a?"border":"content"),o,r,i)+"px"}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Qt(t,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{},style:function(t,e,n,r){if(!t||t.nodeType===3||t.nodeType===8||!t.style){return}var i,a,o,s=J(e),u=Zt.test(e),l=t.style;if(!u){e=ne(s)}o=S.cssHooks[e]||S.cssHooks[s];if(n!==undefined){a=typeof n;if(a==="string"&&(i=lt.exec(n))&&i[1]){n=pt(t,e,i);a="number"}if(n==null||n!==n){return}if(a==="number"){n+=i&&i[3]||(S.cssNumber[s]?"":"px")}if(!v.clearCloneStyle&&n===""&&e.indexOf("background")===0){l[e]="inherit"}if(!o||!("set"in o)||(n=o.set(t,n,r))!==undefined){if(u){l.setProperty(e,n)}else{l[e]=n}}}else{if(o&&"get"in o&&(i=o.get(t,false,r))!==undefined){return i}return l[e]}},css:function(t,e,n,r){var i,a,o,s=J(e),u=Zt.test(e);if(!u){e=ne(s)}o=S.cssHooks[e]||S.cssHooks[s];if(o&&"get"in o){i=o.get(t,true,n)}if(i===undefined){i=Qt(t,e,r)}if(i==="normal"&&e in Xt){i=Xt[e]}if(n===""||n){a=parseFloat(i);return n===true||isFinite(a)?a||0:i}return i}});S.each(["height","width"],function(t,e){S.cssHooks[e]={get:function(t,n,r){if(n){return Kt.test(S.css(t,"display"))&&(!t.getClientRects().length||!t.getBoundingClientRect().width)?dt(t,$t,function(){return ae(t,e,r)}):ae(t,e,r)}},set:function(t,n,r){var i,a=Vt(t),o=S.css(t,"boxSizing",false,a)==="border-box",s=r&&ie(t,e,r,o,a);if(o&&v.scrollboxSize()===a.position){s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(a[e])-ie(t,e,"border",false,a)-.5)}if(s&&(i=lt.exec(n))&&(i[3]||"px")!=="px"){t.style[e]=n;n=S.css(t,e)}return re(t,n,s)}}});S.cssHooks.marginLeft=zt(v.reliableMarginLeft,function(t,e){if(e){return(parseFloat(Qt(t,"marginLeft"))||t.getBoundingClientRect().left-dt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}});S.each({margin:"",padding:"",border:"Width"},function(t,e){S.cssHooks[t+e]={expand:function(n){var r=0,i={},a=typeof n==="string"?n.split(" "):[n];for(;r<4;r++){i[t+ct[r]+e]=a[r]||a[r-2]||a[0]}return i}};if(t!=="margin"){S.cssHooks[t+e].set=re}});S.fn.extend({css:function(t,e){return K(this,function(t,e,n){var r,i,a={},o=0;if(Array.isArray(e)){r=Vt(t);i=e.length;for(;o<i;o++){a[e[o]]=S.css(t,e[o],false,r)}return a}return n!==undefined?S.style(t,e,n):S.css(t,e)},t,e,arguments.length>1)}});function oe(t,e,n,r,i){return new oe.prototype.init(t,e,n,r,i)}S.Tween=oe;oe.prototype={constructor:oe,init:function(t,e,n,r,i,a){this.elem=t;this.prop=n;this.easing=i||S.easing._default;this.options=e;this.start=this.now=this.cur();this.end=r;this.unit=a||(S.cssNumber[n]?"":"px")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,n=oe.propHooks[this.prop];if(this.options.duration){this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration)}else{this.pos=e=t}this.now=(this.end-this.start)*e+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(n&&n.set){n.set(this)}else{oe.propHooks._default.set(this)}return this}};oe.prototype.init.prototype=oe.prototype;oe.propHooks={_default:{get:function(t){var e;if(t.elem.nodeType!==1||t.elem[t.prop]!=null&&t.elem.style[t.prop]==null){return t.elem[t.prop]}e=S.css(t.elem,t.prop,"");return!e||e==="auto"?0:e},set:function(t){if(S.fx.step[t.prop]){S.fx.step[t.prop](t)}else if(t.elem.nodeType===1&&(t.elem.style[S.cssProps[t.prop]]!=null||S.cssHooks[t.prop])){S.style(t.elem,t.prop,t.now+t.unit)}else{t.elem[t.prop]=t.now}}}};oe.propHooks.scrollTop=oe.propHooks.scrollLeft={set:function(t){if(t.elem.nodeType&&t.elem.parentNode){t.elem[t.prop]=t.now}}};S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"};S.fx=oe.prototype.init;S.fx.step={};var se,ue,le=/^(?:toggle|show|hide)$/,ce=/queueHooks$/;function fe(){if(ue){if(s.hidden===false&&n.requestAnimationFrame){n.requestAnimationFrame(fe)}else{n.setTimeout(fe,S.fx.interval)}S.fx.tick()}}function de(){n.setTimeout(function(){se=undefined});return se=Date.now()}function pe(t,e){var n,r=0,i={height:t};e=e?1:0;for(;r<4;r+=2-e){n=ct[r];i["margin"+n]=i["padding"+n]=t}if(e){i.opacity=i.width=t}return i}function he(t,e,n){var r,i=(ye.tweeners[e]||[]).concat(ye.tweeners["*"]),a=0,o=i.length;for(;a<o;a++){if(r=i[a].call(n,e,t)){return r}}}function me(t,e,n){var r,i,a,o,s,u,l,c,f="width"in e||"height"in e,d=this,p={},h=t.style,m=t.nodeType&&ft(t),g=nt.get(t,"fxshow");if(!n.queue){o=S._queueHooks(t,"fx");if(o.unqueued==null){o.unqueued=0;s=o.empty.fire;o.empty.fire=function(){if(!o.unqueued){s()}}}o.unqueued++;d.always(function(){d.always(function(){o.unqueued--;if(!S.queue(t,"fx").length){o.empty.fire()}})})}for(r in e){i=e[r];if(le.test(i)){delete e[r];a=a||i==="toggle";if(i===(m?"hide":"show")){if(i==="show"&&g&&g[r]!==undefined){m=true}else{continue}}p[r]=g&&g[r]||S.style(t,r)}}u=!S.isEmptyObject(e);if(!u&&S.isEmptyObject(p)){return}if(f&&t.nodeType===1){n.overflow=[h.overflow,h.overflowX,h.overflowY];l=g&&g.display;if(l==null){l=nt.get(t,"display")}c=S.css(t,"display");if(c==="none"){if(l){c=l}else{gt([t],true);l=t.style.display||l;c=S.css(t,"display");gt([t])}}if(c==="inline"||c==="inline-block"&&l!=null){if(S.css(t,"float")==="none"){if(!u){d.done(function(){h.display=l});if(l==null){c=h.display;l=c==="none"?"":c}}h.display="inline-block"}}}if(n.overflow){h.overflow="hidden";d.always(function(){h.overflow=n.overflow[0];h.overflowX=n.overflow[1];h.overflowY=n.overflow[2]})}u=false;for(r in p){if(!u){if(g){if("hidden"in g){m=g.hidden}}else{g=nt.access(t,"fxshow",{display:l})}if(a){g.hidden=!m}if(m){gt([t],true)}d.done(function(){if(!m){gt([t])}nt.remove(t,"fxshow");for(r in p){S.style(t,r,p[r])}})}u=he(m?g[r]:0,r,d);if(!(r in g)){g[r]=u.start;if(m){u.end=u.start;u.start=0}}}}function ge(t,e){var n,r,i,a,o;for(n in t){r=J(n);i=e[r];a=t[n];if(Array.isArray(a)){i=a[1];a=t[n]=a[0]}if(n!==r){t[r]=a;delete t[n]}o=S.cssHooks[r];if(o&&"expand"in o){a=o.expand(a);delete t[r];for(n in a){if(!(n in t)){t[n]=a[n];e[n]=i}}}else{e[r]=i}}}function ye(t,e,n){var r,i,a=0,o=ye.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(i){return false}var e=se||de(),n=Math.max(0,l.startTime+l.duration-e),r=n/l.duration||0,a=1-r,o=0,u=l.tweens.length;for(;o<u;o++){l.tweens[o].run(a)}s.notifyWith(t,[l,a,n]);if(a<1&&u){return n}if(!u){s.notifyWith(t,[l,1,0])}s.resolveWith(t,[l]);return false},l=s.promise({elem:t,props:S.extend({},e),opts:S.extend(true,{specialEasing:{},easing:S.easing._default},n),originalProperties:e,originalOptions:n,startTime:se||de(),duration:n.duration,tweens:[],createTween:function(e,n){var r=S.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);l.tweens.push(r);return r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i){return this}i=true;for(;n<r;n++){l.tweens[n].run(1)}if(e){s.notifyWith(t,[l,1,0]);s.resolveWith(t,[l,e])}else{s.rejectWith(t,[l,e])}return this}}),c=l.props;ge(c,l.opts.specialEasing);for(;a<o;a++){r=ye.prefilters[a].call(l,t,c,l.opts);if(r){if(A(r.stop)){S._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)}return r}}S.map(c,he,l);if(A(l.opts.start)){l.opts.start.call(t,l)}l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always);S.fx.timer(S.extend(u,{elem:t,anim:l,queue:l.opts.queue}));return l}S.Animation=S.extend(ye,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);pt(n.elem,t,lt.exec(e),n);return n}]},tweener:function(t,e){if(A(t)){e=t;t=["*"]}else{t=t.match(B)}var n,r=0,i=t.length;for(;r<i;r++){n=t[r];ye.tweeners[n]=ye.tweeners[n]||[];ye.tweeners[n].unshift(e)}},prefilters:[me],prefilter:function(t,e){if(e){ye.prefilters.unshift(t)}else{ye.prefilters.push(t)}}});S.speed=function(t,e,n){var r=t&&typeof t==="object"?S.extend({},t):{complete:n||!n&&e||A(t)&&t,duration:t,easing:n&&e||e&&!A(e)&&e};if(S.fx.off){r.duration=0}else{if(typeof r.duration!=="number"){if(r.duration in S.fx.speeds){r.duration=S.fx.speeds[r.duration]}else{r.duration=S.fx.speeds._default}}}if(r.queue==null||r.queue===true){r.queue="fx"}r.old=r.complete;r.complete=function(){if(A(r.old)){r.old.call(this)}if(r.queue){S.dequeue(this,r.queue)}};return r};S.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ft).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),a=S.speed(e,n,r),o=function(){var e=ye(this,S.extend({},t),a);if(i||nt.get(this,"finish")){e.stop(true)}};o.finish=o;return i||a.queue===false?this.each(o):this.queue(a.queue,o)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop;e(n)};if(typeof t!=="string"){n=e;e=t;t=undefined}if(e&&t!==false){this.queue(t||"fx",[])}return this.each(function(){var e=true,i=t!=null&&t+"queueHooks",a=S.timers,o=nt.get(this);if(i){if(o[i]&&o[i].stop){r(o[i])}}else{for(i in o){if(o[i]&&o[i].stop&&ce.test(i)){r(o[i])}}}for(i=a.length;i--;){if(a[i].elem===this&&(t==null||a[i].queue===t)){a[i].anim.stop(n);e=false;a.splice(i,1)}}if(e||!n){S.dequeue(this,t)}})},finish:function(t){if(t!==false){t=t||"fx"}return this.each(function(){var e,n=nt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],a=S.timers,o=r?r.length:0;n.finish=true;S.queue(this,t,[]);if(i&&i.stop){i.stop.call(this,true)}for(e=a.length;e--;){if(a[e].elem===this&&a[e].queue===t){a[e].anim.stop(true);a.splice(e,1)}}for(e=0;e<o;e++){if(r[e]&&r[e].finish){r[e].finish.call(this)}}delete n.finish})}});S.each(["toggle","show","hide"],function(t,e){var n=S.fn[e];S.fn[e]=function(t,r,i){return t==null||typeof t==="boolean"?n.apply(this,arguments):this.animate(pe(e,true),t,r,i)}});S.each({slideDown:pe("show"),slideUp:pe("hide"),slideToggle:pe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){S.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}});S.timers=[];S.fx.tick=function(){var t,e=0,n=S.timers;se=Date.now();for(;e<n.length;e++){t=n[e];if(!t()&&n[e]===t){n.splice(e--,1)}}if(!n.length){S.fx.stop()}se=undefined};S.fx.timer=function(t){S.timers.push(t);S.fx.start()};S.fx.interval=13;S.fx.start=function(){if(ue){return}ue=true;fe()};S.fx.stop=function(){ue=null};S.fx.speeds={slow:600,fast:200,_default:400};S.fn.delay=function(t,e){t=S.fx?S.fx.speeds[t]||t:t;e=e||"fx";return this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})};(function(){var t=s.createElement("input"),e=s.createElement("select"),n=e.appendChild(s.createElement("option"));t.type="checkbox";v.checkOn=t.value!=="";v.optSelected=n.selected;t=s.createElement("input");t.value="t";t.type="radio";v.radioValue=t.value==="t"})();var ve,Ae=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return K(this,S.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){S.removeAttr(this,t)})}});S.extend({attr:function(t,e,n){var r,i,a=t.nodeType;if(a===3||a===8||a===2){return}if(typeof t.getAttribute==="undefined"){return S.prop(t,e,n)}if(a!==1||!S.isXMLDoc(t)){i=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?ve:undefined)}if(n!==undefined){if(n===null){S.removeAttr(t,e);return}if(i&&"set"in i&&(r=i.set(t,n,e))!==undefined){return r}t.setAttribute(e,n+"");return n}if(i&&"get"in i&&(r=i.get(t,e))!==null){return r}r=S.find.attr(t,e);return r==null?undefined:r},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&e==="radio"&&F(t,"input")){var n=t.value;t.setAttribute("type",e);if(n){t.value=n}return e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(B);if(i&&t.nodeType===1){while(n=i[r++]){t.removeAttribute(n)}}}});ve={set:function(t,e,n){if(e===false){S.removeAttr(t,n)}else{t.setAttribute(n,n)}return n}};S.each(S.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ae[e]||S.find.attr;Ae[e]=function(t,e,r){var i,a,o=e.toLowerCase();if(!r){a=Ae[o];Ae[o]=i;i=n(t,e,r)!=null?o:null;Ae[o]=a}return i}});var be=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;S.fn.extend({prop:function(t,e){return K(this,S.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[S.propFix[t]||t]})}});S.extend({prop:function(t,e,n){var r,i,a=t.nodeType;if(a===3||a===8||a===2){return}if(a!==1||!S.isXMLDoc(t)){e=S.propFix[e]||e;i=S.propHooks[e]}if(n!==undefined){if(i&&"set"in i&&(r=i.set(t,n,e))!==undefined){return r}return t[e]=n}if(i&&"get"in i&&(r=i.get(t,e))!==null){return r}return t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");if(e){return parseInt(e,10)}if(be.test(t.nodeName)||xe.test(t.nodeName)&&t.href){return 0}return-1}}},propFix:{"for":"htmlFor","class":"className"}});if(!v.optSelected){S.propHooks.selected={get:function(t){var e=t.parentNode;if(e&&e.parentNode){e.parentNode.selectedIndex}return null},set:function(t){var e=t.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}}}}S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this});function Ee(t){var e=t.match(B)||[];return e.join(" ")}function Te(t){return t.getAttribute&&t.getAttribute("class")||""}function we(t){if(Array.isArray(t)){return t}if(typeof t==="string"){return t.match(B)||[]}return[]}S.fn.extend({addClass:function(t){var e,n,r,i,a,o,s,u=0;if(A(t)){return this.each(function(e){S(this).addClass(t.call(this,e,Te(this)))})}e=we(t);if(e.length){while(n=this[u++]){i=Te(n);r=n.nodeType===1&&" "+Ee(i)+" ";if(r){o=0;while(a=e[o++]){if(r.indexOf(" "+a+" ")<0){r+=a+" "}}s=Ee(r);if(i!==s){n.setAttribute("class",s)}}}}return this},removeClass:function(t){var e,n,r,i,a,o,s,u=0;if(A(t)){return this.each(function(e){S(this).removeClass(t.call(this,e,Te(this)))})}if(!arguments.length){return this.attr("class","")}e=we(t);if(e.length){while(n=this[u++]){i=Te(n);r=n.nodeType===1&&" "+Ee(i)+" ";if(r){o=0;while(a=e[o++]){while(r.indexOf(" "+a+" ")>-1){r=r.replace(" "+a+" "," ")}}s=Ee(r);if(i!==s){n.setAttribute("class",s)}}}}return this},toggleClass:function(t,e){var n=typeof t,r=n==="string"||Array.isArray(t);if(typeof e==="boolean"&&r){return e?this.addClass(t):this.removeClass(t)}if(A(t)){return this.each(function(n){S(this).toggleClass(t.call(this,n,Te(this),e),e)})}return this.each(function(){var e,i,a,o;if(r){i=0;a=S(this);o=we(t);while(e=o[i++]){if(a.hasClass(e)){a.removeClass(e)}else{a.addClass(e)}}}else if(t===undefined||n==="boolean"){e=Te(this);if(e){nt.set(this,"__className__",e)}if(this.setAttribute){this.setAttribute("class",e||t===false?"":nt.get(this,"__className__")||"")}}})},hasClass:function(t){var e,n,r=0;e=" "+t+" ";while(n=this[r++]){if(n.nodeType===1&&(" "+Ee(Te(n))+" ").indexOf(e)>-1){return true}}return false}});var Se=/\r/g;S.fn.extend({val:function(t){var e,n,r,i=this[0];if(!arguments.length){if(i){e=S.valHooks[i.type]||S.valHooks[i.nodeName.toLowerCase()];if(e&&"get"in e&&(n=e.get(i,"value"))!==undefined){return n}n=i.value;if(typeof n==="string"){return n.replace(Se,"")}return n==null?"":n}return}r=A(t);return this.each(function(n){var i;if(this.nodeType!==1){return}if(r){i=t.call(this,n,S(this).val())}else{i=t}if(i==null){i=""}else if(typeof i==="number"){i+=""}else if(Array.isArray(i)){i=S.map(i,function(t){return t==null?"":t+""})}e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()];if(!e||!("set"in e)||e.set(this,i,"value")===undefined){this.value=i}})}});S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return e!=null?e:Ee(S.text(t))}},select:{get:function(t){var e,n,r,i=t.options,a=t.selectedIndex,o=t.type==="select-one",s=o?null:[],u=o?a+1:i.length;if(a<0){r=u}else{r=o?a:0}for(;r<u;r++){n=i[r];if((n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!F(n.parentNode,"optgroup"))){e=S(n).val();if(o){return e}s.push(e)}}return s},set:function(t,e){var n,r,i=t.options,a=S.makeArray(e),o=i.length;while(o--){r=i[o];if(r.selected=S.inArray(S.valHooks.option.get(r),a)>-1){n=true}}if(!n){t.selectedIndex=-1}return a}}}});S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e)){return t.checked=S.inArray(S(t).val(),e)>-1}}};if(!v.checkOn){S.valHooks[this].get=function(t){return t.getAttribute("value")===null?"on":t.value}}});v.focusin="onfocusin"in n;var Oe=/^(?:focusinfocus|focusoutblur)$/,Ie=function(t){t.stopPropagation()};S.extend(S.event,{trigger:function(t,e,r,i){var a,o,u,l,c,f,d,p,h=[r||s],g=m.call(t,"type")?t.type:t,y=m.call(t,"namespace")?t.namespace.split("."):[];o=p=u=r=r||s;if(r.nodeType===3||r.nodeType===8){return}if(Oe.test(g+S.event.triggered)){return}if(g.indexOf(".")>-1){y=g.split(".");g=y.shift();y.sort()}c=g.indexOf(":")<0&&"on"+g;t=t[S.expando]?t:new S.Event(g,typeof t==="object"&&t);t.isTrigger=i?2:3;t.namespace=y.join(".");t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;t.result=undefined;if(!t.target){t.target=r}e=e==null?[t]:S.makeArray(e,[t]);d=S.event.special[g]||{};if(!i&&d.trigger&&d.trigger.apply(r,e)===false){return}if(!i&&!d.noBubble&&!b(r)){l=d.delegateType||g;if(!Oe.test(l+g)){o=o.parentNode}for(;o;o=o.parentNode){h.push(o);u=o}if(u===(r.ownerDocument||s)){h.push(u.defaultView||u.parentWindow||n)}}a=0;while((o=h[a++])&&!t.isPropagationStopped()){p=o;t.type=a>1?l:d.bindType||g;f=(nt.get(o,"events")||{})[t.type]&&nt.get(o,"handle");if(f){f.apply(o,e)}f=c&&o[c];if(f&&f.apply&&tt(o)){t.result=f.apply(o,e);if(t.result===false){t.preventDefault()}}}t.type=g;if(!i&&!t.isDefaultPrevented()){if((!d._default||d._default.apply(h.pop(),e)===false)&&tt(r)){if(c&&A(r[g])&&!b(r)){u=r[c];if(u){r[c]=null}S.event.triggered=g;if(t.isPropagationStopped()){p.addEventListener(g,Ie)}r[g]();if(t.isPropagationStopped()){p.removeEventListener(g,Ie)}S.event.triggered=undefined;if(u){r[c]=u}}}}return t.result},simulate:function(t,e,n){var r=S.extend(new S.Event,n,{type:t,isSimulated:true});S.event.trigger(r,null,e)}});S.fn.extend({trigger:function(t,e){return this.each(function(){S.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n){return S.event.trigger(t,e,n,true)}}});if(!v.focusin){S.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){S.event.simulate(e,t.target,S.event.fix(t))};S.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=nt.access(r,e);if(!i){r.addEventListener(t,n,true)}nt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=nt.access(r,e)-1;if(!i){r.removeEventListener(t,n,true);nt.remove(r,e)}else{nt.access(r,e,i)}}}})}var Ce=n.location;var Ne=Date.now();var Re=/\?/;S.parseXML=function(t){var e;if(!t||typeof t!=="string"){return null}try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(r){e=undefined}if(!e||e.getElementsByTagName("parsererror").length){S.error("Invalid XML: "+t)}return e};var De=/\[\]$/,Fe=/\r?\n/g,Me=/^(?:submit|button|image|reset|file)$/i,_e=/^(?:input|select|textarea|keygen)/i;function Pe(t,e,n,r){var i;if(Array.isArray(e)){S.each(e,function(e,i){if(n||De.test(t)){r(t,i)}else{Pe(t+"["+(typeof i==="object"&&i!=null?e:"")+"]",i,n,r)}})}else if(!n&&T(e)==="object"){for(i in e){Pe(t+"["+i+"]",e[i],n,r)}}else{r(t,e)}}S.param=function(t,e){var n,r=[],i=function(t,e){var n=A(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(n==null?"":n)};if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t)){S.each(t,function(){i(this.name,this.value)})}else{for(n in t){Pe(n,t[n],e,i)}}return r.join("&")};S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&_e.test(this.nodeName)&&!Me.test(t)&&(this.checked||!yt.test(t))}).map(function(t,e){var n=S(this).val();if(n==null){return null}if(Array.isArray(n)){return S.map(n,function(t){return{name:e.name,value:t.replace(Fe,"\r\n")}})}return{name:e.name,value:n.replace(Fe,"\r\n")}}).get()}});var ke=/%20/g,Le=/#.*$/,Ue=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)$/gm,We=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Be=/^(?:GET|HEAD)$/,He=/^\/\//,qe={},Ge={},Ve="*/".concat("*"),Ye=s.createElement("a");Ye.href=Ce.href;function Qe(t){return function(e,n){if(typeof e!=="string"){n=e;e="*"}var r,i=0,a=e.toLowerCase().match(B)||[];if(A(n)){while(r=a[i++]){if(r[0]==="+"){r=r.slice(1)||"*";(t[r]=t[r]||[]).unshift(n)}else{(t[r]=t[r]||[]).push(n)}}}}}function ze(t,e,n,r){var i={},a=t===Ge;function o(s){var u;i[s]=true;S.each(t[s]||[],function(t,s){var l=s(e,n,r);if(typeof l==="string"&&!a&&!i[l]){e.dataTypes.unshift(l);o(l);return false}else if(a){return!(u=l)}});return u}return o(e.dataTypes[0])||!i["*"]&&o("*")}function Ke(t,e){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in e){if(e[n]!==undefined){(i[n]?t:r||(r={}))[n]=e[n]}}if(r){S.extend(true,t,r)}return t}function Ze(t,e,n){var r,i,a,o,s=t.contents,u=t.dataTypes;while(u[0]==="*"){u.shift();if(r===undefined){r=t.mimeType||e.getResponseHeader("Content-Type")}}if(r){for(i in s){if(s[i]&&s[i].test(r)){u.unshift(i);break}}}if(u[0]in n){a=u[0]}else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){a=i;break}if(!o){o=i}}a=a||o}if(a){if(a!==u[0]){u.unshift(a)}return n[a]}}function $e(t,e,n,r){var i,a,o,s,u,l={},c=t.dataTypes.slice();if(c[1]){for(o in t.converters){l[o.toLowerCase()]=t.converters[o]}}a=c.shift();while(a){if(t.responseFields[a]){n[t.responseFields[a]]=e}if(!u&&r&&t.dataFilter){e=t.dataFilter(e,t.dataType)}u=a;a=c.shift();if(a){if(a==="*"){a=u}else if(u!=="*"&&u!==a){o=l[u+" "+a]||l["* "+a];
if(!o){for(i in l){s=i.split(" ");if(s[1]===a){o=l[u+" "+s[0]]||l["* "+s[0]];if(o){if(o===true){o=l[i]}else if(l[i]!==true){a=s[0];c.unshift(s[1])}break}}}}if(o!==true){if(o&&t.throws){e=o(e)}else{try{e=o(e)}catch(f){return{state:"parsererror",error:o?f:"No conversion from "+u+" to "+a}}}}}}}return{state:"success",data:e}}S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:We.test(Ce.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(t,e){return e?Ke(Ke(t,S.ajaxSettings),e):Ke(S.ajaxSettings,t)},ajaxPrefilter:Qe(qe),ajaxTransport:Qe(Ge),ajax:function(t,e){if(typeof t==="object"){e=t;t=undefined}e=e||{};var r,i,a,o,u,l,c,f,d,p,h=S.ajaxSetup({},e),m=h.context||h,g=h.context&&(m.nodeType||m.jquery)?S(m):S.event,y=S.Deferred(),v=S.Callbacks("once memory"),A=h.statusCode||{},b={},x={},E="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(c){if(!o){o={};while(e=je.exec(a)){o[e[1].toLowerCase()]=e[2]}}e=o[t.toLowerCase()]}return e==null?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){if(c==null){t=x[t.toLowerCase()]=x[t.toLowerCase()]||t;b[t]=e}return this},overrideMimeType:function(t){if(c==null){h.mimeType=t}return this},statusCode:function(t){var e;if(t){if(c){T.always(t[T.status])}else{for(e in t){A[e]=[A[e],t[e]]}}}return this},abort:function(t){var e=t||E;if(r){r.abort(e)}O(0,e);return this}};y.promise(T);h.url=((t||h.url||Ce.href)+"").replace(He,Ce.protocol+"//");h.type=e.method||e.type||h.method||h.type;h.dataTypes=(h.dataType||"*").toLowerCase().match(B)||[""];if(h.crossDomain==null){l=s.createElement("a");try{l.href=h.url;l.href=l.href;h.crossDomain=Ye.protocol+"//"+Ye.host!==l.protocol+"//"+l.host}catch(w){h.crossDomain=true}}if(h.data&&h.processData&&typeof h.data!=="string"){h.data=S.param(h.data,h.traditional)}ze(qe,h,e,T);if(c){return T}f=S.event&&h.global;if(f&&S.active++===0){S.event.trigger("ajaxStart")}h.type=h.type.toUpperCase();h.hasContent=!Be.test(h.type);i=h.url.replace(Le,"");if(!h.hasContent){p=h.url.slice(i.length);if(h.data&&(h.processData||typeof h.data==="string")){i+=(Re.test(i)?"&":"?")+h.data;delete h.data}if(h.cache===false){i=i.replace(Ue,"$1");p=(Re.test(i)?"&":"?")+"_="+Ne++ +p}h.url=i+p}else if(h.data&&h.processData&&(h.contentType||"").indexOf("application/x-www-form-urlencoded")===0){h.data=h.data.replace(ke,"+")}if(h.ifModified){if(S.lastModified[i]){T.setRequestHeader("If-Modified-Since",S.lastModified[i])}if(S.etag[i]){T.setRequestHeader("If-None-Match",S.etag[i])}}if(h.data&&h.hasContent&&h.contentType!==false||e.contentType){T.setRequestHeader("Content-Type",h.contentType)}T.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+(h.dataTypes[0]!=="*"?", "+Ve+"; q=0.01":""):h.accepts["*"]);for(d in h.headers){T.setRequestHeader(d,h.headers[d])}if(h.beforeSend&&(h.beforeSend.call(m,T,h)===false||c)){return T.abort()}E="abort";v.add(h.complete);T.done(h.success);T.fail(h.error);r=ze(Ge,h,e,T);if(!r){O(-1,"No Transport")}else{T.readyState=1;if(f){g.trigger("ajaxSend",[T,h])}if(c){return T}if(h.async&&h.timeout>0){u=n.setTimeout(function(){T.abort("timeout")},h.timeout)}try{c=false;r.send(b,O)}catch(w){if(c){throw w}O(-1,w)}}function O(t,e,o,s){var l,d,p,b,x,E=e;if(c){return}c=true;if(u){n.clearTimeout(u)}r=undefined;a=s||"";T.readyState=t>0?4:0;l=t>=200&&t<300||t===304;if(o){b=Ze(h,T,o)}b=$e(h,b,T,l);if(l){if(h.ifModified){x=T.getResponseHeader("Last-Modified");if(x){S.lastModified[i]=x}x=T.getResponseHeader("etag");if(x){S.etag[i]=x}}if(t===204||h.type==="HEAD"){E="nocontent"}else if(t===304){E="notmodified"}else{E=b.state;d=b.data;p=b.error;l=!p}}else{p=E;if(t||!E){E="error";if(t<0){t=0}}}T.status=t;T.statusText=(e||E)+"";if(l){y.resolveWith(m,[d,E,T])}else{y.rejectWith(m,[T,E,p])}T.statusCode(A);A=undefined;if(f){g.trigger(l?"ajaxSuccess":"ajaxError",[T,h,l?d:p])}v.fireWith(m,[T,E]);if(f){g.trigger("ajaxComplete",[T,h]);if(!--S.active){S.event.trigger("ajaxStop")}}}return T},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,undefined,e,"script")}});S.each(["get","post"],function(t,e){S[e]=function(t,n,r,i){if(A(n)){i=i||r;r=n;n=undefined}return S.ajax(S.extend({url:t,type:e,dataType:i,data:n,success:r},S.isPlainObject(t)&&t))}});S._evalUrl=function(t){return S.ajax({url:t,type:"GET",dataType:"script",cache:true,async:false,global:false,"throws":true})};S.fn.extend({wrapAll:function(t){var e;if(this[0]){if(A(t)){t=t.call(this[0])}e=S(t,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){e.insertBefore(this[0])}e.map(function(){var t=this;while(t.firstElementChild){t=t.firstElementChild}return t}).append(this)}return this},wrapInner:function(t){if(A(t)){return this.each(function(e){S(this).wrapInner(t.call(this,e))})}return this.each(function(){var e=S(this),n=e.contents();if(n.length){n.wrapAll(t)}else{e.append(t)}})},wrap:function(t){var e=A(t);return this.each(function(n){S(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){this.parent(t).not("body").each(function(){S(this).replaceWith(this.childNodes)});return this}});S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)};S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)};S.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Xe={0:200,1223:204},Je=S.ajaxSettings.xhr();v.cors=!!Je&&"withCredentials"in Je;v.ajax=Je=!!Je;S.ajaxTransport(function(t){var e,r;if(v.cors||Je&&!t.crossDomain){return{send:function(i,a){var o,s=t.xhr();s.open(t.type,t.url,t.async,t.username,t.password);if(t.xhrFields){for(o in t.xhrFields){s[o]=t.xhrFields[o]}}if(t.mimeType&&s.overrideMimeType){s.overrideMimeType(t.mimeType)}if(!t.crossDomain&&!i["X-Requested-With"]){i["X-Requested-With"]="XMLHttpRequest"}for(o in i){s.setRequestHeader(o,i[o])}e=function(t){return function(){if(e){e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null;if(t==="abort"){s.abort()}else if(t==="error"){if(typeof s.status!=="number"){a(0,"error")}else{a(s.status,s.statusText)}}else{a(Xe[s.status]||s.status,s.statusText,(s.responseType||"text")!=="text"||typeof s.responseText!=="string"?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders())}}}};s.onload=e();r=s.onerror=s.ontimeout=e("error");if(s.onabort!==undefined){s.onabort=r}else{s.onreadystatechange=function(){if(s.readyState===4){n.setTimeout(function(){if(e){r()}})}}}e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(u){if(e){throw u}}},abort:function(){if(e){e()}}}}});S.ajaxPrefilter(function(t){if(t.crossDomain){t.contents.script=false}});S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){S.globalEval(t);return t}}});S.ajaxPrefilter("script",function(t){if(t.cache===undefined){t.cache=false}if(t.crossDomain){t.type="GET"}});S.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=S("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove();n=null;if(t){i(t.type==="error"?404:200,t.type)}});s.head.appendChild(e[0])},abort:function(){if(n){n()}}}}});var tn=[],en=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||S.expando+"_"+Ne++;this[t]=true;return t}});S.ajaxPrefilter("json jsonp",function(t,e,r){var i,a,o,s=t.jsonp!==false&&(en.test(t.url)?"url":typeof t.data==="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&en.test(t.data)&&"data");if(s||t.dataTypes[0]==="jsonp"){i=t.jsonpCallback=A(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback;if(s){t[s]=t[s].replace(en,"$1"+i)}else if(t.jsonp!==false){t.url+=(Re.test(t.url)?"&":"?")+t.jsonp+"="+i}t.converters["script json"]=function(){if(!o){S.error(i+" was not called")}return o[0]};t.dataTypes[0]="json";a=n[i];n[i]=function(){o=arguments};r.always(function(){if(a===undefined){S(n).removeProp(i)}else{n[i]=a}if(t[i]){t.jsonpCallback=e.jsonpCallback;tn.push(i)}if(o&&A(a)){a(o[0])}o=a=undefined});return"script"}});v.createHTMLDocument=function(){var t=s.implementation.createHTMLDocument("").body;t.innerHTML="<form></form><form></form>";return t.childNodes.length===2}();S.parseHTML=function(t,e,n){if(typeof t!=="string"){return[]}if(typeof e==="boolean"){n=e;e=false}var r,i,a;if(!e){if(v.createHTMLDocument){e=s.implementation.createHTMLDocument("");r=e.createElement("base");r.href=s.location.href;e.head.appendChild(r)}else{e=s}}i=M.exec(t);a=!n&&[];if(i){return[e.createElement(i[1])]}i=wt([t],e,a);if(a&&a.length){S(a).remove()}return S.merge([],i.childNodes)};S.fn.load=function(t,e,n){var r,i,a,o=this,s=t.indexOf(" ");if(s>-1){r=Ee(t.slice(s));t=t.slice(0,s)}if(A(e)){n=e;e=undefined}else if(e&&typeof e==="object"){i="POST"}if(o.length>0){S.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){a=arguments;o.html(r?S("<div>").append(S.parseHTML(t)).find(r):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,a||[t.responseText,e,t])})})}return this};S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){S.fn[e]=function(t){return this.on(e,t)}});S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length};S.offset={setOffset:function(t,e,n){var r,i,a,o,s,u,l,c=S.css(t,"position"),f=S(t),d={};if(c==="static"){t.style.position="relative"}s=f.offset();a=S.css(t,"top");u=S.css(t,"left");l=(c==="absolute"||c==="fixed")&&(a+u).indexOf("auto")>-1;if(l){r=f.position();o=r.top;i=r.left}else{o=parseFloat(a)||0;i=parseFloat(u)||0}if(A(e)){e=e.call(t,n,S.extend({},s))}if(e.top!=null){d.top=e.top-s.top+o}if(e.left!=null){d.left=e.left-s.left+i}if("using"in e){e.using.call(t,d)}else{f.css(d)}}};S.fn.extend({offset:function(t){if(arguments.length){return t===undefined?this:this.each(function(e){S.offset.setOffset(this,t,e)})}var e,n,r=this[0];if(!r){return}if(!r.getClientRects().length){return{top:0,left:0}}e=r.getBoundingClientRect();n=r.ownerDocument.defaultView;return{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}},position:function(){if(!this[0]){return}var t,e,n,r=this[0],i={top:0,left:0};if(S.css(r,"position")==="fixed"){e=r.getBoundingClientRect()}else{e=this.offset();n=r.ownerDocument;t=r.offsetParent||n.documentElement;while(t&&(t===n.body||t===n.documentElement)&&S.css(t,"position")==="static"){t=t.parentNode}if(t&&t!==r&&t.nodeType===1){i=S(t).offset();i.top+=S.css(t,"borderTopWidth",true);i.left+=S.css(t,"borderLeftWidth",true)}}return{top:e.top-i.top-S.css(r,"marginTop",true),left:e.left-i.left-S.css(r,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var t=this.offsetParent;while(t&&S.css(t,"position")==="static"){t=t.offsetParent}return t||St})}});S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;S.fn[t]=function(r){return K(this,function(t,r,i){var a;if(b(t)){a=t}else if(t.nodeType===9){a=t.defaultView}if(i===undefined){return a?a[e]:t[r]}if(a){a.scrollTo(!n?i:a.pageXOffset,n?i:a.pageYOffset)}else{t[r]=i}},t,r,arguments.length)}});S.each(["top","left"],function(t,e){S.cssHooks[e]=zt(v.pixelPosition,function(t,n){if(n){n=Qt(t,e);return Gt.test(n)?S(t).position()[e]+"px":n}})});S.each({Height:"height",Width:"width"},function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){S.fn[r]=function(i,a){var o=arguments.length&&(n||typeof i!=="boolean"),s=n||(i===true||a===true?"margin":"border");return K(this,function(e,n,i){var a;if(b(e)){return r.indexOf("outer")===0?e["inner"+t]:e.document.documentElement["client"+t]}if(e.nodeType===9){a=e.documentElement;return Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])}return i===undefined?S.css(e,n,s):S.style(e,n,i,s)},e,o?i:undefined,o)}})});S.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(t,e){S.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}});S.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});S.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return arguments.length===1?this.off(t,"**"):this.off(e,t||"**",n)}});S.proxy=function(t,e){var n,r,i;if(typeof e==="string"){n=t[e];e=t;t=n}if(!A(t)){return undefined}r=l.call(arguments,2);i=function(){return t.apply(e||this,r.concat(l.call(arguments)))};i.guid=t.guid=t.guid||S.guid++;return i};S.holdReady=function(t){if(t){S.readyWait++}else{S.ready(true)}};S.isArray=Array.isArray;S.parseJSON=JSON.parse;S.nodeName=F;S.isFunction=A;S.isWindow=b;S.camelCase=J;S.type=T;S.now=Date.now;S.isNumeric=function(t){var e=S.type(t);return(e==="number"||e==="string")&&!isNaN(t-parseFloat(t))};if(true){!(r=[],i=function(){return S}.apply(e,r),i!==undefined&&(t.exports=i))}var nn=n.jQuery,rn=n.$;S.noConflict=function(t){if(n.$===S){n.$=rn}if(t&&n.jQuery===S){n.jQuery=nn}return S};if(!a){n.jQuery=n.$=S}return S})},function(t,e){(function(e){var n="Expected a function";var r="__lodash_hash_undefined__";var i=1/0;var a="[object Function]",o="[object GeneratorFunction]",s="[object Symbol]";var u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,c=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var d=/[\\^$.*+?()[\]{}|]/g;var p=/\\(\\)?/g;var h=/^\[object .+?Constructor\]$/;var m=typeof e=="object"&&e&&e.Object===Object&&e;var g=typeof self=="object"&&self&&self.Object===Object&&self;var y=m||g||Function("return this")();function v(t,e){return t==null?undefined:t[e]}function A(t){var e=false;if(t!=null&&typeof t.toString!="function"){try{e=!!(t+"")}catch(n){}}return e}var b=Array.prototype,x=Function.prototype,E=Object.prototype;var T=y["__core-js_shared__"];var w=function(){var t=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var S=x.toString;var O=E.hasOwnProperty;var I=E.toString;var C=RegExp("^"+S.call(O).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var N=y.Symbol,R=b.splice;var D=at(y,"Map"),F=at(Object,"create");var M=N?N.prototype:undefined,_=M?M.toString:undefined;function P(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function k(){this.__data__=F?F(null):{}}function L(t){return this.has(t)&&delete this.__data__[t]}function U(t){var e=this.__data__;if(F){var n=e[t];return n===r?undefined:n}return O.call(e,t)?e[t]:undefined}function j(t){var e=this.__data__;return F?e[t]!==undefined:O.call(e,t)}function W(t,e){var n=this.__data__;n[t]=F&&e===undefined?r:e;return this}P.prototype.clear=k;P.prototype["delete"]=L;P.prototype.get=U;P.prototype.has=j;P.prototype.set=W;function B(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function H(){this.__data__=[]}function q(t){var e=this.__data__,n=J(e,t);if(n<0){return false}var r=e.length-1;if(n==r){e.pop()}else{R.call(e,n,1)}return true}function G(t){var e=this.__data__,n=J(e,t);return n<0?undefined:e[n][1]}function V(t){return J(this.__data__,t)>-1}function Y(t,e){var n=this.__data__,r=J(n,t);if(r<0){n.push([t,e])}else{n[r][1]=e}return this}B.prototype.clear=H;B.prototype["delete"]=q;B.prototype.get=G;B.prototype.has=V;B.prototype.set=Y;function Q(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function z(){this.__data__={hash:new P,map:new(D||B),string:new P}}function K(t){return it(this,t)["delete"](t)}function Z(t){return it(this,t).get(t)}function $(t){return it(this,t).has(t)}function X(t,e){it(this,t).set(t,e);return this}Q.prototype.clear=z;Q.prototype["delete"]=K;Q.prototype.get=Z;Q.prototype.has=$;Q.prototype.set=X;function J(t,e){var n=t.length;while(n--){if(pt(t[n][0],e)){return n}}return-1}function tt(t,e){e=ot(e,t)?[e]:rt(e);var n=0,r=e.length;while(t!=null&&n<r){t=t[ct(e[n++])]}return n&&n==r?t:undefined}function et(t){if(!gt(t)||ut(t)){return false}var e=mt(t)||A(t)?C:h;return e.test(ft(t))}function nt(t){if(typeof t=="string"){return t}if(vt(t)){return _?_.call(t):""}var e=t+"";return e=="0"&&1/t==-i?"-0":e}function rt(t){return ht(t)?t:lt(t)}function it(t,e){var n=t.__data__;return st(e)?n[typeof e=="string"?"string":"hash"]:n.map}function at(t,e){var n=v(t,e);return et(n)?n:undefined}function ot(t,e){if(ht(t)){return false}var n=typeof t;if(n=="number"||n=="symbol"||n=="boolean"||t==null||vt(t)){return true}return l.test(t)||!u.test(t)||e!=null&&t in Object(e)}function st(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ut(t){return!!w&&w in t}var lt=dt(function(t){t=At(t);var e=[];if(c.test(t)){e.push("")}t.replace(f,function(t,n,r,i){e.push(r?i.replace(p,"$1"):n||t)});return e});function ct(t){if(typeof t=="string"||vt(t)){return t}var e=t+"";return e=="0"&&1/t==-i?"-0":e}function ft(t){if(t!=null){try{return S.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function dt(t,e){if(typeof t!="function"||e&&typeof e!="function"){throw new TypeError(n)}var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i)){return a.get(i)}var o=t.apply(this,n);r.cache=a.set(i,o);return o};r.cache=new(dt.Cache||Q);return r}dt.Cache=Q;function pt(t,e){return t===e||t!==t&&e!==e}var ht=Array.isArray;function mt(t){var e=gt(t)?I.call(t):"";return e==a||e==o}function gt(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function yt(t){return!!t&&typeof t=="object"}function vt(t){return typeof t=="symbol"||yt(t)&&I.call(t)==s}function At(t){return t==null?"":nt(t)}function bt(t,e,n){var r=t==null?undefined:tt(t,e);return r===undefined?n:r}t.exports=bt}).call(e,function(){return this}())},function(t,e,n){"use strict";n(16);n(5);n(117);t.exports=powerbi.extensibility.utils.svg},function(t,e,n){var r=n(6);function i(t){return r(t)?t:Object(t)}t.exports=i},function(t,e,n){var r=n(161),i=n(11);var a="[object Function]";var o=/^\[object .+?Constructor\]$/;var s=Object.prototype;var u=Function.prototype.toString;var l=s.toString;var c=RegExp("^"+r(l).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(t){if(t==null){return false}if(l.call(t)==a){return c.test(u.call(t))}return i(t)&&o.test(t)}t.exports=f},function(t,e,n){"use strict";function r(t){for(var n in t)if(!e.hasOwnProperty(n))e[n]=t[n]}Object.defineProperty(e,"__esModule",{value:true});r(n(163));r(n(168));r(n(167));r(n(71))},function(t,e,n){var r=n(78);function i(t,e,n){if(typeof t!="function"){return r}if(typeof e=="undefined"){return t}switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,a){return t.call(e,n,r,i,a)};case 5:return function(n,r,i,a,o){return t.call(e,n,r,i,a,o)}}return function(){return t.apply(e,arguments)}}t.exports=i},function(t,e,n){var r=n(1),i=n(4);var a="[object Arguments]";var o=Object.prototype;var s=o.toString;function u(t){var e=i(t)?t.length:undefined;return r(e)&&s.call(t)==a}t.exports=u},function(t,e,n){var r=n(206),i=n(4);var a="[object Function]";var o=/^\[object .+?Constructor\]$/;var s=Object.prototype;var u=Function.prototype.toString;var l=s.toString;var c=RegExp("^"+r(l).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(t){if(t==null){return false}if(l.call(t)==a){return c.test(u.call(t))}return i(t)&&o.test(t)}t.exports=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(13);var i=n(15);var a=function(){function t(){}t.create=function(t){return r.parseSettingsFromPBI(this,undefined,t,true)};t.createFromPBI=function(t,e){return r.parseSettingsFromPBI(this,t,e,false)};t.buildCapabilitiesObjects=function(){return r.buildCapabilitiesObjects(this)};t.prototype.receive=function(t){return this.constructor.create(i(this.toJSONObject(),t))};t.prototype.receiveFromPBI=function(t){return this.constructor.createFromPBI(t,this.toJSONObject())};t.prototype.buildEnumerationObjects=function(t,e,n){if(n===void 0){n=false}return r.buildEnumerationObjects(this.constructor,this,t,e,n)};t.prototype.buildPersistObjects=function(t,e){if(e===void 0){e=false}return r.buildPersistObjects(this.constructor,this,t,e)};t.prototype.toJSONObject=function(){return r.toJSON(this.constructor,this)};return t}();e.HasSettings=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(14);var i=n(53);var a=n(50);var o=n(62);var s={fill:{solid:{color:true}}};function u(t){"use strict";return g({text:{}},t)}e.textSetting=u;function l(t){"use strict";return g({bool:true},t)}e.boolSetting=l;function c(t){"use strict";return g({numeric:true},t)}e.numberSetting=c;function f(t){"use strict";t=o({},{config:{type:{text:true}},compose:function(t){return t&&JSON.stringify(t)},parse:function(t){return t&&JSON.parse(t)}},t);return r.setting(t)}e.jsonSetting=f;function d(t){"use strict";return f(t)}e.selectionSetting=d;function p(t){"use strict";t=o({},{config:{type:s},compose:a.colorComposer(t?t.defaultValue:"#ccc"),parse:i.colorParser(t?t.defaultValue:"#ccc")},t);return r.setting(t)}e.colorSetting=p;function h(t){"use strict";t=o({},{config:{type:s},compose:a.coloredObjectInstanceComposer(t?t.defaultValue:"#ccc"),parse:i.colorCategoricalInstanceObjectParser(t?t.defaultValue:"#ccc")},t);return r.setting(t)}e.instanceColorSetting=h;function m(t,e){"use strict";return g({enumeration:{members:function(e){var n=Object.keys(t).map(function(e){return t[e]});var r=n.filter(function(t){return typeof t==="string"});return r.map(function(e){return{value:t[e],displayName:e}})}}},e)}e.enumSetting=m;function g(t,e){"use strict";e=o({},{config:{type:t}},e);return r.setting(e)}},function(t,e,n){(function(r){e=t.exports=n(94);e.log=o;e.formatArgs=a;e.save=s;e.load=u;e.useColors=i;e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l();e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function i(){if(typeof window!=="undefined"&&window.process&&window.process.type==="renderer"){return true}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function a(t){var n=this.useColors;t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff);if(!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0;var a=0;t[0].replace(/%[a-zA-Z%]/g,function(t){if("%%"===t)return;i++;if("%c"===t){a=i}});t.splice(a,0,r)}function o(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{if(null==t){e.storage.removeItem("debug")}else{e.storage.debug=t}}catch(n){}}function u(){var t;try{t=e.storage.debug}catch(n){}if(!t&&typeof r!=="undefined"&&"env"in r){t=""}return t}e.enable(u());function l(){try{return window.localStorage}catch(t){}}}).call(e,n(32))},function(t,e){var n=t.exports={};var r;var i;function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=a}}catch(t){r=a}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=o}}catch(t){i=o}})();function s(t){if(r===setTimeout){return setTimeout(t,0)}if((r===a||!r)&&setTimeout){r=setTimeout;return setTimeout(t,0)}try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function u(t){if(i===clearTimeout){return clearTimeout(t)}if((i===o||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(t)}try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}var l=[];var c=false;var f;var d=-1;function p(){if(!c||!f){return}c=false;if(f.length){l=f.concat(l)}else{d=-1}if(l.length){h()}}function h(){if(c){return}var t=s(p);c=true;var e=l.length;while(e){f=l;l=[];while(++d<e){if(f){f[d].run()}}d=-1;e=l.length}f=null;c=false;u(t)}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}}l.push(new m(t,e));if(l.length===1&&!c){s(h)}};function m(t,e){this.fun=t;this.array=e}m.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function g(){}n.on=g;n.addListener=g;n.once=g;n.off=g;n.removeListener=g;n.removeAllListeners=g;n.emit=g;n.prependListener=g;n.prependOnceListener=g;n.listeners=function(t){return[]};n.binding=function(t){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(t){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(25);var i=n(9);var a=n(3);var o=n(68);var s=n(97);var u="GENERATED_RANK_LEVEL_";e.LOWER_NUMBER_HIGHER_VALUE=true;function l(t,e,n,r,i){"use strict";if(r===void 0){r=true}if(i===void 0){i=false}if(t){var a=f(t,e);var o=void 0;if(t.metadata&&t.metadata.objects&&t.metadata.objects["layout"]){var s=t.metadata.objects["layout"]["layout"];if(s){o=JSON.parse(s)}}var u=c(t,n,i);if(u){a.some(function(t){if(t.column===u.info.column.displayName){t.type="string";delete t["domain"];return true}});a=a.concat(u.columns)}if(!o){o={primaryKey:a[0].label,columns:a}}else{p(o,a)}d(o,u,r);return o}}e.default=l;function c(t,n,r){"use strict";if(r===void 0){r=false}var i=v(t);if(i){var o=A(i.values,n);if(r){i.values.reverse()}var s=a.extent(i.values)[e.LOWER_NUMBER_HIGHER_VALUE?0:1];return{columns:i.values.map(function(t,e){return{label:(t!==s?"\u2265":"")+" "+t,column:""+u+t,bucket:t,type:"string",width:60,color:o[t],filterable:false,sortable:false,isConfidence:true}}),info:i}}}function f(t,e){"use strict";var n=t.table;return n.columns.slice(0).filter(function(t){return!!t}).map(function(t){var n={label:t.displayName,column:t.displayName,type:t.type.numeric?"number":"string"};if(t.type.numeric){o(n,{domain:y(e,n.column)})}return n})}function d(t,e,n){"use strict";if(e){if(!t.layout||!t.layout.primary){t.layout={primary:t.columns.slice(0)}}t.layout.primary=t.layout.primary.filter(function(t){if(t.column===e.info.column.displayName){t.type="string";delete t.domain;delete t.histogram}else if(n){var r=e.columns.filter(function(e){return e.column===t.column})[0];if(r){return false}}return true});if(n){t.layout.primary=t.layout.primary.concat(e.columns)}}}function p(t,e){"use strict";var n=e.map(function(t){return t.column});var r=o({},t);var i=t.columns||[];var a=t.sort&&t.sort.column;t.columns=i.filter(function(t){return n.indexOf(t.column)>=0});i.forEach(function(n){var r=e.filter(function(t){return t.column===n.column})[0];if(r){if(r.domain){n.domain=r.domain.slice(0)}n.color=r.color}if(a===n.column&&(!r||r.type!==n.type)){delete t.sort}if(r&&n.type!==r.type){o(n,r)}});if(t.layout&&t.layout.primary){t.layout.primary=m(t.layout.primary,t.columns,r.columns)}h(t,e)}e.processExistingConfig=p;function h(t,e){"use strict";i.listDiff(t.columns.slice(0),e,{equals:function(t,e){return t.column===e.column},onRemove:function(e){for(var n=0;n<t.columns.length;n++){if(t.columns[n].column===e.column){t.columns.splice(n,1);break}}},onAdd:function(e){t.columns.push(e);if(t.layout&&t.layout.primary){var n;if(e["isConfidence"]){t.layout.primary.some(function(t,r){if(t.column&&t.column.indexOf(u)>=0){var i=parseFloat(t.column.split(u)[1]);if(i>=e["bucket"]){n=r;return true}}})}var r={width:e.width||100,column:e.column,type:e.type};if(n){t.layout.primary.splice(n,0,r)}else{t.layout.primary.push(r)}}}})}function m(t,e,n){"use strict";e=e||[];n=n||[];t=t||[];var r=function(t){var i=e.filter(function(e){return e.column===t.column})[0];var a=!!i;if(i){var s=n.filter(function(e){return e.column===t.column})[0];if(t.domain){var u=g(t.domain)&&g(s.domain)&&(t.domain[0]!==s.domain[0]||t.domain[1]!==s.domain[1]);var l=i.domain[0];var c=i.domain[1];if(u){l=Math.max(i.domain[0],t.domain[0]);c=Math.min(i.domain[1],t.domain[1])}t.domain=[l,c]}if(t.type!==i.type){o(t,i,{domain:t.domain});delete t.filter}}if(t.children){t.children=t.children.filter(r);return t.children.length>0}return a};return t.filter(r)}e.syncLayoutColumns=m;function g(t){"use strict";return t&&t.length===2&&t[0]!==null&&t[0]!==undefined&&t[1]!==null&&t[1]!==undefined}function y(t,e){"use strict";var n;var r;t.forEach(function(t){var i=t[e];if(i!==null&&i!==undefined){if(typeof n==="undefined"||i<n){n=i}if(typeof r==="undefined"||i>r){r=i}}});return[n||0,r||0]}e.calcDomain=y;function v(t){"use strict";if(t&&t.table&&t.table.rows){var e=t.table.columns.map(function(t,e){return{column:t,idx:e}}).filter(function(t){return t&&b(t.column)})[0];if(e){var n=Object.keys(t.table.rows.reduce(function(t,n){var r=n[e.idx];if(r!==null&&r!==undefined){t[r]=1}return t},{})).map(function(t){return parseFloat(t)}).filter(function(t){return!isNaN(t)}).sort(s);return{column:e.column,values:n}}}}e.calculateRankingInfo=v;function A(t,e){"use strict";var n=a.min(t);var i=a.max(t);e=e||{};var o;if(e.colorMode===r.ColorMode.Gradient){var s=e.rankGradients||{};var u=s.startValue||n;var l=s.endValue||i;var c=s.startColor||"#bac2ff";var f=s.endColor||"#0229bf";o=a.scale.linear().domain([u,l]).interpolate(a.interpolateRgb).range([c,f])}var d=e.rankInstanceColors||{};return(t||[]).reduce(function(t,e){t[e]=o?o(e):d[e]||"#cccccc";return t},{})}e.calculateRankColors=A;function b(t){"use strict";return!!(t&&t.roles["Rank"]&&t.type.numeric)}e.isRankColumn=b},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){t.deprecate=function(){};t.paths=[];t.children=[];t.webpackPolyfill=1}return t}},function(t,e,n){var r=n(140);function i(t,e,n,a,o,s){if(t===e){return t!==0||1/t==1/e}var u=typeof t,l=typeof e;if(u!="function"&&u!="object"&&l!="function"&&l!="object"||t==null||e==null){return t!==t&&e!==e}return r(t,e,i,n,a,o,s)}t.exports=i},function(t,e,n){var r=n(70);function i(t,e,n){if(typeof t!="function"){return r}if(typeof e=="undefined"){return t}switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,a){return t.call(e,n,r,i,a)};case 5:return function(n,r,i,a,o){return t.call(e,n,r,i,a,o)}}return function(){return t.apply(e,arguments)}}t.exports=i},function(t,e){var n=Math.pow(2,53)-1;function r(t,e){t=+t;e=e==null?n:e;return t>-1&&t%1==0&&t<e}t.exports=r},function(t,e,n){var r=n(6);function i(t){return t===t&&(t===0?1/t>0:!r(t))}t.exports=i},function(t,e,n){var r=n(2),i=n(11);var a="[object Arguments]";
var o=Object.prototype;var s=o.toString;function u(t){var e=i(t)?t.length:undefined;return r(e)&&s.call(t)==a}t.exports=u},function(t,e,n){var r=n(2),i=n(11);var a="[object Arguments]",o="[object Array]",s="[object Boolean]",u="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",h="[object RegExp]",m="[object Set]",g="[object String]",y="[object WeakMap]";var v="[object ArrayBuffer]",A="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",O="[object Uint16Array]",I="[object Uint32Array]";var C={};C[A]=C[b]=C[x]=C[E]=C[T]=C[w]=C[S]=C[O]=C[I]=true;C[a]=C[o]=C[v]=C[s]=C[u]=C[l]=C[c]=C[f]=C[d]=C[p]=C[h]=C[m]=C[g]=C[y]=false;var N=Object.prototype;var R=N.toString;function D(t){return i(t)&&r(t.length)&&!!C[R.call(t)]}t.exports=D},function(t,e,n){var r=n(2),i=n(24),a=n(6),o=n(157);var s=i(s=Object.keys)&&s;var u=!s?o:function(t){if(t){var e=t.constructor,n=t.length}if(typeof e=="function"&&e.prototype===t||typeof t!="function"&&(n&&r(n))){return o(t)}return a(t)?s(t):[]};t.exports=u},function(t,e,n){var r=n(39),i=n(12),a=n(37),o=n(2),s=n(6),u=n(69);var l=Object.prototype;var c=l.hasOwnProperty;function f(t){if(t==null){return[]}if(!s(t)){t=Object(t)}var e=t.length;e=e&&o(e)&&(i(t)||u.nonEnumArgs&&r(t))&&e||0;var n=t.constructor,l=-1,f=typeof n=="function"&&n.prototype===t,d=Array(e),p=e>0;while(++l<e){d[l]=l+""}for(var h in t){if(!(p&&a(h,e))&&!(h=="constructor"&&(f||!c.call(t,h)))){d.push(h)}}return d}t.exports=f},function(t,e,n){var r=n(181);function i(t,e,n,a,o,s){if(t===e){return t!==0||1/t==1/e}var u=typeof t,l=typeof e;if(u!="function"&&u!="object"&&l!="function"&&l!="object"||t==null||e==null){return t!==t&&e!==e}return r(t,e,i,n,a,o,s)}t.exports=i},function(t,e){var n=Math.pow(2,53)-1;function r(t,e){t=+t;e=e==null?n:e;return t>-1&&t%1==0&&t<e}t.exports=r},function(t,e,n){var r=n(8);function i(t){return t===t&&(t===0?1/t>0:!r(t))}t.exports=i},function(t,e,n){var r=n(1),i=n(4);var a="[object Arguments]",o="[object Array]",s="[object Boolean]",u="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",h="[object RegExp]",m="[object Set]",g="[object String]",y="[object WeakMap]";var v="[object ArrayBuffer]",A="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",O="[object Uint16Array]",I="[object Uint32Array]";var C={};C[A]=C[b]=C[x]=C[E]=C[T]=C[w]=C[S]=C[O]=C[I]=true;C[a]=C[o]=C[v]=C[s]=C[u]=C[l]=C[c]=C[f]=C[d]=C[p]=C[h]=C[m]=C[g]=C[y]=false;var N=Object.prototype;var R=N.toString;function D(t){return i(t)&&r(t.length)&&!!C[R.call(t)]}t.exports=D},function(t,e,n){var r=n(1),i=n(28),a=n(8),o=n(200);var s=i(s=Object.keys)&&s;var u=!s?o:function(t){if(t){var e=t.constructor,n=t.length}if(typeof e=="function"&&e.prototype===t||typeof t!="function"&&(n&&r(n))){return o(t)}return a(t)?s(t):[]};t.exports=u},function(t,e,n){var r=n(27),i=n(7),a=n(44),o=n(1),s=n(8),u=n(77);var l=Object.prototype;var c=l.hasOwnProperty;function f(t){if(t==null){return[]}if(!s(t)){t=Object(t)}var e=t.length;e=e&&o(e)&&(i(t)||u.nonEnumArgs&&r(t))&&e||0;var n=t.constructor,l=-1,f=typeof n=="function"&&n.prototype===t,d=Array(e),p=e>0;while(++l<e){d[l]=l+""}for(var h in t){if(!(p&&a(h,e))&&!(h=="constructor"&&(f||!c.call(t,h)))){d.push(h)}}return d}t.exports=f},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();var i=this&&this.__decorate||function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)if(o=t[s])a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a;return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:true});var a=n(9);var o=n(19);var s=n(30);var u=n(14);var l=n(29);var c=n(52);var f=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.equals=function(t){if(t){var e=t.gradient||undefined;var n=this.gradient||undefined;if(n&&!e||e&&!n){return false}var r=t.instanceColors||[];var i=this.instanceColors||[];if(r.length!==i.length){return false}var a=i.some(function(t,e){var n=r[e];return n.name!==t.name||n.color!==t.color});return!a&&(n===e||n.equals(e))&&this.reverseOrder===t.reverseOrder&&this.colorMode===t.colorMode}return false};i([s.instanceColorSetting({name:"fill",defaultValue:function(t){return o.fullColors[t]||"#ccc"},enumerable:function(t,e){return a.dataSupportsColorizedInstances(e)&&!(t.colorMode===a.ColorMode.Gradient)}})],e.prototype,"instanceColors",void 0);i([s.enumSetting(a.ColorMode,{displayName:"Color Mode",defaultValue:a.ColorMode.Instance,description:"Determines how the individual bars within the time brush are colored"})],e.prototype,"colorMode",void 0);i([c.gradientSetting({enumerable:function(t,e){return a.dataSupportsGradients(e)&&t.colorMode===a.ColorMode.Gradient}})],e.prototype,"gradient",void 0);i([u.setting({displayName:"Reverse Order",description:"If enabled, the order of the bars will be reversed",defaultValue:false,hidden:function(t,e){return!a.dataSupportsValueSegments(e)}})],e.prototype,"reverseOrder",void 0);return e}(l.HasSettings);e.ColoredObjectsSettings=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(13);var i=n(103);function a(t){"use strict";if(t===void 0){t="#ccc"}return function(e,n,i,a,o){if(e){var s=r.getPBIObjectNameAndPropertyName(a).propName;return(e.forEach?e:[e]).map(function(e,n){var r=typeof t==="function"?t(n,i,e.identity):t;var a=e.color||r;return{displayName:e.name,selector:{data:[e.identity]},properties:(o={},o[s]=a,o)};var o})}}}e.coloredObjectInstanceComposer=a;function o(t,e){"use strict";return function(n,r,a,o){e=typeof e==="function"?e():e;if(n){if(t){var s={};i(s,t,n||e);return s}return n||e}}}e.basicObjectComposer=o;function s(t){"use strict";if(t===void 0){t="#ccc"}return o(undefined,t)}e.colorComposer=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();var i=this&&this.__decorate||function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)if(o=t[s])a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a;return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:true});var a=n(30);var o=n(29);var s=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.equals=function(t){if(t){return(this.startColor||undefined)===(t.startColor||undefined)&&(this.endColor||undefined)===(t.endColor||undefined)&&(this.endValue||undefined)===(t.endValue||undefined)&&(this.startValue||undefined)===(t.startValue||undefined)}return false};i([a.colorSetting({displayName:"Start color",description:"The start color of the gradient",defaultValue:"#bac2ff"})],e.prototype,"startColor",void 0);i([a.colorSetting({displayName:"End color",description:"The end color of the gradient",defaultValue:"#0229bf"})],e.prototype,"endColor",void 0);i([a.numberSetting({displayName:"Start Value",description:"The value to use as the start value"})],e.prototype,"startValue",void 0);i([a.numberSetting({displayName:"End Value",description:"The value to use as the end value"})],e.prototype,"endValue",void 0);return e}(o.HasSettings);e.GradientSettings=s},function(t,e,n){"use strict";function r(t){for(var n in t)if(!e.hasOwnProperty(n))e[n]=t[n]}Object.defineProperty(e,"__esModule",{value:true});r(n(51));r(n(82))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(9);var i=n(13);var a=n(21);function o(t){"use strict";if(t===void 0){t="#ccc"}return s(t,function(t){var e=r.get(t,function(t){return t.categorical.values},[]);return e&&e.grouped&&e.grouped()||[]})}e.colorCategoricalInstanceObjectParser=o;function s(t,e){"use strict";if(t===void 0){t="#ccc"}return function(n,a,o,s){var u=e(o);var l=i.getPBIObjectNameAndPropertyName(s),c=l.objName,f=l.propName;if(u&&u.forEach){return u.map(function(e,n){var i=e.objects;var a=i&&i[c];var o=a&&a[f];var s=typeof t==="function"?t(n):t;return{name:e.name,color:r.get(o,function(t){return t.solid.color},s),identity:e.identity}})}}}e.coloredInstanceObjectParser=s;function u(t,e){"use strict";return function(n){var r=a(n,t);if((typeof r==="undefined"||r===null)&&e){r=typeof e==="function"?e():e}return r}}e.basicParser=u;function l(t){"use strict";return u("solid.color",t)}e.colorParser=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(100);var i=function(){function t(t,e){if(e===void 0){e=100}var n=this;this.host=t;this.delay=e;this.propsToUpdate=[];this.propUpdater=r(function(){if(n.propsToUpdate&&n.propsToUpdate.length){var t=n.propsToUpdate.slice(0);n.propsToUpdate.length=0;var e={};var r;t.forEach(function(t){t.changes.forEach(function(t){Object.keys(t).forEach(function(n){if(!e[n]){e[n]=[]}(r=e[n]).push.apply(r,t[n]);var r})});if(t.selection){r=true}});n.host.persistProperties(e)}},this.delay)}t.prototype.persist=function(t){var e=[];for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}this.propsToUpdate.push({changes:e,selection:t});this.propUpdater()};return t}();e.default=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n;(function(t){t[t["Unknown"]=0]="Unknown";t[t["Data"]=1]="Data";t[t["Resize"]=2]="Resize";t[t["Settings"]=4]="Settings";t[t["Initial"]=8]="Initial";t[t["DataAndResize"]=3]="DataAndResize";t[t["DataAndSettings"]=5]="DataAndSettings";t[t["SettingsAndResize"]=6]="SettingsAndResize";t[t["All"]=7]="All"})(n||(n={}));e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});function n(t){"use strict";if(t){var e=t&&t.expr?t.expr:null;var n=e&&e.arg&&e.arg.arg;var r=n&&n.entity;var i=n&&n.property;var a=e||{},o=a.level,s=a.ref;var u=e&&e.source&&e.source.entity;var l=t.queryName.substring(0,t.queryName.indexOf("."));var c=r||u||l;var f=i||s||o||t.displayName;return{table:c,column:f}}}e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(3);var i=n(19);function a(t,e,n,a){"use strict";var o=[];if(t&&t.length){var s=!!(t.source&&t.source.roles["Series"]);o=s?t.grouped():t.map(function(t,e){return{name:e+1+"",identity:t.identity}})}var u;if(n){var l=n.startValue,c=n.endValue,f=n.startColor,d=n.endColor;var p=typeof l!=="undefined"?l:r.min(o.map(function(t){return t.name}));var h=typeof c!=="undefined"?c:r.max(o.map(function(t){return t.name}));u=r.scale.linear().domain([isNaN(p)?0:p,isNaN(h)?o.length-1:h]).interpolate(r.interpolateRgb).range([f,d])}return o.sort(function(t,e){if(!t&&e||t.name<e.name){return-1}else if(t&&!e||t.name>e.name){return 1}return 0}).map(function(t,n){var r=t.name,o=t.identity;var s=i.fullColors[n];if(a&&a[n]){s=a[n].color}else if(u){s=u(isNaN(r)?n:r)}else{s=e||i.fullColors[n]}s=s||"#ccc";return{name:r,identity:o,color:s}})}e.default=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n;(function(t){t[t["Gradient"]=0]="Gradient";t[t["Instance"]=1]="Instance"})(n=e.ColorMode||(e.ColorMode={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(21);var i=/return\s+([^\;\}]+)/;function a(t,e,n){"use strict";var a=i.exec(e.toString())[1];return r(t,a.split(".").slice(1).join("."),n)}e.default=a},function(t,e,n){var r;(function(e,i,a){(function(e,n){true?t.exports=n():typeof define==="function"&&define.amd?define(n):e.ES6Promise=n()})(this,function(){"use strict";function t(t){return typeof t==="function"||typeof t==="object"&&t!==null}function i(t){return typeof t==="function"}var o=undefined;if(!Array.isArray){o=function(t){return Object.prototype.toString.call(t)==="[object Array]"}}else{o=Array.isArray}var s=o;var u=0;var l=undefined;var c=undefined;var f=function dt(t,e){w[u]=t;w[u+1]=e;u+=2;if(u===2){if(c){c(S)}else{I()}}};function d(t){c=t}function p(t){f=t}var h=typeof window!=="undefined"?window:undefined;var m=h||{};var g=m.MutationObserver||m.WebKitMutationObserver;var y=typeof self==="undefined"&&typeof e!=="undefined"&&{}.toString.call(e)==="[object process]";var v=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function A(){return function(){return e.nextTick(S)}}function b(){return function(){l(S)}}function x(){var t=0;var e=new g(S);var n=document.createTextNode("");e.observe(n,{characterData:true});return function(){n.data=t=++t%2}}function E(){var t=new MessageChannel;t.port1.onmessage=S;return function(){return t.port2.postMessage(0)}}function T(){var t=setTimeout;return function(){return t(S,1)}}var w=new Array(1e3);function S(){for(var t=0;t<u;t+=2){var e=w[t];var n=w[t+1];e(n);w[t]=undefined;w[t+1]=undefined}u=0}function O(){try{var t=r;var e=n(79);l=e.runOnLoop||e.runOnContext;return b()}catch(i){return T()}}var I=undefined;if(y){I=A()}else if(g){I=x()}else if(v){I=E()}else if(h===undefined&&"function"==="function"){I=O()}else{I=T()}function C(t,e){var n=arguments;var r=this;var i=new this.constructor(D);if(i[R]===undefined){nt(i)}var a=r._state;if(a){(function(){var t=n[a-1];f(function(){return X(a,i,t,r._result)})})()}else{Q(r,i,t,e)}return i}function N(t){var e=this;if(t&&typeof t==="object"&&t.constructor===e){return t}var n=new e(D);q(n,t);return n}var R=Math.random().toString(36).substring(16);function D(){}var F=void 0;var M=1;var _=2;var P=new K;function k(){return new TypeError("You cannot resolve a promise with itself")}function L(){return new TypeError("A promises callback cannot return that same promise.")}function U(t){try{return t.then}catch(e){P.error=e;return P}}function j(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function W(t,e,n){f(function(t){var r=false;var i=j(n,e,function(n){if(r){return}r=true;if(e!==n){q(t,n)}else{V(t,n)}},function(e){if(r){return}r=true;Y(t,e)},"Settle: "+(t._label||" unknown promise"));if(!r&&i){r=true;Y(t,i)}},t)}function B(t,e){if(e._state===M){V(t,e._result)}else if(e._state===_){Y(t,e._result)}else{Q(e,undefined,function(e){return q(t,e)},function(e){return Y(t,e)})}}function H(t,e,n){if(e.constructor===t.constructor&&n===C&&e.constructor.resolve===N){B(t,e)}else{if(n===P){Y(t,P.error)}else if(n===undefined){V(t,e)}else if(i(n)){W(t,e,n)}else{V(t,e)}}}function q(e,n){if(e===n){Y(e,k())}else if(t(n)){H(e,n,U(n))}else{V(e,n)}}function G(t){if(t._onerror){t._onerror(t._result)}z(t)}function V(t,e){if(t._state!==F){return}t._result=e;t._state=M;if(t._subscribers.length!==0){f(z,t)}}function Y(t,e){if(t._state!==F){return}t._state=_;t._result=e;f(G,t)}function Q(t,e,n,r){var i=t._subscribers;var a=i.length;t._onerror=null;i[a]=e;i[a+M]=n;i[a+_]=r;if(a===0&&t._state){f(z,t)}}function z(t){var e=t._subscribers;var n=t._state;if(e.length===0){return}var r=undefined,i=undefined,a=t._result;for(var o=0;o<e.length;o+=3){r=e[o];i=e[o+n];if(r){X(n,r,i,a)}else{i(a)}}t._subscribers.length=0}function K(){this.error=null}var Z=new K;function $(t,e){try{return t(e)}catch(n){Z.error=n;return Z}}function X(t,e,n,r){var a=i(n),o=undefined,s=undefined,u=undefined,l=undefined;if(a){o=$(n,r);if(o===Z){l=true;s=o.error;o=null}else{u=true}if(e===o){Y(e,L());return}}else{o=r;u=true}if(e._state!==F){}else if(a&&u){q(e,o)}else if(l){Y(e,s)}else if(t===M){V(e,o)}else if(t===_){Y(e,o)}}function J(t,e){try{e(function r(e){q(t,e)},function i(e){Y(t,e)})}catch(n){Y(t,n)}}var tt=0;function et(){return tt++}function nt(t){t[R]=tt++;t._state=undefined;t._result=undefined;t._subscribers=[]}function rt(t,e){this._instanceConstructor=t;this.promise=new t(D);if(!this.promise[R]){nt(this.promise)}if(s(e)){this._input=e;this.length=e.length;this._remaining=e.length;this._result=new Array(this.length);if(this.length===0){V(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){V(this.promise,this._result)}}}else{Y(this.promise,it())}}function it(){return new Error("Array Methods must be provided an Array")}rt.prototype._enumerate=function(){var t=this.length;var e=this._input;for(var n=0;this._state===F&&n<t;n++){this._eachEntry(e[n],n)}};rt.prototype._eachEntry=function(t,e){var n=this._instanceConstructor;var r=n.resolve;if(r===N){var i=U(t);if(i===C&&t._state!==F){this._settledAt(t._state,e,t._result)}else if(typeof i!=="function"){this._remaining--;this._result[e]=t}else if(n===ct){var a=new n(D);H(a,t,i);this._willSettleAt(a,e)}else{this._willSettleAt(new n(function(e){return e(t)}),e)}}else{this._willSettleAt(r(t),e)}};rt.prototype._settledAt=function(t,e,n){var r=this.promise;if(r._state===F){this._remaining--;if(t===_){Y(r,n)}else{this._result[e]=n}}if(this._remaining===0){V(r,this._result)}};rt.prototype._willSettleAt=function(t,e){var n=this;Q(t,undefined,function(t){return n._settledAt(M,e,t)},function(t){return n._settledAt(_,e,t)})};function at(t){return new rt(this,t).promise}function ot(t){var e=this;if(!s(t)){return new e(function(t,e){return e(new TypeError("You must pass an array to race."))})}else{return new e(function(n,r){var i=t.length;for(var a=0;a<i;a++){e.resolve(t[a]).then(n,r)}})}}function st(t){var e=this;var n=new e(D);Y(n,t);return n}function ut(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function lt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ct(t){this[R]=et();this._result=this._state=undefined;this._subscribers=[];if(D!==t){typeof t!=="function"&&ut();this instanceof ct?J(this,t):lt()}}ct.all=at;ct.race=ot;ct.resolve=N;ct.reject=st;ct._setScheduler=d;ct._setAsap=p;ct._asap=f;ct.prototype={constructor:ct,then:C,"catch":function pt(t){return this.then(null,t)}};function ft(){var t=undefined;if(typeof a!=="undefined"){t=a}else if(typeof self!=="undefined"){t=self}else{try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(e){}if(r==="[object Promise]"&&!n.cast){return}}t.Promise=ct}ft();ct.polyfill=ft;ct.Promise=ct;return ct});t.exports=a.Promise}).call(e,n(32),n(60),function(){return this}())},function(t,e,n){(function(e,n){var r,i,a,o,s,u,l,c,f,d,p,h,m,g,y,v,A,b,x,E,T,w,S;r=function(t){return new r.prototype.init(t)};if(true){t.exports=r}else{e.Globalize=r}r.cultures={};r.prototype={constructor:r,init:function(t){this.cultures=r.cultures;this.cultureSelector=t;return this}};r.prototype.init.prototype=r.prototype;r.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:false,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};r.cultures["default"].calendar=r.cultures["default"].calendars.standard;r.cultures["en"]=r.cultures["default"];r.cultureSelector="en";i=/^0x[a-f0-9]+$/i;a=/^[+-]?infinity$/i;o=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/;s=/^\s+|\s+$/g;u=function(t,e){if(t.indexOf){return t.indexOf(e)}for(var n=0,r=t.length;n<r;n++){if(t[n]===e){return n}}return-1};l=function(t,e){return t.substr(t.length-e.length)===e};c=function(t){var e,r,i,a,o,s,u=arguments[0]||{},l=1,h=arguments.length,t=false;if(typeof u==="boolean"){t=u;u=arguments[1]||{};l=2}if(typeof u!=="object"&&!d(u)){u={}}for(;l<h;l++){if((e=arguments[l])!=null){for(r in e){i=u[r];a=e[r];if(u===a){continue}if(t&&a&&(p(a)||(o=f(a)))){if(o){o=false;s=i&&f(i)?i:[]}else{s=i&&p(i)?i:{}}u[r]=c(t,s,a)}else if(a!==n){u[r]=a}}}}return u};f=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};d=function(t){return Object.prototype.toString.call(t)==="[object Function]"};p=function(t){return Object.prototype.toString.call(t)==="[object Object]"};h=function(t,e){return t.indexOf(e)===0};m=function(t){return(t+"").replace(s,"")};g=function(t,e,n){var r;for(r=t.length;r<e;r+=1){t=n?"0"+t:t+"0"}return t};y=function(t,e){var n=0,r=false;for(var i=0,a=t.length;i<a;i++){var o=t.charAt(i);switch(o){case"'":if(r){e.push("'")}else{n++}r=false;break;case"\\":if(r){e.push("\\")}r=!r;break;default:e.push(o);r=false;break}}return n};v=function(t,e){e=e||"F";var n,r=t.patterns,i=e.length;if(i===1){n=r[e];if(!n){throw"Invalid date format string '"+e+"'."}e=n}else if(i===2&&e.charAt(0)==="%"){e=e.charAt(1)}return e};A=function(t,e,n){var r=n.calendar,i=r.convert;if(!e||!e.length||e==="i"){var a;if(n&&n.name.length){if(i){a=A(t,r.patterns.F,n)}else{var o=new Date(t.getTime()),s=E(t,r.eras);o.setFullYear(T(t,r,s));a=o.toLocaleString()}}else{a=t.toString()}return a}var u=r.eras,l=e==="s";e=v(r,e);a=[];var c,f=["0","00","000"],d,p,h=/([^d]|^)(d|dd)([^d]|$)/g,m=0,g=x(),b;function w(t,e){var n,r=t+"";if(e>1&&r.length<e){n=f[e-2]+r;return n.substr(n.length-e,e)}else{n=r}return n}function S(){if(d||p){return d}d=h.test(e);p=true;return d}function O(t,e){if(b){return b[e]}switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate()}}if(!l&&i){b=i.fromGregorian(t)}for(;;){var I=g.lastIndex,C=g.exec(e);var N=e.slice(I,C?C.index:e.length);m+=y(N,a);if(!C){break}if(m%2){a.push(C[0]);continue}var R=C[0],D=R.length;switch(R){case"ddd":case"dddd":var F=D===3?r.days.namesAbbr:r.days.names;a.push(F[t.getDay()]);break;case"d":case"dd":d=true;a.push(w(O(t,2),D));break;case"MMM":case"MMMM":var M=O(t,1);a.push(r.monthsGenitive&&S()?r.monthsGenitive[D===3?"namesAbbr":"names"][M]:r.months[D===3?"namesAbbr":"names"][M]);break;case"M":case"MM":a.push(w(O(t,1)+1,D));break;case"y":case"yy":case"yyyy":M=b?b[0]:T(t,r,E(t,u),l);if(D<4){M=M%100}a.push(w(M,D));break;case"h":case"hh":c=t.getHours()%12;if(c===0)c=12;a.push(w(c,D));break;case"H":case"HH":a.push(w(t.getHours(),D));break;case"m":case"mm":a.push(w(t.getMinutes(),D));break;case"s":case"ss":a.push(w(t.getSeconds(),D));break;case"t":case"tt":M=t.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ";a.push(D===1?M.charAt(0):M);break;case"f":case"ff":case"fff":a.push(w(t.getMilliseconds(),3).substr(0,D));break;case"z":case"zz":c=t.getTimezoneOffset()/60;a.push((c<=0?"+":"-")+w(Math.floor(Math.abs(c)),D));break;case"zzz":c=t.getTimezoneOffset()/60;a.push((c<=0?"+":"-")+w(Math.floor(Math.abs(c)),2)+":"+w(Math.abs(t.getTimezoneOffset()%60),2));break;case"g":case"gg":if(r.eras){a.push(r.eras[E(t,u)].name)}break;case"/":a.push(r["/"]);break;default:throw"Invalid date format pattern '"+R+"'.";break}}return a.join("")};(function(){var t;t=function(t,e,n){var r=n.groupSizes,i=r[0],a=1,o=Math.pow(10,e),s=Math.round(t*o)/o;if(!isFinite(s)){s=t}t=s;var u=t+"",l="",c=u.split(/e/i),f=c.length>1?parseInt(c[1],10):0;u=c[0];c=u.split(".");u=c[0];l=c.length>1?c[1]:"";var d;if(f>0){l=g(l,f,false);u+=l.slice(0,f);l=l.substr(f)}else if(f<0){f=-f;u=g(u,f+1);l=u.slice(-f,u.length)+l;u=u.slice(0,-f)}if(e>0){l=n["."]+(l.length>e?l.slice(0,e):g(l,e))}else{l=""}var p=u.length-1,h=n[","],m="";while(p>=0){if(i===0||i>p){return u.slice(0,p+1)+(m.length?h+m+l:l)}m=u.slice(p-i+1,p+1)+(m.length?h+m:"");p-=i;if(a<r.length){i=r[a];a++}}return u.slice(0,p+1)+h+m+l};b=function(e,n,r){if(!n||n==="i"){return r.name.length?e.toLocaleString():e.toString()}n=n||"D";var i=r.numberFormat,a=Math.abs(e),o=-1,s;if(n.length>1)o=parseInt(n.slice(1),10);var u=n.charAt(0).toUpperCase(),l;switch(u){case"D":s="n";if(o!==-1){a=g(""+a,o,true)}if(e<0)a=-a;break;case"N":l=i;case"C":l=l||i.currency;case"P":l=l||i.percent;s=e<0?l.pattern[0]:l.pattern[1]||"n";if(o===-1)o=l.decimals;a=t(a*(u==="P"?100:1),o,l);break;default:throw"Bad number format specifier: "+u}var c=/n|\$|-|%/g,f="";for(;;){var d=c.lastIndex,p=c.exec(s);f+=s.slice(d,p?p.index:s.length);if(!p){break}switch(p[0]){case"n":f+=a;break;case"$":f+=i.currency.symbol;break;case"-":if(/[1-9]/.test(a)){f+=i["-"]}break;case"%":f+=i.percent.symbol;break}}return f}})();x=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};E=function(t,e){if(!e)return 0;var n,r=t.getTime();for(var i=0,a=e.length;i<a;i++){n=e[i].start;if(n===null||r>=n){return i}}return 0};T=function(t,e,n,r){var i=t.getFullYear();if(!r&&e.eras){i-=e.eras[n].offset}return i};(function(){var t,e,n,r,i,a,o;t=function(t,e){var n=new Date,r=E(n);if(e<100){var i=t.twoDigitYearMax;i=typeof i==="string"?(new Date).getFullYear()%100+parseInt(i,10):i;var a=T(n,t,r);e+=a-a%100;if(e>i){e-=100}}return e};e=function(t,e,n){var r,i=t.days,s=t._upperDays;if(!s){t._upperDays=s=[o(i.names),o(i.namesAbbr),o(i.namesShort)]}e=a(e);if(n){r=u(s[1],e);if(r===-1){r=u(s[2],e)}}else{r=u(s[0],e)}return r};n=function(t,e,n){var r=t.months,i=t.monthsGenitive||t.months,s=t._upperMonths,l=t._upperMonthsGen;if(!s){t._upperMonths=s=[o(r.names),o(r.namesAbbr)];t._upperMonthsGen=l=[o(i.names),o(i.namesAbbr)]}e=a(e);var c=u(n?s[1]:s[0],e);if(c<0){c=u(n?l[1]:l[0],e)}return c};r=function(t,e){var n=t._parseRegExp;if(!n){t._parseRegExp=n={}}else{var r=n[e];if(r){return r}}var i=v(t,e).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),a=["^"],o=[],s=0,u=0,l=x(),c;while((c=l.exec(i))!==null){var f=i.slice(s,c.index);s=l.lastIndex;u+=y(f,a);if(u%2){a.push(c[0]);continue}var d=c[0],p=d.length,h;switch(d){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":h="(\\D+)";break;case"tt":case"t":h="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":h="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":h="(\\d\\d?)";break;case"zzz":h="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":h="([+-]?\\d\\d?)";break;case"/":h="(\\"+t["/"]+")";break;default:throw"Invalid date format pattern '"+d+"'.";break}if(h){a.push(h)}o.push(c[0])}y(i.slice(s),a);a.push("$");var m=a.join("").replace(/\s+/g,"\\s+"),g={regExp:m,groups:o};return n[e]=g};i=function(t,e,n){return t<e||t>n};a=function(t){return t.split("\xa0").join(" ").toUpperCase()};o=function(t){var e=[];for(var n=0,r=t.length;n<r;n++){e[n]=a(t[n])}return e};w=function(a,o,s){a=m(a);var u=s.calendar,l=r(u,o),c=new RegExp(l.regExp).exec(a);if(c===null){return null}var f=l.groups,d=null,p=null,g=null,y=null,v=null,A=0,b,x=0,E=0,T=0,w=null,S=false;for(var O=0,I=f.length;O<I;O++){var C=c[O+1];if(C){var N=f[O],R=N.length,D=parseInt(C,10);switch(N){case"dd":case"d":y=D;if(i(y,1,31))return null;break;case"MMM":case"MMMM":g=n(u,C,R===3);if(i(g,0,11))return null;break;case"M":case"MM":g=D-1;if(i(g,0,11))return null;break;case"y":case"yy":case"yyyy":p=R<4?t(u,D):D;if(i(p,0,9999))return null;break;case"h":case"hh":A=D;if(A===12)A=0;if(i(A,0,11))return null;break;case"H":case"HH":A=D;if(i(A,0,23))return null;break;case"m":case"mm":x=D;if(i(x,0,59))return null;break;case"s":case"ss":E=D;if(i(E,0,59))return null;break;case"tt":case"t":S=u.PM&&(C===u.PM[0]||C===u.PM[1]||C===u.PM[2]);if(!S&&(!u.AM||C!==u.AM[0]&&C!==u.AM[1]&&C!==u.AM[2]))return null;break;case"f":case"ff":case"fff":T=D*Math.pow(10,3-R);if(i(T,0,999))return null;break;case"ddd":case"dddd":v=e(u,C,R===3);if(i(v,0,6))return null;break;case"zzz":var F=C.split(/:/);if(F.length!==2)return null;b=parseInt(F[0],10);if(i(b,-12,13))return null;var M=parseInt(F[1],10);if(i(M,0,59))return null;w=b*60+(h(C,"-")?-M:M);break;case"z":case"zz":b=D;if(i(b,-12,13))return null;w=b*60;break;case"g":case"gg":var _=C;if(!_||!u.eras)return null;_=m(_.toLowerCase());for(var P=0,k=u.eras.length;P<k;P++){if(_===u.eras[P].name.toLowerCase()){d=P;break}}if(d===null)return null;break}}}var L=new Date,U,j=u.convert;U=j?j.fromGregorian(L)[0]:L.getFullYear();if(p===null){p=U}else if(u.eras){p+=u.eras[d||0].offset}if(g===null){g=0}if(y===null){y=1}if(j){L=j.toGregorian(p,g,y);if(L===null)return null}else{L.setFullYear(p,g,y);if(L.getDate()!==y)return null;if(v!==null&&L.getDay()!==v){return null}}if(S&&A<12){A+=12}L.setHours(A,x,E,T);if(w!==null){var W=L.getMinutes()-(w+L.getTimezoneOffset());L.setHours(L.getHours()+parseInt(W/60,10),W%60)}return L}})();S=function(t,e,n){var r=e["-"],i=e["+"],a;switch(n){case"n -":r=" "+r;i=" "+i;case"n-":if(l(t,r)){a=["-",t.substr(0,t.length-r.length)]}else if(l(t,i)){a=["+",t.substr(0,t.length-i.length)]}break;case"- n":r+=" ";i+=" ";case"-n":if(h(t,r)){a=["-",t.substr(r.length)]}else if(h(t,i)){a=["+",t.substr(i.length)]}break;case"(n)":if(h(t,"(")&&l(t,")")){a=["-",t.substr(1,t.length-2)]}break}return a||["",t]};r.prototype.findClosestCulture=function(t){return r.findClosestCulture.call(this,t)};r.prototype.format=function(t,e,n){return r.format.call(this,t,e,n)};r.prototype.localize=function(t,e){return r.localize.call(this,t,e)};r.prototype.parseInt=function(t,e,n){return r.parseInt.call(this,t,e,n)};r.prototype.parseFloat=function(t,e,n){return r.parseFloat.call(this,t,e,n)};r.prototype.culture=function(t){return r.culture.call(this,t)};r.addCultureInfo=function(t,e,n){var r={},i=false;if(typeof t!=="string"){n=t;t=this.culture().name;r=this.cultures[t]}else if(typeof e!=="string"){n=e;i=this.cultures[t]==null;r=this.cultures[t]||this.cultures["default"]}else{i=true;r=this.cultures[e]}this.cultures[t]=c(true,{},r,n);if(i){this.cultures[t].calendar=this.cultures[t].calendars.standard}};r.findClosestCulture=function(t){var e;if(!t){return this.cultures[this.cultureSelector]||this.cultures["default"]}if(typeof t==="string"){t=t.split(",")}if(f(t)){var n,r=this.cultures,i=t,a,o=i.length,s=[];for(a=0;a<o;a++){t=m(i[a]);var u,l=t.split(";");n=m(l[0]);if(l.length===1){u=1}else{t=m(l[1]);if(t.indexOf("q=")===0){t=t.substr(2);u=parseFloat(t);u=isNaN(u)?0:u}else{u=1}}s.push({lang:n,pri:u})}s.sort(function(t,e){return t.pri<e.pri?1:-1});for(a=0;a<o;a++){n=s[a].lang;e=r[n];if(e){return e}}for(a=0;a<o;a++){n=s[a].lang;do{var c=n.lastIndexOf("-");if(c===-1){break}n=n.substr(0,c);e=r[n];if(e){return e}}while(1)}for(a=0;a<o;a++){n=s[a].lang;for(var d in r){var p=r[d];if(p.language==n){return p}}}}else if(typeof t==="object"){return t}return e||null};r.format=function(t,e,n){culture=this.findClosestCulture(n);if(t instanceof Date){t=A(t,e,culture)}else if(typeof t==="number"){t=b(t,e,culture)}return t};r.localize=function(t,e){return this.findClosestCulture(e).messages[t]||this.cultures["default"].messages["key"];
};r.parseDate=function(t,e,n){n=this.findClosestCulture(n);var r,i,a;if(e){if(typeof e==="string"){e=[e]}if(e.length){for(var o=0,s=e.length;o<s;o++){var u=e[o];if(u){r=w(t,u,n);if(r){break}}}}}else{a=n.calendar.patterns;for(i in a){r=w(t,a[i],n);if(r){break}}}return r||null};r.parseInt=function(t,e,n){return Math.floor(r.parseFloat(t,e,n))};r.parseFloat=function(t,e,n){if(typeof e!=="number"){n=e;e=10}var r=this.findClosestCulture(n);var s=NaN,u=r.numberFormat;if(t.indexOf(r.numberFormat.currency.symbol)>-1){t=t.replace(r.numberFormat.currency.symbol,"");t=t.replace(r.numberFormat.currency["."],r.numberFormat["."])}t=m(t);if(a.test(t)){s=parseFloat(t)}else if(!e&&i.test(t)){s=parseInt(t,16)}else{var l=S(t,u,u.pattern[0]),c=l[0],f=l[1];if(c===""&&u.pattern[0]!=="-n"){l=S(t,u,"-n");c=l[0];f=l[1]}c=c||"+";var d,p,h=f.indexOf("e");if(h<0)h=f.indexOf("E");if(h<0){p=f;d=null}else{p=f.substr(0,h);d=f.substr(h+1)}var g,y,v=u["."],A=p.indexOf(v);if(A<0){g=p;y=null}else{g=p.substr(0,A);y=p.substr(A+v.length)}var b=u[","];g=g.split(b).join("");var x=b.replace(/\u00A0/g," ");if(b!==x){g=g.split(x).join("")}var E=c+g;if(y!==null){E+="."+y}if(d!==null){var T=S(d,u,"-n");E+="e"+(T[0]||"+")+T[1]}if(o.test(E)){s=parseFloat(E)}}return s};r.culture=function(t){if(typeof t!=="undefined"){this.cultureSelector=t}return this.findClosestCulture(t)||this.culture["default"]}})(this)},function(t,e,n){(function(t,n){var r=200;var i="__lodash_hash_undefined__";var a=9007199254740991;var o="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",h="[object Number]",m="[object Object]",g="[object Promise]",y="[object RegExp]",v="[object Set]",A="[object String]",b="[object Symbol]",x="[object WeakMap]";var E="[object ArrayBuffer]",T="[object DataView]",w="[object Float32Array]",S="[object Float64Array]",O="[object Int8Array]",I="[object Int16Array]",C="[object Int32Array]",N="[object Uint8Array]",R="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]";var M=/[\\^$.*+?()[\]{}|]/g;var _=/\w*$/;var P=/^\[object .+?Constructor\]$/;var k=/^(?:0|[1-9]\d*)$/;var L={};L[w]=L[S]=L[O]=L[I]=L[C]=L[N]=L[R]=L[D]=L[F]=true;L[o]=L[s]=L[E]=L[u]=L[T]=L[l]=L[c]=L[f]=L[p]=L[h]=L[m]=L[y]=L[v]=L[A]=L[x]=false;var U={};U[o]=U[s]=U[E]=U[T]=U[u]=U[l]=U[w]=U[S]=U[O]=U[I]=U[C]=U[p]=U[h]=U[m]=U[y]=U[v]=U[A]=U[b]=U[N]=U[R]=U[D]=U[F]=true;U[c]=U[f]=U[x]=false;var j=typeof t=="object"&&t&&t.Object===Object&&t;var W=typeof self=="object"&&self&&self.Object===Object&&self;var B=j||W||Function("return this")();var H=typeof e=="object"&&e&&!e.nodeType&&e;var q=H&&typeof n=="object"&&n&&!n.nodeType&&n;var G=q&&q.exports===H;var V=G&&j.process;var Y=function(){try{return V&&V.binding("util")}catch(t){}}();var Q=Y&&Y.isTypedArray;function z(t,e){t.set(e[0],e[1]);return t}function K(t,e){t.add(e);return t}function Z(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function $(t,e){var n=-1,r=t?t.length:0;while(++n<r){if(e(t[n],n,t)===false){break}}return t}function X(t,e){var n=-1,r=e.length,i=t.length;while(++n<r){t[i+n]=e[n]}return t}function J(t,e,n,r){var i=-1,a=t?t.length:0;if(r&&a){n=t[++i]}while(++i<a){n=e(n,t[i],i,t)}return n}function tt(t,e){var n=-1,r=Array(t);while(++n<t){r[n]=e(n)}return r}function et(t){return function(e){return t(e)}}function nt(t,e){return t==null?undefined:t[e]}function rt(t){var e=false;if(t!=null&&typeof t.toString!="function"){try{e=!!(t+"")}catch(n){}}return e}function it(t){var e=-1,n=Array(t.size);t.forEach(function(t,r){n[++e]=[r,t]});return n}function at(t,e){return function(n){return t(e(n))}}function ot(t){var e=-1,n=Array(t.size);t.forEach(function(t){n[++e]=t});return n}var st=Array.prototype,ut=Function.prototype,lt=Object.prototype;var ct=B["__core-js_shared__"];var ft=function(){var t=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var dt=ut.toString;var pt=lt.hasOwnProperty;var ht=dt.call(Object);var mt=lt.toString;var gt=RegExp("^"+dt.call(pt).replace(M,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var yt=G?B.Buffer:undefined,vt=B.Symbol,At=B.Uint8Array,bt=at(Object.getPrototypeOf,Object),xt=Object.create,Et=lt.propertyIsEnumerable,Tt=st.splice;var wt=Object.getOwnPropertySymbols,St=yt?yt.isBuffer:undefined,Ot=at(Object.keys,Object),It=Math.max;var Ct=Be(B,"DataView"),Nt=Be(B,"Map"),Rt=Be(B,"Promise"),Dt=Be(B,"Set"),Ft=Be(B,"WeakMap"),Mt=Be(Object,"create");var _t=Je(Ct),Pt=Je(Nt),kt=Je(Rt),Lt=Je(Dt),Ut=Je(Ft);var jt=vt?vt.prototype:undefined,Wt=jt?jt.valueOf:undefined;function Bt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Ht(){this.__data__=Mt?Mt(null):{}}function qt(t){return this.has(t)&&delete this.__data__[t]}function Gt(t){var e=this.__data__;if(Mt){var n=e[t];return n===i?undefined:n}return pt.call(e,t)?e[t]:undefined}function Vt(t){var e=this.__data__;return Mt?e[t]!==undefined:pt.call(e,t)}function Yt(t,e){var n=this.__data__;n[t]=Mt&&e===undefined?i:e;return this}Bt.prototype.clear=Ht;Bt.prototype["delete"]=qt;Bt.prototype.get=Gt;Bt.prototype.has=Vt;Bt.prototype.set=Yt;function Qt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function zt(){this.__data__=[]}function Kt(t){var e=this.__data__,n=he(e,t);if(n<0){return false}var r=e.length-1;if(n==r){e.pop()}else{Tt.call(e,n,1)}return true}function Zt(t){var e=this.__data__,n=he(e,t);return n<0?undefined:e[n][1]}function $t(t){return he(this.__data__,t)>-1}function Xt(t,e){var n=this.__data__,r=he(n,t);if(r<0){n.push([t,e])}else{n[r][1]=e}return this}Qt.prototype.clear=zt;Qt.prototype["delete"]=Kt;Qt.prototype.get=Zt;Qt.prototype.has=$t;Qt.prototype.set=Xt;function Jt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function te(){this.__data__={hash:new Bt,map:new(Nt||Qt),string:new Bt}}function ee(t){return We(this,t)["delete"](t)}function ne(t){return We(this,t).get(t)}function re(t){return We(this,t).has(t)}function ie(t,e){We(this,t).set(t,e);return this}Jt.prototype.clear=te;Jt.prototype["delete"]=ee;Jt.prototype.get=ne;Jt.prototype.has=re;Jt.prototype.set=ie;function ae(t){this.__data__=new Qt(t)}function oe(){this.__data__=new Qt}function se(t){return this.__data__["delete"](t)}function ue(t){return this.__data__.get(t)}function le(t){return this.__data__.has(t)}function ce(t,e){var n=this.__data__;if(n instanceof Qt){var i=n.__data__;if(!Nt||i.length<r-1){i.push([t,e]);return this}n=this.__data__=new Jt(i)}n.set(t,e);return this}ae.prototype.clear=oe;ae.prototype["delete"]=se;ae.prototype.get=ue;ae.prototype.has=le;ae.prototype.set=ce;function fe(t,e){var n=nn(t)||en(t)?tt(t.length,String):[];var r=n.length,i=!!r;for(var a in t){if((e||pt.call(t,a))&&!(i&&(a=="length"||Qe(a,r)))){n.push(a)}}return n}function de(t,e,n){if(n!==undefined&&!tn(t[e],n)||typeof e=="number"&&n===undefined&&!(e in t)){t[e]=n}}function pe(t,e,n){var r=t[e];if(!(pt.call(t,e)&&tn(r,n))||n===undefined&&!(e in t)){t[e]=n}}function he(t,e){var n=t.length;while(n--){if(tn(t[n][0],e)){return n}}return-1}function me(t,e){return t&&ke(e,hn(e),t)}function ge(t,e,n,r,i,a,s){var u;if(r){u=a?r(t,i,a,s):r(t)}if(u!==undefined){return u}if(!ln(t)){return t}var l=nn(t);if(l){u=Ge(t);if(!e){return Pe(t,u)}}else{var c=qe(t),p=c==f||c==d;if(on(t)){return Ie(t,e)}if(c==m||c==o||p&&!a){if(rt(t)){return a?t:{}}u=Ve(p?{}:t);if(!e){return Le(t,me(u,t))}}else{if(!U[c]){return a?t:{}}u=Ye(t,c,ge,e)}}s||(s=new ae);var h=s.get(t);if(h){return h}s.set(t,u);if(!l){var g=n?je(t):hn(t)}$(g||t,function(i,a){if(g){a=i;i=t[a]}pe(u,a,ge(i,e,n,r,a,t,s))});return u}function ye(t){return ln(t)?xt(t):{}}function ve(t,e,n){var r=e(t);return nn(t)?r:X(r,n(t))}function Ae(t){return mt.call(t)}function be(t){if(!ln(t)||Ze(t)){return false}var e=sn(t)||rt(t)?gt:P;return e.test(Je(t))}function xe(t){return cn(t)&&un(t.length)&&!!L[mt.call(t)]}function Ee(t){if(!$e(t)){return Ot(t)}var e=[];for(var n in Object(t)){if(pt.call(t,n)&&n!="constructor"){e.push(n)}}return e}function Te(t){if(!ln(t)){return Xe(t)}var e=$e(t),n=[];for(var r in t){if(!(r=="constructor"&&(e||!pt.call(t,r)))){n.push(r)}}return n}function we(t,e,n,r,i){if(t===e){return}if(!(nn(e)||dn(e))){var a=Te(e)}$(a||e,function(o,s){if(a){s=o;o=e[s]}if(ln(o)){i||(i=new ae);Se(t,e,s,n,we,r,i)}else{var u=r?r(t[s],o,s+"",t,e,i):undefined;if(u===undefined){u=o}de(t,s,u)}})}function Se(t,e,n,r,i,a,o){var s=t[n],u=e[n],l=o.get(u);if(l){de(t,n,l);return}var c=a?a(s,u,n+"",t,e,o):undefined;var f=c===undefined;if(f){c=u;if(nn(u)||dn(u)){if(nn(s)){c=s}else if(an(s)){c=Pe(s)}else{f=false;c=ge(u,true)}}else if(fn(u)||en(u)){if(en(s)){c=pn(s)}else if(!ln(s)||r&&sn(s)){f=false;c=ge(u,true)}else{c=s}}else{f=false}}if(f){o.set(u,c);i(c,u,r,a,o);o["delete"](u)}de(t,n,c)}function Oe(t,e){e=It(e===undefined?t.length-1:e,0);return function(){var n=arguments,r=-1,i=It(n.length-e,0),a=Array(i);while(++r<i){a[r]=n[e+r]}r=-1;var o=Array(e+1);while(++r<e){o[r]=n[r]}o[e]=a;return Z(t,this,o)}}function Ie(t,e){if(e){return t.slice()}var n=new t.constructor(t.length);t.copy(n);return n}function Ce(t){var e=new t.constructor(t.byteLength);new At(e).set(new At(t));return e}function Ne(t,e){var n=e?Ce(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Re(t,e,n){var r=e?n(it(t),true):it(t);return J(r,z,new t.constructor)}function De(t){var e=new t.constructor(t.source,_.exec(t));e.lastIndex=t.lastIndex;return e}function Fe(t,e,n){var r=e?n(ot(t),true):ot(t);return J(r,K,new t.constructor)}function Me(t){return Wt?Object(Wt.call(t)):{}}function _e(t,e){var n=e?Ce(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Pe(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r){e[n]=t[n]}return e}function ke(t,e,n,r){n||(n={});var i=-1,a=e.length;while(++i<a){var o=e[i];var s=r?r(n[o],t[o],o,n,t):undefined;pe(n,o,s===undefined?t[o]:s)}return n}function Le(t,e){return ke(t,He(t),e)}function Ue(t){return Oe(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:undefined,o=i>2?n[2]:undefined;a=t.length>3&&typeof a=="function"?(i--,a):undefined;if(o&&ze(n[0],n[1],o)){a=i<3?undefined:a;i=1}e=Object(e);while(++r<i){var s=n[r];if(s){t(e,s,r,a)}}return e})}function je(t){return ve(t,hn,He)}function We(t,e){var n=t.__data__;return Ke(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Be(t,e){var n=nt(t,e);return be(n)?n:undefined}var He=wt?at(wt,Object):yn;var qe=Ae;if(Ct&&qe(new Ct(new ArrayBuffer(1)))!=T||Nt&&qe(new Nt)!=p||Rt&&qe(Rt.resolve())!=g||Dt&&qe(new Dt)!=v||Ft&&qe(new Ft)!=x){qe=function(t){var e=mt.call(t),n=e==m?t.constructor:undefined,r=n?Je(n):undefined;if(r){switch(r){case _t:return T;case Pt:return p;case kt:return g;case Lt:return v;case Ut:return x}}return e}}function Ge(t){var e=t.length,n=t.constructor(e);if(e&&typeof t[0]=="string"&&pt.call(t,"index")){n.index=t.index;n.input=t.input}return n}function Ve(t){return typeof t.constructor=="function"&&!$e(t)?ye(bt(t)):{}}function Ye(t,e,n,r){var i=t.constructor;switch(e){case E:return Ce(t);case u:case l:return new i((+t));case T:return Ne(t,r);case w:case S:case O:case I:case C:case N:case R:case D:case F:return _e(t,r);case p:return Re(t,r,n);case h:case A:return new i(t);case y:return De(t);case v:return Fe(t,r,n);case b:return Me(t)}}function Qe(t,e){e=e==null?a:e;return!!e&&(typeof t=="number"||k.test(t))&&(t>-1&&t%1==0&&t<e)}function ze(t,e,n){if(!ln(n)){return false}var r=typeof e;if(r=="number"?rn(n)&&Qe(e,n.length):r=="string"&&e in n){return tn(n[e],t)}return false}function Ke(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ze(t){return!!ft&&ft in t}function $e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||lt;return t===n}function Xe(t){var e=[];if(t!=null){for(var n in Object(t)){e.push(n)}}return e}function Je(t){if(t!=null){try{return dt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function tn(t,e){return t===e||t!==t&&e!==e}function en(t){return an(t)&&pt.call(t,"callee")&&(!Et.call(t,"callee")||mt.call(t)==o)}var nn=Array.isArray;function rn(t){return t!=null&&un(t.length)&&!sn(t)}function an(t){return cn(t)&&rn(t)}var on=St||vn;function sn(t){var e=ln(t)?mt.call(t):"";return e==f||e==d}function un(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=a}function ln(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function cn(t){return!!t&&typeof t=="object"}function fn(t){if(!cn(t)||mt.call(t)!=m||rt(t)){return false}var e=bt(t);if(e===null){return true}var n=pt.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&dt.call(n)==ht}var dn=Q?et(Q):xe;function pn(t){return ke(t,mn(t))}function hn(t){return rn(t)?fe(t):Ee(t)}function mn(t){return rn(t)?fe(t,true):Te(t)}var gn=Ue(function(t,e,n){we(t,e,n)});function yn(){return[]}function vn(){return false}n.exports=gn}).call(e,function(){return this}(),n(34)(t))},function(t,e,n){"use strict";n(16);n(22);n(5);n(114);t.exports=powerbi.extensibility.utils.dataview},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(16);e.type=r;var i=n(119);e.formatting=i;var a=n(63);e.dataview=a;var o=n(22);e.svg=o;var s=n(120);e.interactivity=s.interactivity;e.filter=s.filter},function(t,e,n){var r=n(136),i=n(151);var a=i(r);t.exports=a},function(t,e,n){var r=n(150);var i=r();t.exports=i},function(t,e,n){var r=n(66),i=n(41);function a(t,e){return r(t,e,i)}t.exports=a},function(t,e,n){var r=n(144),i=n(148);var a=i(r);t.exports=a},function(t,e){(function(e){var n=Object.prototype;var r=(r=e.window)&&r.document;var i=n.propertyIsEnumerable;var a={};(function(t){a.funcDecomp=/\bthis\b/.test(function(){return this});a.funcNames=typeof Function.name=="string";try{a.dom=r.createDocumentFragment().nodeType===11}catch(e){a.dom=false}try{a.nonEnumArgs=!i.call(arguments,1)}catch(e){a.nonEnumArgs=true}})(0,0);t.exports=a}).call(e,function(){return this}())},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(3);e.DEFAULT_NUMBER_FORMATTER=r.format(".3n");e.DEFAULT_TABLESORTER_SETTINGS={selection:{singleSelect:true,multiSelect:false},presentation:{columnColors:r.scale.category20(),stacked:true,values:false,histograms:true,animation:true,tooltips:false}}},function(t,e,n){var r=n(192);var i=r();t.exports=i},function(t,e,n){var r=n(72),i=n(48);function a(t,e){return r(t,e,i)}t.exports=a},function(t,e,n){var r=n(72),i=n(47);function a(t,e){return r(t,e,i)}t.exports=a},function(t,e,n){var r=n(43),i=n(26),a=n(45);function o(t,e,n,o){n=typeof n=="function"&&i(n,o,3);if(!n&&a(t)&&a(e)){return t===e}var s=n?n(t,e):undefined;return typeof s=="undefined"?r(t,e,n):!!s}t.exports=o},function(t,e,n){var r=n(185),i=n(190);var a=i(r);t.exports=a},function(t,e){(function(e){var n=Object.prototype;var r=(r=e.window)&&r.document;var i=n.propertyIsEnumerable;var a={};(function(t){a.funcDecomp=/\bthis\b/.test(function(){return this});a.funcNames=typeof Function.name=="string";try{a.dom=r.createDocumentFragment().nodeType===11}catch(e){a.dom=false}try{a.nonEnumArgs=!i.call(arguments,1)}catch(e){a.nonEnumArgs=true}})(0,0);t.exports=a}).call(e,function(){return this}())},function(t,e){function n(t){return t}t.exports=n},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(14);var i=n(49);function a(t){"use strict";return r.settings(i.ColoredObjectsSettings,t)}e.coloredObjectsSettings=a},function(t,e,n){"use strict";function r(t){for(var n in t)if(!e.hasOwnProperty(n))e[n]=t[n]}Object.defineProperty(e,"__esModule",{value:true});r(n(49));r(n(80))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(14);var i=n(51);function a(t){"use strict";return r.settings(i.GradientSettings,t)}e.gradientSetting=a},function(t,e){var n=["#01B8AA","#FD625E","#F2C80F","#8AD4EB","#FE9666","#A66999","#3599B8","#DFBFBF"];n.primary=n.slice(0);n.full=["#01B8AA","#FD625E","#F2C80F","#8AD4EB","#FE9666","#A66999","#3599B8","#DFBFBF","#4AC5BB","#5F6B6D","#FB8281","#F4D25A","#7F898A","#A4DDEE","#FDAB89","#B687AC","#28738A","#A78F8F","#168980","#293537","#BB4A4A","#B59525","#475052","#6A9FB0","#BD7150","#7B4F71","#1B4D5C","#706060","#0F5C55","#1C2325","#7D3231","#796419","#303637","#476A75","#7E4B36","#52354C","#0D262E","#544848"];e.default=n;e.fullColors=n.full},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(106);var i=n(56);function a(t,e){"use strict";var n;if(t){var a=t.type;var o=i.default(t);if(e){if(a.text){n=new r.AdvancedFilter(o,"And",{operator:"Contains",value:e})}else{if(a.numeric){n=new r.AdvancedFilter(o,"And",{operator:"Is",value:e})}else if(a.bool){n=new r.AdvancedFilter(o,"Or",[{operator:"Is",value:"1"},{operator:"Is",value:"true"}])}}}}return n}e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(55);var i=n(15);var a=n(101);var o=n(102);var s=n(104);e.DEFAULT_CALCULATE_SETTINGS={checkHighlights:false,defaultUnkownToData:false,ignoreCategoryOrder:true};Object.freeze(e.DEFAULT_CALCULATE_SETTINGS);function u(t,n,a){"use strict";var o=r.default.Unknown;var s=i({},e.DEFAULT_CALCULATE_SETTINGS,typeof a==="boolean"?{defaultUnkownToData:a}:a||{});if(f(t,n,s)){o^=r.default.Resize}if(l(t,n,s)){o^=r.default.Data}if(c(t,n,s)){o^=r.default.Settings}if(!t){o^=r.default.Initial}if(s.defaultUnkownToData&&o===r.default.Unknown){o=r.default.Data}return o}e.default=u;function l(t,e,n){"use strict";var r=t&&t.dataViews||[];var i=e.dataViews||[];if(r.length!==i.length){i.forEach(function(t){return d(t)});return true}for(var a=0;a<r.length;a++){if(g(r[a],i[a],n)){i.forEach(function(t){return d(t)});return true}}i.forEach(function(t){return d(t)});return false}function c(t,e,n){"use strict";var r=t&&t.dataViews||[];var i=e.dataViews||[];if(r.length!==i.length){return true}for(var o=0;o<r.length;o++){var s=r[o].metadata||{};var u=i[o].metadata||{};if(!a(s.objects,u.objects)){return true}}}function f(t,e,n){"use strict";return!t||e.viewport.height!==t.viewport.height||e.viewport.width!==t.viewport.width}function d(t){"use strict";if(t){var e=t.categorical&&t.categorical.categories||[];e.forEach(function(t){if(t.identity){t.identity["$prevLength"]=t.identity.length}})}}var p=["queryName","roles","sort","aggregates"];function h(t,e,n){"use strict";if(t===e){return false}else if(!t||!e){return true}if(t.length!==e.length){return true}if(t.length>0){var r=t.length-1;return!n(t[0],e[0])||!n(t[r],e[r])||s(t,function(t,r){return!n(t,e[r])})}return false}function m(t,e){"use strict";var n=h(t.identity,e.identity,function(t,e){return t.key===e.key});if(t.identity&&e.identity&&t.identity===e.identity){var r=t.identity["$prevLength"];var i=t.identity.length;t.identity["$prevLength"]=i;return r!==i}return n}function g(t,e,n){"use strict";var r=t.categorical&&t.categorical.categories||[];var i=e.categorical&&e.categorical.categories||[];var s=t.categorical&&t.categorical.values||[];var u=e.categorical&&e.categorical.values||[];var l=t.metadata&&t.metadata.columns||[];var c=e.metadata&&e.metadata.columns||[];if(r.length!==i.length||l.length!==c.length||s.length!==u.length){return true}if(n.ignoreCategoryOrder){l=l.sort(function(t,e){return t.queryName.localeCompare(e.queryName)});c=c.sort(function(t,e){return t.queryName.localeCompare(e.queryName)})}for(var f=0;f<l.length;f++){if(!a(o(l[f],p),o(c[f],p))){return true}}for(var f=0;f<r.length;f++){if(m(r[f],i[f])){return true}}if(n.checkHighlights){for(var f=0;f<s.length;f++){if(y(s[f],u[f])){return true}}}return false}function y(t,e){"use strict";if(t&&e){var n=t.highlights||[];var r=e.highlights||[];if(n===r){var i=n["$prevLength"];var a=n.length;n["$prevLength"]=a;return i!==a}if(n.length!==r.length){return true}return n.some(function(t,e){return t!==r[e]})}return false}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(59);var i=n(19);var a=n(57);var o=n(58);var s=n(21);function u(t,e,n,s){"use strict";var u;var c=r.default(t,function(t){return t.categorical.categories});var f=r.default(t,function(t){return t.categorical.categories[0].values});var g=r.default(t,function(t){return t.categorical.values});if(f){n=n||{};var y=n.colorMode===o.ColorMode.Gradient;var v=p(t)&&y;var A=d(t)?i.fullColors[0]:undefined;var b=h(t)&&!y;var x=a.default(g,A,v?n.gradient:undefined,b?n.instanceColors:undefined);u=f.map(function(t,r){var i=s?s().withCategory(c[0],r).createSelectionId():r;var a=0;var o;if(g){var u=m(g,x,r);o=u.segments;a=u.total;if(n&&n.reverseOrder){o.reverse()}}var l=e(c,r,a,i,o);l.valueSegments=o;return l});l(u);return{items:u,segmentInfo:x}}}e.convertItemsWithSegments=u;function l(t){"use strict";if(t&&t.length){var e=c(t);var n=0;t.forEach(function(t){var r=t.valueSegments||[];var i=0;r.forEach(function(t,n){t.width=Math.abs(t.value)/e.max/r.length*100;i+=t.width});if(i>n){n=i}});if(n>0){t.forEach(function(t){t.renderedValue=100*(100/n)})}}}e.computeRenderedValues=l;function c(t){"use strict";var e=0;if(t&&t.length){t.forEach(function(t){(t.valueSegments||[]).forEach(function(t,n){var r=t.value;if(typeof r==="number"){var i=Math.abs(r);if(i>e){e=i}}})})}return{min:0,max:e}}function f(t){"use strict";return s(t,"categorical.values.length",0)>0}e.dataSupportsValueSegments=f;function d(t){"use strict";if(f(t)){return r.default(t,function(t){return t.categorical.values.length},0)===1}return false}e.dataSupportsDefaultColor=d;function p(t){"use strict";if(f(t)){return r.default(t,function(t){return t.categorical.values.length},0)>0}return false}e.dataSupportsGradients=p;function h(t){"use strict";if(f(t)&&t.categorical.values.grouped){var e=t.categorical.values.grouped();return e.filter(function(t){return!!t.identity}).length>0}return false}e.dataSupportsColorizedInstances=h;function m(t,e,n){"use strict";var r=0;var i=e.map(function(e,i){var a=t[i].highlights||[];var o=a[n];var s=t[i].values[n];if(typeof s==="number"){r+=s}var u=e.color,l=e.name;var c={name:l,color:u,value:s,displayValue:s,width:0};if(a&&a.length){var f=0;if(s&&typeof s==="number"&&o){f=o/s*100}c.highlightWidth=f}return c});return{segments:i,total:r}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(54);function i(t,e){"use strict";return new r.default(t,e)}e.default=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});function n(t,e,n){"use strict";t=t||[];e=e||[];var r;var i=false;var a;var o;for(var s=t.length-1;s>=0;s--){r=t[s];i=false;for(var u=0;u<e.length;u++){a=e[u];if(n.equals(a,r)){i=true}}if(!i){t.splice(s,1);if(n.onRemove){n.onRemove(r)}}}r=undefined;for(var s=0;s<e.length;s++){a=e[s];o=undefined;for(var u=0;u<t.length;u++){r=t[u];if(n.equals(a,r)){o=r}}if(!o){t.push(a);if(n.onAdd){n.onAdd(a)}}else if(n.onUpdate){n.onUpdate(o,a)}}}e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(31);var i=[a()];e.logger=function(t){var e=r(t);e.log=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}i.forEach(function(e){e.apply(this,t)})};return e};e.logger.addWriter=function(t){i.push(t)};function a(){"use strict";return function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}console.log.apply(console,t)}}e.consoleLogWriter=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(15);function i(){"use strict";var t={};var e={merge:{},remove:{}};var n={persist:function i(a,o,s,u,l,c,f){"use strict";u=u||(typeof s==="undefined"?"remove":"merge");var d=e[u][a];if(f||!d){d={objectName:a,selector:l,properties:{}};if(!f){e[u][a]=d}t[u]=t[u]||[];t[u].push(d);if(c){d["displayName"]=c}}if(s&&s.hasOwnProperty("properties")){r(d,s)}else{d.properties[o]=s}return n},mergePersistObjects:function(t){if(t){var e=["merge","remove"];e.forEach(function(e){(t[e]||[]).forEach(function(t){var r=Object.keys(t.properties);r.forEach(function(i){n.persist(t.objectName,i,t.properties[i],e,t.selector,t.displayName,r.length<=1)})})})}},build:function(){return t}};return n}e.default=i},function(t,e){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});function r(t){"use strict";var e=function(t){n(e,t);function e(){var e=[];for(var n=0;n<arguments.length;n++){e[n]=arguments[n]}var r=this;e=e||[];r=t.apply(this,e)||this;return r}e.prototype.update=function(e){var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}var i=e.viewport,a=i.width,o=i.height;this.setDimensions({width:a,height:o});if(t.prototype.update){return t.prototype.update.apply(this,[e].concat(n))}};return e}(t);return e}e.receiveDimensions=r},function(t,e,n){e=t.exports=n(93)();e.push([t.id,'._14m4rWWoTCq9OGa208FkUa .lineup-component,._14m4rWWoTCq9OGa208FkUa .lineup .lu .tableData,._14m4rWWoTCq9OGa208FkUa .lu-popup,._14m4rWWoTCq9OGa208FkUa .lu-popup2,._14m4rWWoTCq9OGa208FkUa .lu-tooltip,._14m4rWWoTCq9OGa208FkUa .lu .headerLabel{font-family:Segoe UI,wf_segoe-ui_normal,helvetica,arial,sans-serif}._14m4rWWoTCq9OGa208FkUa .lu .addColumnButton div,._14m4rWWoTCq9OGa208FkUa .lu .sortedColumn{font-family:Segoe UI Semibold,wf_segoe-ui_semibold,helvetica,arial,sans-serif}._14m4rWWoTCq9OGa208FkUa .lineup-component,._14m4rWWoTCq9OGa208FkUa .lineup .lu .tableData,._14m4rWWoTCq9OGa208FkUa .lu-popup,._14m4rWWoTCq9OGa208FkUa .lu-popup2,._14m4rWWoTCq9OGa208FkUa .lu-popup table,._14m4rWWoTCq9OGa208FkUa .lu-tooltip,._14m4rWWoTCq9OGa208FkUa .lu .addColumnButton div,._14m4rWWoTCq9OGa208FkUa .lu .headerLabel,._14m4rWWoTCq9OGa208FkUa .lu .headerSort,._14m4rWWoTCq9OGa208FkUa .lu .stackedOption div,._14m4rWWoTCq9OGa208FkUa .lu .tableData.action div{font-size:12px}._14m4rWWoTCq9OGa208FkUa .lu .fontawe,._14m4rWWoTCq9OGa208FkUa .lu .sortedColumn,._14m4rWWoTCq9OGa208FkUa .nav li{font-size:14px}._14m4rWWoTCq9OGa208FkUa ::-webkit-scrollbar{width:8px;height:8px;background-color:transparent}._14m4rWWoTCq9OGa208FkUa ::-webkit-scrollbar-thumb,._14m4rWWoTCq9OGa208FkUa ::-webkit-scrollbar-track{background:transparent}._14m4rWWoTCq9OGa208FkUa :hover::-webkit-scrollbar-thumb{background:#c8c8c8}._14m4rWWoTCq9OGa208FkUa :hover::-webkit-scrollbar-track{background:transparent}._14m4rWWoTCq9OGa208FkUa ::-webkit-scrollbar-track-piece{background:0 0}._14m4rWWoTCq9OGa208FkUa *{-ms-overflow-style:-ms-autohiding-scrollbar;-ms-scrollbar-track-color:transparent;-ms-scrollbar-arrow-color:#c8c8c8;-ms-scrollbar-face-color:#c8c8c8}._14m4rWWoTCq9OGa208FkUa * body{scrollbar-face-color:#c8c8c8;scrollbar-track-color:transparent}._14m4rWWoTCq9OGa208FkUa .logArea{position:absolute;left:0;right:0;bottom:0;height:200px;overflow:auto;background-color:#fff;border-top:1px solid gray;display:none;z-index:1000}._14m4rWWoTCq9OGa208FkUa body{margin:0;padding:0;overflow:hidden}@font-face{font-family:table-sorter-font-awesome;src:url("data:application/octet-stream;base64,d09GRgABAAAAABYAAA8AAAAAJSQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADMAAABCsP6z7U9TLzIAAAGMAAAAQwAAAFY+IFLSY21hcAAAAdAAAADnAAACxEw6lpJjdnQgAAACuAAAABMAAAAgBtX/BGZwZ20AAALMAAAFkAAAC3CKkZBZZ2FzcAAACFwAAAAIAAAACAAAABBnbHlmAAAIZAAACjgAABBEJ4ocZmhlYWQAABKcAAAAMwAAADYKRM6VaGhlYQAAEtAAAAAfAAAAJAc3A2BobXR4AAAS8AAAADQAAABQQdb/82xvY2EAABMkAAAAKgAAACoraia2bWF4cAAAE1AAAAAgAAAAIAFzDCBuYW1lAAATcAAAAXAAAAKF1MNkVHBvc3QAABTgAAAAowAAAOSKf3dYcHJlcAAAFYQAAAB6AAAAhuVBK7x4nGNgZGBg4GKQY9BhYHRx8wlh4GBgYYAAkAxjTmZ6IlAMygPKsYBpDiBmg4gCAIojA08AeJxjYGT2ZpzAwMrAwFTFtIeBgaEHQjM+YDBkZAKKMrAyM2AFAWmuKQwOLxg+/mAO+p/FEMUcxDANKMwIkgMA6pMMeQB4nOWSPW7CQBBGn4MhCSG/TkWNohQ5BnfhRpQ5AuIauEqPcL3lZykFHXzr2RQUnCAzepZ2ZrUe7VtgDIzMl6mh+qEiR+tqNdRHTId6zbfXc15yJY31rqVWWmujrVrt1fVdfzydIHHR27l3+OtdicrnLi7yw/npzL0b/7H2pBNuuePe8zww45Ennj3NK2803ja5evr/idnw/S2rJrsIsstU8H2SCtl9KmT/qZDfRSr43m00sAG0DOwCrQJbQesgvxdtAptC2yBPp11ge6gN7BHtAxtFh8BuURfYMn0X2Df9MaA5AxdRZVYAeJxjYEADEhDIHPQ/C4QBEmwD3QB4nK1WaXfTRhQdeUmchCwlCy1qYcTEabBGJmzBgAlBsmMgXZytlaCLFDvpvvGJ3+Bf82Tac+g3flrvGy8kkLTncJqTo3fnzdXM22USWpLYC+uRlJsvxdTWJo3sPAnphk3LUXwoO3shZYrJ3wVREK2W2rcdh0REIlC1rrBEEPseWZpkfOhRRsu2pFdNyi096S5b40G9Vd9+GjrKsTuhpGYzdGg9siVVGFWiSKY9UtKmZaj6K0krvL/CzFfNUMKITiJpvBnG0EjeG2e0ymg1tuMoimyy3ChSJJrhQRR5lNUS5+SKCQzKB82Q8sqnEeXD/Iis2KOcVrBLttP8vi95p3c5P7Ffb1G25EAfyI7s4Ox0JV+EW1th3LST7ShUEXbXd0Js2exU/2aP8ppGA7crMr3QjGCpfIUQKz+hzP4hWS2cT/mSR6NaspETQetlTuxLPoHW44gpcc0YWdDd0QkR1P2SMwz2mD4e/PHeKZYLEwJ4HMt6RyWcCBMpYXM0SdowcmAlZYsqqfWumDjldVrEW8J+7drRl85o41B3YjxbDx1bOVHJ8WhSp5lMndpJzaMpDaKUdCZ4zK8DKD+iSV5tYzWJlUfTOGbGhEQiAi3cS1NBLDuxpCkEzaMZvbkbprl2LVqkyQP13KP39OZWuLnTU9oO9LNGf1anYjrYC9PpaeQv8Wna5SJF6frpGX5M4kHWAjKRLTbDlIMHb/0O0svXlhyF1wbY7u3zK6h91kTwpAH7G9AeT9UpCUyFmFWIVkBirWtZlsnVrBapyNR3Q5pWvqzTBIpyHBfHvoxx/V8zM5aYEr7fidOzIy49c+1LCNMcfJt1PZrXqcVyAXFmeU6nWZbv6zTH8gOd5lme1+kIS1unoyw/1GmB5Uc6HWN5QQuadN/BkIsw5AIOkDCEpQNDWF6CISwVDGG5CENYFmEIyyUYwvJjGMJyGYawvKxl1dRTSePamVgGbEJgYo4eucxF5WoquVRCu2hUakOeEm6VVBTPqn9loF488oY5sBZIl8iaXzHOlY9G5fjWFS1vGjtXwLHqbx+O9jnxUtaLhT8F/9XWVCW9Ys3Dk6vwG4aebCeqNql4dE2Xz1U9uv5fVFRYC/QbSIVYKMqybHBnIoSPOp2GaqCVQ8xszDy063XLmp/D/TcxQhZQ/fg3FBoL3INOWUlZ7eCs1dfbstw7g3I4EyxJMTfz+lb4IiOz0n6RWcqej3wecAWMSmXYagOtFbzZJzEPmd4kzwRxW1E2SNrYzgSJDRzzgHnznQQmYeqqDeRO4YYN+AVhbsF5J1yieqMsh+5F7PMopPxbp+JE9qhojMCz2Rthr+9Cym9xDCQ0+aV+DFQVoakYNRXQNFJuqAZfxtm6bULGDvQjKnbDsqziw8cW95WSbRmEfKSI1aOjn9Zeok6q3H5mFJfvnb4FwSA1MX9733RxkMq7WskyR20DU7calVPXmkPjVYfq5lH1vePsEzlrmm66Jx56X9Oq28HFXCyw9m0O0lImF9T1YYUNosvFpVDqZTRJ77gHGBYY0O9Qio3/q/rYfJ4rVYXRcSTfTtS30edgDPwP2H9H9QPQ92Pocg0uz/eaE59u9OFsma6iF+un6Dcwa625WboG3NB0A+IhR62OuMoNfKcGcXqkuRzpIeBj3RXiAcAmgMXgE921jOZTAKP5jDk+wOfMYdBkDoMt5jDYZs4awA5zGOwyh8Eecxh8wZx1gC+ZwyBkDoOIOQyeMCcAeMocBl8xh8HXzGHwDXPuA3zLHAYxcxgkzGGwr+nWMMwtXtBdoLZBVaADU09Y3MPiUFNlyP6OF4b9vUHM/sEgpv6o6faQ+hMvDPVng5j6i0FM/VXTnSH1N14Y6u8GMfUPg5j6TL8Yy2UGv4x8lwoHlF1sPufvifcP28VAuQABAAH//wAPeJytV11sHNUVPufe+dvZ3Zld7+yMHdtrr/cvic3G7C+JzXoSm6whGxE5pqzzsyxtQgsmOEQpraqmUhUJCakkD31BAUVpldAXQAmqhFRV6gNW1Z8XQDS8oD70pQ4oDWp5iYXHPXd2nZgGRKV2bd+Zc//2nu+e833HwADWb/NLPAh5mIa/uvokymoWFZnV913VDzTdSdCQo8ZPAOMqZ8dBlbkqL4KscFlZBEXiirQICJwhb4MEIM2DJEGTXqDRv+9qkPao0h4MNXYCVCYzVT5Bq1lnNfNXc2QqsnuX/2/fvrDghiwnnisXsuViQB4cxbilpJIj2XK0VKkmC04CTVRSI7ksdSpq1LKdZKHyIJamsFIsOHYMlZEdmBVmYQj9xrZ4T2vaG59utabxvVQiwNV+RWU8HPLGMyWspPG9TElOKyqXgj/1dobTxmeG8aCRNn6OT5NRC+O+a521e1poSDFlQEZeynQXv6zJKYVJKHu7DOMzf35YLAzTDgDkJqzfYh+yFyENCbd/pC+iSsCwTugBW0IafsoasCxJ7h3NWKZ/eHXDg9yGG9WOGyY6NvvQbETGIpcvU9OIiGfkrm2aly+bJ23xcuWKee9EMy8mAFtfW7/Gn6D4ScE47HbJQ8AhlDirMxQXC/wEuSjR7yKo5IKKdE+K4t+T0qQbVBrxeCqdSaUtTR4YxXIpq6aoyaXoSuLUOHHLrhapcYqFSrUsGsvAkTyrYSGB7Fe2cd426qaF5w0bLfOu8fap36/84TnlR7/9/Dc/wV2zNHqeBmi6ZW42it9fPn16+RPRdDAG4JfZKxCHQXeLST5gnUBmSzSESyAwdiwuO6NoqQRx7j/ig182vWGCyfukixk+56PJbDviDZsm2h0Mr+CSQBv4+vr6Vb7AIxCAHsJwu5sLcsb9b+UisAkuYAzm6ZtZE+iiG05fNi3uGEs5tIuFGpMxmxoxULUylsHyvCYlGPt43DvcOFQ7eaCw9gFe2Xfk4M8OIPt45tSlN355ci/bc/ri1ddecLF96BHvSKFw4NTTeKVw4Nzc4cPNS6do+IXXfn3hhzXlkWdfh27cXaMzBuF+qLkT25HLmUEmrhgkLu72BCCjIKS0BC7JlIjEKmxeHJsSkUFjW9lJOWlF3kKgGSw1ku1Eo00JSOfneUZX7djKKNJIuVQZwhr1JxhfoPN+q/3WpCQ3lKi07YXpXd87sJ3lG88uHdu6PxpzVukKx6KzkxfmHr94eg+2qJ2Ze1gxpP0yKuVd+cYzp59p5Ldm9kfus43V3ljP7M7azOmLwifF96mHfDJhCHbABLHfd+GY++TjDzFF25bsiwZQIbfqMlGLAgrCCYn8URVQF8GAgGYE2maYaSGdKagpLVCDQXUeVDXYhKAabBw/9mTr8MLBuUcbD9d3T1lpKys+qYhgoajluypYaAILtvMNdiyajFqEVLJQQyzmKDMUVY6LOdEOneWiBCnRFs2u1rBaLNhDhJ+NCV1La7rfnL/7ek5XO6+qPuuFNI3he0zTvJdW+yX5miLhp7pW6TJSWcx7IxcYs9+2x7Tcm5qO73i/E524W7Rf8+4dY9G1WyFL1y12fLeMKB+kb1y7lZ/Zk2cx/xBH4wOYsI7qgrLpHvazdboRC/qI2V50KSyYPGgbKoVYn0gGjkRuEglSD4lJDmQmL5EeUErSEKUkDX5HQZQknKMHSo+DhNK+fjd770xYunfigtsDkBzudSJmQKNjKBbBO+pUc2q8GMdSaoTyPG4VC1Ws5BxMlYlkMNeh0T8XzhZn8YmQLHnvS2FZwh08seKNr/D91tGVo9aEfdZSi2eLk3WmhCTvA4lazEvPr3g7buCFwfjRG0fi8bP2Ro7d9uMxBdvo5BKXfMY5SeRJhDRPDw5NolQOjVQxkyqm/HSiMMilqFEpAqrlVCd/qsVyN5LiFAa8Z9heGbYX7WFcIWTJSDiL9LJCHe+I3hs29cZv3OkV06FTF8S6+THqbqXMFnwObUoKhvMEuqAjZA0GiX47pqtgMlOWrVHcpKUUwlkn+iXRtdnzm6Sy9OO7arqnzd69I4VicOHOSEuwoJ+zt/kKnYmTlAShH0Ypb59wj4yhHCyhLg0gD1iUrVKdRmUpKLcovvSApLeJXTkL8Bb5palMa3elqEWbKjAn9m6Km2/sqhbGt2/NZjNR8YmEKF0zyXIyR3+ZYjkl8FaTHZTJPzsm8O/a1a69MV4Uvk7gU96F62xybRmPf/QRJmzji7avO/yS//hay529Xv+ovrZyzu85Z5K0odFVONGFka5+GXYnftZvUx71sncpi3rduMGZLyEbmvVAjsn2KNoqcYZKJQ8VBeUoZsUhuRmIejdtVTWJJbybPbFe9ieHvelEvJvetx2dB88HDaqTYpH7fGn07+AQW+7yZtUtbUVJ1ghYIksSAInLUpumUUFGBR2FtR8rQggQGtky/RRF5GY2ISWQ45uQdLr2ZqT5ghX54lYHnqhA4+utY3X/td6BadbHzG/R2BghoxtPH/Ib7O+gQRSSsB12wSMinmYmJ7geLI0xLdAfY6RoIp50JagTzYPCVUXEk8YC2iZHZeEouU9x17rr8Oxed+qBSiYWp2rSivWIeKpaSh5LNbTLljKSLVWIqLu+CwoXWODmgVR3oLgJlA37eu1Q7c4v79G1tUOChNnrauiLm1/Vi5sNd8xlk0cmmfvP+/wtvE8X/RmLqo4hBhudz6q6rooGbX9EWaQN/LrlGv8F5aICYRiEnW5F6tRKMiPvZWxxhYlSfF48QWoSMlIDYaDPigb1gEbxqSDpmDXqJIW+2RlqiTFi0Y6L1S5bLOC8dyHEFe9VPKjps5X0Wk+6gqUM+0empLKza+c1vYc9v3ZGZ2+tHfKZg70uHhuc+hc2iQ4JtuNagF9KiawlUmKjUM52yWlCXw0OBFeDtoGfG/a/TDKDq3qCwkbk2DqVMxMULwZEXePOTvGCn1z+XeWxUw3STpbphUyLhWi5vqrjHylTxc60HS0KdGoqyiMOMXCIy0Q2TVEVUodX3VcmMCxhfUs0ztUIKkFVaTmoQzCkB9t9JpWfBgq5afViCMIsFG7HUIThvB3oof+WRNUILepivEm0xxszM657/3hyeGCgt9eyZNLcmfpMfe9D7rQ7vWf3zsr41P1T27LDO5L5gaGBocRgb39v/5Y+qnMdOx7WpZgcE/oZ7SdZrMZT5UzBHsROjSIicQrjyXKM+sWTF2zVFyWhR5S62LHVrjQ5Ms2L0bzlZXyJAPH5y1jxEmfO8AXv+Bk/l322iwj8N9jOwN1nzngJt16f7S4R3dfrdUzMzq4t1+vs7MYy0Xp/21gnGLPemQaUnV+u+apwGJruY/t2Mk3pVnwIRGIhKvNCaltHqga0+XCQ/kel0o90pS2KwUAA58UTA00IYKCx0Hxs7tH99b3TbnYk1qnyDCEbJH2EkBKn2CYtrlS/wf7/Vnbe+/9VOTeHL/m12w/82u2r31nhG0q4fwPeYplZeJxjYGRgYABir9bZtvH8Nl8ZuJlfAEUYLi88WgGj///8v4H5JbMAkMvBwAQSBQB7QA5RAHicY2BkYGAO+p8FJF/8//n/J/NLBqAIChABALW5B5wAeJxjfsHAwLwAiAWBOPL/X+YXYPo/cyRMDEqDMEhO8P9PsBhY3///TNYMDEzWCPUAz3UR+wAAAAAA1gEgAYgBwAISAnwDQAPEBAwEVgTkBRgFfgYcBm4Glga8B3YIIgAAAAEAAAAUAGgACQAAAAAAAgA2AEYAcwAAAKwLcAAAAAB4nHWPy0rDQBSG//QmbVFQwfWstKWQXsAKXUix0K5E6KL7aZpbSTNhMi3UnQ/gK/oaLtz4Jx1EBBMm+c53bgmAK3zAwem65zmxgwqjE1dwhgfLVUaPlmvkqeU62niy3KB/ttxCDy+W27jGKyc4tSajLd4tO5z0abmCC3xZrqLmNC3XyOeW67hxLi036O8st7ByepbbuHXeZio76jiMjOjMumI0GI7F+igUVZzKRMi9iZTOxVQEKjV+kijXU7tALv1wn0gdyECufJ3HKhVDdxDIhZ/6Whp/U0zJD+HImEAEWu3E3PaLTKut7xk3Miab9Pu/52IGhQxHaMQIEcFAoEPb5XuEAYYYk9asEKw8VcVIIZHQSOzZEZWZnPGUJ2CU0vqsSMguPD539BJL2pA9CVmXpjgr2qI/LjsFd7rcXGQWzKRlVpYTNz/fkuPASSNaw8piqy63CMz/7Bf8vyK3pfHo3fIvDe0Efd7/fO83WRBvCXicbY1JDsIwEATdkIUk7Msz/CjHGYTFxA4eW4jfI8KBC3XqQ6laLdSXVv3njAWWKFCiQo0VGrTosMYGW+ywxwFHnHDGRW3tjexdyyObSDqUyY0k3cRZtHXRMpWzsOyNL7IfQpeikZumcUqvaiJvHRcfe/UrGLlLdXWcKBa9idKxk6T7zEyptoHz6KWREJMewtPX88pTLewGilLOB0q9AS4GN7AAeJxj8N7BcCIoYiMjY1/kBsadHAwcDMkFGxlYnTYxMDJogRibuZgYOSAsPgYwi81pF9MBoDQnkM3utIvBAcJmZnDZqMLYERixwaEjYiNzistGNRBvF0cDAyOLQ0dySARISSQQbOZhYuTR2sH4v3UDS+9GJgYXAAx2I/QAAA==") format("woff"),url("data:application/octet-stream;base64,AAEAAAAPAIAAAwBwR1NVQrD+s+0AAAD8AAAAQk9TLzI+IFLSAAABQAAAAFZjbWFwTDqWkgAAAZgAAALEY3Z0IAbV/wQAABkMAAAAIGZwZ22KkZBZAAAZLAAAC3BnYXNwAAAAEAAAGQQAAAAIZ2x5ZieKHGYAAARcAAAQRGhlYWQKRM6VAAAUoAAAADZoaGVhBzcDYAAAFNgAAAAkaG10eEHW//MAABT8AAAAUGxvY2Eraia2AAAVTAAAACptYXhwAXMMIAAAFXgAAAAgbmFtZdTDZFQAABWYAAAChXBvc3SKf3dYAAAYIAAAAORwcmVw5UErvAAAJJwAAACGAAEAAAAKAB4ALAABREZMVAAIAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAAAAQNLAZAABQAAAnoCvAAAAIwCegK8AAAB4AAxAQIAAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA6ADx+ANS/2oAWgNSAJYAAAABAAAAAAAAAAAABQAAAAMAAAAsAAAABAAAAdAAAQAAAAAAygADAAEAAAAsAAMACgAAAdAABACeAAAAGgAQAAMACugF8BTwRPBn8JbwrvCw8Mrw2/De8d7x+P//AADoAPAU8ETwZ/CW8K7wsPDJ8Nvw3fHe8fj//wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABABoAJAAkACQAJAAkACQAJAAmACYAKAAoAAAAAQACAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAA9AAAAAAAAAATAADoAAAA6AAAAAABAADoAQAA6AEAAAACAADoAgAA6AIAAAADAADoAwAA6AMAAAAEAADoBAAA6AQAAAAFAADoBQAA6AUAAAAGAADwFAAA8BQAAAAHAADwRAAA8EQAAAAIAADwZwAA8GcAAAAJAADwlgAA8JYAAAAKAADwrgAA8K4AAAALAADwsAAA8LAAAAAMAADwyQAA8MkAAAANAADwygAA8MoAAAAOAADw2wAA8NsAAAAPAADw3QAA8N0AAAAQAADw3gAA8N4AAAARAADx3gAA8d4AAAASAADx+AAA8fgAAAATAAIAAP/5A6ADCwAuAEMA3kAKPAEFByYBBgUCR0uwClBYQDwACAEDAQgDbQACAwcDAmUABwUDBwVrAAUGAwUGawAGBAMGBGsAAQADAgEDYAAEAAAEVAAEBABYAAAEAEwbS7ALUFhANwAIAQIBCAJtAAcCBQIHBW0ABQYCBQZrAAYEAgYEawABAwECBwECYAAEAAAEVAAEBABYAAAEAEwbQDwACAEDAQgDbQACAwcDAmUABwUDBwVrAAUGAwUGawAGBAMGBGsAAQADAgEDYAAEAAAEVAAEBABYAAAEAExZWUAMFBcVJzUyJjUzCQUdKwEVFAYjISImNRE0NjchMhceAQ8BBiMiJyYjISIGBxEUFhchMjY9ATQ/ATYzMhcWEwEGIi8BJjQ/ATYyHwEBNjIfARYUAxJeQ/4wQ15eQwHQIx4JAwcbBgcCAw0M/jAlNAE2JAHQJTQFJAYHAwQLgf45DSQO8A4OPQ4kDpMBaQ0kDj4NAUuxQ15eQwHQQl4BDgQTBhwFAQM0Jf4wJTQBNiSNCAUjBgIEAQX+Og4O8A0kDj4NDZMBaQ0NPQ4kAAAAAQAA/+8C1AKGACQAHkAbIhkQBwQAAgFHAwECAAJvAQEAAGYUHBQUBAUYKyUUDwEGIi8BBwYiLwEmND8BJyY0PwE2Mh8BNzYyHwEWFA8BFxYC1A9MECwQpKQQLBBMEBCkpBAQTBAsEKSkECwQTA8PpKQPcBYQTA8PpaUPD0wQLBCkpBAsEEwQEKSkEBBMDy4PpKQPAAL//f+xA18DCwAjADAAQUA+DQEAAR8BBAMCRwIBAAEDAQADbQUBAwQBAwRrAAcAAQAHAWAABAYGBFQABAQGWAAGBAZMFRUjJCUjJBQIBRwrATU0JgcjNTQmJyMiBgcVIyIGFxUUFjczFRQWFzMyNjc1MzI2NxQOASIuAj4BMh4BAqcWDo8WDkcPFAGPDhYBFA+PFg5HDxQBjw4WsnLG6MhuBnq89Lp+ATpIDhYBjw8UARYOjxQPSA4WAY8PFAEWDo8UM3XEdHTE6sR0dMQAAAABAAAAAAOkApgAFQAdQBoPAQABAUcAAgECbwABAAFvAAAAZhQXFAMFFysBFAcBBiInASY0PwE2Mh8BATYyHwEWA6QP/iAQLBD+6g8PTBAsEKQBbhAsEEwPAhYWEP4gDw8BFhAsEEwQEKUBbxAQTBAAA////7ADWQMQAAkAEgAjACpAJwsDAgMAAQFHAAMAAQADAWAAAAICAFQAAAACWAACAAJMFxkmJAQFGCsBNCcBFjMyPgIFASYjIg4BBxQlFA4CLgM+BB4CAtww/ltMWj5wUDL90gGlS1xTjFABAtxEcqCsonBGAkJ0nrCcdkABYFpK/lwyMlByaQGlMlCOUltbWKByRgJCdpy0mng+BkpspgAAAAABAAD/sQNZAwsAMQA+QDsqAQMFJR0CBAMCRwAEAwEDBAFtAAECAwECawAFAAMEBQNgAAIAAAJUAAICAFgAAAIATCk1FyMXJAYFGisBFA4CIyImJyY0PwE2FhceATMyPgMuAiIGBxcWBisBIiYnNTQ2HwE+ATMyHgIDWURyoFZgrjwEBUwGEQQpdkM6aFAqAi5MbG9kKE0RExf6DxQBLBFIPJpSV550QgFeV550RFJJBg4ETQUBBjU6LkxqdGpMLiglTRAtFg76GBMSSDk+RHSeAAAAAAYAAP+xAxIDCwAPAB8ALwA7AEMAZwBkQGFXRQIGCCkhGREJAQYAAQJHBQMCAQYABgEAbQQCAgAHBgAHawAOAAkIDglgDw0CCAwKAgYBCAZeAAcLCwdUAAcHC1gACwcLTGVkYV5bWVNST0xJR0E/FCQUJiYmJiYjEAUdKwERFAYrASImNRE0NjsBMhYXERQGKwEiJjURNDY7ATIWFxEUBisBIiY1ETQ2OwEyFhMRIREUHgEzITI+AQEzJyYnIwYHBRUUBisBERQGIyEiJicRIyImPQE0NjsBNz4BNzMyFh8BMzIWAR4KCCQICgoIJAgKjwoIJAgKCggkCAqOCgckCAoKCCQHCkj+DAgIAgHQAggI/on6GwQFsQYEAesKCDY0Jf4wJTQBNQgKCgisJwksFrIWLAgnrQgKAbf+vwgKCggBQQgKCgj+vwgKCggBQQgKCgj+vwgKCggBQQgKCv5kAhH97wwUCgoUAmVBBQEBBVMkCAr97y5EQi4CEwoIJAgKXRUcAR4UXQoABAAA/7EDTQL/AAYAFAAZACQAhkAXHgECBR0WDgcEAwIZAwIDAAMBAQEABEdLsBJQWEAnAAUCBW8AAgMCbwADAANvAAABAQBjBgEBBAQBUgYBAQEEVwAEAQRLG0AmAAUCBW8AAgMCbwADAANvAAABAG8GAQEEBAFSBgEBAQRXAAQBBEtZQBIAACEgGBcQDwkIAAYABhQHBRUrFzcnBxUzFQE0IyIHAQYVFDMyNwE2JxcBIzUBFA8BJzc2Mh8BFssygzNIAV8MBQT+0QQNBQQBLwMe6P4w6ANNFF3oXRQ7FoMUBzODMzxHAgYMBP7SBAYMBAEuBHHo/i/pAZodFV3pXBUVgxYAAAAAAQAA//kDEgMLACMAKUAmAAQDBG8AAQABcAUBAwAAA1QFAQMDAFgCAQADAEwjMyUjMyMGBRorARUUBicjFRQGByMiJjc1IyImJzU0NjczNTQ2OwEyFhcVMzIWAxIgFuggFmsWIAHoFx4BIBboHhdrFx4B6BYgAbdrFiAB6RYeASAV6R4XaxceAegWICAW6CAAAgAA//kDEwMLAA8AHwArQCgAAwQBAAEDAGAAAQICAVQAAQECWAACAQJMAgAeGxYTCgcADwIPBQUUKwEhIgYHERQWFyEyNjURNCYXERQGIyEiJjURNDY3ITIWAnH+MCU0ATYkAdAlNDR8XkP+MENeXkMB0EJgAsM0Jf4wJTQBNiQB0CU0Wf4wQ15eQwHQQl4BYAAAAAYAAP/5A+gDCwADAAcACwAbACsAOwBfQFwsAQULNAEKBBwBAwkUAQYABEcACwAFBAsFXgAEAAoJBApgAAkAAwIJA14AAgAIBwIIYAAHAAEABwFeAAAGBgBSAAAABlgABgAGTDo3MjAqKCYmJREREREREAwFHSslITUhJyE1ISUzNSMBFRQGByEiJic1NDYXITIWExUUBichIiYnNTQ2NyEyFhMVFAYHISImJzU0NjMhMhYCOwFm/prWAjz9xAFl19cBHhYO/GAPFAEWDgOgDxQBFg78YA8UARYOA6APFAEWDvxgDxQBFg4DoA8UQEjWR9dH/eiODxQBFg6ODxYBFAEOjw4WARQPjw8UARYBEI8PFAEWDo8OFhYAAAAAAf/5/7EDGALDABQAGEAVDgMCAAEBRwABAAFvAAAAZjgnAgUWKwEWBwERFAcGIyIvASY1EQEmNjMhMgMPCRH+7RYHBw8Kjwr+7RITGALKFwKtFxD+7f5iFwoDC48LDgEPARMQLQAAAAADAAD/+QNaAsQADwAfAC8AN0A0KAEEBQgAAgABAkcABQAEAwUEYAADAAIBAwJgAAEAAAFUAAEBAFgAAAEATCY1JjUmMwYFGislFRQGByEiJic1NDY3ITIWAxUUBichIiYnNTQ2FyEyFgMVFAYHISImJzU0NhchMhYDWRQQ/O8PFAEWDgMRDxYBFBD87w8UARYOAxEPFgEUEPzvDxQBFg4DEQ8WZEcPFAEWDkcPFAEWARBIDhYBFA9IDhYBFAEORw8UARYORw8WARQAAAAGAAD/1APpAucACAARACEAKgA6AEoAX0BcRDw7AwoLNCwCCAkbEwIEBQNHAAsACgYLCl4ABwAGAwcGYAAJAAgCCQhgAAMAAgEDAmAAAQUAAVQABQAEAAUEXgABAQBYAAABAExIRkA/ODYlExUXFhMUExIMBR0rNxQGLgE0PgEWNRQGIiY0NjIWARUUBichIiY9ATQ2NyEyFgEUBiImNDYyFgEVFAYjISImPQE0NjMhMhYDFRQGByEiJj0BNDYzITIW1j5aPj5aPj5aPj5aPgMSCgj9WggKCggCpgcM/O0+Wj4+Wj4DEgoI/VoICgoIAqYHDAEKCP1aCAoKCAKmBwxALEACPFw8AkDyLT4+Wj4+/utrBwwBCghrBwoBDAIALT4+Wj4+/utsBwoKB2wHCgoBFmsHCgEMBmsICgoAA////7EDoQMLAAYADQAdADlANgQBAAEBRwAFAgEBAAUBXgMGAgAEBABUAwYCAAAEWAAEAARMAQAcGRQRCwoJCAMCAAYBBgcFFCsXIREhERQWJREhESEyNhMRFAYHISImNxE0NjchMhZZAVT+mgwDBv6bAVMICkg2JP0SJDYBNCUC7iU0BwKD/Y8IChICcf19CgKu/VolNAE2JAKmJTQBNgAAAAABAAD/1QI8ARcADgAXQBQAAQABAUcAAQABbwAAAGYmFAIFFislFA8BBiIvASY0NjchMhYCOwr6CxwL+gsWDgH0DhbzDwr6Cwv6Ch4UARYAAAH//wAAAjsC5wAOABFADgABAAFvAAAAZhUyAgUWKwEUBiMhIi4BPwE2Mh8BFgI7FA/+DA8UAgz6Ch4K+goByQ4WFhwL+gsL+goAAAAJAAD/sQNZAsQAAwATABcAGwAfAC8APwBDAEcAm0CYOwENBAFHGhEVAwcQAQYLBwZeFwEKAAsMCgtgGQ8UAwUOAQQNBQReGAEMAA0CDA1gEwECAQMCVBYJEgMBCAEAAwEAXhMBAgIDWAADAgNMRERAQDEwISAcHBgYFBQFBAAAREdER0ZFQENAQ0JBOTYwPzE/KSYgLyEuHB8cHx4dGBsYGxoZFBcUFxYVDQoEEwUTAAMAAxEbBRUrNxUjNSUyFh0BFAYrASImPQE0Nj8BFSE1ExUjNQEVITUDMhYHFRQGJyMiJjc1NDYXATIWBxUUBgcjIiYnNTQ2FwUVIzUTFSE1xMQBiQ4WFg6PDhYWDuj+Hn19A1n+ZX0PFgEUEI4PFgEUEAH0DhYBFA+PDxQBFg4BQX19/h5AR0dIFg6PDhYWDo8PFAHWR0cBHkhI/cRHRwKDFBCODxYBFBCODxYB/uIUD48PFAEWDo8OFgFHR0cBHkhIAAAFAAD/sQMSAwsADwAfAC8ANwBbAFhAVUs5AggGKSEZEQkBBgEAAkcADAAHBgwHYAoBCAAGCFQNCwIGBAICAAEGAGAFAwIBCQkBVAUDAgEBCVgACQEJTFlYVVJPTUdGQ0AmIhMmJiYmJiMOBR0rJRE0JisBIgYVERQWOwEyNjcRNCYrASIGFREUFjsBMjY3ETQmKwEiBhURFBY7ATI2ATMnJicjBgcFFRQGKwERFAYjISImJxEjIiY9ATQ2OwE3PgE3MzIWHwEzMhYBHgoIJAgKCggkCAqPCggkCAoKCCQICo4KByQICgoIJAcK/tH6GwQFsQYEAesKCDY0Jf4wJTQBNQgKCgisJwksFrIWLAgnrQgKUgGJCAoKCP53CAoKCAGJCAoKCP53CAoKCAGJCAoKCP53CAoKAjJBBQEBBVMkCAr97y5EQi4CEwoIJAgKXRUcAR4UXQoAAAEAAAABAABKhZs9Xw889QALA+gAAAAA06HFeAAAAADTocV4//n/sAPpAxAAAAAIAAIAAAAAAAAAAQAAA1L/agAAA+j/+f/5A+kAAQAAAAAAAAAAAAAAAAAAABQD6AAAA6AAAAMRAAADWf/9A+gAAANZ//8DWQAAAxEAAANZAAADEQAAAxEAAAPoAAADEf/5A1kAAAPoAAADoP//AjsAAAI7//8DWQAAAxEAAAAAAAAA1gEgAYgBwAISAnwDQAPEBAwEVgTkBRgFfgYcBm4Glga8B3YIIgAAAAEAAAAUAGgACQAAAAAAAgA2AEYAcwAAAKwLcAAAAAAAAAASAN4AAQAAAAAAAAA1AAAAAQAAAAAAAQACADUAAQAAAAAAAgAHADcAAQAAAAAAAwACAD4AAQAAAAAABAACAEAAAQAAAAAABQALAEIAAQAAAAAABgACAE0AAQAAAAAACgArAE8AAQAAAAAACwATAHoAAwABBAkAAABqAI0AAwABBAkAAQAEAPcAAwABBAkAAgAOAPsAAwABBAkAAwAEAQkAAwABBAkABAAEAQ0AAwABBAkABQAWAREAAwABBAkABgAEAScAAwABBAkACgBWASsAAwABBAkACwAmAYFDb3B5cmlnaHQgKEMpIDIwMTYgYnkgb3JpZ2luYWwgYXV0aG9ycyBAIGZvbnRlbGxvLmNvbWZhUmVndWxhcmZhZmFWZXJzaW9uIDEuMGZhR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20AQwBvAHAAeQByAGkAZwBoAHQAIAAoAEMAKQAgADIAMAAxADYAIABiAHkAIABvAHIAaQBnAGkAbgBhAGwAIABhAHUAdABoAG8AcgBzACAAQAAgAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAGYAYQBSAGUAZwB1AGwAYQByAGYAYQBmAGEAVgBlAHIAcwBpAG8AbgAgADEALgAwAGYAYQBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQAOY2hlY2stc3F1YXJlLW8FdGltZXMLcGx1cy1jaXJjbGUFY2hlY2sDYmFuBHVuZG8LdHJhc2gtZW1wdHkGcGVuY2lsBHBsdXMIc3F1YXJlLW8FdGFza3MGZmlsdGVyBGJhcnMLbGlzdC1idWxsZXQHY29sdW1ucwlzb3J0LWRvd24Hc29ydC11cAdzbGlkZXJzBXRyYXNoAAAAAQAB//8ADwAAAAAAAAAAAAAAAAAAAAAAGAAYABgAGANS/2oDUv9qsAAsILAAVVhFWSAgS7gADlFLsAZTWliwNBuwKFlgZiCKVViwAiVhuQgACABjYyNiGyEhsABZsABDI0SyAAEAQ2BCLbABLLAgYGYtsAIsIGQgsMBQsAQmWrIoAQpDRWNFUltYISMhG4pYILBQUFghsEBZGyCwOFBYIbA4WVkgsQEKQ0VjRWFksChQWCGxAQpDRWNFILAwUFghsDBZGyCwwFBYIGYgiophILAKUFhgGyCwIFBYIbAKYBsgsDZQWCGwNmAbYFlZWRuwAStZWSOwAFBYZVlZLbADLCBFILAEJWFkILAFQ1BYsAUjQrAGI0IbISFZsAFgLbAELCMhIyEgZLEFYkIgsAYjQrEBCkNFY7EBCkOwAWBFY7ADKiEgsAZDIIogirABK7EwBSWwBCZRWGBQG2FSWVgjWSEgsEBTWLABKxshsEBZI7AAUFhlWS2wBSywB0MrsgACAENgQi2wBiywByNCIyCwACNCYbACYmawAWOwAWCwBSotsAcsICBFILALQ2O4BABiILAAUFiwQGBZZrABY2BEsAFgLbAILLIHCwBDRUIqIbIAAQBDYEItsAkssABDI0SyAAEAQ2BCLbAKLCAgRSCwASsjsABDsAQlYCBFiiNhIGQgsCBQWCGwABuwMFBYsCAbsEBZWSOwAFBYZVmwAyUjYUREsAFgLbALLCAgRSCwASsjsABDsAQlYCBFiiNhIGSwJFBYsAAbsEBZI7AAUFhlWbADJSNhRESwAWAtsAwsILAAI0KyCwoDRVghGyMhWSohLbANLLECAkWwZGFELbAOLLABYCAgsAxDSrAAUFggsAwjQlmwDUNKsABSWCCwDSNCWS2wDywgsBBiZrABYyC4BABjiiNhsA5DYCCKYCCwDiNCIy2wECxLVFixBGREWSSwDWUjeC2wESxLUVhLU1ixBGREWRshWSSwE2UjeC2wEiyxAA9DVVixDw9DsAFhQrAPK1mwAEOwAiVCsQwCJUKxDQIlQrABFiMgsAMlUFixAQBDYLAEJUKKiiCKI2GwDiohI7ABYSCKI2GwDiohG7EBAENgsAIlQrACJWGwDiohWbAMQ0ewDUNHYLACYiCwAFBYsEBgWWawAWMgsAtDY7gEAGIgsABQWLBAYFlmsAFjYLEAABMjRLABQ7AAPrIBAQFDYEItsBMsALEAAkVUWLAPI0IgRbALI0KwCiOwAWBCIGCwAWG1EBABAA4AQkKKYLESBiuwcisbIlktsBQssQATKy2wFSyxARMrLbAWLLECEystsBcssQMTKy2wGCyxBBMrLbAZLLEFEystsBossQYTKy2wGyyxBxMrLbAcLLEIEystsB0ssQkTKy2wHiwAsA0rsQACRVRYsA8jQiBFsAsjQrAKI7ABYEIgYLABYbUQEAEADgBCQopgsRIGK7ByKxsiWS2wHyyxAB4rLbAgLLEBHistsCEssQIeKy2wIiyxAx4rLbAjLLEEHistsCQssQUeKy2wJSyxBh4rLbAmLLEHHistsCcssQgeKy2wKCyxCR4rLbApLCA8sAFgLbAqLCBgsBBgIEMjsAFgQ7ACJWGwAWCwKSohLbArLLAqK7AqKi2wLCwgIEcgILALQ2O4BABiILAAUFiwQGBZZrABY2AjYTgjIIpVWCBHICCwC0NjuAQAYiCwAFBYsEBgWWawAWNgI2E4GyFZLbAtLACxAAJFVFiwARawLCqwARUwGyJZLbAuLACwDSuxAAJFVFiwARawLCqwARUwGyJZLbAvLCA1sAFgLbAwLACwAUVjuAQAYiCwAFBYsEBgWWawAWOwASuwC0NjuAQAYiCwAFBYsEBgWWawAWOwASuwABa0AAAAAABEPiM4sS8BFSotsDEsIDwgRyCwC0NjuAQAYiCwAFBYsEBgWWawAWNgsABDYTgtsDIsLhc8LbAzLCA8IEcgsAtDY7gEAGIgsABQWLBAYFlmsAFjYLAAQ2GwAUNjOC2wNCyxAgAWJSAuIEewACNCsAIlSYqKRyNHI2EgWGIbIVmwASNCsjMBARUUKi2wNSywABawBCWwBCVHI0cjYbAJQytlii4jICA8ijgtsDYssAAWsAQlsAQlIC5HI0cjYSCwBCNCsAlDKyCwYFBYILBAUVizAiADIBuzAiYDGllCQiMgsAhDIIojRyNHI2EjRmCwBEOwAmIgsABQWLBAYFlmsAFjYCCwASsgiophILACQ2BkI7ADQ2FkUFiwAkNhG7ADQ2BZsAMlsAJiILAAUFiwQGBZZrABY2EjICCwBCYjRmE4GyOwCENGsAIlsAhDRyNHI2FgILAEQ7ACYiCwAFBYsEBgWWawAWNgIyCwASsjsARDYLABK7AFJWGwBSWwAmIgsABQWLBAYFlmsAFjsAQmYSCwBCVgZCOwAyVgZFBYIRsjIVkjICCwBCYjRmE4WS2wNyywABYgICCwBSYgLkcjRyNhIzw4LbA4LLAAFiCwCCNCICAgRiNHsAErI2E4LbA5LLAAFrADJbACJUcjRyNhsABUWC4gPCMhG7ACJbACJUcjRyNhILAFJbAEJUcjRyNhsAYlsAUlSbACJWG5CAAIAGNjIyBYYhshWWO4BABiILAAUFiwQGBZZrABY2AjLiMgIDyKOCMhWS2wOiywABYgsAhDIC5HI0cjYSBgsCBgZrACYiCwAFBYsEBgWWawAWMjICA8ijgtsDssIyAuRrACJUZSWCA8WS6xKwEUKy2wPCwjIC5GsAIlRlBYIDxZLrErARQrLbA9LCMgLkawAiVGUlggPFkjIC5GsAIlRlBYIDxZLrErARQrLbA+LLA1KyMgLkawAiVGUlggPFkusSsBFCstsD8ssDYriiAgPLAEI0KKOCMgLkawAiVGUlggPFkusSsBFCuwBEMusCsrLbBALLAAFrAEJbAEJiAuRyNHI2GwCUMrIyA8IC4jOLErARQrLbBBLLEIBCVCsAAWsAQlsAQlIC5HI0cjYSCwBCNCsAlDKyCwYFBYILBAUVizAiADIBuzAiYDGllCQiMgR7AEQ7ACYiCwAFBYsEBgWWawAWNgILABKyCKimEgsAJDYGQjsANDYWRQWLACQ2EbsANDYFmwAyWwAmIgsABQWLBAYFlmsAFjYbACJUZhOCMgPCM4GyEgIEYjR7ABKyNhOCFZsSsBFCstsEIssDUrLrErARQrLbBDLLA2KyEjICA8sAQjQiM4sSsBFCuwBEMusCsrLbBELLAAFSBHsAAjQrIAAQEVFBMusDEqLbBFLLAAFSBHsAAjQrIAAQEVFBMusDEqLbBGLLEAARQTsDIqLbBHLLA0Ki2wSCywABZFIyAuIEaKI2E4sSsBFCstsEkssAgjQrBIKy2wSiyyAABBKy2wSyyyAAFBKy2wTCyyAQBBKy2wTSyyAQFBKy2wTiyyAABCKy2wTyyyAAFCKy2wUCyyAQBCKy2wUSyyAQFCKy2wUiyyAAA+Ky2wUyyyAAE+Ky2wVCyyAQA+Ky2wVSyyAQE+Ky2wViyyAABAKy2wVyyyAAFAKy2wWCyyAQBAKy2wWSyyAQFAKy2wWiyyAABDKy2wWyyyAAFDKy2wXCyyAQBDKy2wXSyyAQFDKy2wXiyyAAA/Ky2wXyyyAAE/Ky2wYCyyAQA/Ky2wYSyyAQE/Ky2wYiywNysusSsBFCstsGMssDcrsDsrLbBkLLA3K7A8Ky2wZSywABawNyuwPSstsGYssDgrLrErARQrLbBnLLA4K7A7Ky2waCywOCuwPCstsGkssDgrsD0rLbBqLLA5Ky6xKwEUKy2wayywOSuwOystsGwssDkrsDwrLbBtLLA5K7A9Ky2wbiywOisusSsBFCstsG8ssDorsDsrLbBwLLA6K7A8Ky2wcSywOiuwPSstsHIsswkEAgNFWCEbIyFZQiuwCGWwAyRQeLABFTAtAEu4AMhSWLEBAY5ZsAG5CAAIAGNwsQAFQrIAAQAqsQAFQrMKAgEIKrEABUKzDgABCCqxAAZCugLAAAEACSqxAAdCugBAAAEACSqxAwBEsSQBiFFYsECIWLEDZESxJgGIUVi6CIAAAQRAiGNUWLEDAERZWVlZswwCAQwquAH/hbAEjbECAEQAAA==") format("truetype")}._14m4rWWoTCq9OGa208FkUa [class*=" fa-"]:before,._14m4rWWoTCq9OGa208FkUa [class^=fa-]:before{font-family:table-sorter-font-awesome;font-style:normal;font-weight:400;speak:none;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em}._14m4rWWoTCq9OGa208FkUa .fa-check-square-o:before{content:"\\E800"}._14m4rWWoTCq9OGa208FkUa .fa-times:before{content:"\\E801"}._14m4rWWoTCq9OGa208FkUa .fa-plus-circle:before{content:"\\E802"}._14m4rWWoTCq9OGa208FkUa .fa-check:before{content:"\\E803"}._14m4rWWoTCq9OGa208FkUa .fa-ban:before{content:"\\E804"}._14m4rWWoTCq9OGa208FkUa .fa-undo:before{content:"\\E805"}._14m4rWWoTCq9OGa208FkUa .fa-trash-empty:before{content:"\\F014"}._14m4rWWoTCq9OGa208FkUa .fa-pencil:before{content:"\\F044"}._14m4rWWoTCq9OGa208FkUa .fa-plus:before{content:"\\F067"}._14m4rWWoTCq9OGa208FkUa .fa-square-o:before{content:"\\F096"}._14m4rWWoTCq9OGa208FkUa .fa-tasks:before{content:"\\F0AE"}._14m4rWWoTCq9OGa208FkUa .fa-filter:before{content:"\\F0B0"}._14m4rWWoTCq9OGa208FkUa .fa-bars:before{content:"\\F0C9"}._14m4rWWoTCq9OGa208FkUa .fa-list-bullet:before{content:"\\F0CA"}._14m4rWWoTCq9OGa208FkUa .fa-columns:before{content:"\\F0DB"}._14m4rWWoTCq9OGa208FkUa .fa-sort-down:before{content:"\\F0DD"}._14m4rWWoTCq9OGa208FkUa .fa-sort-up:before{content:"\\F0DE"}._14m4rWWoTCq9OGa208FkUa .fa-sliders:before{content:"\\F1DE"}._14m4rWWoTCq9OGa208FkUa .fa-trash:before{content:"\\F1F8"}._14m4rWWoTCq9OGa208FkUa .lu .weightHandle{fill:#fff;cursor:col-resize}._14m4rWWoTCq9OGa208FkUa .lu .headerLabel{font-family:Lato,Helvetica,Arial;font-weight:700;font-size:9pt;dominant-baseline:middle;fill:#000;pointer-events:none;position:relative}._14m4rWWoTCq9OGa208FkUa .lu .hist .hist-bar{background-color:#000;opacity:.3}._14m4rWWoTCq9OGa208FkUa .lu .hist .hist-bar.hover{background-color:red;opacity:.8}._14m4rWWoTCq9OGa208FkUa .lu div.headerSort{font-family:FontAwesome;font-size:10pt;fill:#fff}._14m4rWWoTCq9OGa208FkUa .lu .tableData{font-family:Lato,Helvetica,Arial;font-weight:400;font-size:9pt;dominant-baseline:middle;fill:#a9a9a9;color:#a9a9a9}._14m4rWWoTCq9OGa208FkUa .lu .tableData.action div{font-family:FontAwesome;font-size:10pt;font-weight:700;dominant-baseline:central;text-anchor:middle;fill:grey;user-select:none;color:grey}._14m4rWWoTCq9OGa208FkUa .lu .tableData.action div:hover{cursor:pointer;fill:#000;color:#000}._14m4rWWoTCq9OGa208FkUa .lu .emptyHeader{opacity:.5}._14m4rWWoTCq9OGa208FkUa .lu .sortedColumn{font-weight:bolder}._14m4rWWoTCq9OGa208FkUa .lu .fa{position:relative;top:.5pt}._14m4rWWoTCq9OGa208FkUa .lu .addColumnButton rect{fill:#fff;color:#fff;border-radius:5px}._14m4rWWoTCq9OGa208FkUa .lu .addColumnButton rect:hover{fill:#a9a9a9}._14m4rWWoTCq9OGa208FkUa .lu .addColumnButton div,._14m4rWWoTCq9OGa208FkUa .lu .addColumnButton text{font-family:FontAwesome;font-size:10pt;font-weight:700;fill:#000;dominant-baseline:central;text-anchor:middle;pointer-events:none;user-select:none}._14m4rWWoTCq9OGa208FkUa .lu .addColumnButton div{color:#000}._14m4rWWoTCq9OGa208FkUa .lu .fontawe{font-family:FontAwesome;font-size:10pt;dominant-baseline:central;text-anchor:middle}._14m4rWWoTCq9OGa208FkUa .lu .stackedColumnInfo,._14m4rWWoTCq9OGa208FkUa .singleColumnDelete,._14m4rWWoTCq9OGa208FkUa .singleColumnFilter{fill:#d3d3d3;color:#d3d3d3;cursor:pointer}._14m4rWWoTCq9OGa208FkUa .lu .singleColumnFilter.filtered{fill:#4682b4;color:#4682b4}._14m4rWWoTCq9OGa208FkUa .lu .stackedColumnInfo:hover,._14m4rWWoTCq9OGa208FkUa .singleColumnDelete:hover,._14m4rWWoTCq9OGa208FkUa .singleColumnFilter:hover{fill:#fff;color:#fff}._14m4rWWoTCq9OGa208FkUa .lu .stackedOption,._14m4rWWoTCq9OGa208FkUa .overlay{z-index:3}._14m4rWWoTCq9OGa208FkUa .lu .stackedOption div{fill:#fff;color:#fff;opacity:.9;font-family:FontAwesome;font-size:9pt;dominant-baseline:central;font-weight:700;fill:#000;color:#000;cursor:pointer}._14m4rWWoTCq9OGa208FkUa .lu .stackedOption div:hover{color:#4169e1}._14m4rWWoTCq9OGa208FkUa .lu .dragObject{opacity:.5}._14m4rWWoTCq9OGa208FkUa .lu .dragHeader{color:grey;opacity:.6}._14m4rWWoTCq9OGa208FkUa .lu .row{position:absolute;width:100%}._14m4rWWoTCq9OGa208FkUa .lu .row:hover{cursor:pointer}._14m4rWWoTCq9OGa208FkUa .lu .row.selected:before{content:" ";border:1px solid orange;position:absolute;width:100%;height:100%;box-sizing:border-box}._14m4rWWoTCq9OGa208FkUa .lu .row .text{box-sizing:border-box;padding-left:2px}._14m4rWWoTCq9OGa208FkUa .lu .row .hoveronly,._14m4rWWoTCq9OGa208FkUa .lu .row .text{position:absolute;display:inline-block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}._14m4rWWoTCq9OGa208FkUa .lu .row .hoveronly{top:50%;margin-top:-.5em}._14m4rWWoTCq9OGa208FkUa .lu .row rect.filler{fill:transparent}._14m4rWWoTCq9OGa208FkUa .lu .row.hover div{color:#000;font-weight:700}._14m4rWWoTCq9OGa208FkUa .lu .row.selected rect.filler{border:1px solid orange}._14m4rWWoTCq9OGa208FkUa .lu .row.values div{color:#000}._14m4rWWoTCq9OGa208FkUa .lu .row.hover g.tableData div,._14m4rWWoTCq9OGa208FkUa .lu .row.hover rect.tableData,._14m4rWWoTCq9OGa208FkUa .lu .row.values g.tableData div,._14m4rWWoTCq9OGa208FkUa .lu .row.values rect.tableData{opacity:.5}._14m4rWWoTCq9OGa208FkUa .lu .row .hoveronly{pointer-events:none;user-select:none}._14m4rWWoTCq9OGa208FkUa .lu .row .valueonly{user-select:none;top:50%;margin-top:-4.5pt;position:absolute}._14m4rWWoTCq9OGa208FkUa .lu .row.values .hoveronly{display:none}._14m4rWWoTCq9OGa208FkUa .lugui-me g.data line,._14m4rWWoTCq9OGa208FkUa .lugui-me line.axis{stroke:gray}._14m4rWWoTCq9OGa208FkUa .lugui-me line.bound{stroke:#000;stroke-width:2}._14m4rWWoTCq9OGa208FkUa .lugui-me circle.handle{fill:#4682b4;cursor:pointer}._14m4rWWoTCq9OGa208FkUa .lugui-me circle.handle.dragging{fill:#000}._14m4rWWoTCq9OGa208FkUa .lugui-me text.drag{visibility:hidden}._14m4rWWoTCq9OGa208FkUa .lugui-me text.centered{text-anchor:middle}._14m4rWWoTCq9OGa208FkUa .lu-popupBG{position:fixed;left:0;top:0;width:100%;height:100%;background:#fff;opacity:.3;z-index:3}._14m4rWWoTCq9OGa208FkUa .lu-popup{background:#fff;position:absolute;border-radius:10px;padding:10px;box-shadow:10px 10px 5px #888;font-family:Lato,Helvetica,Arial;font-size:10pt;dominant-baseline:central;text-anchor:middle;z-index:3}._14m4rWWoTCq9OGa208FkUa .lu-popup button{align-items:flex-start;text-align:center;cursor:default;color:#333;background-color:#ddd;box-sizing:border-box;padding:2px 6px 3px;border:2px outset #ddd}._14m4rWWoTCq9OGa208FkUa .lu-popup .selectionTable{overflow-y:scroll}._14m4rWWoTCq9OGa208FkUa .lu-popup .selectionTable table{width:95%;border:0}._14m4rWWoTCq9OGa208FkUa .lu-popup .ok{position:absolute;right:10px}._14m4rWWoTCq9OGa208FkUa .lu-popup .selectionTable tr:hover{background-color:#add8e6}._14m4rWWoTCq9OGa208FkUa .lu-popup2{background-color:hsla(0,0%,100%,.5);position:absolute;padding:2px;font-family:Lato,Helvetica,Arial;font-size:10pt;clear:right;z-index:3}._14m4rWWoTCq9OGa208FkUa .lu-popup2 *{margin:0}._14m4rWWoTCq9OGa208FkUa .lu-popup2 .ok{float:right}._14m4rWWoTCq9OGa208FkUa .lu-tooltip{background-color:#fff;min-width:200px;position:absolute;z-index:3}._14m4rWWoTCq9OGa208FkUa .lu-tooltip table{width:100%;border-collapse:collapse}._14m4rWWoTCq9OGa208FkUa .lu-tooltip tbody th{width:30%}._14m4rWWoTCq9OGa208FkUa .lu-tooltip td,._14m4rWWoTCq9OGa208FkUa .lu-tooltip th{border:1px solid #000}._14m4rWWoTCq9OGa208FkUa .lu-mode-combined{overflow-x:visible;overflow-y:auto}._14m4rWWoTCq9OGa208FkUa .lu-mode-separate .lu-header{position:absolute;top:0;left:0}._14m4rWWoTCq9OGa208FkUa .lu-mode-separate .lu-wrapper{position:relative;left:0;top:50px;width:100%;height:calc(100% - 50px);overflow-x:visible;overflow-y:auto}._14m4rWWoTCq9OGa208FkUa .lu .headerLabel{font-weight:400}._14m4rWWoTCq9OGa208FkUa .lu .sortedColumn{font-weight:600}._14m4rWWoTCq9OGa208FkUa .lu .tableData.valueonly{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}._14m4rWWoTCq9OGa208FkUa .lu .values .bar,._14m4rWWoTCq9OGa208FkUa .lu .values .stacked{opacity:.5}._14m4rWWoTCq9OGa208FkUa .lu-popup .selectionTable{background:#fff;overflow-x:auto;overflow-y:auto;width:100%;margin-top:5px;margin-bottom:5px;max-height:300px}._14m4rWWoTCq9OGa208FkUa .lu-popup .selectionTable td{vertical-align:middle}._14m4rWWoTCq9OGa208FkUa .lu-popup .selectionTable td.checkmark{vertical-align:bottom}._14m4rWWoTCq9OGa208FkUa .lu-tooltip{text-align:left;padding:2px}._14m4rWWoTCq9OGa208FkUa .lu-tooltip table{font-size:1em}._14m4rWWoTCq9OGa208FkUa .lu-tooltip tbody th{width:100px}._14m4rWWoTCq9OGa208FkUa .lu-mode-separate .lu-header{position:static;top:auto;left:auto;width:100%;height:50px}._14m4rWWoTCq9OGa208FkUa .lu-mode-separate .lu-wrapper{top:auto}._14m4rWWoTCq9OGa208FkUa .nav ul{list-style:none;padding:0;margin:0;color:#aaa}._14m4rWWoTCq9OGa208FkUa .nav li{border-bottom:1px solid #888}._14m4rWWoTCq9OGa208FkUa .nav li:first-of-type a{border-radius:5px 0 0 5px}._14m4rWWoTCq9OGa208FkUa .nav li:last-of-type a{border-radius:0 5px 5px 0}._14m4rWWoTCq9OGa208FkUa .nav a{text-decoration:none;color:#888;display:block;transition:color .3s;cursor:pointer;border:1px solid #ccc;padding:5px}._14m4rWWoTCq9OGa208FkUa .nav a .fa-stack{font-size:.5em}._14m4rWWoTCq9OGa208FkUa .add-column .fa-plus-circle,._14m4rWWoTCq9OGa208FkUa .add-stacked-column .fa-plus-circle{margin:.5em;color:green}._14m4rWWoTCq9OGa208FkUa .nav a:hover{color:#444}._14m4rWWoTCq9OGa208FkUa .nav a.active{background-color:#444;cursor:default}._14m4rWWoTCq9OGa208FkUa .nav li{border-bottom:none;font-size:1.4em;display:inline-block;margin-right:-4px}@-webkit-keyframes uil-ring-anim{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes uil-ring-anim{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}._14m4rWWoTCq9OGa208FkUa .lineup-component .load-spinner>div{position:absolute;display:block;width:160px;height:160px;top:20px;left:20px;border-radius:80px;box-shadow:0 6px 0 0 #59ebff;-webkit-animation:uil-ring-anim 1s linear infinite;animation:uil-ring-anim 1s linear infinite}._14m4rWWoTCq9OGa208FkUa .lineup-component .load-spinner{background:none;position:absolute;display:none;width:200px;height:200px;left:50%;top:50%;margin-left:-80px;margin-top:-80px;transform:scale(.5)}._14m4rWWoTCq9OGa208FkUa .lineup-component.loading .lu-wrapper{position:relative}._14m4rWWoTCq9OGa208FkUa .lineup-component.loading .lu-wrapper:after{content:" ";z-index:10;display:block;position:absolute;height:100%;top:0;left:0;right:0;background:transparent}._14m4rWWoTCq9OGa208FkUa .lineup-component.loading .load-spinner{display:block}._14m4rWWoTCq9OGa208FkUa .lu .fontawe,._14m4rWWoTCq9OGa208FkUa .lu div.headerSort{font-family:table-sorter-font-awesome!important}._14m4rWWoTCq9OGa208FkUa .fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle;padding-top:.2em}._14m4rWWoTCq9OGa208FkUa .fa-stack-1x,._14m4rWWoTCq9OGa208FkUa .fa-stack-2x{position:absolute;left:0;width:100%;text-align:center;margin-left:-.2em}._14m4rWWoTCq9OGa208FkUa .fa-stack-1x{line-height:inherit}._14m4rWWoTCq9OGa208FkUa .fa-stack-2x{font-size:2em}._14m4rWWoTCq9OGa208FkUa .clear-selection .fa-check{margin-top:.5em}._14m4rWWoTCq9OGa208FkUa .add-column .fa-plus-circle,._14m4rWWoTCq9OGa208FkUa .add-stacked-column .fa-plus-circle{margin-top:1em}._14m4rWWoTCq9OGa208FkUa .mappingArea:after{content:"Note: This only reflects the currently loaded data";font-style:italic;font-size:.75em;text-align:center;display:block;margin-bottom:20px}._14m4rWWoTCq9OGa208FkUa .lu-popup .column-domain{height:22px;clear:both}._14m4rWWoTCq9OGa208FkUa .lu-popup .column-domain .datalabel{height:16px;margin-top:4px;margin-right:2px;float:left}._14m4rWWoTCq9OGa208FkUa .lu-popup .column-domain .max-container{float:left;height:20px;margin-top:2px;margin-left:4px}._14m4rWWoTCq9OGa208FkUa .lu-popup .column-domain .max-container input{width:100px}._14m4rWWoTCq9OGa208FkUa .lu-popup .column-domain .min-container{float:left;height:20px;margin-top:2px}._14m4rWWoTCq9OGa208FkUa .lu-popup .column-domain .min-container input{width:50px}.visual-sandbox ._14m4rWWoTCq9OGa208FkUa .fa-stack{vertical-align:baseline}._14m4rWWoTCq9OGa208FkUa button{background-image:none!important;box-shadow:none!important;font-size:medium!important;width:auto!important;line-height:normal!important;white-space:normal!important;transition:initial!important;align-items:flex-start!important;text-align:center!important;cursor:default!important;color:buttontext!important;border-image-source:none!important;border-image-slice:100%!important;border-image-width:1!important;border-image-outset:0s!important;border-image-repeat:initial!important;background-color:buttonface!important;box-sizing:border-box!important;padding:2px 6px 3px!important;border:2px outset buttonface!important;text-rendering:auto!important;color:initial!important;letter-spacing:normal!important;word-spacing:normal!important;text-transform:none!important;text-indent:0!important;text-shadow:none!important;display:inline-block!important;text-align:start!important;margin:0!important;font:11px BlinkMacSystemFont!important;-webkit-writing-mode:horizontal-tb!important;-webkit-appearance:button!important;-moz-appearance:button!important}._14m4rWWoTCq9OGa208FkUa button:active{border-style:inset!important}._14m4rWWoTCq9OGa208FkUa .lineup .lu.lu-header .weightHandle{fill:#d3d3d3;stroke-width:1px;stroke:#bbb}',""]);
e.locals={className:"_14m4rWWoTCq9OGa208FkUa"}},function(t,e){t.exports=function(){var t=[];t.toString=function e(){var t=[];for(var e=0;e<this.length;e++){var n=this[e];if(n[2]){t.push("@media "+n[2]+"{"+n[1]+"}")}else{t.push(n[1])}}return t.join("")};t.i=function(e,n){if(typeof e==="string")e=[[null,e,""]];var r={};for(var i=0;i<this.length;i++){var a=this[i][0];if(typeof a==="number")r[a]=true}for(i=0;i<e.length;i++){var o=e[i];if(typeof o[0]!=="number"||!r[o[0]]){if(n&&!o[2]){o[2]=n}else if(n){o[2]="("+o[2]+") and ("+n+")"}t.push(o)}}};return t}},function(t,e,n){e=t.exports=a.debug=a["default"]=a;e.coerce=l;e.disable=s;e.enable=o;e.enabled=u;e.humanize=n(105);e.names=[];e.skips=[];e.formatters={};var r;function i(t){var n=0,r;for(r in t){n=(n<<5)-n+t.charCodeAt(r);n|=0}return e.colors[Math.abs(n)%e.colors.length]}function a(t){function n(){if(!n.enabled)return;var t=n;var i=+new Date;var a=i-(r||i);t.diff=a;t.prev=r;t.curr=i;r=i;var o=new Array(arguments.length);for(var s=0;s<o.length;s++){o[s]=arguments[s]}o[0]=e.coerce(o[0]);if("string"!==typeof o[0]){o.unshift("%O")}var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,r){if(n==="%%")return n;u++;var i=e.formatters[r];if("function"===typeof i){var a=o[u];n=i.call(t,a);o.splice(u,1);u--}return n});e.formatArgs.call(t,o);var l=n.log||e.log||console.log.bind(console);l.apply(t,o)}n.namespace=t;n.enabled=e.enabled(t);n.useColors=e.useColors();n.color=i(t);if("function"===typeof e.init){e.init(n)}return n}function o(t){e.save(t);e.names=[];e.skips=[];var n=(typeof t==="string"?t:"").split(/[\s,]+/);var r=n.length;for(var i=0;i<r;i++){if(!n[i])continue;t=n[i].replace(/\*/g,".*?");if(t[0]==="-"){e.skips.push(new RegExp("^"+t.substr(1)+"$"))}else{e.names.push(new RegExp("^"+t+"$"))}}}function s(){e.enable("")}function u(t){var n,r;for(n=0,r=e.skips.length;n<r;n++){if(e.skips[n].test(t)){return false}}for(n=0,r=e.names.length;n<r;n++){if(e.names[n].test(t)){return true}}return false}function l(t){if(t instanceof Error)return t.stack||t.message;return t}},function(t,e,n){(function(e){t.exports=e["Globalize"]=n(61)}).call(e,function(){return this}())},function(t,e,n){(function(t,e){var r;if(true){r=n(61)}else{r=t.Globalize}r.addCultureInfo("en-US","default",{englishName:"English (United States)"})})(this)},function(t,e){t.exports=function n(t,e){"use strict";var r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,s=/^0/,u=function(t){return n.insensitive&&(""+t).toLowerCase()||""+t},l=u(t).replace(i,"")||"",c=u(e).replace(i,"")||"",f=l.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=c.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(l.match(o),16)||f.length!==1&&l.match(a)&&Date.parse(l),h=parseInt(c.match(o),16)||p&&c.match(a)&&Date.parse(c)||null,m,g;if(h){if(p<h){return-1}else if(p>h){return 1}}for(var y=0,v=Math.max(f.length,d.length);y<v;y++){m=!(f[y]||"").match(s)&&parseFloat(f[y])||f[y]||0;g=!(d[y]||"").match(s)&&parseFloat(d[y])||d[y]||0;if(isNaN(m)!==isNaN(g)){return isNaN(m)?1:-1}else if(typeof m!==typeof g){m+="";g+=""}if(m<g){return-1}if(m>g){return 1}}return 0}},function(t,e){e=t.exports=n;e.getSerialize=r;function n(t,e,n,i){return JSON.stringify(t,r(e,i),n)}function r(t,e){var n=[],r=[];if(e==null)e=function(t,e){if(n[0]===e)return"[Circular ~]";return"[Circular ~."+r.slice(0,n.indexOf(e)).join(".")+"]"};return function(i,a){if(n.length>0){var o=n.indexOf(this);~o?n.splice(o+1):n.push(this);~o?r.splice(o,Infinity,i):r.push(i);if(~n.indexOf(a))a=e.call(this,i,a)}else n.push(a);return t==null?a:t.call(this,i,a)}}},function(t,e,n){var r,i,a;(function(){function o(t,e,n){var r;(function(t,e,n,r){function i(r,i,a){var o,s;this.storage=r.storage;this.spec=r;this.$container=i;this.tooltip=t.createTooltip(i.node());this.tooltip.hide();this.listeners=e.dispatch("hover","change-sortcriteria","change-filter","columns-changed","selected","multiselected","generate-histogram");this.config=n.extend(true,{},t.defaultConfig,a,{columnBundles:{primary:{sortedColumn:null,sortingOrderAsc:true,prevRowScale:null}}});this.storage.config=this.config;if(!this.config.svgLayout.addPlusSigns){this.config.svgLayout.plusSigns={}}if(this.config.svgLayout.mode==="combined"){i.classed("lu-mode-combined",true);this.$table=i.append("svg").attr("class","lu");o=this.$table.append("defs");o.append("defs").attr("class","columnheader");o.append("defs").attr("class","column");o.append("defs").attr("class","overlay");this.$body=this.$table.append("g").attr("class","body").attr("transform","translate(0,"+this.config.htmlLayout.headerHeight+")");this.$header=this.$table.append("g").attr("class","header");this.$bodySVG=this.$headerContainer=this.$table;s=this.initScrolling(n(i.node()),this.config.htmlLayout.headerHeight)}else{i.classed("lu-mode-separate",true);this.$table=i;this.$headerContainer=this.$table.append("div").attr("class","lu lu-header");this.$headerContainer.style({height:this.config.htmlLayout.headerHeight+"px",width:"100%"});this.$header=this.$headerContainer.append("div");this.$bodySVG=this.$table.append("div").attr("class","lu-wrapper").append("div").attr("class","lu lu-body").attr("height","100%").attr("style","overflow-y:auto;height:100%");this.$spacer=this.$bodySVG.append("div");this.$body=this.$bodySVG;s=this.initScrolling(n(i.node()).find("div.lu-wrapper"),0)}this.selectVisible=s.selectVisible;this.onScroll=s.onScroll;this.$header.append("div").attr("class","header-background").style({width:"100%",height:this.config.htmlLayout.headerHeight+"px","background-color":"lightgray"}).text(" ");this.$header.append("div").attr("class","main").style({width:"100%",height:this.config.htmlLayout.headerHeight+"px"}).text(" ");this.$header.append("div").attr("class","overlay");this.headerUpdateRequired=true;this.stackedColumnModified=null;this.dragWeight=this.initDragging();return this}t.prototype=i.prototype=n.extend(i.prototype,t.prototype);t.create=function(t,e,n){if(!("storage"in t)){t={storage:t}}var r=new i(t,e,n);r.startVis();return r};t.prototype.scrolled=function(t,e){if(this.config.svgLayout.mode==="combined"){this.$header.style({transform:"translate(0px,"+t+"px)"});this.$header.selectAll("div.header-background").style({transform:"translate(0px,"+-t+"px)"})}else{this.$header.style({transform:"translate("+-e+"px,0px)"});this.$header.selectAll("div.header-background").style({transform:"translate("+e+"px,0px)"})}};t.defaultConfig={colorMapping:e.map(),columnColors:e.scale.category20(),grayColor:"#999999",numberformat:e.format(".3n"),cellFormatter:r,htmlLayout:{headerHeight:50,headerOffset:0,buttonTopPadding:3,labelLeftPadding:12,buttonRightPadding:18,buttonWidth:13,handleWidth:4},renderingOptions:{stacked:false,values:false,animation:true,histograms:false},svgLayout:{mode:"combined",rowHeight:20,rowPadding:2,columnPadding:2,rowBarPadding:0,backupScrollRows:10,animationDuration:1e3,addPlusSigns:false,plusSigns:{addStackedColumn:{title:"Add stacked column",action:"addNewEmptyStackedColumn",x:0,y:2,w:21,h:21}},rowActions:[]},manipulative:true,interaction:{tooltips:true,multiselect:function(){return false},rangeselect:function(){return false}},filter:{skip:0,limit:Number.POSITIVE_INFINITY,filter:r}};t.prototype.on=function(t,e){if(arguments.length<2){return this.listeners.on(t)}this.listeners.on(t,e);return this};t.prototype.changeDataStorage=function(t){this.storage=t.storage;this.storage.config=this.config;this.spec=t;this.config.columnBundles.primary.sortedColumn=null;this.headerUpdateRequired=true;delete this.prevRowScale;this.startVis()};t.prototype.changeInteractionOption=function(t,e){var n=this.config.interaction[t];if(n===e){return}this.config.interaction[t]=e};t.prototype.changeRenderingOption=function(t,e){var n=this.config.renderingOptions[t];if(n===e){return}this.config.renderingOptions[t]=e;if(t==="histograms"){if(e){this.storage.resortData({filteredChanged:true})}}this.updateAll(true)};t.prototype.startVis=function(){this.assignColors(this.storage.getRawColumns());this.headerUpdateRequired=true;this.storage.resortData({});this.updateAll()};t.prototype.assignColors=function(n){var r=this.config;r.colorMapping=e.map();var i=0;n.forEach(function(e){if(e.color){r.colorMapping.set(e.id,e.color)}else if(e instanceof t.LineUpStringColumn||e.id==="rank"){r.colorMapping.set(e.id,r.grayColor)}else{r.colorMapping.set(e.id,r.columnColors(i));i++}})};t.prototype.updateAll=function(t,e){var n=this;function r(e){var r=n.storage.getColumnLayout(e);n.updateHeader(r);n.updateBody(r,n.storage.getData(e),t||false)}if(e){r(e)}else{Object.keys(this.storage.bundles).forEach(r)}};t.prototype.sortBy=function(t,e){t=t||this.storage.primaryKey;e=e||false;var n=this.storage.getColumnByName(t);if(!n){return false}var r=this.config.columnBundles[n.columnBundle];r.sortingOrderAsc=e;r.sortedColumn=n;this.listeners["change-sortcriteria"](this,n,r.sortingOrderAsc);if(!this.config.sorting||!this.config.sorting.external){this.storage.resortData({column:n,asc:r.sortingOrderAsc})}this.updateAll(false,n.columnBundle)};t.prototype.toggleStackedRendering=function(){this.config.renderingOptions.stacked=!this.config.renderingOptions.stacked;this.updateAll(true)};t.prototype.toggleValueRendering=function(){this.config.renderingOptions.values=!this.config.renderingOptions.values;this.updateAll(true)};t.prototype.setLimits=function(t,e){this.config.filter.skip=t;this.config.filter.limit=e;this.storage.resortData({});this.updateAll()};t.prototype.changeWeights=function(e,n){if(typeof e==="string"){e=this.storage.getColumnByName(e)}e=e||this.config.columnBundles.primary.sortedColumn;var r=e.columnBundle;if(!(e instanceof t.LayoutStackedColumn)){return false}e.updateWeights(n);if(e===this.config.columnBundles[r].sortedColumn){this.listeners["change-sortcriteria"](this,e,this.config.columnBundles[r]);if(!this.config.sorting||!this.config.sorting.external){this.storage.resortData({key:r})}}this.updateAll(false,r);return true};t.prototype.changeFilter=function(t,e){if(typeof t==="string"){t=this.storage.getColumnByName(t)}t.filter=e;this.listeners["change-filter"](this,t);if(!this.config.filtering||!this.config.filtering.external){this.storage.resortData({filteredChanged:true})}this.updateBody()};t.prototype.destroy=function(){this.tooltip.destroy();this.$container.selectAll("*").remove();if(this.config.svgLayout.mode==="combined"){this.$container.off("scroll",this.onScroll)}}})(r||(r={}),e,t);var r;(function(t,e,n,r,i){function a(t){return t.replace(/[\s!\'#$%&'\(\)\*\+,\.\/:;<=>\?\@\[\\\]\^`\{\|\}~]/g,"_")}function o(t){this.column=t.column;this.label=t.label||t.column;this.color=t.color;this.id=a(t.id||this.column);this.missingValue=t.missingValue;this.layout={};this.config=t||{}}t.LineUpColumn=o;o.prototype=n.extend({},{},{getValue:function(t){var e=t[this.column];if(typeof e==="undefined"){return this.missingValue}return e},getRawValue:function(t){var e=this.getValue(t);if(typeof e==="undefined"){return""}return e}});function s(t){return typeof t!=="number"||isNaN(t)}function u(t,n,r){o.call(this,t);this.domain=t.domain||[NaN,NaN];this.range=t.range||[0,1];if(typeof this.missingValue==="undefined"){this.missingValue=NaN}var i=this;if(s(this.domain[0])||s(this.domain[1])){var a=e.extent(r,function(t){return i.getValue(t)});if(s(this.domain[0])){this.domain[0]=a[0]}if(s(this.domain[1])){this.domain[1]=a[1]}}}t.LineUpNumberColumn=u;u.prototype=n.extend({},o.prototype,{getValue:function(t){var e=o.prototype.getValue.call(this,t);if(e===null||typeof e==="undefined"||e===""||e.toString().trim().length===0){e=this.missingValue}return+e},getRawValue:function(t){var e=o.prototype.getValue.call(this,t);if(isNaN(e)){return""}return e}});function l(t){o.call(this,t)}t.LineUpStringColumn=l;l.prototype=n.extend({},o.prototype,{});function c(t,n,r){o.call(this,t);this.categories=[];this.categoryColors=e.scale.category10().range();var i=this;if(t.categories){t.categories.forEach(function(t,e){if(typeof t==="string"){i.categories.push(t)}else{i.categories.push(t.name);i.categoryColors[e]=t.color}})}if(this.categories.length===0){this.categories=e.set(r.map(function(t){return i.getValue(t)})).values();this.categories.sort()}}t.LineUpCategoricalColumn=c;c.prototype=n.extend({},o.prototype,{});function f(t){var e=this;this.columnWidth=t.width||100;this.id=r.uniqueId("Column_");this.filter=t.filter;this.parent=t.parent||null;this.columnBundle="primary";this.sortBy=function(t,n){t=e.getValue(t);n=e.getValue(n);return e.safeSortBy(t,n)}}t.LayoutColumn=f;f.prototype=n.extend({},{},{setColumnWidth:function(t,e){this.columnWidth=t;if(!e&&this.parent){this.parent.updateWidthFromChild({id:this.id,newWidth:t})}},getColumnWidth:function(){return this.columnWidth},prepare:function(){},safeSortBy:function(t,n){var r=typeof t==="number"&&isNaN(t);var i=typeof n==="number"&&isNaN(n);if(r&&i){return 0}if(r){return 1}if(i){return-1}return e.descending(t,n)},flattenMe:function(t){t.push(this)},description:function(){var t={};t.width=this.columnWidth;t.filter=this.filter;return t},makeCopy:function(){return new f(this.description())},isFiltered:function(){if(this instanceof p){var t=this.originalMapping();var e=this.scale;if(t&&e){var n=t.domain();var r=e.domain();return!isNaN(r[0])&&!isNaN(r[1])&&(r[0]!==n[0]||r[1]!==n[1])}return false}return typeof this.filter!=="undefined"&&this.filter!==""&&this.filter!==null},filterBy:function(){return true}});function d(t,e){f.call(this,t);this.columnLink=t.column;this.column=e.get(t.column);this.id=a(r.uniqueId(this.columnLink+"_"))}t.LayoutSingleColumn=d;d.prototype=n.extend({},f.prototype,{getValue:function(t,e){if(e==="raw"){return this.column.getRawValue(t)}return this.column.getValue(t)},getLabel:function(){return this.column.label},getDataID:function(){return this.column.id},description:function(){var t=f.prototype.description.call(this);t.column=this.columnLink;return t},makeCopy:function(){var t=this.description();var n=e.map();n.set(this.columnLink,this.column);var r=new d(t,n);return r}});function p(t,n){d.call(this,t,n);this.value2pixel=e.scale.linear().domain([0,1]).range([0,this.columnWidth]);var r=t.domain||this.column.domain;if(s(r[0])){r[0]=this.column.domain[0]}if(s(r[1])){r[1]=this.column.domain[1]}this.scale=e.scale.linear().clamp(true).domain(r).range(t.range||this.column.range);this.histgenerator=e.layout.histogram();var i=this;this.histgenerator.range(this.scale.range());this.histgenerator.value(function(t){return i.getValue(t)});this._hist=[]}t.LayoutNumberColumn=p;p.prototype=n.extend({},d.prototype,{mapping:function(t){if(arguments.length<1){return this.scale}this.scale=t.clamp(true);this.histgenerator.range(t.range())},originalMapping:function(){return e.scale.linear().clamp(true).domain(this.column.domain).range(this.column.range)},getHist:function(t){var e=this;if(this.histogramGetter){this.histogramGetter(this,function(n){t.call(e,n)})}else{setTimeout(function(){t.call(e,e._hist)},0)}},prepare:function(t,n,r){this.histogramGetter=r;if(!n||r){this._hist=[];return}this._hist=this.histgenerator(t).map(function(t){return{x:t.x,dx:t.dx,y:t.y}});var i=e.max(this._hist,function(t){return t.y});this._hist.forEach(function(t){if(i>0){t.y/=i}else{t.y=0}})},binOf:function(t,e){var n=this;this.getHist(function(r){var i=n.getValue(t),a;if(r){for(a=r.length-1;a>=0;--a){var o=r[a];if(o.x<=i&&i<=o.x+o.dx){e.call(n,a);return}}}e.call(n,-1)})},setColumnWidth:function(t,e){this.value2pixel.range([0,t]);d.prototype.setColumnWidth.call(this,t,e)},getValue:function(t,e){if(e==="raw"){return this.column.getRawValue(t)}return this.scale(this.column.getValue(t))},getWidth:function(t){var e=this.getValue(t);if(isNaN(e)||typeof e==="undefined"){return 0}var n=this.scale.domain();if(n[0]===n[1]){return this.value2pixel.range()[1]}return this.value2pixel(e)},filterBy:function(t){var e=this.filter;if(typeof e==="undefined"||!this.column){return true}var n=this.getValue(t,"raw");if(typeof e==="number"&&isNaN(e)){return!isNaN(n)}else if(typeof e==="number"){return n>=e}else if(Array.isArray(e)){return e[0]<=n&&n<=e[1]}return true},description:function(){var t=f.prototype.description.call(this);t.column=this.columnLink;t.type="number";var e=this.scale.domain();var n=this.column.domain;if(e[0]!==n[0]||e[1]!==n[1]){t.domain=e}e=this.scale.range();n=this.column.range;if(e[0]!==n[0]||e[1]!==n[1]){t.range=e}return t},makeCopy:function(){var t=e.map();t.set(this.columnLink,this.column);var n=new p(this.description(),t);return n}});function h(t,e){d.call(this,t,e)}t.LayoutStringColumn=h;h.prototype=n.extend({},d.prototype,{filterBy:function(t){var e=this.filter;if(typeof e==="undefined"||!this.column){return true}var n=this.getValue(t);if(typeof n==="boolean"){return n&&n.trim().length>0}else if(typeof e==="string"&&e.length>0){return(n&&n+"").toLowerCase().indexOf(e.toLowerCase())>=0}else if(e instanceof RegExp){return(n&&n+"").match(e)}return true},makeCopy:function(){var t=e.map();t.set(this.columnLink,this.column);var n=new h(this.description(),t);return n}});function m(t,e){d.call(this,t,e)}t.LayoutCategoricalColumn=m;m.prototype=n.extend({},d.prototype,{filterBy:function(t){var e=this.filter;if(typeof e==="undefined"||!this.column){return true}var n=this.getValue(t);if(Array.isArray(e)&&e.length>0){return e.indexOf(n)>=0}else if(typeof e==="string"&&e.length>0){return n&&n.toLowerCase().indexOf(e.toLowerCase())>=0}else if(e instanceof RegExp){return n&&n.match(e)}return true},makeCopy:function(){var t=e.map();t.set(this.columnLink,this.column);var n=new m(this.description(),t);return n}});function g(t,e){d.call(this,t,e)}t.LayoutCategoricalColorColumn=g;g.prototype=n.extend({},d.prototype,{getColor:function(t){var e=this.getValue(t,"raw");if(e===null||e===""){return null}var n=this.column.categories.indexOf(e);if(n<0){return null}return this.column.categoryColors[n]},filterBy:function(t){return m.prototype.filterBy.call(this,t)},makeCopy:function(){var t=e.map();t.set(this.columnLink,this.column);var n=new g(this.description(),t);return n}});function y(t,n,i,o){f.call(this,t?t:{},[]);this.columnWidth=t?t.width||50:50;this.id=a(r.uniqueId("rank_"));this.values=e.map();this.storage=o}t.LayoutRankColumn=y;y.prototype=n.extend({},f.prototype,{setValue:function(t,e){this.values.set(t[this.storage.primaryKey],e)},getValue:function(t){return this.values.get(t[this.storage.primaryKey])},filter:function(t){var e=this.getValue(t);if(typeof e==="undefined"){return true}else if(typeof this.filter==="number"){return e>=this.filter}else if(Array.isArray(this.filter)){return this.filter[0]<=e&&e<=this.filter[1]}return true},getLabel:function(){return"Rank"},getDataID:function(){return this.id},description:function(){var t=f.prototype.description.call(this);t.type="rank";return t},makeCopy:function(){var t=this.description();var e=new y(t,null,null,this.column.storage);return e}});function v(t,e){f.call(this,t,e);this.childrenLinks=t.children||[];this.label=t.label||this.id}t.LayoutCompositeColumn=v;v.prototype=n.extend({},f.prototype,{getDataID:function(){return this.id},getLabel:function(){return this.label}});function A(t,n,r){v.call(this,t,n);this.childrenWeights=[];this.childrenWidths=[];this.toLayoutColumn=r;this.children=[];this.emptyColumns=[];this.scale=e.scale.linear().domain([0,1]).range([0,this.columnWidth]);this.init(t);var i=this;this.sortBy=function(t,e){var n=0;var r=0;i.children.forEach(function(i){n+=i.getWidth(t);r+=i.getWidth(e)});return i.safeSortBy(n,r)}}t.LayoutStackedColumn=A;A.prototype=n.extend({},v.prototype,{getValue:function(t){var e=this;var n=0;this.children.forEach(function(r,i){var a=r.getValue(t);if(isNaN(a)||typeof a==="undefined"){a=0}n+=a*e.childrenWeights[i]});return n},init:function(t){var n=this;if(this.childrenLinks.length<1){this.emptyColumns.push(new b({parent:n}))}else{if(this.childrenLinks[0].hasOwnProperty("weight")){this.childrenWeights=this.childrenLinks.map(function(t){return+(t.weight||1)});this.scale.domain([0,e.sum(this.childrenWeights)]);if(t.hasOwnProperty("width")){this.childrenWidths=this.childrenWeights.map(function(t){return n.scale(t)})}else{this.columnWidth=this.children.length*100;this.scale.range([0,n.columnWidth])}}else{this.childrenWidths=this.childrenLinks.map(function(t){return+(t.width||100)});this.childrenWeights=this.childrenWidths.map(function(t){return t/100});this.columnWidth=e.sum(this.childrenWidths);this.scale.domain([0,e.sum(this.childrenWeights)]).range([0,this.columnWidth])}this.children=this.childrenLinks.map(function(t,e){t.width=n.childrenWidths[e];t.parent=n;return n.toLayoutColumn(t)})}},flattenMe:function(t,e){var n=false;if(e){n=e.addEmptyColumns||false}t.push(this);this.children.forEach(function(e){e.flattenMe(t)});if(n){this.emptyColumns.forEach(function(e){return e.flattenMe(t)})}},filterBy:function(t){if(typeof this.filter==="undefined"){return true}var e=this.getValue(t);if(typeof this.filter==="number"){return e<=this.filter}else if(Array.isArray(this.filter)){return this.filter[0]<=e&&e<=this.filter[1]}return true},updateWidthFromChild:function(){var t=this;this.childrenWidths=this.children.map(function(t){return t.getColumnWidth()});this.childrenWeights=this.childrenWidths.map(function(e){return t.scale.invert(e)});this.columnWidth=e.sum(this.childrenWidths);this.scale.range([0,this.columnWidth]);this.scale.domain([0,e.sum(this.childrenWeights)])},setColumnWidth:function(t){var e=this;this.columnWidth=t;e.scale.range([0,this.columnWidth]);this.childrenWidths=this.childrenWeights.map(function(t){return e.scale(t)});this.children.forEach(function(t,n){return t.setColumnWidth(e.childrenWidths[n],true)})},updateWeights:function(t){this.childrenWeights=t;this.scale.domain([0,e.sum(this.childrenWeights)]);var n=this;this.childrenWidths=this.childrenWeights.map(function(t){return n.scale(t)});this.columnWidth=e.sum(this.childrenWidths);this.children.forEach(function(t,e){return t.setColumnWidth(n.childrenWidths[e],true)})},removeChild:function(n){var r=this.children.indexOf(n);var i=this;this.childrenWeights.splice(r,1);this.childrenWidths.splice(r,1);this.columnWidth=e.sum(this.childrenWidths);this.scale.range([0,this.columnWidth]);this.scale.domain([0,e.sum(this.childrenWeights)]);this.children.splice(r,1);n.parent=null;if(this.children.length<1){this.emptyColumns=[new t.LayoutEmptyColumn({parent:i})];this.columnWidth=100}},addChild:function(n,r,i){if(!(n instanceof t.LayoutNumberColumn)){return false}var a=0;if(r instanceof t.LayoutEmptyColumn){this.emptyColumns=[]}else{a=this.children.indexOf(r);if(i==="r"){a++}}this.childrenWeights.splice(a,0,this.scale.invert(n.getColumnWidth()));this.childrenWidths.splice(a,0,n.getColumnWidth());this.columnWidth=e.sum(this.childrenWidths);this.scale.range([0,this.columnWidth]);this.scale.domain([0,e.sum(this.childrenWeights)]);n.parent=this;this.children.splice(a,0,n);return true},description:function(){var t=f.prototype.description.call(this);t.type="stacked";var e=this;t.children=this.children.map(function(t,n){var r=t.description();r.weight=e.childrenWeights[n];return r});t.label=this.label;return t},makeCopy:function(){var t=this;var n=t.description();n.childrenLinks=[];var r=new A(n,{},t.toLayoutColumn);r.children=t.children.map(function(t){return t.makeCopy()});r.children.forEach(function(t){t.parent=r});r.childrenWeights=this.childrenWeights.slice(0);r.scale.domain([0,e.sum(this.childrenWeights)]);r.childrenWidths=this.childrenWeights.map(function(e){return t.scale(e)});return r}});function b(t){f.call(this,t,[]);this.id=r.uniqueId("empty_");this.label="{empty}";this.columnWidth=50}t.LayoutEmptyColumn=b;b.prototype=n.extend({},f.prototype,{getLabel:function(){return this.label},getDataID:function(){return this.id},getValue:function(){return""}});function x(t){t=t||{};f.call(this,t,[]);this.id=r.uniqueId("action_");this.label="";this.columnWidth=t.width||50}t.LayoutActionColumn=x;x.prototype=n.extend({},f.prototype,{getLabel:function(){return this.label},getDataID:function(){return this.id},description:function(){var t=f.prototype.description.call(this);t.type="actions";return t},getValue:function(){return""}})})(r||(r={}),e,t,n);var r;(function(t,e,n,r){t.prototype=t.prototype||{};function i(t,e,r,i){var a=400;i=n.extend({},i,{x:+t.node().clientWidth/2-a/2,y:0,width:a});var o=t.append("div").attr("class","lu-popupBG");var s=t.append("div").attr({"class":"lu-popup"}).style({left:i.x+"px",top:i.y+"px",width:i.width+"px"}).html('<span style="font-weight: bold">'+e+"</span>"+(r?'<input type="text" id="popupInputText" size="35" value="'+r+'"><br>':"")+'<div class="selectionTable"></div>'+'<button class="cancel"><i class="fa fa-times"></i> cancel</button>'+'<button class="ok"><i class="fa fa-check"></i> ok</button>');var u=s.select(".selectionTable").append("table");s.select(".cancel").on("click",function(){o.remove();s.remove()});return{popup:s,table:u,remove:function(){s.remove();o.remove()},onOK:function(t){return s.select(".ok").on("click",t)}}}t.prototype.addNewStackedColumnDialog=function(){var e=this;var r=i(this.$container,"Add stacked column:","Stacked");var a=e.storage.getRawColumns().filter(function(e){return e instanceof t.LineUpNumberColumn}).map(function(t){return{d:t,isChecked:false,weight:1}});var o=r.table.selectAll("tr").data(a);o.enter().append("tr");o.append("td").attr("class","checkmark");o.append("td").attr("class","datalabel").style("opacity",.8).text(function(t){return t.d.label});o.append("td").append("input").attr({"class":"weightInput",type:"text",value:function(t){return t.weight},disabled:true,size:5,maxlength:5}).on("input",function(t){t.weight=+this.value;s()});function s(){var t=r.table.selectAll("tr").data(a);t.select(".checkmark").html(function(t){return t.isChecked?'<i class="fa fa-check-square-o"></i>':'<i class="fa fa-square-o"></i>'}).on("click",function(t){t.isChecked=!t.isChecked;s()});t.select(".datalabel").style("opacity",function(t){return t.isChecked?"1.0":".8"});t.select(".weightInput").attr("disabled",function(t){return t.isChecked?null:true})}s();function u(t){return n(e.$container.node()).find("#"+t)[0]}r.onOK(function(){var t=u("popupInputText").value;if(t.length<1){window.alert("name must not be empty");return}var n=a.filter(function(t){return t.isChecked});var i={label:t,width:Math.max(n.length*100,100),children:n.map(function(t){return{column:t.d.column,type:"number",weight:t.weight}})};e.storage.addStackedColumn(i);r.remove();e.headerUpdateRequired=true;e.listeners["columns-changed"](e);e.updateAll()})};t.prototype.addNewSingleColumnDialog=function(){var t=this;var e=i(this.$container,"add single columns",r);var n=t.storage.getRawColumns().map(function(t){return{d:t,isChecked:false,weight:1}});var a=e.table.selectAll("tr").data(n);a.enter().append("tr");a.append("td").attr("class","checkmark");a.append("td").attr("class","datalabel").style("opacity",.8).text(function(t){return t.d.label});function o(){var t=e.table.selectAll("tr").data(n);t.select(".checkmark").html(function(t){return'<i class="fa fa-'+(t.isChecked?"check-":"")+'square-o"></i>'}).on("click",function(t){t.isChecked=!t.isChecked;o()});t.select(".datalabel").style("opacity",function(t){return t.isChecked?"1.0":".8"})}o();e.onOK(function(){var r=n.filter(function(t){return t.isChecked});r.forEach(function(e){t.storage.addSingleColumn({column:e.d.column})});e.remove();if(r.length){t.listeners["columns-changed"](t)}t.headerUpdateRequired=true;t.updateAll()})};t.prototype.reweightStackedColumnWidget=function(t,n){var r=function(t){return t.weight};var i=e.scale.linear().domain([0,e.max(t,r)]).range([0,120]);var a=n.selectAll("tr").data(t);var o=this.config;a.enter().append("tr");a.append("td").style({width:"20px"}).append("input").attr({"class":"weightInput",type:"text",value:function(t){return t.weight},size:5,maxlength:5}).on("input",function(e){t[e.index].weight=+this.value;s()});a.append("td").append("div").attr("class","predictBar").style({width:function(t){return i(t.weight)+"px"},height:20+"px","background-color":function(t){return o.colorMapping.get(t.dataID)}});a.append("td").attr("class","datalabel").text(function(t){return t.d});function s(){var a=n.selectAll("tr").data(t);i.domain([0,e.max(t,r)]);a.select(".predictBar").transition().style({width:function(t){return i(t.weight)+"px"}})}s()};t.prototype.reweightStackedColumnDialog=function(t){var e=this;var n=i(this.$container,'re-weight column "'+t.label+'"',r);var a=t.children.map(function(e,n){return{d:e.column.label,dataID:e.getDataID(),weight:+t.childrenWeights[n],index:n}});this.reweightStackedColumnWidget(a,n.table);n.onOK(function(){n.remove();e.changeWeights(t,a.map(function(t){return t.weight}))})};t.prototype.openMappingEditor=function(e,n){var i=e.mapping(),a=e.originalMapping();var o=this;var s=i;var u=this.$container.node().clientHeight;var l=Math.max(270,Math.min(u/2,470));var c=this.$container.append("div").attr("class","lu-popupBG");var f=this.$container.append("div").attr({"class":"lu-popup"}).style({left:+this.$container.node().clientWidth/2-100+"px",top:"0px",width:l-50+"px"}).html('<div style="font-weight: bold"> change mapping: </div>'+'<div class="mappingArea"></div>'+'<label><input type="checkbox" id="filterIt" value="filterIt">Filter Outliers</label><br>'+'<button class="cancel"><i class="fa fa-times"></i> cancel</button>'+'<button class="reset"><i class="fa fa-undo"></i> revert</button>'+'<button class="ok"><i class="fa fa-check"></i> ok</button>');var d=f.select("input").on("change",function(){h(s)});d.node().checked=Array.isArray(e.filter);var p=function(t){return+e.getValue(t,"raw")};function h(t){s=t;e.mapping(s);var i=d.node().checked;if(i){e.filter=t.domain()}else{e.filter=r}n.classed("filtered",!v(s.range(),a.range())||!v(s.domain(),a.domain()));o.listeners["change-filter"](o,e);if(!o.config.filtering||!o.config.filtering.external){o.storage.resortData({filteredChanged:true})}o.updateAll(true)}var m={callback:h,triggerCallback:"dragend",width:l-50,height:l-50};var g=a.domain();if(isNaN(g[0])){g[0]=0}if(isNaN(g[1])){g[1]=0}var y=t.mappingEditor(i,g,o.storage.rawdata,p,m,this);f.select(".mappingArea").call(y);function v(t,e){if(t&&e){var n=t[0]===e[0];var r=t[1]===e[1];if(!n&&isNaN(t[0])&&isNaN(e[0])){n=true}if(!r&&isNaN(t[1])&&isNaN(e[1])){r=true}return n&&r}return t===e}f.select(".ok").on("click",function(){h(s);f.remove();c.remove()});f.select(".cancel").on("click",function(){e.mapping(i);n.classed("filtered",!v(i.range(),a.range())||!v(i.domain(),a.domain()));f.remove();c.remove()});f.select(".reset").on("click",function(){s=i=a;h(a);y=t.mappingEditor(i,a.domain(),o.storage.rawdata,p,m,o);f.selectAll(".mappingArea *").remove();f.select(".mappingArea").call(y)})};t.prototype.stackedColumnOptionsGui=function(t){var r=this.config;var i=this.$header.select(".overlay");var a=this;var o=this.stackedColumnModified===t;if(o){i.selectAll(".stackedOption").remove();this.stackedColumnModified=null;return}function s(t){a.storage.removeColumn(t);a.listeners["columns-changed"](a);a.headerUpdateRequired=true;a.updateAll()}function u(t){var e=+this.$container.node().clientWidth/2-100;var r=0;var i=this.$container.append("div").attr("class","lu-popupBG");var o=this.$container.append("div").attr({"class":"lu-popup"}).style({left:e+"px",top:r+"px",width:"200px",height:"70px"}).html('<div style="font-weight: bold"> rename column: </div>'+'<input type="text" id="popupInputText" size="20" value="'+t.label+'"><br>'+'<button class="cancel"><i class="fa fa-times"></i> cancel</button>'+'<button class="ok"><i class="fa fa-check"></i> ok</button>');function s(t){return n(a.$container.node()).find("#"+t)[0]}o.select(".ok").on("click",function(){var e=s("popupInputText").value;if(e.length>0){t.label=e;a.updateHeader(a.storage.getColumnLayout(t.columnBundle));a.listeners["columns-changed"](a);
o.remove();i.remove()}else{window.alert("non empty string required")}});o.select(".cancel").on("click",function(){o.remove();i.remove()})}this.stackedColumnModified=t;var l=[{name:"\uf014 remove",action:s},{name:"\uf044 rename",action:u},{name:"\uf0ae re-weight",action:a.reweightStackedColumnDialog}];var c=l.length*100;var f=i.selectAll(".stackedOption").data([{d:t,o:l}]);f.exit().remove();var d=f.enter().append("div").attr({"class":"stackedOption"}).style({position:"absolute",left:function(t){return t.d.offsetX+t.d.columnWidth-c+"px"},top:"calc("+(r.htmlLayout.headerHeight/2-2)+"px - .5em)","background-color":"white",width:c+"px",height:r.htmlLayout.headerHeight/2-4+"px"});d.selectAll(".stackedOption-action").data(function(t){return t.o}).enter().append("div").attr({"class":"stackedOption-action"}).style({position:"absolute",left:function(t,e){return e*100+5+"px"},top:"calc("+(r.htmlLayout.headerHeight/4-2)+"px - .5em)"}).text(function(t){return t.name});f.selectAll(".stackedOption-action").on("click",function(n){i.selectAll(".stackedOption").remove();n.action.call(a,t);e.event.preventDefault();e.event.stopPropagation()});f.transition().style({position:"absolute",left:function(t){return t.d.offsetX+t.d.columnWidth-c+"px"},top:"calc("+(r.htmlLayout.headerHeight/2-2)+"px - .5em)"})};t.prototype.openCategoricalFilterPopup=function(e,n){if(!(e instanceof t.LayoutCategoricalColumn)){return}var r=e.filter||[];var i=this.$container.append("div").attr("class","lu-popupBG");var a=this.$container.append("div").attr({"class":"lu-popup"}).style({left:+this.$container.node().clientWidth/2-100,top:"0px",width:400+"px"}).html('<span style="font-weight: bold">Edit Filter</span>'+'<form onsubmit="return false">'+'<div class="selectionTable"><table><thead><th></th><th>Category</th></thead><tbody></tbody></table></div>'+'<button class="ok"><i class="fa fa-check" title="ok"></i></button>'+'<button class="cancel"><i class="fa fa-times" title="cancel"></i></button>'+'<button class="reset"><i class="fa fa-undo" title="reset"></i></button></form>');a.select(".selectionTable").style({width:400-10+"px",height:300-40+"px"});var o=this;var s=e.column.categories.map(function(t){return{d:t,isChecked:r.length===0||r.indexOf(t)>=0}});var u=a.select("tbody").selectAll("tr").data(s);u.enter().append("tr");u.append("td").attr("class","checkmark");u.append("td").attr("class","datalabel").text(function(t){return t.d});function l(){var t=a.select("tbody").selectAll("tr").data(s);t.select(".checkmark").html(function(t){return'<i class="fa fa-'+(t.isChecked?"check-":"")+'square-o"></i>'}).on("click",function(t){t.isChecked=!t.isChecked;l()});t.select(".datalabel").style("opacity",function(t){return t.isChecked?"1.0":".8"})}l();function c(t){var r=e.filter||false;t=t||false;if(r!==t){e.filter=t;n.classed("filtered",t&&t.length>0&&t.length<e.column.categories.length);o.listeners["change-filter"](o,e);if(!o.config.filtering||!o.config.filtering.external){o.storage.resortData({filteredChanged:true})}o.updateBody()}}a.select(".cancel").on("click",function(){c(r);a.remove();i.remove()});a.select(".reset").on("click",function(){s.forEach(function(t){t.isChecked=true});l();c(null)});a.select(".ok").on("click",function(){var t=s.filter(function(t){return t.isChecked}).map(function(t){return t.d});if(t.length===e.column.categories.length){t=[]}c(t);a.remove();i.remove()})};t.prototype.openFilterPopup=function(e,r){if(!(e instanceof t.LayoutStringColumn)){return}var i={left:e.offsetX,top:0};var a=e.filter||"";var o=this.$container.append("div").attr("class","lu-popupBG");var s=this.$container.append("div").attr({"class":"lu-popup2"}).style({left:i.left+"px",top:i.top+"px"}).html('<form onsubmit="return false"><input type="text" id="popupInputText" placeholder="containing..." autofocus="true" size="18" value="'+a+'"><br>'+'<button class="ok"><i class="fa fa-check" title="ok"></i></button>'+'<button class="cancel"><i class="fa fa-times" title="cancel"></i></button>'+'<button class="reset"><i class="fa fa-undo" title="reset"></i></button></form>');var u=this;function l(t){var n=e.filter||false;t=t||false;if(n!==t){e.filter=t;r.classed("filtered",t&&t.length>0);u.listeners["change-filter"](u,e);if(!u.config.filtering||!u.config.filtering.external){u.storage.resortData({filteredChanged:true})}u.updateBody()}}function c(t){return n(u.$container.node()).find("#"+t)[0]}s.select(".cancel").on("click",function(){c("popupInputText").value=a;l(a);s.remove();o.remove()});s.select(".reset").on("click",function(){c("popupInputText").value="";l(null)});s.select(".ok").on("click",function(){l(c("popupInputText").value);s.remove();o.remove()})};t.createTooltip=function(t){var e=n(t),r=n('<div class="lu-tooltip"/>').appendTo(e);function i(t,i){r.html(t).css({left:i.x+"px",top:i.y+i.height-e.offset().top+"px"}).fadeIn();var a=n(window).height()+n(window).scrollTop()<=i.y+i.height+r.height()-20;var o=n(window).scrollTop()>i.y-r.height();if(a&&!o){r.css("top",i.y-r.height()-e.offset().top+"px")}}function a(){r.stop(true).hide()}function o(t){if(t.x){r.css({left:t.x+"px"})}if(t.y){r.css({top:t.y-e.offset().top+"px"})}}function s(){return[r.width(),r.height()]}function u(){r.remove()}return{show:i,hide:a,move:o,size:s,destroy:u}};t.prototype.initScrolling=function(t,e){var r=this,i=t[0],a=this.config.svgLayout.rowHeight+this.config.svgLayout.rowPadding,o=i.scrollTop,s=n(this.$table.node()),u=this.config.svgLayout.backupScrollRows,l;function c(){var t=i.scrollTop;var e=i.scrollLeft;r.scrolled(t,e);if(Math.abs(o-t)>=a*(u/2)){o=t;r.updateBody()}}t.on("scroll",c);l=s.offset().top-t.offset().top+e;function f(e,n){var r=i.scrollTop-l,o=r+t.innerHeight(),s=0,c;if(r>0){s=Math.round(r/a);while(s>=0&&n(e[s+1])>r){s--}s-=u}{c=Math.round(o/a);while(c<=e.length&&n(e[c-1])<o){c++}c+=u}return[Math.max(s,0),Math.min(c,e.length)]}return{selectVisible:f,onScroll:c}};t.prototype.initDragging=function(){var n=this;function r(){e.event.sourceEvent.stopPropagation();e.select(this).classed("dragging",true)}function i(){var t=Math.max(e.mouse(this.parentNode)[0],n.config.htmlLayout.handleWidth/2);n.reweightHeader({column:e.select(this).data()[0],value:t});n.updateBody(n.storage.getColumnLayout(),n.storage.getData(),false)}function a(){e.select(this).classed("dragging",false);if(n.config.columnBundles.primary.sortedColumn instanceof t.LayoutStackedColumn){n.listeners["change-sortcriteria"](n,n.config.columnBundles.primary.sortedColumn);if(!n.config.sorting||!n.config.sorting.external){n.storage.resortData({column:n.config.columnBundles.primary.sortedColumn})}n.updateBody(n.storage.getColumnLayout(),n.storage.getData(),false)}}return e.behavior.drag().origin(function(t){return t}).on("dragstart",r).on("drag",i).on("dragend",a)}})(r||(r={}),e,t);var r;(function(t,e,n){"use strict";function r(t,e,n,r,i,a){return t.append("line").attr({x1:e,y1:n,x2:r,y2:i,"class":a})}function i(t,e,n,r,i,a,o,s,u){i=i||null;a=a||null;return t.append("text").attr({x:e,y:n,dy:i,"class":a,"clip-path":"url("+o+"#clip-H"+s+")","text-anchor":u}).text(r)}function a(t,e,n,r,i){n-=e;return t.append("circle").attr({"class":"handle",r:i,cx:e,cy:r,transform:"translate("+n+",0)"})}function o(t){if(typeof t!=="undefined"&&t!==null){if((t+"").length<=5){return t}else if(t.toExponential){return t.toExponential(1)}else if(t.substring){return t.substring(0,3)+"..."}return t}return""}t.mappingEditor=function(t,s,u,l,c,f){var d=f.getClipSource.apply(f.$container[0][0]);c=n.extend({width:400,height:400,padding:50,radius:10,callback:n.noop,callbackThisArg:null,triggerCallback:"change"},c);var p=function(n){var f=n.append("svg").attr({"class":"lugui-me",width:c.width,height:c.height});var p=c.padding;var h=c.width-c.padding;var m=c.padding;var g=c.height-c.padding;var y=e.scale.linear().domain(s).range([p,h]);var v=e.scale.linear().domain([0,1]).range([p,h]);var A=v(t.range()[0]);var b=v(t.range()[1]);var x=t.domain();if(isNaN(x[0])){x[0]=0}if(isNaN(x[1])){x[1]=0}var E=y(x[0]);var T=y(x[1]);t=e.scale.linear().clamp(true).domain(x).range([A,b]);var w=[{name:"score_min",x:p,y:m-25,width:40,height:20},{name:"score_max",x:h-40,y:m-25,width:40,height:20},{name:"value_min",x:p,y:g+20,width:45,height:20},{name:"value_max",x:h-45,y:g+20,width:45,height:20}];f.append("defs");var S=f.select("defs").selectAll(function(){return this.getElementsByTagName("clipPath")}).data(w,function(t){return t.name});S.enter().append("clipPath").attr("id",function(t){return"clip-H"+t.name}).append("rect");S.exit().remove();S.select("rect").attr({x:function(t){return t.x},y:function(t){return t.y},width:function(t){return t.width},height:function(t){return t.height}});var O=f.append("g");r(O,p,m,h,m,"axis");i(O,p,m-25,0,".75em",undefined,d,"score_min","start");i(O,h,m-25,1,".75em",undefined,d,"score_max","end");i(O,c.width/2,m-25,"Score",".75em","centered",d,"score","middle");r(O,p,g,h,g,"axis");i(O,p,g+20,o(s[0]),".75em",undefined,d,"value_min","start");i(O,h,g+20,o(s[1]),".75em",undefined,d,"value_max","end");i(O,c.width/2,g+20,"Raw",".75em","centered",d,"value","middle");var I=f.append("g").classed("data",true).selectAll("line").data(u);I.enter().append("line").attr({x1:function(e){return t(l(e))},y1:m,x2:function(t){return y(l(t))},y2:g}).style("visibility",function(t){var e;if(E<T){e=y(l(t))<E||y(l(t))>T}else{e=y(l(t))>E||y(l(t))<T}return e?"hidden":null});var C=r(f,A,m,E,g,"bound");var N=r(f,b,m,T,g,"bound");var R=i(f,p+5,m-15,e.round(v.invert(A),2),".25em","drag").attr("transform","translate("+(A-p)+",0)");var D=i(f,p+5,g-15,e.round(y.invert(E),2),".25em","drag").attr("transform","translate("+(E-p)+",0)");var F=i(f,h+5,m-15,e.round(v.invert(b),2),".25em","drag").attr("transform","translate("+(b-h)+",0)");var M=i(f,h+5,g-15,e.round(y.invert(T),2),".25em","drag").attr("transform","translate("+(T-h)+",0)");function _(t,n){return e.behavior.drag().on("dragstart",function(){e.select(this).classed("dragging",true).attr("r",c.radius*1.1);t.style("visibility","visible")}).on("drag",n).on("dragend",function(){e.select(this).classed("dragging",false).attr("r",c.radius);t.style("visibility",null);L(true)}).origin(function(){var t=e.transform(e.select(this).attr("transform"));return{x:t.translate[0],y:t.translate[1]}})}function P(){t.range([A,b]);I.attr("x1",function(e){return t(l(e))});L()}function k(){var e,n;if(E<T){e=I.filter(function(t){return y(l(t))<E||y(l(t))>T});n=I.filter(function(t){return!(y(l(t))<E||y(l(t))>T)})}else{e=I.filter(function(t){return y(l(t))>E||y(l(t))<T});n=I.filter(function(t){return!(y(l(t))>E||y(l(t))<T)})}e.style("visibility","hidden");t.domain([y.invert(E),y.invert(T)]);n.style("visibility",null).attr("x1",function(e){return t(l(e))});L()}a(f,p,A,m,c.radius).call(_(R,function(){if(e.event.x>=0&&e.event.x<=h-p){C.attr("x1",p+e.event.x);e.select(this).attr("transform","translate("+e.event.x+", 0)");A=e.event.x+p;R.text(e.round(v.invert(A),2)).attr("transform","translate("+e.event.x+", 0)");P()}}));a(f,h,b,m,c.radius).call(_(F,function(){if(e.event.x>=-1*(h-p)&&e.event.x<=0){N.attr("x1",h+e.event.x);e.select(this).attr("transform","translate("+e.event.x+", 0)");b=e.event.x+h;F.text(e.round(v.invert(b),2)).attr("transform","translate("+e.event.x+", 0)");P()}}));a(f,p,E,g,c.radius).call(_(D,function(){if(e.event.x>=0&&e.event.x<=h-p){C.attr("x2",p+e.event.x);e.select(this).attr("transform","translate("+e.event.x+", 0)");E=e.event.x+p;D.text(e.round(y.invert(E),2)).attr("transform","translate("+e.event.x+", 0)");k()}}));a(f,h,T,g,c.radius).call(_(M,function(){if(e.event.x>=-1*(h-p)&&e.event.x<=0){N.attr("x2",h+e.event.x);e.select(this).attr("transform","translate("+e.event.x+", 0)");T=e.event.x+h;M.text(e.round(y.invert(T),2)).attr("transform","translate("+e.event.x+", 0)");k()}}));function L(t){if(t!==(c.triggerCallback==="dragend")){return}var n=e.scale.linear().domain([y.invert(E),y.invert(T)]).range([v.invert(A),v.invert(b)]);c.callback.call(c.callbackThisArg,n)}};return p}})(r||(r={}),e,t);var r;(function(t,e,n,r,i){function a(e){return function n(r){r.columnBundle=e;if(r instanceof t.LayoutStackedColumn){r.children.forEach(n)}}}function o(r,i,a,s,u){this.storageConfig=n.extend(true,{},{colTypes:{number:t.LineUpNumberColumn,string:t.LineUpStringColumn,categorical:t.LineUpCategoricalColumn},layoutColumnTypes:{number:t.LayoutNumberColumn,single:t.LayoutStringColumn,string:t.LayoutStringColumn,categorical:t.LayoutCategoricalColumn,categoricalcolor:t.LayoutCategoricalColorColumn,stacked:t.LayoutStackedColumn,rank:t.LayoutRankColumn,actions:t.LayoutActionColumn}},u);this.config=null;var l=this.storageConfig.colTypes;var c=this.storageConfig.layoutColumnTypes;var f=this;function d(t){return new l[t.type](t,d,r)}this.storageConfig.toColumn=d;this.primaryKey=s;this.rawdata=r;this.selected=e.set();this.rawcols=i.map(d);this.layout=a||o.generateDefaultLayout(this.rawcols);var p=e.map();this.rawcols.forEach(function(t){p.set(t.column,t)});function h(e){var n=e.type||"single";if(n==="single"){var r=p.get(e.column);if(r instanceof t.LineUpNumberColumn){n="number"}else if(r instanceof t.LineUpCategoricalColumn){n="categorical"}}return new c[n](e,p,h,f)}this.storageConfig.toLayoutColumn=h;var m=this.bundles={};Object.keys(this.layout).forEach(function(t){m[t]={layoutColumns:[],needsLayout:true,data:r,initialSort:true}})}t.LineUpLocalStorage=o;t.createLocalStorage=function(t,e,n,r,i){return new o(t,e,n,r,i)};o.generateDefaultLayout=function(e){var n=e.map(function(e){return{column:e.column,width:e instanceof t.LineUpStringColumn?200:100}});return{primary:n}};o.prototype=n.extend({},{},{getRawColumns:function(){return this.rawcols},getColumnLayout:function(t){var e=t||"primary";if(this.bundles[e].needsLayout){this.generateLayout(this.layout,e);this.bundles[e].needsLayout=false}return this.bundles[e].layoutColumns},isSelected:function(t){return this.selected.has(t[this.primaryKey])},select:function(t){this.selected.add(t[this.primaryKey])},selectAll:function(t){var e=this;t.forEach(function(t){e.selected.add(t[e.primaryKey])})},setSelection:function(t){this.clearSelection();this.selectAll(t)},deselect:function(t){this.selected.remove(t[this.primaryKey])},selectedRows:function(){return this.rawdata.filter(this.isSelected.bind(this))},clearSelection:function(){this.selected=e.set()},getData:function(t){t=t||"primary";return this.bundles[t].data},filterData:function(t){var e=[];t.forEach(function(t){t.flattenMe(e)});e=e.filter(function(t){return t.isFiltered()});if(n.isFunction(this.config.filter.filter)){e.push(this.config.filter.filter)}if(e.length===0){return this.rawdata}else{return this.rawdata.filter(function(t){return e.every(function(e){return e.filterBy(t)})})}},resortData:function(n){var r=n.key||"primary",i=this;var a=this.bundles[r];var o=n.asc||this.config.columnBundles[r].sortingOrderAsc;var s=n.column||this.config.columnBundles[r].sortedColumn;var u=this.getColumnLayout(r);a.data=this.filterData(u);if(n.filteredChanged||a.initialSort){var l=[];u.forEach(function(t){t.flattenMe(l)});var c=i.config.histograms&&i.config.histograms.generator;l.forEach(function(t){t.prepare(a.data,i.config.renderingOptions.histograms,c)});a.initialSort=false}var f=this.primaryKey;function d(t,n){var r=s.sortBy(t,n);if(r===0||isNaN(r)){return e.ascending(t[f],n[f])}return o?-r:r}if(s){a.data.sort(d)}var p=this.config.filter.skip?this.config.filter.skip:0;if(this.config.filter.limit&&isFinite(this.config.filter.limit)){a.data=a.data.slice(p,p+this.config.filter.limit)}else{a.data=a.data.slice(p)}var h=a.layoutColumns.filter(function(e){return e instanceof t.LayoutRankColumn});if(h.length>0){var m=function(t,e){return e};if(s){m=function(t){return s.getValue(t)}}this.assignRanks(a.data,m,h)}},assignRanks:function(t,e,n){var r=1;var i=-1;t.forEach(function(t,a){if(i===-1){i=e(t,a)}if(i!==e(t,a)){r=a+1;i=e(t,a)}n.forEach(function(e){e.setValue(t,r)})})},generateLayout:function(e,n){var r=n||"primary";var i=this.bundles[r];i.layoutColumns=e[r].map(this.storageConfig.toLayoutColumn);if(i.layoutColumns.filter(function(e){return e instanceof t.LayoutRankColumn}).length<1){i.layoutColumns.unshift(new t.LayoutRankColumn(null,null,null,this))}if(this.config.svgLayout.rowActions.length>0&&i.layoutColumns.filter(function(e){return e instanceof t.LayoutActionColumn}).length<1){i.layoutColumns.push(new t.LayoutActionColumn)}i.layoutColumns.forEach(a(r))},addColumn:function(e,n,r){var i=n||"primary";var a=this.bundles[i].layoutColumns,o,s;if(typeof r==="undefined"||r===null){for(o=0;o<a.length;++o){s=a[o];if(s instanceof t.LayoutRankColumn||s instanceof t.LayoutStringColumn){continue}break}}else{if(r<0){r=a.length+1+r}o=Math.max(0,Math.min(a.length,r))}e.columnBundle=i;a.splice(o,0,e)},addStackedColumn:function(t,e,r){var i=n.extend({type:"stacked",label:"Stacked",children:[]},t);this.addColumn(this.storageConfig.toLayoutColumn(i),r,e)},addSingleColumn:function(t,e,n){this.addColumn(this.storageConfig.toLayoutColumn(t),n,e)},removeColumn:function(e){var n=this.bundles[e.columnBundle].layoutColumns;if(e instanceof t.LayoutStackedColumn){var a=r.indexOf(n,e);if(a!==i){var o=[];Array.prototype.splice.apply(n,[a,1].concat(o))}}else if(e.column){if(e.parent===null||e.parent===i){n.splice(n.indexOf(e),1)}else{e.parent.removeChild(e);this.resortData({})}}},moveColumn:function(t,e,n){var r=this.bundles[t.columnBundle].layoutColumns,i=this.bundles[e.columnBundle].layoutColumns,o;if(t.parent==null&&e.parent==null){r.splice(r.indexOf(t),1);o=i.indexOf(e);if(n==="r"){o++}i.splice(o,0,t)}else if(t.parent!==null&&e.parent===null){t.parent.removeChild(t);o=i.indexOf(e);if(n==="r"){o++}i.splice(o,0,t)}else if(t.parent===null&&e.parent!==null){if(e.parent.addChild(t,e,n)){r.splice(r.indexOf(t),1)}}else if(t.parent!==null&&e.parent!==null){t.parent.removeChild(t);e.parent.addChild(t,e,n)}a(e.columnBundle)(t);this.resortData({})},copyColumn:function(t,e,n){var r=this.bundles[e.columnBundle].layoutColumns;var i=t.makeCopy();a(e.columnBundle)(i);if(e.parent==null){var o=r.indexOf(e);if(n==="r"){o++}r.splice(o,0,i)}else if(e.parent!==null){e.parent.addChild(i,e,n)}this.resortData({})},getColumnByName:function(t,e){var n=this.getColumnLayout().slice(0);var r=[];for(var i=n.length-1;i>=0;--i){var a=n[i];if(a.getLabel()===t||a.column&&a.column.column===t){if(!e){return a}r.push(a)}else if(a.children){for(var o=0;o<a.children.length;o++){n.unshift(a.children[o]);i++}}}return!e?null:r}})})(r||(r={}),e,t,n);var r;(function(t,e,n,r){t.prototype=t.prototype||{};function i(e,n,r){var i=e.filter(function(e){return e instanceof t.LayoutCategoricalColumn||e instanceof t.LayoutStringColumn||e instanceof t.LayoutRankColumn});var a=r.svgLayout.columnPadding;var o=n.selectAll(".tableData.text").data(function(e){var n=i.map(function(n){return{value:n.getValue(e),label:n.getValue(e,"raw"),offsetX:n.offsetX+a/2,width:Math.max(n.getColumnWidth()-a,0),isRank:n instanceof t.LayoutRankColumn,column:n,row:e}}).filter(function(t){return!!r.cellFormatter||!!t.label});return n});function s(t){return["left:"+t.offsetX+"px","width:"+t.width+"px","line-height:"+r.svgLayout.rowHeight+"px"].join(";")}var u=o.enter().append("div").attr({"class":function(t){return"tableData text"+(t.isRank?" rank":"")},style:s});o.exit().remove();o.attr("style",s).text(function(t){return t.label});if(r.cellFormatter){u.call(r.cellFormatter);o.call(r.cellFormatter)}n.selectAll(".tableData.text.rank").text(function(t){return t.label})}function a(e,n,r,i){var a=e.filter(function(e){return e instanceof t.LayoutCategoricalColorColumn});var o=i.svgLayout.rowHeight-i.svgLayout.rowBarPadding*2;var s=n.selectAll(".tableData.cat").data(function(t){var e=a.map(function(e){return{value:e.getValue(t),label:e.getValue(t,"raw"),offsetX:e.offsetX,columnW:e.getColumnWidth(),color:e.getColor(t),clip:"url(#clip-B"+e.id+")"}});return e});s.enter().append("rect").attr({"class":"tableData cat",y:i.svgLayout.rowBarPadding,height:i.svgLayout.rowHeight-i.svgLayout.rowBarPadding*2,width:o}).append("title");s.exit().remove();s.attr("x",function(t){return t.offsetX+2}).style("fill",function(t){return t.color}).select("title").text(function(t){return t.label})}function o(e,n){if(!e.renderingOptions.stacked||e.renderingOptions.values){return false}var r=e.columnBundles.primary.sortedColumn;if(r){if(r&&r.column&&r.column.column){var i=n.storage.getColumnByName(r.column.column,true);for(var a=0;a<i.length;a++){if(i[a].parent instanceof t.LayoutStackedColumn){return false}}}}return!(r&&r.parent instanceof t.LayoutStackedColumn)}function s(n,r,i){var a=n.filter(function(e){return e.column instanceof t.LineUpNumberColumn});var o=r.selectAll(".tableData.bar").data(function(t){var e=a.map(function(e){return{key:e.getDataID(),value:e.getWidth(t),label:e.column.getRawValue(t),offsetX:e.offsetX}});return e});var s=i.svgLayout.columnPadding;var u=i.svgLayout.rowHeight-i.svgLayout.rowBarPadding*2;var l={position:"absolute",left:function(t){return t.offsetX+s/2+"px"},width:function(t){return Math.max(+t.value-s,0)+"px"},height:u+"px","margin-top":i.svgLayout.rowBarPadding+"px","background-color":function(t){return e.rgb(i.colorMapping.get(t.key))}};o.enter().append("div").attr({"class":"tableData bar"}).style(l);o.exit().remove();o.style(l)}function u(n,i,a,s,u){var l=n.filter(function(e){return e instanceof t.LayoutStackedColumn});var c=i.selectAll(".tableData.stacked").data(function(t){var e=l.map(function(e){return{key:e.getDataID(),childs:e.children,parent:e,row:t}});return e});c.exit().remove();c.enter().append("div").attr("class","tableData stacked");c.attr("style",function(t){return"position:absolute;left:"+t.parent.offsetX+"px"});var f=0;var d=0;var p={};var h=o(s,u);var m=c.selectAll("div").data(function(t){f=0;d=0;var e=t.childs.map(function(e,n){d=e.getWidth(t.row);p={child:e,width:d,offsetX:f,last:n===t.childs.length-1};if(h){f+=d}else{f+=e.getColumnWidth()}return p});var n;var i;e.forEach(function(t,e){if(t.width>=.5){i=e;if(n===r){t.firstNonEmpty=true}}});if(i!==r){e[i].lastNonEmpty=true}return e});var g=s.svgLayout.columnPadding;var y=s.svgLayout.rowHeight-s.svgLayout.rowBarPadding*2;var v={position:"absolute",height:y+"px",left:function(t){var e=0;if(!h||t.firstNonEmpty){e+=g/2}return t.offsetX+e+"px"},width:function(t){var e=!h||t.lastNonEmpty?-g:0;return Math.max(t.width>0?t.width+e:t.width,0)+"px"},"background-color":function(t){return e.rgb(s.colorMapping.get(t.child.getDataID()))}};m.exit().remove();m.enter().append("div").style(v);(a?m.transition(s.svgLayout.animationDuration):m).style(v)}function l(t,e,n){var r=t.selectAll("text").data(n.svgLayout.rowActions);r.enter().append("text").append("title");r.exit().remove();r.attr("x",function(t,e){return e*n.svgLayout.rowHeight}).text(function(t){return t.icon}).on("click",function(t){t.action.call(this,e.data,t)}).select("title").text(function(t){return t.name})}function c(n,r,i){var a=n.filter(function(e){return e instanceof t.LayoutActionColumn});var o=r.selectAll(".tableData.action").data(function(t){var e=a.map(function(e){return{key:e.getDataID(),value:e.getColumnWidth(t),data:t,offsetX:e.offsetX}});return e});o.enter().append("g").attr("class","tableData action").each(function(t){l(e.select(this),t,i)});o.exit().remove();o.attr("transform",function(t){return"translate("+(t.offsetX+10)+","+(i.svgLayout.rowHeight*.5+1)+")"})}function f(e,n){var r=e.getValue(n,"raw");if(e instanceof t.LayoutNumberColumn||e instanceof t.LayoutStackedColumn){r=r===null||typeof r==="undefined"?0:isNaN(r)||r.toString()===""?"":+r}return r}function d(t,e,r){var i=n("<div><table><thead><tr><th>Column</th><th>Value</th></tr></thead><tbody></tbody></table></div>");var a=i.find("tbody");e.forEach(function(e){var i=f(e,t);if(typeof i==="undefined"){i=""}else if(typeof i==="number"){i=r.numberformat(i)}n("<tr><th>"+e.getLabel()+"</th><td>"+i+"</td></tr>").appendTo(a)});return i.html()}t.prototype.select=function(t){var e=this.storage.primaryKey,n=this.$body.selectAll(".row");if(Array.isArray(t)){this.storage.setSelection(t);t=t.map(function(t){return t[e]});n.classed("selected",function(n){return t.indexOf(n[e])>=0})}else if(t){this.storage.setSelection([t]);n.classed("selected",function(n){return n[e]===t[e]})}else{this.storage.clearSelection();n.classed("selected",false)}};t.prototype.updateBody=function(r,l,f){if(Array.isArray(r)&&r.length===0){return}r=r||this.storage.getColumnLayout();l=l||this.storage.getData(r[0].columnBundle);f=f||false;var p=this.$body;var h=this;var m=this.storage.primaryKey;var g=e.format(".1f");var y=this.config.columnBundles[r[0].columnBundle];f=f||false;var v=[];r.forEach(function(t){t.flattenMe(v)});var A=l.length,b=l;var x=e.scale.ordinal().domain(l.map(function(t){var e=t[m];return e===null||typeof e==="undefined"?"":e})).rangeBands([0,A*(h.config.svgLayout.rowHeight+2)],0,0),E=y.prevRowScale||x;y.prevRowScale=x;var T=0;if(h.config.svgLayout.mode==="combined"){T=h.config.htmlLayout.headerHeight}this.$spacer.attr("style","position:absolute;top:0px;height:"+(A*h.config.svgLayout.rowHeight+T)+"px").html("&nbsp;");var w=this.selectVisible(l,x);if(w[0]>0||w[1]<l.length){l=l.slice(w[0],w[1])}var S=p.selectAll(".row").data(l,function(t){return t[m]});S.exit().remove();function O(){return["height:"+h.config.svgLayout.rowHeight+"px","margin-top:"+h.config.svgLayout.rowPadding+"px"].join(";")+";"}S.enter().append("div").attr({style:function(t){var e=E(t[m]);if(typeof e==="undefined"){var n=x.range();if(n&&n.length>0){e=n[n.length-1]}else{e=0}}return O(t)+"transform:translate(0px, "+Math.ceil(e)+"px)"},"class":"row"});(this.config.renderingOptions.animation?S.transition().duration(this.config.svgLayout.animationDuration):S).attr({style:function(t){var e=t[m];var n=e===null||typeof e==="undefined"?0:x(e);return O(t)+"transform:translate(0px, "+Math.ceil(n)+"px)"}});var I=o(this.config,this);function C(e){var n=[];function i(t,n){if(isNaN(t)||t===""||typeof t==="undefined"){return""}return h.config.numberformat(+t,e,n)}r.forEach(function(r){if(r.column instanceof t.LineUpNumberColumn){n.push({id:r.id,value:r.getValue(e),label:h.config.numberformat(+r.getValue(e,"raw"),e,r),x:r.offsetX+5,w:r.getColumnWidth()})}else if(r instanceof t.LayoutStackedColumn){var a=0;r.children.forEach(function(t){var o=t.getWidth(e);n.push({id:t.id,label:i(t.getValue(e,"raw"),e,r)+" -> ("+g(t.getWidth(e))+")",w:I?o:t.getColumnWidth(),x:a+r.offsetX});if(I){a+=o}else{a+=t.getColumnWidth()}})}});return n}function N(t,e,n){var r=t.selectAll("div."+n);function i(t){return["left:"+t.x+"px","width:"+Math.max(+t.w-7,0)+"px"].join(";")}var a=r.data(e);a.enter().append("div").attr({"class":"tableData "+n,style:i}).text(function(t){return t.label});a.exit().remove();r.attr("style",i).text(function(t){return t.label})}S.on({mouseenter:function(t){var r=e.select(this);r.classed("hover",true);var i=C(t);var a=x(t[m]);N(r,i,"hoveronly");function o(t){return n(t).offset().top}if(h.config.interaction.tooltips){h.tooltip.show(d(t,v,h.config),{x:e.mouse(h.$container.node())[0]+10,y:o(this),height:h.config.svgLayout.rowHeight})}h.hoverHistogramBin(t);h.listeners["hover"](t,a)},mousemove:function(){if(h.config.interaction.tooltips){h.tooltip.move({x:e.mouse(h.$container.node())[0]})}},mouseleave:function(){if(h.config.interaction.tooltips){h.tooltip.hide()}h.hoverHistogramBin(null);h.listeners["hover"](null);e.select(this).classed("hover",false);e.select(this).selectAll(".hoveronly").remove()},click:function(t){var n=e.select(this),r=h.storage.isSelected(t);if(h.config.interaction.multiselect(e.event)){var i=h.storage.selectedRows();if(r){n.classed("selected",false);h.storage.deselect(t);if(i.length===1){h.listeners["selected"](null)}i.splice(i.indexOf(t),1)}else{n.classed("selected",true);h.storage.select(t);if(h.config.interaction.rangeselect(e.event)&&i.length===1){var a=b.indexOf(t),o=b.indexOf(i[0]);if(a<o){i=b.slice(a,o+1)}else{i=b.slice(o,a+1)}var s=S.filter(function(t){return i.indexOf(t)>=0}).classed("selected",true).data();h.storage.selectAll(s)}else{i.push(t)}if(i.length===1){h.listeners["selected"](t,null)}}h.listeners["multiselected"](i)}else{if(r){n.classed("selected",false);h.storage.deselect(t);h.listeners["selected"](null);h.listeners["multiselected"]([])}else{var u=S.filter(".selected").classed("selected",false);u=u.empty?null:u.datum();n.classed("selected",true);h.storage.setSelection([t]);h.listeners["selected"](t,u);h.listeners["multiselected"]([t])}}}});var R=S;s(r,R,h.config);u(r,R,this.config.renderingOptions.animation&&f,h.config,h);c(r,R,h.config);i(v,R,h.config);a(v,R,p,h.config);if(h.config.renderingOptions.values){S.classed("values",true);S.each(function(t){var n=e.select(this);N(n,C(t),"valueonly")})}else{S.classed("values",false).selectAll(".valueonly").remove()}S.classed("selected",function(t){return h.storage.isSelected(t)})}})(r||(r={}),e,t);var r;(function(t,e,n,r){t.prototype=t.prototype||{};t.prototype.layoutHeaders=function(n){var r=0;var i=this.config,a=i.htmlLayout.headerHeight,o=i.htmlLayout.headerOffset;n.forEach(function(t){t.offsetX=r;t.offsetY=o;t.height=a-o*2;r+=t.getColumnWidth()});var s=r+4;e.values(i.svgLayout.plusSigns).forEach(function(t){t.x=s;s+=t.w+4});n.filter(function(e){return e instanceof t.LayoutStackedColumn}).forEach(function(t){t.height=a/2-o*2;var e=0;var n=t.offsetX;var r=t.children.concat(t.emptyColumns);r.map(function(t){t.offsetX=n+e;t.localOffsetX=e;e+=t.getColumnWidth();t.offsetY=a/2+o;t.height=a/2-o*2})});this.totalWidth=s};t.prototype.updateHeader=function(r){if(Array.isArray(r)&&r.length===0){return}r=r||this.storage.getColumnLayout();var i=this.$header;var a=i.select(".main");var o=this;var s=this.config;if(this.headerUpdateRequired){this.layoutHeaders(r);this.$bodySVG.style({width:this.totalWidth+"px"});this.headerUpdateRequired=false}var u=[];r.forEach(function(t){t.flattenMe(u,{addEmptyColumns:true})});u.reverse();function l(t,e){if(t===e){return true}return t&&e&&t.column&&e.column&&t.column.column===e.column.column}var c=a.selectAll(".header").data(u,function(t){return t.id});c.exit().remove();var f=c.enter().append("div").attr("class","header").classed("emptyHeader",function(e){return e instanceof t.LayoutEmptyColumn||e instanceof t.LayoutActionColumn}).classed("nestedHeader",function(e){return e&&e.parent instanceof t.LayoutStackedColumn}).call(function(){o.addResortDragging(this,s)});var d=s.htmlLayout.handleWidth;c.style({position:"absolute",left:function(t){return t.offsetX+"px"},top:function(t){return t.offsetY+"px"},width:function(e){if(e instanceof t.LayoutEmptyColumn){e=e.parent}return Math.max(e.getColumnWidth()-d/2,0)+"px"},height:function(t){return t.height+"px"}}).style("background-color",function(e){if(e instanceof t.LayoutEmptyColumn){return"lightgray"}else if(e.column&&s.colorMapping.has(e.column.id)){return s.colorMapping.get(e.column.id)}else{return s.grayColor}}).on("click",function(n){if(e.event.defaultPrevented||n instanceof t.LayoutEmptyColumn||n instanceof t.LayoutActionColumn||n instanceof t.LayoutRankColumn||n.column&&n.column.config&&n.column.config.sortable===false){return}if(n instanceof t.LayoutStackedColumn&&n.children.length<1){return}var r=s.columnBundles[n.columnBundle];if(r.sortedColumn!==null&&l(r.sortedColumn,n)){r.sortingOrderAsc=!r.sortingOrderAsc}else{r.sortingOrderAsc=n instanceof t.LayoutStringColumn||n instanceof t.LayoutCategoricalColumn||n instanceof t.LayoutRankColumn}r.sortedColumn=n;o.listeners["change-sortcriteria"](this,n,r.sortingOrderAsc);if(!o.config.sorting||!o.config.sorting.external){o.storage.resortData({column:n,asc:r.sortingOrderAsc})}o.updateAll(false)});f.append("div").attr("class","hist");var p=c.filter(function(e){return e instanceof t.LayoutNumberColumn});if(this.config.renderingOptions.histograms){p.selectAll("div.hist").each(function(t){var n=e.select(this);t.getHist(function(e){if(!e){return}var r=t.value2pixel.copy().range([0,t.value2pixel.range()[1]-5]);var i=n.selectAll("div").data(e);i.enter().append("div").attr({"class":"hist-bar"
});i.style({position:"absolute",left:function(t){return r(t.x)+"px"},width:function(t){return Math.max(r(t.dx),0)+"px"},bottom:"0px",height:function(e){return Math.max(e.y,0)*t.height+"px"}})})})}else{p.selectAll("div.hist").selectAll("*").remove()}if(this.config.manipulative){f.filter(function(e){return!(e instanceof t.LayoutEmptyColumn)&&!(e instanceof t.LayoutActionColumn)}).append("div").attr({"class":"weightHandle"}).style({position:"absolute","z-index":2,left:function(t){return Math.max(t.getColumnWidth()-d/2,0)+"px"},top:"0px",width:d+"px"});c.select(".weightHandle").style({"box-sizing":"border-box",border:"1px solid #bbb","background-color":"lightgray",left:function(t){return Math.max(t.getColumnWidth()-d/2,0)+"px"},height:function(t){return t.height+"px"}}).call(this.dragWeight)}f.append("div").attr({"class":"headerLabel"}).style({overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","margin-left":s.htmlLayout.labelLeftPadding+d/2+"px"});c.select(".headerLabel").classed("sortedColumn",function(t){var e=s.columnBundles[t.columnBundle].sortedColumn;return l(e,t)}).style({"margin-top":function(e){if(e instanceof t.LayoutStackedColumn||e.parent!=null){return"calc("+e.height*.5+"px - .5em)"}return"calc("+e.height*.75+"px - .5em)"}}).text(function(t){return t.getLabel()});f.append("div").attr({"class":"headerSort"}).style({position:"absolute",top:function(t){return"calc("+t.height/2+"px - .5em)"},left:d/2+"px"});c.select(".headerSort").text(function(t){var e=s.columnBundles[t.columnBundle].sortedColumn;return l(e,t)?s.columnBundles[t.columnBundle].sortingOrderAsc?"\uf0de":"\uf0dd":""}).style({top:function(t){return"calc("+t.height/2+"px - .5em)"}});if(this.config.manipulative){var h=[{"class":"stackedColumnInfo",text:"\uf1de",filter:function(e){return e instanceof t.LayoutStackedColumn?[e]:[]},action:function(t){o.stackedColumnOptionsGui(t)}},{"class":"singleColumnDelete",text:"\uf014",filter:function(e){var n=e instanceof t.LayoutRankColumn||e instanceof t.LayoutStackedColumn||e instanceof t.LayoutEmptyColumn||e instanceof t.LayoutActionColumn||e.column&&e.column.config&&e.column.config.removable===false;return n?[]:[e]},action:function(t){o.storage.removeColumn(t);o.listeners["columns-changed"](o);o.headerUpdateRequired=true;o.updateAll()}},{"class":"singleColumnFilter",text:"\uf0b0",filter:function(t){return t.column&&t.column.config&&t.column.config.filterable!==false?[t]:[]},offset:s.htmlLayout.buttonWidth,action:function(n){if(n instanceof t.LayoutStringColumn){o.openFilterPopup(n,e.select(this))}else if(n instanceof t.LayoutCategoricalColumn){o.openCategoricalFilterPopup(n,e.select(this))}else if(n instanceof t.LayoutNumberColumn){o.openMappingEditor(n,e.select(this))}}}];h.forEach(function(t){var n=c.selectAll("."+t.class).data(t.filter);n.exit().remove();n.enter().append("div").attr("class",function(e){return"fontawe "+t.class+(e.isFiltered()?" filtered":"")}).text(t.text).on("click",function(){var n=Array.prototype.slice.call(arguments,0);t.action.apply(this,n);e.event.preventDefault();e.event.stopPropagation()});n.attr({"class":function(e){return"fontawe "+t.class+(e.isFiltered()?" filtered":"")}}).style({left:function(e){return e.getColumnWidth()-s.htmlLayout.buttonRightPadding-(t.offset||0)-d/2+"px"},position:"absolute",top:s.htmlLayout.buttonTopPadding+"px"})})}var m=e.values(s.svgLayout.plusSigns);var g=a.selectAll(".addColumnButton").data(m);g.exit().remove();var y=g.enter().append("g").attr({"class":"addColumnButton"});g.attr({transform:function(t){return"translate("+t.x+","+t.y+")"}});y.append("title").text(function(t){return t.title});y.filter(function(t){return!t.render}).append("rect").attr({x:0,y:0,rx:5,ry:5,width:function(t){return t.w},height:function(t){return t.h}}).on("click",function(t){if(n.isFunction(t.action)){t.action.call(o,t)}else{o[t.action](t)}});y.filter(function(t){return!t.render}).append("text").attr({x:function(t){return t.w/2},y:function(t){return t.h/2}}).text(function(t){return t.text||"\uf067"});y.filter(function(t){return!!t.render}).append(function(t){return t.render.call(o,t)}).on("click",function(t){if(n.isFunction(t.action)){t.action.call(o,t)}else{o[t.action](t)}})};t.prototype.hoverHistogramBin=function(n){if(!this.config.renderingOptions.histograms){return}var r=this.$header.selectAll("div.hist");r.selectAll(".hist-bar").classed("hover",false);if(n){this.$header.selectAll("div.hist").each(function(r){if(r instanceof t.LayoutNumberColumn){var i=this;r.getHist(function(t){if(t){r.binOf(n,function(t){if(t>=0){e.select(i).select(".hist-bar:nth-child("+(t+1)+")").classed("hover",true)}})}})}})}};t.prototype.addResortDragging=function(n){if(!this.config.manipulative){return}var r=e.behavior.drag(),i=this,a=this.$header,o=a.select("div.overlay"),s=null,u=false;r.call(n);function l(n){if(n instanceof t.LayoutEmptyColumn){return}e.event.sourceEvent.stopPropagation();e.select(this).classed("dragObject",true);s=null;u=false}function c(n){if(n instanceof t.LayoutEmptyColumn){return}u=true;var r=o.selectAll(".dragHeader").data([n]);var l=r.enter().append("div").attr({"class":"dragHeader"}).style({"background-color":"black",position:"absolute",width:function(e){if(e instanceof t.LayoutEmptyColumn){e=e.parent}return e.getColumnWidth()+"px"},height:function(t){return t.height+"px"}});l.append("div");var c=e.mouse(a.node());var f=c[0]||0;var d=c[1]||0;r.style({left:f+3+"px",top:d-10+"px"});var p=[];i.storage.getColumnLayout().forEach(function(t){t.flattenMe(p,{addEmptyColumns:true})});function h(t,e,n){if(e>t.offsetX&&e-t.offsetX<t.getColumnWidth()){if(n>t.offsetY&&n-t.offsetY<t.height){if(e-t.offsetX<t.getColumnWidth()/2){return{column:t,insert:"l",tickX:t.offsetX,tickY:t.offsetY,tickH:t.height}}else{return{column:t,insert:"r",tickX:t.offsetX+t.getColumnWidth(),tickY:t.offsetY,tickH:t.height}}}}return null}var m=0;s=null;while(m<p.length&&s==null){s=h(p[m],f,d);m++}var g=o.selectAll(".columnTick").data(s?[s]:[]);g.exit().remove();g.enter().append("div").attr({"class":"columnTick"}).style({position:"absolute",width:"10px","background-color":"black"});g.style({left:function(t){return t.tickX-5+"px"},top:function(t){return t.tickY+"px"},height:function(t){return t.tickH+"px"}})}function f(n){if(e.event.defaultPrevented||n instanceof t.LayoutEmptyColumn){return}e.select(this).classed("dragObject",false);o.selectAll(".dragHeader").remove();o.selectAll(".columnTick").remove();if(s&&s.column===this.__data__){return}if(s){if(e.event.sourceEvent.altKey){i.storage.copyColumn(this.__data__,s.column,s.insert)}else{i.storage.moveColumn(this.__data__,s.column,s.insert)}i.listeners["columns-changed"](i);i.headerUpdateRequired=true;i.updateAll()}if(s==null&&u){i.headerUpdateRequired=true;i.storage.removeColumn(this.__data__);i.listeners["columns-changed"](i);i.updateAll()}}r.on("dragstart",l).on("drag",c).on("dragend",f)};t.prototype.addNewEmptyStackedColumn=function(){this.storage.addStackedColumn(null,-1);this.headerUpdateRequired=true;this.listeners["columns-changed"](this);this.updateAll()};t.prototype.clearSelection=function(){this.select()};t.prototype.getClipSource=function(){if(this.ownerDocument&&this.ownerDocument.documentURI!==this.ownerDocument.baseURI){return this.ownerDocument.documentURI}return""};t.prototype.reweightHeader=function(t){t.column.setColumnWidth(t.value);this.headerUpdateRequired=true;this.updateAll()}})(r||(r={}),e,t);return r}if(true){!(i=[n(20),n(3),n(129)],r=o,a=typeof r==="function"?r.apply(e,i):r,a!==undefined&&(t.exports=a))}else if(typeof t==="object"&&t.exports){t.exports=o(require("jquery"),require("d3"),require("underscore"))}else{this.LineUp=o(jQuery,d3,_)}}).call(this)},function(t,e){(function(e){var n="Expected a function";var r=0/0;var i="[object Symbol]";var a=/^\s+|\s+$/g;var o=/^[-+]0x[0-9a-f]+$/i;var s=/^0b[01]+$/i;var u=/^0o[0-7]+$/i;var l=parseInt;var c=typeof e=="object"&&e&&e.Object===Object&&e;var f=typeof self=="object"&&self&&self.Object===Object&&self;var d=c||f||Function("return this")();var p=Object.prototype;var h=p.toString;var m=Math.max,g=Math.min;var y=function(){return d.Date.now()};function v(t,e,r){var i,a,o,s,u,l,c=0,f=false,d=false,p=true;if(typeof t!="function"){throw new TypeError(n)}e=E(e)||0;if(A(r)){f=!!r.leading;d="maxWait"in r;o=d?m(E(r.maxWait)||0,e):o;p="trailing"in r?!!r.trailing:p}function h(e){var n=i,r=a;i=a=undefined;c=e;s=t.apply(r,n);return s}function v(t){c=t;u=setTimeout(T,e);return f?h(t):s}function b(t){var n=t-l,r=t-c,i=e-n;return d?g(i,o-r):i}function x(t){var n=t-l,r=t-c;return l===undefined||n>=e||n<0||d&&r>=o}function T(){var t=y();if(x(t)){return w(t)}u=setTimeout(T,b(t))}function w(t){u=undefined;if(p&&i){return h(t)}i=a=undefined;return s}function S(){if(u!==undefined){clearTimeout(u)}c=0;i=l=a=u=undefined}function O(){return u===undefined?s:w(y())}function I(){var t=y(),n=x(t);i=arguments;a=this;l=t;if(n){if(u===undefined){return v(l)}if(d){u=setTimeout(T,e);return h(l)}}if(u===undefined){u=setTimeout(T,e)}return s}I.cancel=S;I.flush=O;return I}function A(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function b(t){return!!t&&typeof t=="object"}function x(t){return typeof t=="symbol"||b(t)&&h.call(t)==i}function E(t){if(typeof t=="number"){return t}if(x(t)){return r}if(A(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=A(e)?e+"":e}if(typeof t!="string"){return t===0?t:+t}t=t.replace(a,"");var n=s.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):o.test(t)?r:+t}t.exports=v}).call(e,function(){return this}())},function(t,e,n){(function(t,n){var r=200;var i="__lodash_hash_undefined__";var a=1,o=2;var s=9007199254740991;var u="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Function]",m="[object GeneratorFunction]",g="[object Map]",y="[object Number]",v="[object Null]",A="[object Object]",b="[object Promise]",x="[object Proxy]",E="[object RegExp]",T="[object Set]",w="[object String]",S="[object Symbol]",O="[object Undefined]",I="[object WeakMap]";var C="[object ArrayBuffer]",N="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",F="[object Int8Array]",M="[object Int16Array]",_="[object Int32Array]",P="[object Uint8Array]",k="[object Uint8ClampedArray]",L="[object Uint16Array]",U="[object Uint32Array]";var j=/[\\^$.*+?()[\]{}|]/g;var W=/^\[object .+?Constructor\]$/;var B=/^(?:0|[1-9]\d*)$/;var H={};H[R]=H[D]=H[F]=H[M]=H[_]=H[P]=H[k]=H[L]=H[U]=true;H[u]=H[l]=H[C]=H[f]=H[N]=H[d]=H[p]=H[h]=H[g]=H[y]=H[A]=H[E]=H[T]=H[w]=H[I]=false;var q=typeof t=="object"&&t&&t.Object===Object&&t;var G=typeof self=="object"&&self&&self.Object===Object&&self;var V=q||G||Function("return this")();var Y=typeof e=="object"&&e&&!e.nodeType&&e;var Q=Y&&typeof n=="object"&&n&&!n.nodeType&&n;var z=Q&&Q.exports===Y;var K=z&&q.process;var Z=function(){try{return K&&K.binding&&K.binding("util")}catch(t){}}();var $=Z&&Z.isTypedArray;function X(t,e){var n=-1,r=t==null?0:t.length,i=0,a=[];while(++n<r){var o=t[n];if(e(o,n,t)){a[i++]=o}}return a}function J(t,e){var n=-1,r=e.length,i=t.length;while(++n<r){t[i+n]=e[n]}return t}function tt(t,e){var n=-1,r=t==null?0:t.length;while(++n<r){if(e(t[n],n,t)){return true}}return false}function et(t,e){var n=-1,r=Array(t);while(++n<t){r[n]=e(n)}return r}function nt(t){return function(e){return t(e)}}function rt(t,e){return t.has(e)}function it(t,e){return t==null?undefined:t[e]}function at(t){var e=-1,n=Array(t.size);t.forEach(function(t,r){n[++e]=[r,t]});return n}function ot(t,e){return function(n){return t(e(n))}}function st(t){var e=-1,n=Array(t.size);t.forEach(function(t){n[++e]=t});return n}var ut=Array.prototype,lt=Function.prototype,ct=Object.prototype;var ft=V["__core-js_shared__"];var dt=lt.toString;var pt=ct.hasOwnProperty;var ht=function(){var t=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var mt=ct.toString;var gt=RegExp("^"+dt.call(pt).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var yt=z?V.Buffer:undefined,vt=V.Symbol,At=V.Uint8Array,bt=ct.propertyIsEnumerable,xt=ut.splice,Et=vt?vt.toStringTag:undefined;var Tt=Object.getOwnPropertySymbols,wt=yt?yt.isBuffer:undefined,St=ot(Object.keys,Object);var Ot=Ie(V,"DataView"),It=Ie(V,"Map"),Ct=Ie(V,"Promise"),Nt=Ie(V,"Set"),Rt=Ie(V,"WeakMap"),Dt=Ie(Object,"create");var Ft=ke(Ot),Mt=ke(It),_t=ke(Ct),Pt=ke(Nt),kt=ke(Rt);var Lt=vt?vt.prototype:undefined,Ut=Lt?Lt.valueOf:undefined;function jt(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Wt(){this.__data__=Dt?Dt(null):{};this.size=0}function Bt(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}function Ht(t){var e=this.__data__;if(Dt){var n=e[t];return n===i?undefined:n}return pt.call(e,t)?e[t]:undefined}function qt(t){var e=this.__data__;return Dt?e[t]!==undefined:pt.call(e,t)}function Gt(t,e){var n=this.__data__;this.size+=this.has(t)?0:1;n[t]=Dt&&e===undefined?i:e;return this}jt.prototype.clear=Wt;jt.prototype["delete"]=Bt;jt.prototype.get=Ht;jt.prototype.has=qt;jt.prototype.set=Gt;function Vt(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Yt(){this.__data__=[];this.size=0}function Qt(t){var e=this.__data__,n=pe(e,t);if(n<0){return false}var r=e.length-1;if(n==r){e.pop()}else{xt.call(e,n,1)}--this.size;return true}function zt(t){var e=this.__data__,n=pe(e,t);return n<0?undefined:e[n][1]}function Kt(t){return pe(this.__data__,t)>-1}function Zt(t,e){var n=this.__data__,r=pe(n,t);if(r<0){++this.size;n.push([t,e])}else{n[r][1]=e}return this}Vt.prototype.clear=Yt;Vt.prototype["delete"]=Qt;Vt.prototype.get=zt;Vt.prototype.has=Kt;Vt.prototype.set=Zt;function $t(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Xt(){this.size=0;this.__data__={hash:new jt,map:new(It||Vt),string:new jt}}function Jt(t){var e=Oe(this,t)["delete"](t);this.size-=e?1:0;return e}function te(t){return Oe(this,t).get(t)}function ee(t){return Oe(this,t).has(t)}function ne(t,e){var n=Oe(this,t),r=n.size;n.set(t,e);this.size+=n.size==r?0:1;return this}$t.prototype.clear=Xt;$t.prototype["delete"]=Jt;$t.prototype.get=te;$t.prototype.has=ee;$t.prototype.set=ne;function re(t){var e=-1,n=t==null?0:t.length;this.__data__=new $t;while(++e<n){this.add(t[e])}}function ie(t){this.__data__.set(t,i);return this}function ae(t){return this.__data__.has(t)}re.prototype.add=re.prototype.push=ie;re.prototype.has=ae;function oe(t){var e=this.__data__=new Vt(t);this.size=e.size}function se(){this.__data__=new Vt;this.size=0}function ue(t){var e=this.__data__,n=e["delete"](t);this.size=e.size;return n}function le(t){return this.__data__.get(t)}function ce(t){return this.__data__.has(t)}function fe(t,e){var n=this.__data__;if(n instanceof Vt){var i=n.__data__;if(!It||i.length<r-1){i.push([t,e]);this.size=++n.size;return this}n=this.__data__=new $t(i)}n.set(t,e);this.size=n.size;return this}oe.prototype.clear=se;oe.prototype["delete"]=ue;oe.prototype.get=le;oe.prototype.has=ce;oe.prototype.set=fe;function de(t,e){var n=je(t),r=!n&&Ue(t),i=!n&&!r&&Be(t),a=!n&&!r&&!i&&Qe(t),o=n||r||i||a,s=o?et(t.length,String):[],u=s.length;for(var l in t){if((e||pt.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||De(l,u)))){s.push(l)}}return s}function pe(t,e){var n=t.length;while(n--){if(Le(t[n][0],e)){return n}}return-1}function he(t,e,n){var r=e(t);return je(t)?r:J(r,n(t))}function me(t){if(t==null){return t===undefined?O:v}return Et&&Et in Object(t)?Ce(t):Pe(t)}function ge(t){return Ye(t)&&me(t)==u}function ye(t,e,n,r,i){if(t===e){return true}if(t==null||e==null||!Ye(t)&&!Ye(e)){return t!==t&&e!==e}return ve(t,e,n,r,ye,i)}function ve(t,e,n,r,i,o){var s=je(t),c=je(e),f=s?l:Re(t),d=c?l:Re(e);f=f==u?A:f;d=d==u?A:d;var p=f==A,h=d==A,m=f==d;if(m&&Be(t)){if(!Be(e)){return false}s=true;p=false}if(m&&!p){o||(o=new oe);return s||Qe(t)?Ee(t,e,n,r,i,o):Te(t,e,f,n,r,i,o)}if(!(n&a)){var g=p&&pt.call(t,"__wrapped__"),y=h&&pt.call(e,"__wrapped__");if(g||y){var v=g?t.value():t,b=y?e.value():e;o||(o=new oe);return i(v,b,n,r,o)}}if(!m){return false}o||(o=new oe);return we(t,e,n,r,i,o)}function Ae(t){if(!Ve(t)||Me(t)){return false}var e=qe(t)?gt:W;return e.test(ke(t))}function be(t){return Ye(t)&&Ge(t.length)&&!!H[me(t)]}function xe(t){if(!_e(t)){return St(t)}var e=[];for(var n in Object(t)){if(pt.call(t,n)&&n!="constructor"){e.push(n)}}return e}function Ee(t,e,n,r,i,s){var u=n&a,l=t.length,c=e.length;if(l!=c&&!(u&&c>l)){return false}var f=s.get(t);if(f&&s.get(e)){return f==e}var d=-1,p=true,h=n&o?new re:undefined;s.set(t,e);s.set(e,t);while(++d<l){var m=t[d],g=e[d];if(r){var y=u?r(g,m,d,e,t,s):r(m,g,d,t,e,s)}if(y!==undefined){if(y){continue}p=false;break}if(h){if(!tt(e,function(t,e){if(!rt(h,e)&&(m===t||i(m,t,n,r,s))){return h.push(e)}})){p=false;break}}else if(!(m===g||i(m,g,n,r,s))){p=false;break}}s["delete"](t);s["delete"](e);return p}function Te(t,e,n,r,i,s,u){switch(n){case N:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case C:if(t.byteLength!=e.byteLength||!s(new At(t),new At(e))){return false}return true;case f:case d:case y:return Le(+t,+e);case p:return t.name==e.name&&t.message==e.message;case E:case w:return t==e+"";case g:var l=at;case T:var c=r&a;l||(l=st);if(t.size!=e.size&&!c){return false}var h=u.get(t);if(h){return h==e}r|=o;u.set(t,e);var m=Ee(l(t),l(e),r,i,s,u);u["delete"](t);return m;case S:if(Ut){return Ut.call(t)==Ut.call(e)}}return false}function we(t,e,n,r,i,o){var s=n&a,u=Se(t),l=u.length,c=Se(e),f=c.length;if(l!=f&&!s){return false}var d=l;while(d--){var p=u[d];if(!(s?p in e:pt.call(e,p))){return false}}var h=o.get(t);if(h&&o.get(e)){return h==e}var m=true;o.set(t,e);o.set(e,t);var g=s;while(++d<l){p=u[d];var y=t[p],v=e[p];if(r){var A=s?r(v,y,p,e,t,o):r(y,v,p,t,e,o)}if(!(A===undefined?y===v||i(y,v,n,r,o):A)){m=false;break}g||(g=p=="constructor")}if(m&&!g){var b=t.constructor,x=e.constructor;if(b!=x&&("constructor"in t&&"constructor"in e)&&!(typeof b=="function"&&b instanceof b&&typeof x=="function"&&x instanceof x)){m=false}}o["delete"](t);o["delete"](e);return m}function Se(t){return he(t,ze,Ne)}function Oe(t,e){var n=t.__data__;return Fe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Ie(t,e){var n=it(t,e);return Ae(n)?n:undefined}function Ce(t){var e=pt.call(t,Et),n=t[Et];try{t[Et]=undefined;var r=true}catch(i){}var a=mt.call(t);if(r){if(e){t[Et]=n}else{delete t[Et]}}return a}var Ne=!Tt?Ke:function(t){if(t==null){return[]}t=Object(t);return X(Tt(t),function(e){return bt.call(t,e)})};var Re=me;if(Ot&&Re(new Ot(new ArrayBuffer(1)))!=N||It&&Re(new It)!=g||Ct&&Re(Ct.resolve())!=b||Nt&&Re(new Nt)!=T||Rt&&Re(new Rt)!=I){Re=function(t){var e=me(t),n=e==A?t.constructor:undefined,r=n?ke(n):"";if(r){switch(r){case Ft:return N;case Mt:return g;case _t:return b;case Pt:return T;case kt:return I}}return e}}function De(t,e){e=e==null?s:e;return!!e&&(typeof t=="number"||B.test(t))&&(t>-1&&t%1==0&&t<e)}function Fe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Me(t){return!!ht&&ht in t}function _e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ct;return t===n}function Pe(t){return mt.call(t)}function ke(t){if(t!=null){try{return dt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Le(t,e){return t===e||t!==t&&e!==e}var Ue=ge(function(){return arguments}())?ge:function(t){return Ye(t)&&pt.call(t,"callee")&&!bt.call(t,"callee")};var je=Array.isArray;function We(t){return t!=null&&Ge(t.length)&&!qe(t)}var Be=wt||Ze;function He(t,e){return ye(t,e)}function qe(t){if(!Ve(t)){return false}var e=me(t);return e==h||e==m||e==c||e==x}function Ge(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=s}function Ve(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Ye(t){return t!=null&&typeof t=="object"}var Qe=$?nt($):be;function ze(t){return We(t)?de(t):xe(t)}function Ke(){return[]}function Ze(){return false}n.exports=He}).call(e,function(){return this}(),n(34)(t))},function(t,e){(function(e){var n=1/0,r=9007199254740991;var i="[object Arguments]",a="[object Function]",o="[object GeneratorFunction]",s="[object Symbol]";var u=typeof e=="object"&&e&&e.Object===Object&&e;var l=typeof self=="object"&&self&&self.Object===Object&&self;var c=u||l||Function("return this")();function f(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function d(t,e){var n=-1,r=t?t.length:0,i=Array(r);while(++n<r){i[n]=e(t[n],n,t)}return i}function p(t,e){var n=-1,r=e.length,i=t.length;while(++n<r){t[i+n]=e[n]}return t}var h=Object.prototype;var m=h.hasOwnProperty;var g=h.toString;var y=c.Symbol,v=h.propertyIsEnumerable,A=y?y.isConcatSpreadable:undefined;var b=Math.max;function x(t,e,n,r,i){var a=-1,o=t.length;n||(n=S);i||(i=[]);while(++a<o){var s=t[a];if(e>0&&n(s)){if(e>1){x(s,e-1,n,r,i)}else{p(i,s)}}else if(!r){i[i.length]=s}}return i}function E(t,e){t=Object(t);return T(t,e,function(e,n){return n in t})}function T(t,e,n){var r=-1,i=e.length,a={};while(++r<i){var o=e[r],s=t[o];if(n(s,o)){a[o]=s}}return a}function w(t,e){e=b(e===undefined?t.length-1:e,0);return function(){var n=arguments,r=-1,i=b(n.length-e,0),a=Array(i);while(++r<i){a[r]=n[e+r]}r=-1;var o=Array(e+1);while(++r<e){o[r]=n[r]}o[e]=a;return f(t,this,o)}}function S(t){return C(t)||I(t)||!!(A&&t&&t[A])}function O(t){if(typeof t=="string"||P(t)){return t}var e=t+"";return e=="0"&&1/t==-n?"-0":e}function I(t){return R(t)&&m.call(t,"callee")&&(!v.call(t,"callee")||g.call(t)==i)}var C=Array.isArray;function N(t){return t!=null&&F(t.length)&&!D(t)}function R(t){return _(t)&&N(t)}function D(t){var e=M(t)?g.call(t):"";return e==a||e==o}function F(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}function M(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function _(t){return!!t&&typeof t=="object"}function P(t){return typeof t=="symbol"||_(t)&&g.call(t)==s}var k=w(function(t,e){return t==null?{}:E(t,d(x(e,1),O))});t.exports=k}).call(e,function(){return this}())},function(t,e){(function(e){var n="Expected a function";var r="__lodash_hash_undefined__";var i=1/0,a=9007199254740991;var o="[object Function]",s="[object GeneratorFunction]",u="[object Symbol]";var l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,f=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var p=/[\\^$.*+?()[\]{}|]/g;var h=/\\(\\)?/g;var m=/^\[object .+?Constructor\]$/;var g=/^(?:0|[1-9]\d*)$/;var y=typeof e=="object"&&e&&e.Object===Object&&e;var v=typeof self=="object"&&self&&self.Object===Object&&self;var A=y||v||Function("return this")();function b(t,e){return t==null?undefined:t[e]}function x(t){var e=false;if(t!=null&&typeof t.toString!="function"){try{e=!!(t+"")}catch(n){}}return e}var E=Array.prototype,T=Function.prototype,w=Object.prototype;var S=A["__core-js_shared__"];var O=function(){var t=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var I=T.toString;var C=w.hasOwnProperty;var N=w.toString;var R=RegExp("^"+I.call(C).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var D=A.Symbol,F=E.splice;var M=ut(A,"Map"),_=ut(Object,"create");var P=D?D.prototype:undefined,k=P?P.toString:undefined;function L(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function U(){this.__data__=_?_(null):{}}function j(t){return this.has(t)&&delete this.__data__[t]}function W(t){var e=this.__data__;if(_){var n=e[t];return n===r?undefined:n}return C.call(e,t)?e[t]:undefined}function B(t){var e=this.__data__;return _?e[t]!==undefined:C.call(e,t)}function H(t,e){var n=this.__data__;n[t]=_&&e===undefined?r:e;return this}L.prototype.clear=U;L.prototype["delete"]=j;L.prototype.get=W;L.prototype.has=B;L.prototype.set=H;function q(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function G(){this.__data__=[]}function V(t){var e=this.__data__,n=nt(e,t);if(n<0){return false}var r=e.length-1;if(n==r){e.pop()}else{F.call(e,n,1)}return true}function Y(t){var e=this.__data__,n=nt(e,t);return n<0?undefined:e[n][1]}function Q(t){return nt(this.__data__,t)>-1}function z(t,e){var n=this.__data__,r=nt(n,t);if(r<0){n.push([t,e])}else{n[r][1]=e}return this}q.prototype.clear=G;q.prototype["delete"]=V;q.prototype.get=Y;q.prototype.has=Q;q.prototype.set=z;function K(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Z(){this.__data__={hash:new L,map:new(M||q),string:new L}}function $(t){return st(this,t)["delete"](t)}function X(t){return st(this,t).get(t)}function J(t){return st(this,t).has(t)}function tt(t,e){st(this,t).set(t,e);return this}K.prototype.clear=Z;K.prototype["delete"]=$;K.prototype.get=X;K.prototype.has=J;K.prototype.set=tt;function et(t,e,n){var r=t[e];if(!(C.call(t,e)&&yt(r,n))||n===undefined&&!(e in t)){t[e]=n}}function nt(t,e){var n=t.length;while(n--){if(yt(t[n][0],e)){return n}}return-1}function rt(t){if(!bt(t)||dt(t)){return false}var e=At(t)||x(t)?R:m;return e.test(mt(t))}function it(t,e,n,r){if(!bt(t)){return t}e=ct(e,t)?[e]:ot(e);var i=-1,a=e.length,o=a-1,s=t;while(s!=null&&++i<a){var u=ht(e[i]),l=n;if(i!=o){var c=s[u];l=r?r(c,u,s):undefined;if(l===undefined){l=bt(c)?c:lt(e[i+1])?[]:{}}}et(s,u,l);s=s[u]}return t}function at(t){if(typeof t=="string"){return t}if(Et(t)){return k?k.call(t):""}var e=t+"";return e=="0"&&1/t==-i?"-0":e}function ot(t){return vt(t)?t:pt(t)}function st(t,e){var n=t.__data__;return ft(e)?n[typeof e=="string"?"string":"hash"]:n.map}function ut(t,e){var n=b(t,e);return rt(n)?n:undefined}function lt(t,e){e=e==null?a:e;return!!e&&(typeof t=="number"||g.test(t))&&(t>-1&&t%1==0&&t<e)}function ct(t,e){if(vt(t)){return false}var n=typeof t;if(n=="number"||n=="symbol"||n=="boolean"||t==null||Et(t)){return true}return c.test(t)||!l.test(t)||e!=null&&t in Object(e)}function ft(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function dt(t){return!!O&&O in t}var pt=gt(function(t){t=Tt(t);var e=[];if(f.test(t)){e.push("")}t.replace(d,function(t,n,r,i){e.push(r?i.replace(h,"$1"):n||t)});return e});function ht(t){if(typeof t=="string"||Et(t)){return t}var e=t+"";return e=="0"&&1/t==-i?"-0":e}function mt(t){if(t!=null){try{return I.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function gt(t,e){if(typeof t!="function"||e&&typeof e!="function"){throw new TypeError(n)}var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i)){return a.get(i)}var o=t.apply(this,n);r.cache=a.set(i,o);return o};r.cache=new(gt.Cache||K);return r}gt.Cache=K;function yt(t,e){return t===e||t!==t&&e!==e}var vt=Array.isArray;function At(t){var e=bt(t)?N.call(t):"";return e==o||e==s}function bt(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function xt(t){return!!t&&typeof t=="object"}function Et(t){return typeof t=="symbol"||xt(t)&&N.call(t)==u}function Tt(t){return t==null?"":at(t)}function wt(t,e,n){return t==null?t:it(t,e,n)}t.exports=wt}).call(e,function(){return this}())},function(t,e,n){(function(t,n){var r=200;var i="Expected a function";var a="__lodash_hash_undefined__";var o=1,s=2;var u=1/0,l=9007199254740991;var c="[object Arguments]",f="[object Array]",d="[object Boolean]",p="[object Date]",h="[object Error]",m="[object Function]",g="[object GeneratorFunction]",y="[object Map]",v="[object Number]",A="[object Object]",b="[object Promise]",x="[object RegExp]",E="[object Set]",T="[object String]",w="[object Symbol]",S="[object WeakMap]";var O="[object ArrayBuffer]",I="[object DataView]",C="[object Float32Array]",N="[object Float64Array]",R="[object Int8Array]",D="[object Int16Array]",F="[object Int32Array]",M="[object Uint8Array]",_="[object Uint8ClampedArray]",P="[object Uint16Array]",k="[object Uint32Array]";var L=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,j=/^\./,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var B=/[\\^$.*+?()[\]{}|]/g;var H=/\\(\\)?/g;var q=/^\[object .+?Constructor\]$/;var G=/^(?:0|[1-9]\d*)$/;var V={};V[C]=V[N]=V[R]=V[D]=V[F]=V[M]=V[_]=V[P]=V[k]=true;V[c]=V[f]=V[O]=V[d]=V[I]=V[p]=V[h]=V[m]=V[y]=V[v]=V[A]=V[x]=V[E]=V[T]=V[S]=false;var Y=typeof t=="object"&&t&&t.Object===Object&&t;var Q=typeof self=="object"&&self&&self.Object===Object&&self;var z=Y||Q||Function("return this")();var K=typeof e=="object"&&e&&!e.nodeType&&e;var Z=K&&typeof n=="object"&&n&&!n.nodeType&&n;var $=Z&&Z.exports===K;var X=$&&Y.process;var J=function(){try{return X&&X.binding("util")}catch(t){}}();var tt=J&&J.isTypedArray;function et(t,e){var n=-1,r=t?t.length:0;while(++n<r){if(e(t[n],n,t)){return true}}return false}function nt(t){return function(e){return e==null?undefined:e[t]}}function rt(t,e){var n=-1,r=Array(t);while(++n<t){r[n]=e(n)}return r}function it(t){return function(e){return t(e)}}function at(t,e){return t==null?undefined:t[e]}function ot(t){var e=false;if(t!=null&&typeof t.toString!="function"){try{e=!!(t+"")}catch(n){}}return e}function st(t){var e=-1,n=Array(t.size);t.forEach(function(t,r){n[++e]=[r,t]});return n}function ut(t,e){return function(n){return t(e(n))}}function lt(t){var e=-1,n=Array(t.size);t.forEach(function(t){n[++e]=t});return n}var ct=Array.prototype,ft=Function.prototype,dt=Object.prototype;var pt=z["__core-js_shared__"];var ht=function(){var t=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var mt=ft.toString;var gt=dt.hasOwnProperty;var yt=dt.toString;var vt=RegExp("^"+mt.call(gt).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var At=z.Symbol,bt=z.Uint8Array,xt=dt.propertyIsEnumerable,Et=ct.splice;var Tt=ut(Object.keys,Object);var wt=je(z,"DataView"),St=je(z,"Map"),Ot=je(z,"Promise"),It=je(z,"Set"),Ct=je(z,"WeakMap"),Nt=je(Object,"create");var Rt=Xe(wt),Dt=Xe(St),Ft=Xe(Ot),Mt=Xe(It),_t=Xe(Ct);var Pt=At?At.prototype:undefined,kt=Pt?Pt.valueOf:undefined,Lt=Pt?Pt.toString:undefined;function Ut(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function jt(){this.__data__=Nt?Nt(null):{}}function Wt(t){return this.has(t)&&delete this.__data__[t]}function Bt(t){var e=this.__data__;if(Nt){var n=e[t];return n===a?undefined:n}return gt.call(e,t)?e[t]:undefined}function Ht(t){var e=this.__data__;return Nt?e[t]!==undefined:gt.call(e,t)}function qt(t,e){var n=this.__data__;n[t]=Nt&&e===undefined?a:e;return this}Ut.prototype.clear=jt;Ut.prototype["delete"]=Wt;Ut.prototype.get=Bt;Ut.prototype.has=Ht;Ut.prototype.set=qt;function Gt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Vt(){this.__data__=[]}function Yt(t){var e=this.__data__,n=de(e,t);if(n<0){return false}var r=e.length-1;if(n==r){e.pop()}else{Et.call(e,n,1)}return true}function Qt(t){var e=this.__data__,n=de(e,t);return n<0?undefined:e[n][1]}function zt(t){return de(this.__data__,t)>-1}function Kt(t,e){var n=this.__data__,r=de(n,t);if(r<0){n.push([t,e])}else{n[r][1]=e}return this}Gt.prototype.clear=Vt;Gt.prototype["delete"]=Yt;Gt.prototype.get=Qt;Gt.prototype.has=zt;Gt.prototype.set=Kt;function Zt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function $t(){this.__data__={hash:new Ut,map:new(St||Gt),string:new Ut}}function Xt(t){return Le(this,t)["delete"](t)}function Jt(t){return Le(this,t).get(t)}function te(t){return Le(this,t).has(t)}function ee(t,e){Le(this,t).set(t,e);return this}Zt.prototype.clear=$t;Zt.prototype["delete"]=Xt;Zt.prototype.get=Jt;Zt.prototype.has=te;Zt.prototype.set=ee;function ne(t){var e=-1,n=t?t.length:0;this.__data__=new Zt;
while(++e<n){this.add(t[e])}}function re(t){this.__data__.set(t,a);return this}function ie(t){return this.__data__.has(t)}ne.prototype.add=ne.prototype.push=re;ne.prototype.has=ie;function ae(t){this.__data__=new Gt(t)}function oe(){this.__data__=new Gt}function se(t){return this.__data__["delete"](t)}function ue(t){return this.__data__.get(t)}function le(t){return this.__data__.has(t)}function ce(t,e){var n=this.__data__;if(n instanceof Gt){var i=n.__data__;if(!St||i.length<r-1){i.push([t,e]);return this}n=this.__data__=new Zt(i)}n.set(t,e);return this}ae.prototype.clear=oe;ae.prototype["delete"]=se;ae.prototype.get=ue;ae.prototype.has=le;ae.prototype.set=ce;function fe(t,e){var n=rn(t)||nn(t)?rt(t.length,String):[];var r=n.length,i=!!r;for(var a in t){if((e||gt.call(t,a))&&!(i&&(a=="length"||He(a,r)))){n.push(a)}}return n}function de(t,e){var n=t.length;while(n--){if(en(t[n][0],e)){return n}}return-1}var pe=Fe(me);var he=Me();function me(t,e){return t&&he(t,e,gn)}function ge(t,e){e=Ge(e,t)?[e]:De(e);var n=0,r=e.length;while(t!=null&&n<r){t=t[$e(e[n++])]}return n&&n==r?t:undefined}function ye(t){return yt.call(t)}function ve(t,e){return t!=null&&e in Object(t)}function Ae(t,e,n,r,i){if(t===e){return true}if(t==null||e==null||!ln(t)&&!cn(e)){return t!==t&&e!==e}return be(t,e,Ae,n,r,i)}function be(t,e,n,r,i,a){var o=rn(t),u=rn(e),l=f,d=f;if(!o){l=We(t);l=l==c?A:l}if(!u){d=We(e);d=d==c?A:d}var p=l==A&&!ot(t),h=d==A&&!ot(e),m=l==d;if(m&&!p){a||(a=new ae);return o||dn(t)?_e(t,e,n,r,i,a):Pe(t,e,l,n,r,i,a)}if(!(i&s)){var g=p&&gt.call(t,"__wrapped__"),y=h&&gt.call(e,"__wrapped__");if(g||y){var v=g?t.value():t,b=y?e.value():e;a||(a=new ae);return n(v,b,r,i,a)}}if(!m){return false}a||(a=new ae);return ke(t,e,n,r,i,a)}function xe(t,e,n,r){var i=n.length,a=i,u=!r;if(t==null){return!a}t=Object(t);while(i--){var l=n[i];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t)){return false}}while(++i<a){l=n[i];var c=l[0],f=t[c],d=l[1];if(u&&l[2]){if(f===undefined&&!(c in t)){return false}}else{var p=new ae;if(r){var h=r(f,d,c,t,e,p)}if(!(h===undefined?Ae(d,f,r,o|s,p):h)){return false}}}return true}function Ee(t){if(!ln(t)||Ye(t)){return false}var e=sn(t)||ot(t)?vt:q;return e.test(Xe(t))}function Te(t){return cn(t)&&un(t.length)&&!!V[yt.call(t)]}function we(t){if(typeof t=="function"){return t}if(t==null){return yn}if(typeof t=="object"){return rn(t)?Ie(t[0],t[1]):Oe(t)}return vn(t)}function Se(t){if(!Qe(t)){return Tt(t)}var e=[];for(var n in Object(t)){if(gt.call(t,n)&&n!="constructor"){e.push(n)}}return e}function Oe(t){var e=Ue(t);if(e.length==1&&e[0][2]){return Ke(e[0][0],e[0][1])}return function(n){return n===t||xe(n,t,e)}}function Ie(t,e){if(Ge(t)&&ze(e)){return Ke($e(t),e)}return function(n){var r=hn(n,t);return r===undefined&&r===e?mn(n,t):Ae(e,r,undefined,o|s)}}function Ce(t){return function(e){return ge(e,t)}}function Ne(t,e){var n;pe(t,function(t,r,i){n=e(t,r,i);return!n});return!!n}function Re(t){if(typeof t=="string"){return t}if(fn(t)){return Lt?Lt.call(t):""}var e=t+"";return e=="0"&&1/t==-u?"-0":e}function De(t){return rn(t)?t:Ze(t)}function Fe(t,e){return function(n,r){if(n==null){return n}if(!an(n)){return t(n,r)}var i=n.length,a=e?i:-1,o=Object(n);while(e?a--:++a<i){if(r(o[a],a,o)===false){break}}return n}}function Me(t){return function(e,n,r){var i=-1,a=Object(e),o=r(e),s=o.length;while(s--){var u=o[t?s:++i];if(n(a[u],u,a)===false){break}}return e}}function _e(t,e,n,r,i,a){var u=i&s,l=t.length,c=e.length;if(l!=c&&!(u&&c>l)){return false}var f=a.get(t);if(f&&a.get(e)){return f==e}var d=-1,p=true,h=i&o?new ne:undefined;a.set(t,e);a.set(e,t);while(++d<l){var m=t[d],g=e[d];if(r){var y=u?r(g,m,d,e,t,a):r(m,g,d,t,e,a)}if(y!==undefined){if(y){continue}p=false;break}if(h){if(!et(e,function(t,e){if(!h.has(e)&&(m===t||n(m,t,r,i,a))){return h.add(e)}})){p=false;break}}else if(!(m===g||n(m,g,r,i,a))){p=false;break}}a["delete"](t);a["delete"](e);return p}function Pe(t,e,n,r,i,a,u){switch(n){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case O:if(t.byteLength!=e.byteLength||!r(new bt(t),new bt(e))){return false}return true;case d:case p:case v:return en(+t,+e);case h:return t.name==e.name&&t.message==e.message;case x:case T:return t==e+"";case y:var l=st;case E:var c=a&s;l||(l=lt);if(t.size!=e.size&&!c){return false}var f=u.get(t);if(f){return f==e}a|=o;u.set(t,e);var m=_e(l(t),l(e),r,i,a,u);u["delete"](t);return m;case w:if(kt){return kt.call(t)==kt.call(e)}}return false}function ke(t,e,n,r,i,a){var o=i&s,u=gn(t),l=u.length,c=gn(e),f=c.length;if(l!=f&&!o){return false}var d=l;while(d--){var p=u[d];if(!(o?p in e:gt.call(e,p))){return false}}var h=a.get(t);if(h&&a.get(e)){return h==e}var m=true;a.set(t,e);a.set(e,t);var g=o;while(++d<l){p=u[d];var y=t[p],v=e[p];if(r){var A=o?r(v,y,p,e,t,a):r(y,v,p,t,e,a)}if(!(A===undefined?y===v||n(y,v,r,i,a):A)){m=false;break}g||(g=p=="constructor")}if(m&&!g){var b=t.constructor,x=e.constructor;if(b!=x&&("constructor"in t&&"constructor"in e)&&!(typeof b=="function"&&b instanceof b&&typeof x=="function"&&x instanceof x)){m=false}}a["delete"](t);a["delete"](e);return m}function Le(t,e){var n=t.__data__;return Ve(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Ue(t){var e=gn(t),n=e.length;while(n--){var r=e[n],i=t[r];e[n]=[r,i,ze(i)]}return e}function je(t,e){var n=at(t,e);return Ee(n)?n:undefined}var We=ye;if(wt&&We(new wt(new ArrayBuffer(1)))!=I||St&&We(new St)!=y||Ot&&We(Ot.resolve())!=b||It&&We(new It)!=E||Ct&&We(new Ct)!=S){We=function(t){var e=yt.call(t),n=e==A?t.constructor:undefined,r=n?Xe(n):undefined;if(r){switch(r){case Rt:return I;case Dt:return y;case Ft:return b;case Mt:return E;case _t:return S}}return e}}function Be(t,e,n){e=Ge(e,t)?[e]:De(e);var r,i=-1,a=e.length;while(++i<a){var o=$e(e[i]);if(!(r=t!=null&&n(t,o))){break}t=t[o]}if(r){return r}var a=t?t.length:0;return!!a&&un(a)&&He(o,a)&&(rn(t)||nn(t))}function He(t,e){e=e==null?l:e;return!!e&&(typeof t=="number"||G.test(t))&&(t>-1&&t%1==0&&t<e)}function qe(t,e,n){if(!ln(n)){return false}var r=typeof e;if(r=="number"?an(n)&&He(e,n.length):r=="string"&&e in n){return en(n[e],t)}return false}function Ge(t,e){if(rn(t)){return false}var n=typeof t;if(n=="number"||n=="symbol"||n=="boolean"||t==null||fn(t)){return true}return U.test(t)||!L.test(t)||e!=null&&t in Object(e)}function Ve(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ye(t){return!!ht&&ht in t}function Qe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||dt;return t===n}function ze(t){return t===t&&!ln(t)}function Ke(t,e){return function(n){if(n==null){return false}return n[t]===e&&(e!==undefined||t in Object(n))}}var Ze=tn(function(t){t=pn(t);var e=[];if(j.test(t)){e.push("")}t.replace(W,function(t,n,r,i){e.push(r?i.replace(H,"$1"):n||t)});return e});function $e(t){if(typeof t=="string"||fn(t)){return t}var e=t+"";return e=="0"&&1/t==-u?"-0":e}function Xe(t){if(t!=null){try{return mt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Je(t,e,n){var r=rn(t)?et:Ne;if(n&&qe(t,e,n)){e=undefined}return r(t,we(e,3))}function tn(t,e){if(typeof t!="function"||e&&typeof e!="function"){throw new TypeError(i)}var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i)){return a.get(i)}var o=t.apply(this,r);n.cache=a.set(i,o);return o};n.cache=new(tn.Cache||Zt);return n}tn.Cache=Zt;function en(t,e){return t===e||t!==t&&e!==e}function nn(t){return on(t)&&gt.call(t,"callee")&&(!xt.call(t,"callee")||yt.call(t)==c)}var rn=Array.isArray;function an(t){return t!=null&&un(t.length)&&!sn(t)}function on(t){return cn(t)&&an(t)}function sn(t){var e=ln(t)?yt.call(t):"";return e==m||e==g}function un(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=l}function ln(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function cn(t){return!!t&&typeof t=="object"}function fn(t){return typeof t=="symbol"||cn(t)&&yt.call(t)==w}var dn=tt?it(tt):Te;function pn(t){return t==null?"":Re(t)}function hn(t,e,n){var r=t==null?undefined:ge(t,e);return r===undefined?n:r}function mn(t,e){return t!=null&&Be(t,e,ve)}function gn(t){return an(t)?fe(t):Se(t)}function yn(t){return t}function vn(t){return Ge(t)?nt($e(t)):Ce(t)}n.exports=Je}).call(e,function(){return this}(),n(34)(t))},function(t,e){var n=1e3;var r=n*60;var i=r*60;var a=i*24;var o=a*365.25;t.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0){return s(t)}else if(n==="number"&&isNaN(t)===false){return e.long?l(t):u(t)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function s(t){t=String(t);if(t.length>100){return}var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e){return}var s=parseFloat(e[1]);var u=(e[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return undefined}}function u(t){if(t>=a){return Math.round(t/a)+"d"}if(t>=i){return Math.round(t/i)+"h"}if(t>=r){return Math.round(t/r)+"m"}if(t>=n){return Math.round(t/n)+"s"}return t+"ms"}function l(t){return c(t,a,"day")||c(t,i,"hour")||c(t,r,"minute")||c(t,n,"second")||t+" ms"}function c(t,e,n){if(t<e){return}if(t<e*1.5){return Math.floor(t/e)+" "+n}return Math.ceil(t/e)+" "+n+"s"}},function(t,e,n){(function r(n,i){if(true)t.exports=i();else if(typeof define==="function"&&define.amd)define([],i);else if(typeof e==="object")e["powerbi-models"]=i();else n["powerbi-models"]=i()})(this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:false};t[r].call(i.exports,i,i.exports,n);i.loaded=true;return i.exports}n.m=t;n.c=e;n.p="";return n(0)}([function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});e.advancedFilterSchema=n(1);e.filterSchema=n(2);e.loadSchema=n(3);e.dashboardLoadSchema=n(4);e.pageSchema=n(5);e.settingsSchema=n(6);e.basicFilterSchema=n(7);e.createReportSchema=n(8);e.saveAsParametersSchema=n(9);var i=n(10);function a(t){var e=t.message;if(!e){e=t.path+" is invalid. Not meeting "+t.keyword+" constraint"}return{message:e}}function o(t,e){return function(n){var r=i(t,e);var o=r(n);if(o){return undefined}else{return r.errors.map(a)}}}e.validateSettings=o(e.settingsSchema,{schemas:{basicFilter:e.basicFilterSchema,advancedFilter:e.advancedFilterSchema}});e.validateReportLoad=o(e.loadSchema,{schemas:{settings:e.settingsSchema,basicFilter:e.basicFilterSchema,advancedFilter:e.advancedFilterSchema}});e.validateCreateReport=o(e.createReportSchema);e.validateDashboardLoad=o(e.dashboardLoadSchema);e.validatePage=o(e.pageSchema);e.validateFilter=o(e.filterSchema,{schemas:{basicFilter:e.basicFilterSchema,advancedFilter:e.advancedFilterSchema}});var s;(function(t){t[t["Advanced"]=0]="Advanced";t[t["Basic"]=1]="Basic";t[t["Unknown"]=2]="Unknown"})(s=e.FilterType||(e.FilterType={}));function u(t){return d(t)&&!!t.keys}e.isFilterKeyColumnsTarget=u;function l(t){return c(t)===s.Basic&&!!t.keyValues}e.isBasicFilterWithKeys=l;function c(t){var e=t;var n=t;if(typeof e.operator==="string"&&Array.isArray(e.values)){return s.Basic}else if(typeof n.logicalOperator==="string"&&Array.isArray(n.conditions)){return s.Advanced}else{return s.Unknown}}e.getFilterType=c;function f(t){return t.table!==undefined&&t.measure!==undefined}e.isMeasure=f;function d(t){return t.table!==undefined&&t.column!==undefined}e.isColumn=d;function p(t){return t.table!==undefined&&t.hierarchy!==undefined&&t.hierarchyLevel!==undefined}e.isHierarchy=p;var h=function(){function t(t){this.target=t}t.prototype.toJSON=function(){return{$schema:this.schemaUrl,target:this.target}};return t}();e.Filter=h;var m=function(t){r(e,t);function e(n,r){var i=[];for(var a=2;a<arguments.length;a++){i[a-2]=arguments[a]}var o=t.call(this,n)||this;o.operator=r;o.schemaUrl=e.schemaUrl;if(i.length===0&&r!=="All"){throw new Error('values must be a non-empty array unless your operator is "All".')}if(Array.isArray(i[0])){o.values=i[0]}else{o.values=i}return o}e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);e.operator=this.operator;e.values=this.values;return e};return e}(h);m.schemaUrl="http://powerbi.com/product/schema#basic";e.BasicFilter=m;var g=function(t){r(e,t);function e(e,n,r,i){var a=t.call(this,e,n,r)||this;a.keyValues=i;a.target=e;var o=e.keys?e.keys.length:0;if(o>0&&!i){throw new Error("You shold pass the values to be filtered for each key. You passed: no values and "+o+" keys")}if(o===0&&i&&i.length>0){throw new Error("You passed key values but your target object doesn't contain the keys to be filtered")}for(var s=0;s<a.keyValues.length;s++){if(a.keyValues[s]){var u=a.keyValues[s].length;if(u!==o){throw new Error("Each tuple of key values should contain a value for each of the keys. You passed: "+u+" values and "+o+" keys")}}}return a}e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);e.keyValues=this.keyValues;return e};return e}(m);e.BasicFilterWithKeys=g;var y=function(t){r(e,t);function e(n,r){var i=[];for(var a=2;a<arguments.length;a++){i[a-2]=arguments[a]}var o=t.call(this,n)||this;o.schemaUrl=e.schemaUrl;if(typeof r!=="string"||r.length===0){throw new Error("logicalOperator must be a valid operator, You passed: "+r)}o.logicalOperator=r;var s;if(Array.isArray(i[0])){s=i[0]}else{s=i}if(s.length===0){throw new Error("conditions must be a non-empty array. You passed: "+i)}if(s.length>2){throw new Error("AdvancedFilters may not have more than two conditions. You passed: "+i.length)}if(s.length===1&&r!=="And"){throw new Error('Logical Operator must be "And" when there is only one condition provided')}o.conditions=s;return o}e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);e.logicalOperator=this.logicalOperator;e.conditions=this.conditions;return e};return e}(h);y.schemaUrl="http://powerbi.com/product/schema#advanced";e.AdvancedFilter=y;var v;(function(t){t[t["Read"]=0]="Read";t[t["ReadWrite"]=1]="ReadWrite";t[t["Copy"]=2]="Copy";t[t["Create"]=4]="Create";t[t["All"]=7]="All"})(v=e.Permissions||(e.Permissions={}));var A;(function(t){t[t["View"]=0]="View";t[t["Edit"]=1]="Edit"})(A=e.ViewMode||(e.ViewMode={}));var b;(function(t){t[t["Aad"]=0]="Aad";t[t["Embed"]=1]="Embed"})(b=e.TokenType||(e.TokenType={}));e.validateSaveAsParameters=o(e.saveAsParametersSchema)},function(t,e){t.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{target:{oneOf:[{type:"object",properties:{table:{type:"string"},column:{type:"string"}},required:["table","column"]},{type:"object",properties:{table:{type:"string"},hierarchy:{type:"string"},hierarchyLevel:{type:"string"}},required:["table","hierarchy","hierarchyLevel"]},{type:"object",properties:{table:{type:"string"},measure:{type:"string"}},required:["table","measure"]}]},logicalOperator:{type:"string"},conditions:{type:"array",items:{type:"object",properties:{value:{type:["string","boolean","number"]},operator:{type:"string"}},required:["value","operator"]}}},required:["target","logicalOperator","conditions"]}},function(t,e){t.exports={$schema:"http://json-schema.org/draft-04/schema#",oneOf:[{$ref:"#basicFilter"},{$ref:"#advancedFilter"}],invalidMessage:"filter is invalid"}},function(t,e){t.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{accessToken:{type:"string",messages:{type:"accessToken must be a string",required:"accessToken is required"}},id:{type:"string",messages:{type:"id must be a string",required:"id is required"}},settings:{$ref:"#settings"},pageName:{type:"string",messages:{type:"pageName must be a string"}},filters:{type:"array",items:{type:"object",oneOf:[{$ref:"#basicFilter"},{$ref:"#advancedFilter"}]},invalidMessage:"filters property is invalid"},permissions:{type:"number","enum":[0,1,2,4,7],"default":0,invalidMessage:"permissions property is invalid"},viewMode:{type:"number","enum":[0,1],"default":0,invalidMessage:"viewMode property is invalid"},tokenType:{type:"number","enum":[0,1],"default":0,invalidMessage:"tokenType property is invalid"}},required:["accessToken","id"]}},function(t,e){t.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{accessToken:{type:"string",messages:{type:"accessToken must be a string",required:"accessToken is required"}},id:{type:"string",messages:{type:"id must be a string",required:"id is required"}},pageView:{type:"string",messages:{type:'pageView must be a string with one of the following values: "actualSize", "fitToWidth", "oneColumn"'}},tokenType:{type:"number","enum":[0,1],"default":0,invalidMessage:"tokenType property is invalid"}},required:["accessToken","id"]}},function(t,e){t.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{name:{type:"string",messages:{type:"name must be a string",required:"name is required"}}},required:["name"]}},function(t,e){t.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{filterPaneEnabled:{type:"boolean",messages:{type:"filterPaneEnabled must be a boolean"}},navContentPaneEnabled:{type:"boolean",messages:{type:"navContentPaneEnabled must be a boolean"}},useCustomSaveAsDialog:{type:"boolean",messages:{type:"useCustomSaveAsDialog must be a boolean"}}}}},function(t,e){t.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{target:{type:"object",properties:{table:{type:"string"},column:{type:"string"},hierarchy:{type:"string"},hierarchyLevel:{type:"string"},measure:{type:"string"}},required:["table"]},operator:{type:"string"},values:{type:"array",items:{type:["string","boolean","number"]}}},required:["target","operator","values"]}},function(t,e){t.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{accessToken:{type:"string",messages:{type:"accessToken must be a string",required:"accessToken is required"}},datasetId:{type:"string",messages:{type:"datasetId must be a string",required:"datasetId is required"}},tokenType:{type:"number","enum":[0,1],"default":0,invalidMessage:"tokenType property is invalid"}},required:["accessToken","datasetId"]}},function(t,e){t.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{name:{type:"string",messages:{type:"name must be a string",required:"name is required"}}},required:["name"]}},function(t,e,n){t.exports=n(11)},function(t,e,n){"use strict";var r=/[\/]/g,i=/(")/gim,a=/^[a-z_$][0-9a-z]*$/gi,o="jsen: invalid schema object",s=typeof window==="object"&&!!window.navigator,u=new RegExp("/").source!=="/",l=n(12),c=n(13),f=n(14),d=n(15),p=n(24),h=n(25),m={},g={};function y(t){t=t instanceof RegExp?t:new RegExp(t);return u?t.toString():"/"+t.source.replace(r,"\\$&")+"/"}function v(t){return'"'+t.replace(i,"\\$1")+'"'}function A(t,e){a.lastIndex=0;return a.test(e)?t+"."+e:t+"["+v(e)+"]"}function b(t){if(t===undefined){return"undefined"}var e=Object.prototype.toString.call(t);return e.substr(8,e.length-9).toLowerCase()}function x(t){return(t|0)===t}m["null"]=function(t){return t+" === null"};m.boolean=function(t){return"typeof "+t+' === "boolean"'};m.string=function(t){return"typeof "+t+' === "string"'};m.number=function(t){return"typeof "+t+' === "number"'};m.integer=function(t){return"typeof "+t+' === "number" && !('+t+" % 1)"};m.array=function(t){return"Array.isArray("+t+")"};m.object=function(t){return"typeof "+t+' === "object" && '+t+" !== null && !Array.isArray("+t+")"};m.date=function(t){return t+" instanceof Date"};g.enum=function(t){var e=t.schema["enum"];t.code("if (!equalAny("+t.path+", "+JSON.stringify(e)+")) {");t.error("enum");t.code("}")};g.minimum=function(t){if(typeof t.schema.minimum==="number"){t.code("if ("+t.path+" < "+t.schema.minimum+") {");t.error("minimum");t.code("}")}};g.exclusiveMinimum=function(t){if(t.schema.exclusiveMinimum===true&&typeof t.schema.minimum==="number"){t.code("if ("+t.path+" === "+t.schema.minimum+") {");t.error("exclusiveMinimum");t.code("}")}};g.maximum=function(t){if(typeof t.schema.maximum==="number"){t.code("if ("+t.path+" > "+t.schema.maximum+") {");t.error("maximum");t.code("}")}};g.exclusiveMaximum=function(t){if(t.schema.exclusiveMaximum===true&&typeof t.schema.maximum==="number"){t.code("if ("+t.path+" === "+t.schema.maximum+") {");t.error("exclusiveMaximum");t.code("}")}};g.multipleOf=function(t){if(typeof t.schema.multipleOf==="number"){var e=t.schema.multipleOf,n=e.toString().length-e.toFixed(0).length-1,r=n>0?Math.pow(10,n):1,i=t.path;if(n>0){t.code("if (+(Math.round(("+i+" * "+r+') + "e+" + '+n+') + "e-" + '+n+") % "+e*r+" !== 0) {")}else{t.code("if ((("+i+" * "+r+") % "+e*r+") !== 0) {")}t.error("multipleOf");t.code("}")}};g.minLength=function(t){if(x(t.schema.minLength)){t.code("if (ucs2length("+t.path+") < "+t.schema.minLength+") {");t.error("minLength");t.code("}")}};g.maxLength=function(t){if(x(t.schema.maxLength)){t.code("if (ucs2length("+t.path+") > "+t.schema.maxLength+") {");t.error("maxLength");t.code("}")}};g.pattern=function(t){var e=t.schema.pattern;if(typeof e==="string"||e instanceof RegExp){t.code("if (!("+y(e)+").test("+t.path+")) {");t.error("pattern");t.code("}")}};g.format=function(t){if(typeof t.schema.format!=="string"||!p[t.schema.format]){return}t.code("if (!("+p[t.schema.format]+").test("+t.path+")) {");t.error("format");t.code("}")};g.minItems=function(t){if(x(t.schema.minItems)){t.code("if ("+t.path+".length < "+t.schema.minItems+") {");t.error("minItems");t.code("}")}};g.maxItems=function(t){if(x(t.schema.maxItems)){t.code("if ("+t.path+".length > "+t.schema.maxItems+") {");t.error("maxItems");t.code("}")}};g.additionalItems=function(t){if(t.schema.additionalItems===false&&Array.isArray(t.schema.items)){t.code("if ("+t.path+".length > "+t.schema.items.length+") {");t.error("additionalItems");t.code("}")}};g.uniqueItems=function(t){if(t.schema.uniqueItems){t.code("if (unique("+t.path+").length !== "+t.path+".length) {");t.error("uniqueItems");t.code("}")}};g.items=function(t){var e=t.declare(0),n=0;if(b(t.schema.items)==="object"){t.code("for ("+e+" = 0; "+e+" < "+t.path+".length; "+e+"++) {");t.descend(t.path+"["+e+"]",t.schema.items);t.code("}")}else if(Array.isArray(t.schema.items)){for(;n<t.schema.items.length;n++){t.code("if ("+t.path+".length - 1 >= "+n+") {");t.descend(t.path+"["+n+"]",t.schema.items[n]);t.code("}")}if(b(t.schema.additionalItems)==="object"){t.code("for ("+e+" = "+n+"; "+e+" < "+t.path+".length; "+e+"++) {");t.descend(t.path+"["+e+"]",t.schema.additionalItems);t.code("}")}}};g.maxProperties=function(t){if(x(t.schema.maxProperties)){t.code("if (Object.keys("+t.path+").length > "+t.schema.maxProperties+") {");t.error("maxProperties");t.code("}")}};g.minProperties=function(t){if(x(t.schema.minProperties)){t.code("if (Object.keys("+t.path+").length < "+t.schema.minProperties+") {");t.error("minProperties");t.code("}")}};g.required=function(t){if(!Array.isArray(t.schema.required)){return}for(var e=0;e<t.schema.required.length;e++){t.code("if ("+A(t.path,t.schema.required[e])+" === undefined) {");t.error("required",t.schema.required[e]);t.code("}")}};g.properties=function(t){var e=t.schema.properties,n=b(e)==="object"?Object.keys(e):[],r=Array.isArray(t.schema.required)?t.schema.required:[],i,a,o;if(!n.length){return}for(a=0;a<n.length;a++){i=n[a];o=A(t.path,i);t.code("if ("+o+" !== undefined) {");t.descend(o,e[i]);t.code("}");if(r.indexOf(i)>-1){t.code("else {");t.error("required",i);t.code("}")}}};g.patternProperties=g.additionalProperties=function(t){var e=b(t.schema.properties)==="object"?Object.keys(t.schema.properties):[],n=t.schema.patternProperties,r=b(n)==="object"?Object.keys(n):[],i=t.schema.additionalProperties,a=i===false||b(i)==="object",o,s,u,l,c,f,d;if(!r.length&&!a){return}s=t.declare("[]");u=t.declare('""');l=t.declare(0);if(a){c=t.declare(false)}t.code(s+" = Object.keys("+t.path+")");t.code("for ("+l+" = 0; "+l+" < "+s+".length; "+l+"++) {")(u+" = "+s+"["+l+"]")("if ("+t.path+"["+u+"] === undefined) {")("continue")("}");if(a){t.code(c+" = false")}for(d=0;d<r.length;d++){f=r[d];t.code("if (("+y(f)+").test("+u+")) {");t.descend(t.path+"["+u+"]",n[f]);if(a){t.code(c+" = true")}t.code("}")}if(a){if(e.length){o=t.declare(JSON.stringify(e));t.code("if ("+o+".indexOf("+u+") > -1) {")("continue")("}")}t.code("if (!"+c+") {");if(i===false){t.error("additionalProperties",undefined,u)}else{t.descend(t.path+"["+u+"]",i)}t.code("}")}t.code("}")};g.dependencies=function(t){if(b(t.schema.dependencies)!=="object"){return}var e=Object.keys(t.schema.dependencies),n=e.length,r,i,a=0,o=0;for(;o<n;o++){r=e[o];i=t.schema.dependencies[r];t.code("if ("+A(t.path,r)+" !== undefined) {");if(b(i)==="object"){t.descend(t.path,i)}else{for(a;a<i.length;a++){t.code("if ("+A(t.path,i[a])+" === undefined) {");t.error("dependencies",i[a]);t.code("}")}}t.code("}")}};g.allOf=function(t){if(!Array.isArray(t.schema.allOf)){return}for(var e=0;e<t.schema.allOf.length;e++){t.descend(t.path,t.schema.allOf[e])}};g.anyOf=function(t){if(!Array.isArray(t.schema.anyOf)){return}var e=t.greedy,n=t.declare(0),r=t.declare(0),i=t.declare(false),a=0;t.code(r+" = errors.length");for(;a<t.schema.anyOf.length;a++){t.code("if (!"+i+") {");t.code(n+" = errors.length");t.greedy=true;t.descend(t.path,t.schema.anyOf[a]);t.code(i+" = errors.length === "+n)("}")}t.greedy=e;t.code("if (!"+i+") {");t.error("anyOf");t.code("} else {")("errors.length = "+r)("}")};g.oneOf=function(t){if(!Array.isArray(t.schema.oneOf)){return}var e=t.greedy,n=t.declare(0),r=t.declare(0),i=t.declare(0),a=0;t.code(r+" = errors.length");t.code(n+" = 0");for(;a<t.schema.oneOf.length;a++){t.code(i+" = errors.length");t.greedy=true;t.descend(t.path,t.schema.oneOf[a]);t.code("if (errors.length === "+i+") {")(n+"++")("}")}t.greedy=e;t.code("if ("+n+" !== 1) {");t.error("oneOf");t.code("} else {")("errors.length = "+r)("}")};g.not=function(t){if(b(t.schema.not)!=="object"){return}var e=t.greedy,n=t.declare(0);t.code(n+" = errors.length");t.greedy=true;t.descend(t.path,t.schema.not);t.greedy=e;t.code("if (errors.length === "+n+") {");t.error("not");t.code("} else {")("errors.length = "+n)("}")};function E(t,e){g[e].type=t;g[e].keyword=e}["minimum","exclusiveMinimum","maximum","exclusiveMaximum","multipleOf"].forEach(E.bind(null,"number"));["minLength","maxLength","pattern","format"].forEach(E.bind(null,"string"));["minItems","maxItems","additionalItems","uniqueItems","items"].forEach(E.bind(null,"array"));["maxProperties","minProperties","required","properties","patternProperties","additionalProperties","dependencies"].forEach(E.bind(null,"object"));["enum","allOf","anyOf","oneOf","not"].forEach(E.bind(null,null));function T(t){var e=Object.keys(t),n=e.indexOf("properties"),r=e.indexOf("patternProperties"),i={"enum":Array.isArray(t.enum)&&t.enum.length>0,type:null,allType:[],perType:{}},a,o,s;if(t.type){if(typeof t.type==="string"){i.type=[t.type]}else if(Array.isArray(t.type)&&t.type.length){i.type=t.type.slice(0)}}for(s=0;s<e.length;s++){a=e[s];if(a==="enum"||a==="type"){continue}o=g[a];if(!o){continue}if(o.type){if(!i.perType[o.type]){i.perType[o.type]=[]}if(!(n>-1&&a==="required")&&!(r>-1&&a==="additionalProperties")){i.perType[o.type].push(a)}}else{i.allType.push(a)}}return i}function w(t,e){var n=t.substr(4),r=n.length,i=[],a="",o=false,s,u;for(u=0;u<r;u++){s=n[u];switch(s){case".":if(a){a+=s}break;case"[":if(isNaN(+n[u+1])){o=true;if(a){i.push('"'+a+'"');a=""}}else{o=false;if(a){a+="."}}break;case"]":i.push(o?a:'"'+a+'"');a="";break;default:a+=s}}if(a){i.push('"'+a+'"')}if(e){i.push('"'+e+'"')}if(i.length===1&&o){return'"" + '+i[0]+' + ""'}return i.join(' + "." + ')||'""'}function S(t){var e=t,n=b(t),r,i,a,o;if(n==="object"){e={};r=Object.keys(t);for(o=0,i=r.length;o<i;o++){a=r[o];e[a]=S(t[a])}}else if(n==="array"){e=[];for(o=0,i=t.length;o<i;o++){e[o]=S(t[o])}}else if(n==="regexp"){return new RegExp(t)}else if(n==="date"){return new Date(t.toJSON())}return e}function O(t,e){for(var n=0,r=e.length;n<r;n++){if(c(t,e[n])){return true}}return false}function I(){this.objects=[];this.properties=[]}I.prototype.mark=function(t,e){var n=this.objects.indexOf(t),r;if(n<0){this.objects.push(t);r={};r[e]=1;this.properties.push(r);return}r=this.properties[n];r[e]=r[e]?r[e]+1:1};I.prototype.deleteDuplicates=function(){var t,e,n,r,i;for(r=0;r<this.properties.length;r++){t=this.properties[r];e=Object.keys(t);for(i=0;i<e.length;i++){n=e[i];if(t[n]>1){delete this.objects[r][n]}}}};I.prototype.dispose=function(){this.objects.length=0;this.properties.length=0};function C(t,e,n,r,i){var a,o,s,u,l,c,f;if(b(t)!=="object"){return e}t=r.resolve(t);if(e===undefined&&t.hasOwnProperty("default")){e=S(t["default"])}a=b(e);if(a==="object"&&b(t.properties)==="object"){c=Object.keys(t.properties);for(u=0;u<c.length;u++){s=c[u];o=C(t.properties[s],e[s],n,r);if(o!==undefined){e[s]=o}}if(n!=="always"){f=Object.keys(e);for(u=0;u<f.length;u++){s=f[u];if(c.indexOf(s)<0&&(t.additionalProperties===false||n===false&&!t.additionalProperties)){if(i){i.mark(e,s)}else{delete e[s]}}}}}else if(a==="array"&&t.items){if(b(t.items)==="array"){for(u=0;u<t.items.length;u++){o=C(t.items[u],e[u],n,r);if(o!==undefined||u<e.length){e[u]=o}}}else if(e.length){for(u=0;u<e.length;u++){e[u]=C(t.items,e[u],n,r)}}}else if(b(t.allOf)==="array"&&t.allOf.length){l=new I;for(u=0;u<t.allOf.length;u++){e=C(t.allOf[u],e,n,r,l)}l.deleteDuplicates();l.dispose()}return e}function N(t){this.path="data";this.schema=t.schema;this.formats=t.formats;this.greedy=t.greedy;this.resolver=t.resolver;this.id=t.id;this.funcache=t.funcache||{};this.scope=t.scope||{equalAny:O,unique:f,ucs2length:h,refs:{}}}N.prototype.clone=function(t){var e=new N({schema:t,formats:this.formats,greedy:this.greedy,resolver:this.resolver,id:this.id,funcache:this.funcache,scope:this.scope});return e};N.prototype.declare=function(t){var e=this.id();this.code.def(e,t);return e};N.prototype.cache=function(t,e){var n=this.funcache[t],r;if(!n){n=this.funcache[t]={key:this.id()};r=this.clone(e);n.func=r.compile(n.key);this.scope.refs[n.key]=n.func;r.dispose()}return"refs."+n.key};N.prototype.error=function(t,e,n){var r=this.schema,i=this.path,a=i!=="data"||e?'(path ? path + "." : "") + '+w(i,e)+",":"path,",o=e&&r.properties&&r.properties[e]?this.resolver.resolve(r.properties[e]):null,s=o?o.requiredMessage:r.invalidMessage;if(!s){s=o&&o.messages&&o.messages[t]||r.messages&&r.messages[t]}this.code("errors.push({");if(s){this.code("message: "+v(s)+",")}if(n){this.code("additionalProperties: "+n+",")}this.code("path: "+a)("keyword: "+v(t))("})");if(!this.greedy){this.code("return")}};N.prototype.refactor=function(t,e,n){var r=t!=="data"?'(path ? path + "." : "") + '+w(t):"path",i=this.cache(n,e),a=this.declare();this.code(a+" = "+i+"("+t+", "+r+", errors)");if(!this.greedy){this.code("if (errors.length) { return }")}};N.prototype.descend=function(t,e){var n=this.path,r=this.schema;this.path=t;this.schema=e;this.generate();this.path=n;this.schema=r};N.prototype.generate=function(){var t=this.path,e=this.schema,n=this,r=this.scope,i,a,o,s,u,l,c;if(b(e)!=="object"){return}if(e.$ref!==undefined){e=this.resolver.resolve(e);if(this.resolver.hasRef(e)){this.refactor(t,e,this.resolver.getNormalizedRef(this.schema)||this.schema.$ref);return}else{this.schema=e}}o=T(e);if(o.enum){g.enum(n);return}s=Object.keys(o.perType);
function f(t){g[t](n)}for(c=0;c<s.length;c++){l=s[c];this.code((c?"else ":"")+"if ("+m[l](t)+") {");o.perType[l].forEach(f);this.code("}");if(o.type){u=o.type.indexOf(l);if(u>-1){o.type.splice(u,1)}}}if(o.type){if(o.type.length){this.code((s.length?"else ":"")+"if (!("+o.type.map(function(e){return m[e]?m[e](t):"true"}).join(" || ")+")) {");this.error("type");this.code("}")}else{this.code("else {");this.error("type");this.code("}")}}o.allType.forEach(function(t){g[t](n)});if(e.format&&this.formats){a=this.formats[e.format];if(a){if(typeof a==="string"||a instanceof RegExp){this.code("if (!("+y(a)+").test("+t+")) {");this.error("format");this.code("}")}else if(typeof a==="function"){(r.formats||(r.formats={}))[e.format]=a;(r.schemas||(r.schemas={}))[e.format]=e;i=v(e.format);this.code("if (!formats["+i+"]("+t+", schemas["+i+"])) {");this.error("format");this.code("}")}}}};N.prototype.compile=function(t){this.code=l("jsen_compiled"+(t?"_"+t:""),"data","path","errors");this.generate();return this.code.compile(this.scope)};N.prototype.dispose=function(){for(var t in this){this[t]=undefined}};function R(t,e){if(b(t)!=="object"){throw new Error(o)}e=e||{};var n=0,r=function(){return"i"+n++},i=new d(t,e.schemas,e.missing$Ref||false),a=new N({schema:t,resolver:i,id:r,schemas:e.schemas,formats:e.formats,greedy:e.greedy||false}),s=l("validate","data")("validate.errors = []")('gen(data, "", validate.errors)')("return validate.errors.length === 0").compile({gen:a.compile()});a.dispose();a=null;s.errors=[];s.build=function(e,n){return C(t,n&&n.copy===false?e:S(e),n&&n.additionalProperties,i)};return s}R.browser=s;R.clone=S;R.equal=c;R.unique=f;R.ucs2length=h;R.SchemaResolver=d;R.resolve=d.resolvePointer;t.exports=R},function(t,e){"use strict";t.exports=function n(){var t=Array.apply(null,arguments),e=t.shift(),n="  ",r="",i="",a=1,o="{[",s="}]",u=function(){var t=n,e=0;while(e++<a-1){t+=n}return t},l=function(t){r+=u()+t+"\n"},c=function(t){var e=t[0],n=t[t.length-1];if(s.indexOf(e)>-1&&o.indexOf(n)>-1){a--;l(t);a++}else if(o.indexOf(n)>-1){l(t);a++}else if(s.indexOf(e)>-1){a--;l(t)}else{l(t)}return c};c.def=function(t,e){i+=(i?",\n"+n+"    ":"")+t+(e!==undefined?" = "+e:"");return c};c.toSource=function(){return"function "+e+"("+t.join(", ")+") {\n"+n+'"use strict"'+"\n"+(i?n+"var "+i+";\n":"")+r+"}"};c.compile=function(t){var e="return ("+c.toSource()+")",n=t||{},r=Object.keys(n),i=r.map(function(t){return n[t]});return Function.apply(null,r.concat(e)).apply(null,i)};return c}},function(t,e){"use strict";function n(t){var e=Object.prototype.toString.call(t);return e.substr(8,e.length-9).toLowerCase()}function r(t,e){var n=Object.keys(t).sort(),r=Object.keys(e).sort(),a,o;if(!i(n,r)){return false}for(a=0;a<n.length;a++){o=n[a];if(!i(t[o],e[o])){return false}}return true}function i(t,e){var a=typeof t,o=typeof e,s;if(a==="object"){a=n(t)}if(o==="object"){o=n(e)}if(a!==o){return false}if(a==="object"){return r(t,e)}if(a==="regexp"){return t.toString()===e.toString()}if(a==="array"){if(t.length!==e.length){return false}for(s=0;s<t.length;s++){if(!i(t[s],e[s])){return false}}return true}return t===e}t.exports=i},function(t,e,n){"use strict";var r=n(13);function i(t,e,n){for(var r=0,i=t.length;r<i;r++){if(n(t[r],e)){return r}}return-1}t.exports=function a(t){return t.filter(function e(t,n,a){return i(a,t,r)===n})};t.exports.findIndex=i},function(t,e,n){"use strict";var r=n(16),i=n(23),a="jsen: invalid schema reference",o="jsen: duplicate schema id",s="jsen: circular schema reference";function u(t,e){if(!e.length){return t}var n=e.shift(),r;if(t&&typeof t==="object"&&t.hasOwnProperty(n)){r=t[n]}if(e.length){if(r&&typeof r==="object"){return u(r,e)}return undefined}return r}function l(t){var e=t.indexOf("#"),n={base:t.substr(0,e),path:[]};if(e<0){n.base=t;return n}t=t.substr(e+1);if(!t){return n}n.path=t.split("/").map(function(t){return decodeURIComponent(t).replace(/~1/g,"/").replace(/~0/g,"~")});if(t[0]==="/"){n.path.shift()}return n}function c(t,e,n,r){this.rootSchema=t;this.resolvers=null;this.resolvedRootSchema=null;this.cache={};this.idCache={};this.refCache={refs:[],schemas:[]};this.missing$Ref=n;this.refStack=[];r=r||"";this._buildIdCache(t,r);r=this.refCache.refs[this.refCache.schemas.indexOf(this.rootSchema)]||r;this._buildResolvers(e,r)}c.prototype._cacheId=function(t,e,n){if(this.idCache[t]){throw new Error(o+" "+t)}this.idCache[t]={resolver:n,schema:e}};c.prototype._buildIdCache=function(t,e){var n=e,i,a,o;if(!t||typeof t!=="object"){return}if(typeof t.id==="string"&&t.id){n=r.resolve(e,t.id);this._cacheId(n,t,this)}else if(t===this.rootSchema&&e){this._cacheId(e,t,this)}if(t.$ref&&typeof t.$ref==="string"){i=r.resolve(n,t.$ref);this.refCache.schemas.push(t);this.refCache.refs.push(i)}a=Object.keys(t);for(o=0;o<a.length;o++){this._buildIdCache(t[a[o]],n)}};c.prototype._buildResolvers=function(t,e){if(!t||typeof t!=="object"){return}var n=this,i={};Object.keys(t).forEach(function(a){var o=r.resolve(e,a),s=new c(t[a],null,n.missing$Ref,o);n._cacheId(o,s.rootSchema,s);Object.keys(s.idCache).forEach(function(t){n.idCache[t]=s.idCache[t]});i[a]=s});this.resolvers=i};c.prototype.getNormalizedRef=function(t){var e=this.refCache.schemas.indexOf(t);return this.refCache.refs[e]};c.prototype._resolveRef=function(t){var e=new Error(a+" "+t),n=this.idCache,r,o,s,c,f;if(!t||typeof t!=="string"){throw e}if(t===i.id){f=i}o=n[t];if(o){f=o.resolver.resolve(o.schema)}if(f===undefined){s=l(t);c=s.path;if(s.base){o=n[s.base]||n[s.base+"#"];if(o){f=o.resolver.resolve(u(o.schema,c.slice(0)))}else{c.unshift(s.base)}}}if(f===undefined&&this.resolvedRootSchema){f=u(this.resolvedRootSchema,c.slice(0))}if(f===undefined){f=u(this.rootSchema,c.slice(0))}if(f===undefined&&c.length&&this.resolvers){r=u(this.resolvers,c);if(r){f=r.resolve(r.rootSchema)}}if(f===undefined||typeof f!=="object"){if(this.missing$Ref){f={}}else{throw e}}if(this.cache[t]===f){return f}this.cache[t]=f;if(f.$ref!==undefined){f=this.resolve(f)}return f};c.prototype.resolve=function(t){if(!t||typeof t!=="object"||t.$ref===undefined){return t}var e=this.getNormalizedRef(t)||t.$ref,n=this.cache[e];if(n!==undefined){return n}if(this.refStack.indexOf(e)>-1){throw new Error(s+" "+e)}this.refStack.push(e);n=this._resolveRef(e);this.refStack.pop();if(t===this.rootSchema){this.resolvedRootSchema=n}return n};c.prototype.hasRef=function(t){var e=Object.keys(t),n,r,i,a;if(e.indexOf("$ref")>-1){return true}for(i=0,n=e.length;i<n;i++){r=e[i];if(t[r]&&typeof t[r]==="object"&&!Array.isArray(t[r])){a=this.hasRef(t[r]);if(a){return true}}}return false};c.resolvePointer=function(t,e){var n=l(e),r=n.path;if(n.base){r=[n.base].concat(r)}return u(t,r)};t.exports=c},function(t,e,n){"use strict";var r=n(17);var i=n(19);e.parse=x;e.resolve=T;e.resolveObject=w;e.format=E;e.Url=a;function a(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r","\n","\t"],c=["{","}","|","\\","^","`"].concat(l),f=["'"].concat(c),d=["%","/","?",";","#"].concat(f),p=["/","?","#"],h=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:true,"javascript:":true},v={javascript:true,"javascript:":true},A={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},b=n(20);function x(t,e,n){if(t&&i.isObject(t)&&t instanceof a)return t;var r=new a;r.parse(t,e,n);return r}a.prototype.parse=function(t,e,n){if(!i.isString(t)){throw new TypeError("Parameter 'url' must be a string, not "+typeof t)}var a=t.indexOf("?"),s=a!==-1&&a<t.indexOf("#")?"?":"#",l=t.split(s),c=/\\/g;l[0]=l[0].replace(c,"/");t=l.join(s);var x=t;x=x.trim();if(!n&&t.split("#").length===1){var E=u.exec(x);if(E){this.path=x;this.href=x;this.pathname=E[1];if(E[2]){this.search=E[2];if(e){this.query=b.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(e){this.search="";this.query={}}return this}}var T=o.exec(x);if(T){T=T[0];var w=T.toLowerCase();this.protocol=w;x=x.substr(T.length)}if(n||T||x.match(/^\/\/[^@\/]+@[^@\/]+/)){var S=x.substr(0,2)==="//";if(S&&!(T&&v[T])){x=x.substr(2);this.slashes=true}}if(!v[T]&&(S||T&&!A[T])){var O=-1;for(var I=0;I<p.length;I++){var C=x.indexOf(p[I]);if(C!==-1&&(O===-1||C<O))O=C}var N,R;if(O===-1){R=x.lastIndexOf("@")}else{R=x.lastIndexOf("@",O)}if(R!==-1){N=x.slice(0,R);x=x.slice(R+1);this.auth=decodeURIComponent(N)}O=-1;for(var I=0;I<d.length;I++){var C=x.indexOf(d[I]);if(C!==-1&&(O===-1||C<O))O=C}if(O===-1)O=x.length;this.host=x.slice(0,O);x=x.slice(O);this.parseHost();this.hostname=this.hostname||"";var D=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!D){var F=this.hostname.split(/\./);for(var I=0,M=F.length;I<M;I++){var _=F[I];if(!_)continue;if(!_.match(m)){var P="";for(var k=0,L=_.length;k<L;k++){if(_.charCodeAt(k)>127){P+="x"}else{P+=_[k]}}if(!P.match(m)){var U=F.slice(0,I);var j=F.slice(I+1);var W=_.match(g);if(W){U.push(W[1]);j.unshift(W[2])}if(j.length){x="/"+j.join(".")+x}this.hostname=U.join(".");break}}}}if(this.hostname.length>h){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!D){this.hostname=r.toASCII(this.hostname)}var B=this.port?":"+this.port:"";var H=this.hostname||"";this.host=H+B;this.href+=this.host;if(D){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(x[0]!=="/"){x="/"+x}}}if(!y[w]){for(var I=0,M=f.length;I<M;I++){var q=f[I];if(x.indexOf(q)===-1)continue;var G=encodeURIComponent(q);if(G===q){G=escape(q)}x=x.split(q).join(G)}}var V=x.indexOf("#");if(V!==-1){this.hash=x.substr(V);x=x.slice(0,V)}var Y=x.indexOf("?");if(Y!==-1){this.search=x.substr(Y);this.query=x.substr(Y+1);if(e){this.query=b.parse(this.query)}x=x.slice(0,Y)}else if(e){this.search="";this.query={}}if(x)this.pathname=x;if(A[w]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var B=this.pathname||"";var Q=this.search||"";this.path=B+Q}this.href=this.format();return this};function E(t){if(i.isString(t))t=x(t);if(!(t instanceof a))return a.prototype.format.call(t);return t.format()}a.prototype.format=function(){var t=this.auth||"";if(t){t=encodeURIComponent(t);t=t.replace(/%3A/i,":");t+="@"}var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=false,o="";if(this.host){a=t+this.host}else if(this.hostname){a=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){a+=":"+this.port}}if(this.query&&i.isObject(this.query)&&Object.keys(this.query).length){o=b.stringify(this.query)}var s=this.search||o&&"?"+o||"";if(e&&e.substr(-1)!==":")e+=":";if(this.slashes||(!e||A[e])&&a!==false){a="//"+(a||"");if(n&&n.charAt(0)!=="/")n="/"+n}else if(!a){a=""}if(r&&r.charAt(0)!=="#")r="#"+r;if(s&&s.charAt(0)!=="?")s="?"+s;n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)});s=s.replace("#","%23");return e+a+n+s+r};function T(t,e){return x(t,false,true).resolve(e)}a.prototype.resolve=function(t){return this.resolveObject(x(t,false,true)).format()};function w(t,e){if(!t)return e;return x(t,false,true).resolveObject(e)}a.prototype.resolveObject=function(t){if(i.isString(t)){var e=new a;e.parse(t,false,true);t=e}var n=new a;var r=Object.keys(this);for(var o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}n.hash=t.hash;if(t.href===""){n.href=n.format();return n}if(t.slashes&&!t.protocol){var u=Object.keys(t);for(var l=0;l<u.length;l++){var c=u[l];if(c!=="protocol")n[c]=t[c]}if(A[n.protocol]&&n.hostname&&!n.pathname){n.path=n.pathname="/"}n.href=n.format();return n}if(t.protocol&&t.protocol!==n.protocol){if(!A[t.protocol]){var f=Object.keys(t);for(var d=0;d<f.length;d++){var p=f[d];n[p]=t[p]}n.href=n.format();return n}n.protocol=t.protocol;if(!t.host&&!v[t.protocol]){var h=(t.pathname||"").split("/");while(h.length&&!(t.host=h.shift()));if(!t.host)t.host="";if(!t.hostname)t.hostname="";if(h[0]!=="")h.unshift("");if(h.length<2)h.unshift("");n.pathname=h.join("/")}else{n.pathname=t.pathname}n.search=t.search;n.query=t.query;n.host=t.host||"";n.auth=t.auth;n.hostname=t.hostname||t.host;n.port=t.port;if(n.pathname||n.search){var m=n.pathname||"";var g=n.search||"";n.path=m+g}n.slashes=n.slashes||t.slashes;n.href=n.format();return n}var y=n.pathname&&n.pathname.charAt(0)==="/",b=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=b||y||n.host&&t.pathname,E=x,T=n.pathname&&n.pathname.split("/")||[],h=t.pathname&&t.pathname.split("/")||[],w=n.protocol&&!A[n.protocol];if(w){n.hostname="";n.port=null;if(n.host){if(T[0]==="")T[0]=n.host;else T.unshift(n.host)}n.host="";if(t.protocol){t.hostname=null;t.port=null;if(t.host){if(h[0]==="")h[0]=t.host;else h.unshift(t.host)}t.host=null}x=x&&(h[0]===""||T[0]==="")}if(b){n.host=t.host||t.host===""?t.host:n.host;n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname;n.search=t.search;n.query=t.query;T=h}else if(h.length){if(!T)T=[];T.pop();T=T.concat(h);n.search=t.search;n.query=t.query}else if(!i.isNullOrUndefined(t.search)){if(w){n.hostname=n.host=T.shift();var S=n.host&&n.host.indexOf("@")>0?n.host.split("@"):false;if(S){n.auth=S.shift();n.host=n.hostname=S.shift()}}n.search=t.search;n.query=t.query;if(!i.isNull(n.pathname)||!i.isNull(n.search)){n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")}n.href=n.format();return n}if(!T.length){n.pathname=null;if(n.search){n.path="/"+n.search}else{n.path=null}n.href=n.format();return n}var O=T.slice(-1)[0];var I=(n.host||t.host||T.length>1)&&(O==="."||O==="..")||O==="";var C=0;for(var N=T.length;N>=0;N--){O=T[N];if(O==="."){T.splice(N,1)}else if(O===".."){T.splice(N,1);C++}else if(C){T.splice(N,1);C--}}if(!x&&!E){for(;C--;C){T.unshift("..")}}if(x&&T[0]!==""&&(!T[0]||T[0].charAt(0)!=="/")){T.unshift("")}if(I&&T.join("/").substr(-1)!=="/"){T.push("")}var R=T[0]===""||T[0]&&T[0].charAt(0)==="/";if(w){n.hostname=n.host=R?"":T.length?T.shift():"";var S=n.host&&n.host.indexOf("@")>0?n.host.split("@"):false;if(S){n.auth=S.shift();n.host=n.hostname=S.shift()}}x=x||n.host&&T.length;if(x&&!R){T.unshift("")}if(!T.length){n.pathname=null;n.path=null}else{n.pathname=T.join("/")}if(!i.isNull(n.pathname)||!i.isNull(n.search)){n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")}n.auth=t.auth||n.auth;n.slashes=n.slashes||t.slashes;n.href=n.format();return n};a.prototype.parseHost=function(){var t=this.host;var e=s.exec(t);if(e){e=e[0];if(e!==":"){this.port=e.substr(1)}t=t.substr(0,t.length-e.length)}if(t)this.hostname=t}},function(t,e,n){var r;(function(t,i){(function(a){var o=typeof e=="object"&&e&&!e.nodeType&&e;var s=typeof t=="object"&&t&&!t.nodeType&&t;var u=typeof i=="object"&&i;if(u.global===u||u.window===u||u.self===u){a=u}var l,c=2147483647,f=36,d=1,p=26,h=38,m=700,g=72,y=128,v="-",A=/^xn--/,b=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=f-d,w=Math.floor,S=String.fromCharCode,O;function I(t){throw RangeError(E[t])}function C(t,e){var n=t.length;var r=[];while(n--){r[n]=e(t[n])}return r}function N(t,e){var n=t.split("@");var r="";if(n.length>1){r=n[0]+"@";t=n[1]}t=t.replace(x,".");var i=t.split(".");var a=C(i,e).join(".");return r+a}function R(t){var e=[],n=0,r=t.length,i,a;while(n<r){i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){a=t.charCodeAt(n++);if((a&64512)==56320){e.push(((i&1023)<<10)+(a&1023)+65536)}else{e.push(i);n--}}else{e.push(i)}}return e}function D(t){return C(t,function(t){var e="";if(t>65535){t-=65536;e+=S(t>>>10&1023|55296);t=56320|t&1023}e+=S(t);return e}).join("")}function F(t){if(t-48<10){return t-22}if(t-65<26){return t-65}if(t-97<26){return t-97}return f}function M(t,e){return t+22+75*(t<26)-((e!=0)<<5)}function _(t,e,n){var r=0;t=n?w(t/m):t>>1;t+=w(t/e);for(;t>T*p>>1;r+=f){t=w(t/T)}return w(r+(T+1)*t/(t+h))}function P(t){var e=[],n=t.length,r,i=0,a=y,o=g,s,u,l,h,m,A,b,x,E;s=t.lastIndexOf(v);if(s<0){s=0}for(u=0;u<s;++u){if(t.charCodeAt(u)>=128){I("not-basic")}e.push(t.charCodeAt(u))}for(l=s>0?s+1:0;l<n;){for(h=i,m=1,A=f;;A+=f){if(l>=n){I("invalid-input")}b=F(t.charCodeAt(l++));if(b>=f||b>w((c-i)/m)){I("overflow")}i+=b*m;x=A<=o?d:A>=o+p?p:A-o;if(b<x){break}E=f-x;if(m>w(c/E)){I("overflow")}m*=E}r=e.length+1;o=_(i-h,r,h==0);if(w(i/r)>c-a){I("overflow")}a+=w(i/r);i%=r;e.splice(i++,0,a)}return D(e)}function k(t){var e,n,r,i,a,o,s,u,l,h,m,A=[],b,x,E,T;t=R(t);b=t.length;e=y;n=0;a=g;for(o=0;o<b;++o){m=t[o];if(m<128){A.push(S(m))}}r=i=A.length;if(i){A.push(v)}while(r<b){for(s=c,o=0;o<b;++o){m=t[o];if(m>=e&&m<s){s=m}}x=r+1;if(s-e>w((c-n)/x)){I("overflow")}n+=(s-e)*x;e=s;for(o=0;o<b;++o){m=t[o];if(m<e&&++n>c){I("overflow")}if(m==e){for(u=n,l=f;;l+=f){h=l<=a?d:l>=a+p?p:l-a;if(u<h){break}T=u-h;E=f-h;A.push(S(M(h+T%E,0)));u=w(T/E)}A.push(S(M(u,0)));a=_(n,x,r==i);n=0;++r}}++n;++e}return A.join("")}function L(t){return N(t,function(t){return A.test(t)?P(t.slice(4).toLowerCase()):t})}function U(t){return N(t,function(t){return b.test(t)?"xn--"+k(t):t})}l={version:"1.3.2",ucs2:{decode:R,encode:D},decode:P,encode:k,toASCII:U,toUnicode:L};if(true){!(r=function(){return l}.call(e,n,e,t),r!==undefined&&(t.exports=r))}else if(o&&s){if(t.exports==o){s.exports=l}else{for(O in l){l.hasOwnProperty(O)&&(o[O]=l[O])}}}else{a.punycode=l}})(this)}).call(e,n(18)(t),function(){return this}())},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){t.deprecate=function(){};t.paths=[];t.children=[];t.webpackPolyfill=1}return t}},function(t,e){"use strict";t.exports={isString:function(t){return typeof t==="string"},isObject:function(t){return typeof t==="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}}},function(t,e,n){"use strict";e.decode=e.parse=n(21);e.encode=e.stringify=n(22)},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&";r=r||"=";var a={};if(typeof t!=="string"||t.length===0){return a}var o=/\+/g;t=t.split(e);var s=1e3;if(i&&typeof i.maxKeys==="number"){s=i.maxKeys}var u=t.length;if(s>0&&u>s){u=s}for(var l=0;l<u;++l){var c=t[l].replace(o,"%20"),f=c.indexOf(r),d,p,h,m;if(f>=0){d=c.substr(0,f);p=c.substr(f+1)}else{d=c;p=""}h=decodeURIComponent(d);m=decodeURIComponent(p);if(!n(a,h)){a[h]=m}else if(Array.isArray(a[h])){a[h].push(m)}else{a[h]=[a[h],m]}}return a}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,i){e=e||"&";r=r||"=";if(t===null){t=undefined}if(typeof t==="object"){return Object.keys(t).map(function(i){var a=encodeURIComponent(n(i))+r;if(Array.isArray(t[i])){return t[i].map(function(t){return a+encodeURIComponent(n(t))}).join(e)}else{return a+encodeURIComponent(n(t[i]))}}).join(e)}if(!i)return"";return encodeURIComponent(n(i))+r+encodeURIComponent(n(t))}},function(t,e){t.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{"default":0}]},simpleTypes:{"enum":["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:true}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},"default":{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:true},maximum:{type:"number"},exclusiveMaximum:{type:"boolean","default":false},minimum:{type:"number"},exclusiveMinimum:{type:"boolean","default":false},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],"default":{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean","default":false},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},definitions:{type:"object",additionalProperties:{$ref:"#"},"default":{}},properties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},"enum":{type:"array",minItems:1,uniqueItems:true},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:true}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},"default":{}}},function(t,e){"use strict";var n={};n["date-time"]=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)(:)?(\d\d)(\.\d+)?(Z|([+-])(\d\d)(:)?(\d\d))/;n.uri=/^([a-zA-Z][a-zA-Z0-9+-.]*:){0,1}\/\/[^\s]*$/;n.email=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;n.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;n.ipv6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|[fF][eE]80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::([fF]{4}(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;n.hostname=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]))*$/;t.exports=n},function(t,e){"use strict";function n(t){var e=0,n=0,r=t.length,i,a;while(n<r){e++;i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){a=t.charCodeAt(n++);if((a&64512)!==56320){n--}}}return e}t.exports=n}])})},function(t,e){t.exports="/*! powerbi-models v0.11.3 | (c) 2016 Microsoft Corporation MIT */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"powerbi-models\"] = factory();\n\telse\n\t\troot[\"powerbi-models\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __extends = (this && this.__extends) || (function () {\n\t    var extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() { this.constructor = d; }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t})();\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\t/* tslint:disable:no-var-requires */\n\texports.advancedFilterSchema = __webpack_require__(1);\n\texports.filterSchema = __webpack_require__(2);\n\texports.loadSchema = __webpack_require__(3);\n\texports.dashboardLoadSchema = __webpack_require__(4);\n\texports.pageSchema = __webpack_require__(5);\n\texports.settingsSchema = __webpack_require__(6);\n\texports.basicFilterSchema = __webpack_require__(7);\n\texports.createReportSchema = __webpack_require__(8);\n\texports.saveAsParametersSchema = __webpack_require__(9);\n\t/* tslint:enable:no-var-requires */\n\tvar jsen = __webpack_require__(10);\n\tfunction normalizeError(error) {\n\t    var message = error.message;\n\t    if (!message) {\n\t        message = error.path + \" is invalid. Not meeting \" + error.keyword + \" constraint\";\n\t    }\n\t    return {\n\t        message: message\n\t    };\n\t}\n\t/**\n\t * Takes in schema and returns function which can be used to validate the schema with better semantics around exposing errors\n\t */\n\tfunction validate(schema, options) {\n\t    return function (x) {\n\t        var validate = jsen(schema, options);\n\t        var isValid = validate(x);\n\t        if (isValid) {\n\t            return undefined;\n\t        }\n\t        else {\n\t            return validate.errors\n\t                .map(normalizeError);\n\t        }\n\t    };\n\t}\n\texports.validateSettings = validate(exports.settingsSchema, {\n\t    schemas: {\n\t        basicFilter: exports.basicFilterSchema,\n\t        advancedFilter: exports.advancedFilterSchema\n\t    }\n\t});\n\texports.validateReportLoad = validate(exports.loadSchema, {\n\t    schemas: {\n\t        settings: exports.settingsSchema,\n\t        basicFilter: exports.basicFilterSchema,\n\t        advancedFilter: exports.advancedFilterSchema\n\t    }\n\t});\n\texports.validateCreateReport = validate(exports.createReportSchema);\n\texports.validateDashboardLoad = validate(exports.dashboardLoadSchema);\n\texports.validatePage = validate(exports.pageSchema);\n\texports.validateFilter = validate(exports.filterSchema, {\n\t    schemas: {\n\t        basicFilter: exports.basicFilterSchema,\n\t        advancedFilter: exports.advancedFilterSchema\n\t    }\n\t});\n\tvar FilterType;\n\t(function (FilterType) {\n\t    FilterType[FilterType[\"Advanced\"] = 0] = \"Advanced\";\n\t    FilterType[FilterType[\"Basic\"] = 1] = \"Basic\";\n\t    FilterType[FilterType[\"Unknown\"] = 2] = \"Unknown\";\n\t})(FilterType = exports.FilterType || (exports.FilterType = {}));\n\tfunction isFilterKeyColumnsTarget(target) {\n\t    return isColumn(target) && !!target.keys;\n\t}\n\texports.isFilterKeyColumnsTarget = isFilterKeyColumnsTarget;\n\tfunction isBasicFilterWithKeys(filter) {\n\t    return getFilterType(filter) === FilterType.Basic && !!filter.keyValues;\n\t}\n\texports.isBasicFilterWithKeys = isBasicFilterWithKeys;\n\tfunction getFilterType(filter) {\n\t    var basicFilter = filter;\n\t    var advancedFilter = filter;\n\t    if ((typeof basicFilter.operator === \"string\")\n\t        && (Array.isArray(basicFilter.values))) {\n\t        return FilterType.Basic;\n\t    }\n\t    else if ((typeof advancedFilter.logicalOperator === \"string\")\n\t        && (Array.isArray(advancedFilter.conditions))) {\n\t        return FilterType.Advanced;\n\t    }\n\t    else {\n\t        return FilterType.Unknown;\n\t    }\n\t}\n\texports.getFilterType = getFilterType;\n\tfunction isMeasure(arg) {\n\t    return arg.table !== undefined && arg.measure !== undefined;\n\t}\n\texports.isMeasure = isMeasure;\n\tfunction isColumn(arg) {\n\t    return arg.table !== undefined && arg.column !== undefined;\n\t}\n\texports.isColumn = isColumn;\n\tfunction isHierarchy(arg) {\n\t    return arg.table !== undefined && arg.hierarchy !== undefined && arg.hierarchyLevel !== undefined;\n\t}\n\texports.isHierarchy = isHierarchy;\n\tvar Filter = (function () {\n\t    function Filter(target) {\n\t        this.target = target;\n\t    }\n\t    Filter.prototype.toJSON = function () {\n\t        return {\n\t            $schema: this.schemaUrl,\n\t            target: this.target\n\t        };\n\t    };\n\t    ;\n\t    return Filter;\n\t}());\n\texports.Filter = Filter;\n\tvar BasicFilter = (function (_super) {\n\t    __extends(BasicFilter, _super);\n\t    function BasicFilter(target, operator) {\n\t        var values = [];\n\t        for (var _i = 2; _i < arguments.length; _i++) {\n\t            values[_i - 2] = arguments[_i];\n\t        }\n\t        var _this = _super.call(this, target) || this;\n\t        _this.operator = operator;\n\t        _this.schemaUrl = BasicFilter.schemaUrl;\n\t        if (values.length === 0 && operator !== \"All\") {\n\t            throw new Error(\"values must be a non-empty array unless your operator is \\\"All\\\".\");\n\t        }\n\t        /**\n\t         * Accept values as array instead of as individual arguments\n\t         * new BasicFilter('a', 'b', 1, 2);\n\t         * new BasicFilter('a', 'b', [1,2]);\n\t         */\n\t        if (Array.isArray(values[0])) {\n\t            _this.values = values[0];\n\t        }\n\t        else {\n\t            _this.values = values;\n\t        }\n\t        return _this;\n\t    }\n\t    BasicFilter.prototype.toJSON = function () {\n\t        var filter = _super.prototype.toJSON.call(this);\n\t        filter.operator = this.operator;\n\t        filter.values = this.values;\n\t        return filter;\n\t    };\n\t    return BasicFilter;\n\t}(Filter));\n\tBasicFilter.schemaUrl = \"http://powerbi.com/product/schema#basic\";\n\texports.BasicFilter = BasicFilter;\n\tvar BasicFilterWithKeys = (function (_super) {\n\t    __extends(BasicFilterWithKeys, _super);\n\t    function BasicFilterWithKeys(target, operator, values, keyValues) {\n\t        var _this = _super.call(this, target, operator, values) || this;\n\t        _this.keyValues = keyValues;\n\t        _this.target = target;\n\t        var numberOfKeys = target.keys ? target.keys.length : 0;\n\t        if (numberOfKeys > 0 && !keyValues) {\n\t            throw new Error(\"You shold pass the values to be filtered for each key. You passed: no values and \" + numberOfKeys + \" keys\");\n\t        }\n\t        if (numberOfKeys === 0 && keyValues && keyValues.length > 0) {\n\t            throw new Error(\"You passed key values but your target object doesn't contain the keys to be filtered\");\n\t        }\n\t        for (var i = 0; i < _this.keyValues.length; i++) {\n\t            if (_this.keyValues[i]) {\n\t                var lengthOfArray = _this.keyValues[i].length;\n\t                if (lengthOfArray !== numberOfKeys) {\n\t                    throw new Error(\"Each tuple of key values should contain a value for each of the keys. You passed: \" + lengthOfArray + \" values and \" + numberOfKeys + \" keys\");\n\t                }\n\t            }\n\t        }\n\t        return _this;\n\t    }\n\t    BasicFilterWithKeys.prototype.toJSON = function () {\n\t        var filter = _super.prototype.toJSON.call(this);\n\t        filter.keyValues = this.keyValues;\n\t        return filter;\n\t    };\n\t    return BasicFilterWithKeys;\n\t}(BasicFilter));\n\texports.BasicFilterWithKeys = BasicFilterWithKeys;\n\tvar AdvancedFilter = (function (_super) {\n\t    __extends(AdvancedFilter, _super);\n\t    function AdvancedFilter(target, logicalOperator) {\n\t        var conditions = [];\n\t        for (var _i = 2; _i < arguments.length; _i++) {\n\t            conditions[_i - 2] = arguments[_i];\n\t        }\n\t        var _this = _super.call(this, target) || this;\n\t        _this.schemaUrl = AdvancedFilter.schemaUrl;\n\t        // Guard statements\n\t        if (typeof logicalOperator !== \"string\" || logicalOperator.length === 0) {\n\t            // TODO: It would be nicer to list out the possible logical operators.\n\t            throw new Error(\"logicalOperator must be a valid operator, You passed: \" + logicalOperator);\n\t        }\n\t        _this.logicalOperator = logicalOperator;\n\t        var extractedConditions;\n\t        /**\n\t         * Accept conditions as array instead of as individual arguments\n\t         * new AdvancedFilter('a', 'b', \"And\", { value: 1, operator: \"Equals\" }, { value: 2, operator: \"IsGreaterThan\" });\n\t         * new AdvancedFilter('a', 'b', \"And\", [{ value: 1, operator: \"Equals\" }, { value: 2, operator: \"IsGreaterThan\" }]);\n\t         */\n\t        if (Array.isArray(conditions[0])) {\n\t            extractedConditions = conditions[0];\n\t        }\n\t        else {\n\t            extractedConditions = conditions;\n\t        }\n\t        if (extractedConditions.length === 0) {\n\t            throw new Error(\"conditions must be a non-empty array. You passed: \" + conditions);\n\t        }\n\t        if (extractedConditions.length > 2) {\n\t            throw new Error(\"AdvancedFilters may not have more than two conditions. You passed: \" + conditions.length);\n\t        }\n\t        if (extractedConditions.length === 1 && logicalOperator !== \"And\") {\n\t            throw new Error(\"Logical Operator must be \\\"And\\\" when there is only one condition provided\");\n\t        }\n\t        _this.conditions = extractedConditions;\n\t        return _this;\n\t    }\n\t    AdvancedFilter.prototype.toJSON = function () {\n\t        var filter = _super.prototype.toJSON.call(this);\n\t        filter.logicalOperator = this.logicalOperator;\n\t        filter.conditions = this.conditions;\n\t        return filter;\n\t    };\n\t    return AdvancedFilter;\n\t}(Filter));\n\tAdvancedFilter.schemaUrl = \"http://powerbi.com/product/schema#advanced\";\n\texports.AdvancedFilter = AdvancedFilter;\n\tvar Permissions;\n\t(function (Permissions) {\n\t    Permissions[Permissions[\"Read\"] = 0] = \"Read\";\n\t    Permissions[Permissions[\"ReadWrite\"] = 1] = \"ReadWrite\";\n\t    Permissions[Permissions[\"Copy\"] = 2] = \"Copy\";\n\t    Permissions[Permissions[\"Create\"] = 4] = \"Create\";\n\t    Permissions[Permissions[\"All\"] = 7] = \"All\";\n\t})(Permissions = exports.Permissions || (exports.Permissions = {}));\n\tvar ViewMode;\n\t(function (ViewMode) {\n\t    ViewMode[ViewMode[\"View\"] = 0] = \"View\";\n\t    ViewMode[ViewMode[\"Edit\"] = 1] = \"Edit\";\n\t})(ViewMode = exports.ViewMode || (exports.ViewMode = {}));\n\tvar TokenType;\n\t(function (TokenType) {\n\t    TokenType[TokenType[\"Aad\"] = 0] = \"Aad\";\n\t    TokenType[TokenType[\"Embed\"] = 1] = \"Embed\";\n\t})(TokenType = exports.TokenType || (exports.TokenType = {}));\n\texports.validateSaveAsParameters = validate(exports.saveAsParametersSchema);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"target\": {\n\t\t\t\t\"oneOf\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"object\",\n\t\t\t\t\t\t\"properties\": {\n\t\t\t\t\t\t\t\"table\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"column\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"required\": [\n\t\t\t\t\t\t\t\"table\",\n\t\t\t\t\t\t\t\"column\"\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"object\",\n\t\t\t\t\t\t\"properties\": {\n\t\t\t\t\t\t\t\"table\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"hierarchy\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"hierarchyLevel\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"required\": [\n\t\t\t\t\t\t\t\"table\",\n\t\t\t\t\t\t\t\"hierarchy\",\n\t\t\t\t\t\t\t\"hierarchyLevel\"\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"object\",\n\t\t\t\t\t\t\"properties\": {\n\t\t\t\t\t\t\t\"table\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"measure\": {\n\t\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"required\": [\n\t\t\t\t\t\t\t\"table\",\n\t\t\t\t\t\t\t\"measure\"\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"logicalOperator\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"conditions\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"items\": {\n\t\t\t\t\t\"type\": \"object\",\n\t\t\t\t\t\"properties\": {\n\t\t\t\t\t\t\"value\": {\n\t\t\t\t\t\t\t\"type\": [\n\t\t\t\t\t\t\t\t\"string\",\n\t\t\t\t\t\t\t\t\"boolean\",\n\t\t\t\t\t\t\t\t\"number\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"operator\": {\n\t\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"required\": [\n\t\t\t\t\t\t\"value\",\n\t\t\t\t\t\t\"operator\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"target\",\n\t\t\t\"logicalOperator\",\n\t\t\t\"conditions\"\n\t\t]\n\t};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"oneOf\": [\n\t\t\t{\n\t\t\t\t\"$ref\": \"#basicFilter\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"$ref\": \"#advancedFilter\"\n\t\t\t}\n\t\t],\n\t\t\"invalidMessage\": \"filter is invalid\"\n\t};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"accessToken\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"accessToken must be a string\",\n\t\t\t\t\t\"required\": \"accessToken is required\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"id\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"id must be a string\",\n\t\t\t\t\t\"required\": \"id is required\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"settings\": {\n\t\t\t\t\"$ref\": \"#settings\"\n\t\t\t},\n\t\t\t\"pageName\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"pageName must be a string\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"filters\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"items\": {\n\t\t\t\t\t\"type\": \"object\",\n\t\t\t\t\t\"oneOf\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"$ref\": \"#basicFilter\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"$ref\": \"#advancedFilter\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"invalidMessage\": \"filters property is invalid\"\n\t\t\t},\n\t\t\t\"permissions\": {\n\t\t\t\t\"type\": \"number\",\n\t\t\t\t\"enum\": [\n\t\t\t\t\t0,\n\t\t\t\t\t1,\n\t\t\t\t\t2,\n\t\t\t\t\t4,\n\t\t\t\t\t7\n\t\t\t\t],\n\t\t\t\t\"default\": 0,\n\t\t\t\t\"invalidMessage\": \"permissions property is invalid\"\n\t\t\t},\n\t\t\t\"viewMode\": {\n\t\t\t\t\"type\": \"number\",\n\t\t\t\t\"enum\": [\n\t\t\t\t\t0,\n\t\t\t\t\t1\n\t\t\t\t],\n\t\t\t\t\"default\": 0,\n\t\t\t\t\"invalidMessage\": \"viewMode property is invalid\"\n\t\t\t},\n\t\t\t\"tokenType\": {\n\t\t\t\t\"type\": \"number\",\n\t\t\t\t\"enum\": [\n\t\t\t\t\t0,\n\t\t\t\t\t1\n\t\t\t\t],\n\t\t\t\t\"default\": 0,\n\t\t\t\t\"invalidMessage\": \"tokenType property is invalid\"\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"accessToken\",\n\t\t\t\"id\"\n\t\t]\n\t};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"accessToken\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"accessToken must be a string\",\n\t\t\t\t\t\"required\": \"accessToken is required\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"id\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"id must be a string\",\n\t\t\t\t\t\"required\": \"id is required\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"pageView\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"pageView must be a string with one of the following values: \\\"actualSize\\\", \\\"fitToWidth\\\", \\\"oneColumn\\\"\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"tokenType\": {\n\t\t\t\t\"type\": \"number\",\n\t\t\t\t\"enum\": [\n\t\t\t\t\t0,\n\t\t\t\t\t1\n\t\t\t\t],\n\t\t\t\t\"default\": 0,\n\t\t\t\t\"invalidMessage\": \"tokenType property is invalid\"\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"accessToken\",\n\t\t\t\"id\"\n\t\t]\n\t};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"name\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"name must be a string\",\n\t\t\t\t\t\"required\": \"name is required\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"name\"\n\t\t]\n\t};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"filterPaneEnabled\": {\n\t\t\t\t\"type\": \"boolean\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"filterPaneEnabled must be a boolean\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"navContentPaneEnabled\": {\n\t\t\t\t\"type\": \"boolean\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"navContentPaneEnabled must be a boolean\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"useCustomSaveAsDialog\": {\n\t\t\t\t\"type\": \"boolean\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"useCustomSaveAsDialog must be a boolean\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"target\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"table\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"column\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"hierarchy\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"hierarchyLevel\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t\"measure\": {\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"required\": [\n\t\t\t\t\t\"table\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"operator\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"values\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"items\": {\n\t\t\t\t\t\"type\": [\n\t\t\t\t\t\t\"string\",\n\t\t\t\t\t\t\"boolean\",\n\t\t\t\t\t\t\"number\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"target\",\n\t\t\t\"operator\",\n\t\t\t\"values\"\n\t\t]\n\t};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"accessToken\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"accessToken must be a string\",\n\t\t\t\t\t\"required\": \"accessToken is required\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"datasetId\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"datasetId must be a string\",\n\t\t\t\t\t\"required\": \"datasetId is required\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"tokenType\": {\n\t\t\t\t\"type\": \"number\",\n\t\t\t\t\"enum\": [\n\t\t\t\t\t0,\n\t\t\t\t\t1\n\t\t\t\t],\n\t\t\t\t\"default\": 0,\n\t\t\t\t\"invalidMessage\": \"tokenType property is invalid\"\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"accessToken\",\n\t\t\t\"datasetId\"\n\t\t]\n\t};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"name\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"messages\": {\n\t\t\t\t\t\"type\": \"name must be a string\",\n\t\t\t\t\t\"required\": \"name is required\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"required\": [\n\t\t\t\"name\"\n\t\t]\n\t};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(11);\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar REGEX_ESCAPE_EXPR = /[\\/]/g,\n\t    STR_ESCAPE_EXPR = /(\")/gim,\n\t    VALID_IDENTIFIER_EXPR = /^[a-z_$][0-9a-z]*$/gi,\n\t    INVALID_SCHEMA = 'jsen: invalid schema object',\n\t    browser = typeof window === 'object' && !!window.navigator,   // jshint ignore: line\n\t    regescape = new RegExp('/').source !== '/', // node v0.x does not properly escape '/'s in inline regex\n\t    func = __webpack_require__(12),\n\t    equal = __webpack_require__(13),\n\t    unique = __webpack_require__(14),\n\t    SchemaResolver = __webpack_require__(15),\n\t    formats = __webpack_require__(24),\n\t    ucs2length = __webpack_require__(25),\n\t    types = {},\n\t    keywords = {};\n\t\n\tfunction inlineRegex(regex) {\n\t    regex = regex instanceof RegExp ? regex : new RegExp(regex);\n\t\n\t    return regescape ?\n\t        regex.toString() :\n\t        '/' + regex.source.replace(REGEX_ESCAPE_EXPR, '\\\\$&') + '/';\n\t}\n\t\n\tfunction encodeStr(str) {\n\t    return '\"' + str.replace(STR_ESCAPE_EXPR, '\\\\$1') + '\"';\n\t}\n\t\n\tfunction appendToPath(path, key) {\n\t    VALID_IDENTIFIER_EXPR.lastIndex = 0;\n\t\n\t    return VALID_IDENTIFIER_EXPR.test(key) ?\n\t        path + '.' + key :\n\t        path + '[' + encodeStr(key) + ']';\n\t}\n\t\n\tfunction type(obj) {\n\t    if (obj === undefined) {\n\t        return 'undefined';\n\t    }\n\t\n\t    var str = Object.prototype.toString.call(obj);\n\t    return str.substr(8, str.length - 9).toLowerCase();\n\t}\n\t\n\tfunction isInteger(obj) {\n\t    return (obj | 0) === obj;   // jshint ignore: line\n\t}\n\t\n\ttypes['null'] = function (path) {\n\t    return path + ' === null';\n\t};\n\t\n\ttypes.boolean = function (path) {\n\t    return 'typeof ' + path + ' === \"boolean\"';\n\t};\n\t\n\ttypes.string = function (path) {\n\t    return 'typeof ' + path + ' === \"string\"';\n\t};\n\t\n\ttypes.number = function (path) {\n\t    return 'typeof ' + path + ' === \"number\"';\n\t};\n\t\n\ttypes.integer = function (path) {\n\t    return 'typeof ' + path + ' === \"number\" && !(' + path + ' % 1)';\n\t};\n\t\n\ttypes.array = function (path) {\n\t    return 'Array.isArray(' + path + ')';\n\t};\n\t\n\ttypes.object = function (path) {\n\t    return 'typeof ' + path + ' === \"object\" && ' + path + ' !== null && !Array.isArray(' + path + ')';\n\t};\n\t\n\ttypes.date = function (path) {\n\t    return path + ' instanceof Date';\n\t};\n\t\n\tkeywords.enum = function (context) {\n\t    var arr = context.schema['enum'];\n\t\n\t    context.code('if (!equalAny(' + context.path + ', ' + JSON.stringify(arr) + ')) {');\n\t    context.error('enum');\n\t    context.code('}');\n\t};\n\t\n\tkeywords.minimum = function (context) {\n\t    if (typeof context.schema.minimum === 'number') {\n\t        context.code('if (' + context.path + ' < ' + context.schema.minimum + ') {');\n\t        context.error('minimum');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.exclusiveMinimum = function (context) {\n\t    if (context.schema.exclusiveMinimum === true && typeof context.schema.minimum === 'number') {\n\t        context.code('if (' + context.path + ' === ' + context.schema.minimum + ') {');\n\t        context.error('exclusiveMinimum');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.maximum = function (context) {\n\t    if (typeof context.schema.maximum === 'number') {\n\t        context.code('if (' + context.path + ' > ' + context.schema.maximum + ') {');\n\t        context.error('maximum');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.exclusiveMaximum = function (context) {\n\t    if (context.schema.exclusiveMaximum === true && typeof context.schema.maximum === 'number') {\n\t        context.code('if (' + context.path + ' === ' + context.schema.maximum + ') {');\n\t        context.error('exclusiveMaximum');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.multipleOf = function (context) {\n\t    if (typeof context.schema.multipleOf === 'number') {\n\t        var mul = context.schema.multipleOf,\n\t            decimals = mul.toString().length - mul.toFixed(0).length - 1,\n\t            pow = decimals > 0 ? Math.pow(10, decimals) : 1,\n\t            path = context.path;\n\t\n\t        if (decimals > 0) {\n\t            context.code('if (+(Math.round((' + path + ' * ' + pow + ') + \"e+\" + ' + decimals + ') + \"e-\" + ' + decimals + ') % ' + (mul * pow) + ' !== 0) {');\n\t        } else {\n\t            context.code('if (((' + path + ' * ' + pow + ') % ' + (mul * pow) + ') !== 0) {');\n\t        }\n\t\n\t        context.error('multipleOf');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.minLength = function (context) {\n\t    if (isInteger(context.schema.minLength)) {\n\t        context.code('if (ucs2length(' + context.path + ') < ' + context.schema.minLength + ') {');\n\t        context.error('minLength');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.maxLength = function (context) {\n\t    if (isInteger(context.schema.maxLength)) {\n\t        context.code('if (ucs2length(' + context.path + ') > ' + context.schema.maxLength + ') {');\n\t        context.error('maxLength');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.pattern = function (context) {\n\t    var pattern = context.schema.pattern;\n\t\n\t    if (typeof pattern === 'string' || pattern instanceof RegExp) {\n\t        context.code('if (!(' + inlineRegex(pattern) + ').test(' + context.path + ')) {');\n\t        context.error('pattern');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.format = function (context) {\n\t    if (typeof context.schema.format !== 'string' || !formats[context.schema.format]) {\n\t        return;\n\t    }\n\t\n\t    context.code('if (!(' + formats[context.schema.format] + ').test(' + context.path + ')) {');\n\t    context.error('format');\n\t    context.code('}');\n\t};\n\t\n\tkeywords.minItems = function (context) {\n\t    if (isInteger(context.schema.minItems)) {\n\t        context.code('if (' + context.path + '.length < ' + context.schema.minItems + ') {');\n\t        context.error('minItems');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.maxItems = function (context) {\n\t    if (isInteger(context.schema.maxItems)) {\n\t        context.code('if (' + context.path + '.length > ' + context.schema.maxItems + ') {');\n\t        context.error('maxItems');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.additionalItems = function (context) {\n\t    if (context.schema.additionalItems === false && Array.isArray(context.schema.items)) {\n\t        context.code('if (' + context.path + '.length > ' + context.schema.items.length + ') {');\n\t        context.error('additionalItems');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.uniqueItems = function (context) {\n\t    if (context.schema.uniqueItems) {\n\t        context.code('if (unique(' + context.path + ').length !== ' + context.path + '.length) {');\n\t        context.error('uniqueItems');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.items = function (context) {\n\t    var index = context.declare(0),\n\t        i = 0;\n\t\n\t    if (type(context.schema.items) === 'object') {\n\t        context.code('for (' + index + ' = 0; ' + index + ' < ' + context.path + '.length; ' + index + '++) {');\n\t\n\t        context.descend(context.path + '[' + index + ']', context.schema.items);\n\t\n\t        context.code('}');\n\t    }\n\t    else if (Array.isArray(context.schema.items)) {\n\t        for (; i < context.schema.items.length; i++) {\n\t            context.code('if (' + context.path + '.length - 1 >= ' + i + ') {');\n\t\n\t            context.descend(context.path + '[' + i + ']', context.schema.items[i]);\n\t\n\t            context.code('}');\n\t        }\n\t\n\t        if (type(context.schema.additionalItems) === 'object') {\n\t            context.code('for (' + index + ' = ' + i + '; ' + index + ' < ' + context.path + '.length; ' + index + '++) {');\n\t\n\t            context.descend(context.path + '[' + index + ']', context.schema.additionalItems);\n\t\n\t            context.code('}');\n\t        }\n\t    }\n\t};\n\t\n\tkeywords.maxProperties = function (context) {\n\t    if (isInteger(context.schema.maxProperties)) {\n\t        context.code('if (Object.keys(' + context.path + ').length > ' + context.schema.maxProperties + ') {');\n\t        context.error('maxProperties');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.minProperties = function (context) {\n\t    if (isInteger(context.schema.minProperties)) {\n\t        context.code('if (Object.keys(' + context.path + ').length < ' + context.schema.minProperties + ') {');\n\t        context.error('minProperties');\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.required = function (context) {\n\t    if (!Array.isArray(context.schema.required)) {\n\t        return;\n\t    }\n\t\n\t    for (var i = 0; i < context.schema.required.length; i++) {\n\t        context.code('if (' + appendToPath(context.path, context.schema.required[i]) + ' === undefined) {');\n\t        context.error('required', context.schema.required[i]);\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.properties = function (context) {\n\t    var props = context.schema.properties,\n\t        propKeys = type(props) === 'object' ? Object.keys(props) : [],\n\t        required = Array.isArray(context.schema.required) ? context.schema.required : [],\n\t        prop, i, nestedPath;\n\t\n\t    if (!propKeys.length) {\n\t        return;\n\t    }\n\t\n\t    for (i = 0; i < propKeys.length; i++) {\n\t        prop = propKeys[i];\n\t        nestedPath = appendToPath(context.path, prop);\n\t\n\t        context.code('if (' + nestedPath + ' !== undefined) {');\n\t\n\t        context.descend(nestedPath, props[prop]);\n\t\n\t        context.code('}');\n\t\n\t        if (required.indexOf(prop) > -1) {\n\t            context.code('else {');\n\t            context.error('required', prop);\n\t            context.code('}');\n\t        }\n\t    }\n\t};\n\t\n\tkeywords.patternProperties = keywords.additionalProperties = function (context) {\n\t    var propKeys = type(context.schema.properties) === 'object' ?\n\t            Object.keys(context.schema.properties) : [],\n\t        patProps = context.schema.patternProperties,\n\t        patterns = type(patProps) === 'object' ? Object.keys(patProps) : [],\n\t        addProps = context.schema.additionalProperties,\n\t        addPropsCheck = addProps === false || type(addProps) === 'object',\n\t        props, keys, key, n, found, pattern, i;\n\t\n\t    if (!patterns.length && !addPropsCheck) {\n\t        return;\n\t    }\n\t\n\t    keys = context.declare('[]');\n\t    key = context.declare('\"\"');\n\t    n = context.declare(0);\n\t\n\t    if (addPropsCheck) {\n\t        found = context.declare(false);\n\t    }\n\t\n\t    context.code(keys + ' = Object.keys(' + context.path + ')');\n\t\n\t    context.code('for (' + n + ' = 0; ' + n + ' < ' + keys + '.length; ' + n + '++) {')\n\t        (key + ' = ' + keys + '[' + n + ']')\n\t\n\t        ('if (' + context.path + '[' + key + '] === undefined) {')\n\t            ('continue')\n\t        ('}');\n\t\n\t    if (addPropsCheck) {\n\t        context.code(found + ' = false');\n\t    }\n\t\n\t    // validate pattern properties\n\t    for (i = 0; i < patterns.length; i++) {\n\t        pattern = patterns[i];\n\t\n\t        context.code('if ((' + inlineRegex(pattern) + ').test(' + key + ')) {');\n\t\n\t        context.descend(context.path + '[' + key + ']', patProps[pattern]);\n\t\n\t        if (addPropsCheck) {\n\t            context.code(found + ' = true');\n\t        }\n\t\n\t        context.code('}');\n\t    }\n\t\n\t    // validate additional properties\n\t    if (addPropsCheck) {\n\t        if (propKeys.length) {\n\t            props = context.declare(JSON.stringify(propKeys));\n\t\n\t            // do not validate regular properties\n\t            context.code('if (' + props + '.indexOf(' + key + ') > -1) {')\n\t                ('continue')\n\t            ('}');\n\t        }\n\t\n\t        context.code('if (!' + found + ') {');\n\t\n\t        if (addProps === false) {\n\t            // do not allow additional properties\n\t            context.error('additionalProperties', undefined, key);\n\t        }\n\t        else {\n\t            // validate additional properties\n\t            context.descend(context.path + '[' + key + ']', addProps);\n\t        }\n\t\n\t        context.code('}');\n\t    }\n\t\n\t    context.code('}');\n\t};\n\t\n\tkeywords.dependencies = function (context) {\n\t    if (type(context.schema.dependencies) !== 'object') {\n\t        return;\n\t    }\n\t\n\t    var depKeys = Object.keys(context.schema.dependencies),\n\t        len = depKeys.length,\n\t        key, dep, i = 0, k = 0;\n\t\n\t    for (; k < len; k++) {\n\t        key = depKeys[k];\n\t        dep = context.schema.dependencies[key];\n\t\n\t        context.code('if (' + appendToPath(context.path, key) + ' !== undefined) {');\n\t\n\t        if (type(dep) === 'object') {\n\t            //schema dependency\n\t            context.descend(context.path, dep);\n\t        }\n\t        else {\n\t            // property dependency\n\t            for (i; i < dep.length; i++) {\n\t                context.code('if (' + appendToPath(context.path, dep[i]) + ' === undefined) {');\n\t                context.error('dependencies', dep[i]);\n\t                context.code('}');\n\t            }\n\t        }\n\t\n\t        context.code('}');\n\t    }\n\t};\n\t\n\tkeywords.allOf = function (context) {\n\t    if (!Array.isArray(context.schema.allOf)) {\n\t        return;\n\t    }\n\t\n\t    for (var i = 0; i < context.schema.allOf.length; i++) {\n\t        context.descend(context.path, context.schema.allOf[i]);\n\t    }\n\t};\n\t\n\tkeywords.anyOf = function (context) {\n\t    if (!Array.isArray(context.schema.anyOf)) {\n\t        return;\n\t    }\n\t\n\t    var greedy = context.greedy,\n\t        errCount = context.declare(0),\n\t        initialCount = context.declare(0),\n\t        found = context.declare(false),\n\t        i = 0;\n\t\n\t    context.code(initialCount + ' = errors.length');\n\t\n\t    for (; i < context.schema.anyOf.length; i++) {\n\t        context.code('if (!' + found + ') {');\n\t\n\t        context.code(errCount + ' = errors.length');\n\t\n\t        context.greedy = true;\n\t\n\t        context.descend(context.path, context.schema.anyOf[i]);\n\t\n\t        context.code(found + ' = errors.length === ' + errCount)\n\t        ('}');\n\t    }\n\t\n\t    context.greedy = greedy;\n\t\n\t    context.code('if (!' + found + ') {');\n\t\n\t    context.error('anyOf');\n\t\n\t    context.code('} else {')\n\t        ('errors.length = ' + initialCount)\n\t    ('}');\n\t};\n\t\n\tkeywords.oneOf = function (context) {\n\t    if (!Array.isArray(context.schema.oneOf)) {\n\t        return;\n\t    }\n\t\n\t    var greedy = context.greedy,\n\t        matching = context.declare(0),\n\t        initialCount = context.declare(0),\n\t        errCount = context.declare(0),\n\t        i = 0;\n\t\n\t    context.code(initialCount + ' = errors.length');\n\t    context.code(matching + ' = 0');\n\t\n\t    for (; i < context.schema.oneOf.length; i++) {\n\t        context.code(errCount + ' = errors.length');\n\t\n\t        context.greedy = true;\n\t\n\t        context.descend(context.path, context.schema.oneOf[i]);\n\t\n\t        context.code('if (errors.length === ' + errCount + ') {')\n\t            (matching + '++')\n\t        ('}');\n\t    }\n\t\n\t    context.greedy = greedy;\n\t\n\t    context.code('if (' + matching + ' !== 1) {');\n\t\n\t    context.error('oneOf');\n\t\n\t    context.code('} else {')\n\t        ('errors.length = ' + initialCount)\n\t    ('}');\n\t};\n\t\n\tkeywords.not = function (context) {\n\t    if (type(context.schema.not) !== 'object') {\n\t        return;\n\t    }\n\t\n\t    var greedy = context.greedy,\n\t        errCount = context.declare(0);\n\t\n\t    context.code(errCount + ' = errors.length');\n\t\n\t    context.greedy = true;\n\t\n\t    context.descend(context.path, context.schema.not);\n\t\n\t    context.greedy = greedy;\n\t\n\t    context.code('if (errors.length === ' + errCount + ') {');\n\t\n\t    context.error('not');\n\t\n\t    context.code('} else {')\n\t        ('errors.length = ' + errCount)\n\t    ('}');\n\t};\n\t\n\tfunction decorateGenerator(type, keyword) {\n\t    keywords[keyword].type = type;\n\t    keywords[keyword].keyword = keyword;\n\t}\n\t\n\t['minimum', 'exclusiveMinimum', 'maximum', 'exclusiveMaximum', 'multipleOf']\n\t    .forEach(decorateGenerator.bind(null, 'number'));\n\t\n\t['minLength', 'maxLength', 'pattern', 'format']\n\t    .forEach(decorateGenerator.bind(null, 'string'));\n\t\n\t['minItems', 'maxItems', 'additionalItems', 'uniqueItems', 'items']\n\t    .forEach(decorateGenerator.bind(null, 'array'));\n\t\n\t['maxProperties', 'minProperties', 'required', 'properties', 'patternProperties', 'additionalProperties', 'dependencies']\n\t    .forEach(decorateGenerator.bind(null, 'object'));\n\t\n\t['enum', 'allOf', 'anyOf', 'oneOf', 'not']\n\t    .forEach(decorateGenerator.bind(null, null));\n\t\n\tfunction groupKeywords(schema) {\n\t    var keys = Object.keys(schema),\n\t        propIndex = keys.indexOf('properties'),\n\t        patIndex = keys.indexOf('patternProperties'),\n\t        ret = {\n\t            enum: Array.isArray(schema.enum) && schema.enum.length > 0,\n\t            type: null,\n\t            allType: [],\n\t            perType: {}\n\t        },\n\t        key, gen, i;\n\t\n\t    if (schema.type) {\n\t        if (typeof schema.type === 'string') {\n\t            ret.type = [schema.type];\n\t        }\n\t        else if (Array.isArray(schema.type) && schema.type.length) {\n\t            ret.type = schema.type.slice(0);\n\t        }\n\t    }\n\t\n\t    for (i = 0; i < keys.length; i++) {\n\t        key = keys[i];\n\t\n\t        if (key === 'enum' || key === 'type') {\n\t            continue;\n\t        }\n\t\n\t        gen = keywords[key];\n\t\n\t        if (!gen) {\n\t            continue;\n\t        }\n\t\n\t        if (gen.type) {\n\t            if (!ret.perType[gen.type]) {\n\t                ret.perType[gen.type] = [];\n\t            }\n\t\n\t            if (!(propIndex > -1 && key === 'required') &&\n\t                !(patIndex > -1 && key === 'additionalProperties')) {\n\t                ret.perType[gen.type].push(key);\n\t            }\n\t        }\n\t        else {\n\t            ret.allType.push(key);\n\t        }\n\t    }\n\t\n\t    return ret;\n\t}\n\t\n\tfunction getPathExpression(path, key) {\n\t    var path_ = path.substr(4),\n\t        len = path_.length,\n\t        tokens = [],\n\t        token = '',\n\t        isvar = false,\n\t        char, i;\n\t\n\t    for (i = 0; i < len; i++) {\n\t        char = path_[i];\n\t\n\t        switch (char) {\n\t            case '.':\n\t                if (token) {\n\t                    token += char;\n\t                }\n\t                break;\n\t            case '[':\n\t                if (isNaN(+path_[i + 1])) {\n\t                    isvar = true;\n\t\n\t                    if (token) {\n\t                        tokens.push('\"' + token + '\"');\n\t                        token = '';\n\t                    }\n\t                }\n\t                else {\n\t                    isvar = false;\n\t\n\t                    if (token) {\n\t                        token += '.';\n\t                    }\n\t                }\n\t                break;\n\t            case ']':\n\t                tokens.push(isvar ? token : '\"' + token + '\"');\n\t                token = '';\n\t                break;\n\t            default:\n\t                token += char;\n\t        }\n\t    }\n\t\n\t    if (token) {\n\t        tokens.push('\"' + token + '\"');\n\t    }\n\t\n\t    if (key) {\n\t        tokens.push('\"' + key + '\"');\n\t    }\n\t\n\t    if (tokens.length === 1 && isvar) {\n\t        return '\"\" + ' + tokens[0] + ' + \"\"';\n\t    }\n\t\n\t    return tokens.join(' + \".\" + ') || '\"\"';\n\t}\n\t\n\tfunction clone(obj) {\n\t    var cloned = obj,\n\t        objType = type(obj),\n\t        keys, len, key, i;\n\t\n\t    if (objType === 'object') {\n\t        cloned = {};\n\t        keys = Object.keys(obj);\n\t\n\t        for (i = 0, len = keys.length; i < len; i++) {\n\t            key = keys[i];\n\t            cloned[key] = clone(obj[key]);\n\t        }\n\t    }\n\t    else if (objType === 'array') {\n\t        cloned = [];\n\t\n\t        for (i = 0, len = obj.length; i < len; i++) {\n\t            cloned[i] = clone(obj[i]);\n\t        }\n\t    }\n\t    else if (objType === 'regexp') {\n\t        return new RegExp(obj);\n\t    }\n\t    else if (objType === 'date') {\n\t        return new Date(obj.toJSON());\n\t    }\n\t\n\t    return cloned;\n\t}\n\t\n\tfunction equalAny(obj, options) {\n\t    for (var i = 0, len = options.length; i < len; i++) {\n\t        if (equal(obj, options[i])) {\n\t            return true;\n\t        }\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction PropertyMarker() {\n\t    this.objects = [];\n\t    this.properties = [];\n\t}\n\t\n\tPropertyMarker.prototype.mark = function (obj, key) {\n\t    var index = this.objects.indexOf(obj),\n\t        prop;\n\t\n\t    if (index < 0) {\n\t        this.objects.push(obj);\n\t\n\t        prop = {};\n\t        prop[key] = 1;\n\t\n\t        this.properties.push(prop);\n\t\n\t        return;\n\t    }\n\t\n\t    prop = this.properties[index];\n\t\n\t    prop[key] = prop[key] ? prop[key] + 1 : 1;\n\t};\n\t\n\tPropertyMarker.prototype.deleteDuplicates = function () {\n\t    var props, keys, key, i, j;\n\t\n\t    for (i = 0; i < this.properties.length; i++) {\n\t        props = this.properties[i];\n\t        keys = Object.keys(props);\n\t\n\t        for (j = 0; j < keys.length; j++) {\n\t            key = keys[j];\n\t\n\t            if (props[key] > 1) {\n\t                delete this.objects[i][key];\n\t            }\n\t        }\n\t    }\n\t};\n\t\n\tPropertyMarker.prototype.dispose = function () {\n\t    this.objects.length = 0;\n\t    this.properties.length = 0;\n\t};\n\t\n\tfunction build(schema, def, additional, resolver, parentMarker) {\n\t    var defType, defValue, key, i, propertyMarker, props, defProps;\n\t\n\t    if (type(schema) !== 'object') {\n\t        return def;\n\t    }\n\t\n\t    schema = resolver.resolve(schema);\n\t\n\t    if (def === undefined && schema.hasOwnProperty('default')) {\n\t        def = clone(schema['default']);\n\t    }\n\t\n\t    defType = type(def);\n\t\n\t    if (defType === 'object' && type(schema.properties) === 'object') {\n\t        props = Object.keys(schema.properties);\n\t\n\t        for (i = 0; i < props.length; i++) {\n\t            key = props[i];\n\t            defValue = build(schema.properties[key], def[key], additional, resolver);\n\t\n\t            if (defValue !== undefined) {\n\t                def[key] = defValue;\n\t            }\n\t        }\n\t\n\t        if (additional !== 'always') {\n\t            defProps = Object.keys(def);\n\t\n\t            for (i = 0; i < defProps.length; i++) {\n\t                key = defProps[i];\n\t\n\t                if (props.indexOf(key) < 0 &&\n\t                    (schema.additionalProperties === false ||\n\t                    (additional === false && !schema.additionalProperties))) {\n\t\n\t                    if (parentMarker) {\n\t                        parentMarker.mark(def, key);\n\t                    }\n\t                    else {\n\t                        delete def[key];\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }\n\t    else if (defType === 'array' && schema.items) {\n\t        if (type(schema.items) === 'array') {\n\t            for (i = 0; i < schema.items.length; i++) {\n\t                defValue = build(schema.items[i], def[i], additional, resolver);\n\t\n\t                if (defValue !== undefined || i < def.length) {\n\t                    def[i] = defValue;\n\t                }\n\t            }\n\t        }\n\t        else if (def.length) {\n\t            for (i = 0; i < def.length; i++) {\n\t                def[i] = build(schema.items, def[i], additional, resolver);\n\t            }\n\t        }\n\t    }\n\t    else if (type(schema.allOf) === 'array' && schema.allOf.length) {\n\t        propertyMarker = new PropertyMarker();\n\t\n\t        for (i = 0; i < schema.allOf.length; i++) {\n\t            def = build(schema.allOf[i], def, additional, resolver, propertyMarker);\n\t        }\n\t\n\t        propertyMarker.deleteDuplicates();\n\t        propertyMarker.dispose();\n\t    }\n\t\n\t    return def;\n\t}\n\t\n\tfunction ValidationContext(options) {\n\t    this.path = 'data';\n\t    this.schema = options.schema;\n\t    this.formats = options.formats;\n\t    this.greedy = options.greedy;\n\t    this.resolver = options.resolver;\n\t    this.id = options.id;\n\t    this.funcache = options.funcache || {};\n\t    this.scope = options.scope || {\n\t        equalAny: equalAny,\n\t        unique: unique,\n\t        ucs2length: ucs2length,\n\t        refs: {}\n\t    };\n\t}\n\t\n\tValidationContext.prototype.clone = function (schema) {\n\t    var ctx = new ValidationContext({\n\t        schema: schema,\n\t        formats: this.formats,\n\t        greedy: this.greedy,\n\t        resolver: this.resolver,\n\t        id: this.id,\n\t        funcache: this.funcache,\n\t        scope: this.scope\n\t    });\n\t\n\t    return ctx;\n\t};\n\t\n\tValidationContext.prototype.declare = function (def) {\n\t    var variname = this.id();\n\t    this.code.def(variname, def);\n\t    return variname;\n\t};\n\t\n\tValidationContext.prototype.cache = function (cacheKey, schema) {\n\t    var cached = this.funcache[cacheKey],\n\t        context;\n\t\n\t    if (!cached) {\n\t        cached = this.funcache[cacheKey] = {\n\t            key: this.id()\n\t        };\n\t\n\t        context = this.clone(schema);\n\t\n\t        cached.func = context.compile(cached.key);\n\t\n\t        this.scope.refs[cached.key] = cached.func;\n\t\n\t        context.dispose();\n\t    }\n\t\n\t    return 'refs.' + cached.key;\n\t};\n\t\n\tValidationContext.prototype.error = function (keyword, key, additional) {\n\t    var schema = this.schema,\n\t        path = this.path,\n\t        errorPath = path !== 'data' || key ?\n\t            '(path ? path + \".\" : \"\") + ' + getPathExpression(path, key) + ',' :\n\t            'path,',\n\t        res = key && schema.properties && schema.properties[key] ?\n\t            this.resolver.resolve(schema.properties[key]) : null,\n\t        message = res ? res.requiredMessage : schema.invalidMessage;\n\t\n\t    if (!message) {\n\t        message = (res && res.messages && res.messages[keyword]) ||\n\t            (schema.messages && schema.messages[keyword]);\n\t    }\n\t\n\t    this.code('errors.push({');\n\t\n\t    if (message) {\n\t        this.code('message: ' + encodeStr(message) + ',');\n\t    }\n\t\n\t    if (additional) {\n\t        this.code('additionalProperties: ' + additional + ',');\n\t    }\n\t\n\t    this.code('path: ' + errorPath)\n\t        ('keyword: ' + encodeStr(keyword))\n\t    ('})');\n\t\n\t    if (!this.greedy) {\n\t        this.code('return');\n\t    }\n\t};\n\t\n\tValidationContext.prototype.refactor = function (path, schema, cacheKey) {\n\t    var parentPathExp = path !== 'data' ?\n\t            '(path ? path + \".\" : \"\") + ' + getPathExpression(path) :\n\t            'path',\n\t        cachedRef = this.cache(cacheKey, schema),\n\t        refErrors = this.declare();\n\t\n\t    this.code(refErrors + ' = ' + cachedRef + '(' + path + ', ' + parentPathExp + ', errors)');\n\t\n\t    if (!this.greedy) {\n\t        this.code('if (errors.length) { return }');\n\t    }\n\t};\n\t\n\tValidationContext.prototype.descend = function (path, schema) {\n\t    var origPath = this.path,\n\t        origSchema = this.schema;\n\t\n\t    this.path = path;\n\t    this.schema = schema;\n\t\n\t    this.generate();\n\t\n\t    this.path = origPath;\n\t    this.schema = origSchema;\n\t};\n\t\n\tValidationContext.prototype.generate = function () {\n\t    var path = this.path,\n\t        schema = this.schema,\n\t        context = this,\n\t        scope = this.scope,\n\t        encodedFormat,\n\t        format,\n\t        schemaKeys,\n\t        typeKeys,\n\t        typeIndex,\n\t        validatedType,\n\t        i;\n\t\n\t    if (type(schema) !== 'object') {\n\t        return;\n\t    }\n\t\n\t    if (schema.$ref !== undefined) {\n\t        schema = this.resolver.resolve(schema);\n\t\n\t        if (this.resolver.hasRef(schema)) {\n\t            this.refactor(path, schema,\n\t                this.resolver.getNormalizedRef(this.schema) || this.schema.$ref);\n\t\n\t            return;\n\t        }\n\t        else {\n\t            // substitute $ref schema with the resolved instance\n\t            this.schema = schema;\n\t        }\n\t    }\n\t\n\t    schemaKeys = groupKeywords(schema);\n\t\n\t    if (schemaKeys.enum) {\n\t        keywords.enum(context);\n\t\n\t        return; // do not process the schema further\n\t    }\n\t\n\t    typeKeys = Object.keys(schemaKeys.perType);\n\t\n\t    function generateForKeyword(keyword) {\n\t        keywords[keyword](context);    // jshint ignore: line\n\t    }\n\t\n\t    for (i = 0; i < typeKeys.length; i++) {\n\t        validatedType = typeKeys[i];\n\t\n\t        this.code((i ? 'else ' : '') + 'if (' + types[validatedType](path) + ') {');\n\t\n\t        schemaKeys.perType[validatedType].forEach(generateForKeyword);\n\t\n\t        this.code('}');\n\t\n\t        if (schemaKeys.type) {\n\t            typeIndex = schemaKeys.type.indexOf(validatedType);\n\t\n\t            if (typeIndex > -1) {\n\t                schemaKeys.type.splice(typeIndex, 1);\n\t            }\n\t        }\n\t    }\n\t\n\t    if (schemaKeys.type) {              // we have types in the schema\n\t        if (schemaKeys.type.length) {   // case 1: we still have some left to check\n\t            this.code((typeKeys.length ? 'else ' : '') + 'if (!(' + schemaKeys.type.map(function (type) {\n\t                return types[type] ? types[type](path) : 'true';\n\t            }).join(' || ') + ')) {');\n\t            this.error('type');\n\t            this.code('}');\n\t        }\n\t        else {\n\t            this.code('else {');             // case 2: we don't have any left to check\n\t            this.error('type');\n\t            this.code('}');\n\t        }\n\t    }\n\t\n\t    schemaKeys.allType.forEach(function (keyword) {\n\t        keywords[keyword](context);\n\t    });\n\t\n\t    if (schema.format && this.formats) {\n\t        format = this.formats[schema.format];\n\t\n\t        if (format) {\n\t            if (typeof format === 'string' || format instanceof RegExp) {\n\t                this.code('if (!(' + inlineRegex(format) + ').test(' + path + ')) {');\n\t                this.error('format');\n\t                this.code('}');\n\t            }\n\t            else if (typeof format === 'function') {\n\t                (scope.formats || (scope.formats = {}))[schema.format] = format;\n\t                (scope.schemas || (scope.schemas = {}))[schema.format] = schema;\n\t\n\t                encodedFormat = encodeStr(schema.format);\n\t\n\t                this.code('if (!formats[' + encodedFormat + '](' + path + ', schemas[' + encodedFormat + '])) {');\n\t                this.error('format');\n\t                this.code('}');\n\t            }\n\t        }\n\t    }\n\t};\n\t\n\tValidationContext.prototype.compile = function (id) {\n\t    this.code = func('jsen_compiled' + (id ? '_' + id : ''), 'data', 'path', 'errors');\n\t    this.generate();\n\t\n\t    return this.code.compile(this.scope);\n\t};\n\t\n\tValidationContext.prototype.dispose = function () {\n\t    for (var key in this) {\n\t        this[key] = undefined;\n\t    }\n\t};\n\t\n\tfunction jsen(schema, options) {\n\t    if (type(schema) !== 'object') {\n\t        throw new Error(INVALID_SCHEMA);\n\t    }\n\t\n\t    options = options || {};\n\t\n\t    var counter = 0,\n\t        id = function () { return 'i' + (counter++); },\n\t        resolver = new SchemaResolver(schema, options.schemas, options.missing$Ref || false),\n\t        context = new ValidationContext({\n\t            schema: schema,\n\t            resolver: resolver,\n\t            id: id,\n\t            schemas: options.schemas,\n\t            formats: options.formats,\n\t            greedy: options.greedy || false\n\t        }),\n\t        compiled = func('validate', 'data')\n\t            ('validate.errors = []')\n\t            ('gen(data, \"\", validate.errors)')\n\t            ('return validate.errors.length === 0')\n\t            .compile({ gen: context.compile() });\n\t\n\t    context.dispose();\n\t    context = null;\n\t\n\t    compiled.errors = [];\n\t\n\t    compiled.build = function (initial, options) {\n\t        return build(\n\t            schema,\n\t            (options && options.copy === false ? initial : clone(initial)),\n\t            options && options.additionalProperties,\n\t            resolver);\n\t    };\n\t\n\t    return compiled;\n\t}\n\t\n\tjsen.browser = browser;\n\tjsen.clone = clone;\n\tjsen.equal = equal;\n\tjsen.unique = unique;\n\tjsen.ucs2length = ucs2length;\n\tjsen.SchemaResolver = SchemaResolver;\n\tjsen.resolve = SchemaResolver.resolvePointer;\n\t\n\tmodule.exports = jsen;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function func() {\n\t    var args = Array.apply(null, arguments),\n\t        name = args.shift(),\n\t        tab = '  ',\n\t        lines = '',\n\t        vars = '',\n\t        ind = 1,    // indentation\n\t        bs = '{[',  // block start\n\t        be = '}]',  // block end\n\t        space = function () {\n\t            var sp = tab, i = 0;\n\t            while (i++ < ind - 1) { sp += tab; }\n\t            return sp;\n\t        },\n\t        add = function (line) {\n\t            lines += space() + line + '\\n';\n\t        },\n\t        builder = function (line) {\n\t            var first = line[0],\n\t                last = line[line.length - 1];\n\t\n\t            if (be.indexOf(first) > -1 && bs.indexOf(last) > -1) {\n\t                ind--;\n\t                add(line);\n\t                ind++;\n\t            }\n\t            else if (bs.indexOf(last) > -1) {\n\t                add(line);\n\t                ind++;\n\t            }\n\t            else if (be.indexOf(first) > -1) {\n\t                ind--;\n\t                add(line);\n\t            }\n\t            else {\n\t                add(line);\n\t            }\n\t\n\t            return builder;\n\t        };\n\t\n\t    builder.def = function (id, def) {\n\t        vars += (vars ? ',\\n' + tab + '    ' : '') + id + (def !== undefined ? ' = ' + def : '');\n\t        return builder;\n\t    };\n\t\n\t    builder.toSource = function () {\n\t        return 'function ' + name + '(' + args.join(', ') + ') {\\n' +\n\t            tab + '\"use strict\"' + '\\n' +\n\t            (vars ? tab + 'var ' + vars + ';\\n' : '') +\n\t            lines + '}';\n\t    };\n\t\n\t    builder.compile = function (scope) {\n\t        var src = 'return (' + builder.toSource() + ')',\n\t            scp = scope || {},\n\t            keys = Object.keys(scp),\n\t            vals = keys.map(function (key) { return scp[key]; });\n\t\n\t        return Function.apply(null, keys.concat(src)).apply(null, vals);\n\t    };\n\t\n\t    return builder;\n\t};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tfunction type(obj) {\n\t    var str = Object.prototype.toString.call(obj);\n\t    return str.substr(8, str.length - 9).toLowerCase();\n\t}\n\t\n\tfunction deepEqual(a, b) {\n\t    var keysA = Object.keys(a).sort(),\n\t        keysB = Object.keys(b).sort(),\n\t        i, key;\n\t\n\t    if (!equal(keysA, keysB)) {\n\t        return false;\n\t    }\n\t\n\t    for (i = 0; i < keysA.length; i++) {\n\t        key = keysA[i];\n\t\n\t        if (!equal(a[key], b[key])) {\n\t            return false;\n\t        }\n\t    }\n\t\n\t    return true;\n\t}\n\t\n\tfunction equal(a, b) {  // jshint ignore: line\n\t    var typeA = typeof a,\n\t        typeB = typeof b,\n\t        i;\n\t\n\t    // get detailed object type\n\t    if (typeA === 'object') {\n\t        typeA = type(a);\n\t    }\n\t\n\t    // get detailed object type\n\t    if (typeB === 'object') {\n\t        typeB = type(b);\n\t    }\n\t\n\t    if (typeA !== typeB) {\n\t        return false;\n\t    }\n\t\n\t    if (typeA === 'object') {\n\t        return deepEqual(a, b);\n\t    }\n\t\n\t    if (typeA === 'regexp') {\n\t        return a.toString() === b.toString();\n\t    }\n\t\n\t    if (typeA === 'array') {\n\t        if (a.length !== b.length) {\n\t            return false;\n\t        }\n\t\n\t        for (i = 0; i < a.length; i++) {\n\t            if (!equal(a[i], b[i])) {\n\t                return false;\n\t            }\n\t        }\n\t\n\t        return true;\n\t    }\n\t\n\t    return a === b;\n\t}\n\t\n\tmodule.exports = equal;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar equal = __webpack_require__(13);\n\t\n\tfunction findIndex(arr, value, comparator) {\n\t    for (var i = 0, len = arr.length; i < len; i++) {\n\t        if (comparator(arr[i], value)) {\n\t            return i;\n\t        }\n\t    }\n\t\n\t    return -1;\n\t}\n\t\n\tmodule.exports = function unique(arr) {\n\t    return arr.filter(function uniqueOnly(value, index, self) {\n\t        return findIndex(self, value, equal) === index;\n\t    });\n\t};\n\t\n\tmodule.exports.findIndex = findIndex;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar url = __webpack_require__(16),\n\t    metaschema = __webpack_require__(23),\n\t    INVALID_SCHEMA_REFERENCE = 'jsen: invalid schema reference',\n\t    DUPLICATE_SCHEMA_ID = 'jsen: duplicate schema id',\n\t    CIRCULAR_SCHEMA_REFERENCE = 'jsen: circular schema reference';\n\t\n\tfunction get(obj, path) {\n\t    if (!path.length) {\n\t        return obj;\n\t    }\n\t\n\t    var key = path.shift(),\n\t        val;\n\t\n\t    if (obj && typeof obj === 'object' && obj.hasOwnProperty(key)) {\n\t        val = obj[key];\n\t    }\n\t\n\t    if (path.length) {\n\t        if (val && typeof val === 'object') {\n\t            return get(val, path);\n\t        }\n\t\n\t        return undefined;\n\t    }\n\t\n\t    return val;\n\t}\n\t\n\tfunction refToObj(ref) {\n\t    var index = ref.indexOf('#'),\n\t        ret = {\n\t            base: ref.substr(0, index),\n\t            path: []\n\t        };\n\t\n\t    if (index < 0) {\n\t        ret.base = ref;\n\t        return ret;\n\t    }\n\t\n\t    ref = ref.substr(index + 1);\n\t\n\t    if (!ref) {\n\t        return ret;\n\t    }\n\t\n\t    ret.path = ref.split('/').map(function (segment) {\n\t        // Reference: http://tools.ietf.org/html/draft-ietf-appsawg-json-pointer-08#section-3\n\t        return decodeURIComponent(segment)\n\t            .replace(/~1/g, '/')\n\t            .replace(/~0/g, '~');\n\t    });\n\t\n\t    if (ref[0] === '/') {\n\t        ret.path.shift();\n\t    }\n\t\n\t    return ret;\n\t}\n\t\n\t// TODO: Can we prevent nested resolvers and combine schemas instead?\n\tfunction SchemaResolver(rootSchema, external, missing$Ref, baseId) {  // jshint ignore: line\n\t    this.rootSchema = rootSchema;\n\t    this.resolvers = null;\n\t    this.resolvedRootSchema = null;\n\t    this.cache = {};\n\t    this.idCache = {};\n\t    this.refCache = { refs: [], schemas: [] };\n\t    this.missing$Ref = missing$Ref;\n\t    this.refStack = [];\n\t\n\t    baseId = baseId || '';\n\t\n\t    this._buildIdCache(rootSchema, baseId);\n\t\n\t    // get updated base id after normalizing root schema id\n\t    baseId = this.refCache.refs[this.refCache.schemas.indexOf(this.rootSchema)] || baseId;\n\t\n\t    this._buildResolvers(external, baseId);\n\t}\n\t\n\tSchemaResolver.prototype._cacheId = function (id, schema, resolver) {\n\t    if (this.idCache[id]) {\n\t        throw new Error(DUPLICATE_SCHEMA_ID + ' ' + id);\n\t    }\n\t\n\t    this.idCache[id] = { resolver: resolver, schema: schema };\n\t};\n\t\n\tSchemaResolver.prototype._buildIdCache = function (schema, baseId) {\n\t    var id = baseId,\n\t        ref, keys, i;\n\t\n\t    if (!schema || typeof schema !== 'object') {\n\t        return;\n\t    }\n\t\n\t    if (typeof schema.id === 'string' && schema.id) {\n\t        id = url.resolve(baseId, schema.id);\n\t\n\t        this._cacheId(id, schema, this);\n\t    }\n\t    else if (schema === this.rootSchema && baseId) {\n\t        this._cacheId(baseId, schema, this);\n\t    }\n\t\n\t    if (schema.$ref && typeof schema.$ref === 'string') {\n\t        ref = url.resolve(id, schema.$ref);\n\t\n\t        this.refCache.schemas.push(schema);\n\t        this.refCache.refs.push(ref);\n\t    }\n\t\n\t    keys = Object.keys(schema);\n\t\n\t    for (i = 0; i < keys.length; i++) {\n\t        this._buildIdCache(schema[keys[i]], id);\n\t    }\n\t};\n\t\n\tSchemaResolver.prototype._buildResolvers = function (schemas, baseId) {\n\t    if (!schemas || typeof schemas !== 'object') {\n\t        return;\n\t    }\n\t\n\t    var that = this,\n\t        resolvers = {};\n\t\n\t    Object.keys(schemas).forEach(function (key) {\n\t        var id = url.resolve(baseId, key),\n\t            resolver = new SchemaResolver(schemas[key], null, that.missing$Ref, id);\n\t\n\t        that._cacheId(id, resolver.rootSchema, resolver);\n\t\n\t        Object.keys(resolver.idCache).forEach(function (idKey) {\n\t            that.idCache[idKey] = resolver.idCache[idKey];\n\t        });\n\t\n\t        resolvers[key] = resolver;\n\t    });\n\t\n\t    this.resolvers = resolvers;\n\t};\n\t\n\tSchemaResolver.prototype.getNormalizedRef = function (schema) {\n\t    var index = this.refCache.schemas.indexOf(schema);\n\t    return this.refCache.refs[index];\n\t};\n\t\n\tSchemaResolver.prototype._resolveRef = function (ref) {\n\t    var err = new Error(INVALID_SCHEMA_REFERENCE + ' ' + ref),\n\t        idCache = this.idCache,\n\t        externalResolver, cached, descriptor, path, dest;\n\t\n\t    if (!ref || typeof ref !== 'string') {\n\t        throw err;\n\t    }\n\t\n\t    if (ref === metaschema.id) {\n\t        dest = metaschema;\n\t    }\n\t\n\t    cached = idCache[ref];\n\t\n\t    if (cached) {\n\t        dest = cached.resolver.resolve(cached.schema);\n\t    }\n\t\n\t    if (dest === undefined) {\n\t        descriptor = refToObj(ref);\n\t        path = descriptor.path;\n\t\n\t        if (descriptor.base) {\n\t            cached = idCache[descriptor.base] || idCache[descriptor.base + '#'];\n\t\n\t            if (cached) {\n\t                dest = cached.resolver.resolve(get(cached.schema, path.slice(0)));\n\t            }\n\t            else {\n\t                path.unshift(descriptor.base);\n\t            }\n\t        }\n\t    }\n\t\n\t    if (dest === undefined && this.resolvedRootSchema) {\n\t        dest = get(this.resolvedRootSchema, path.slice(0));\n\t    }\n\t\n\t    if (dest === undefined) {\n\t        dest = get(this.rootSchema, path.slice(0));\n\t    }\n\t\n\t    if (dest === undefined && path.length && this.resolvers) {\n\t        externalResolver = get(this.resolvers, path);\n\t\n\t        if (externalResolver) {\n\t            dest = externalResolver.resolve(externalResolver.rootSchema);\n\t        }\n\t    }\n\t\n\t    if (dest === undefined || typeof dest !== 'object') {\n\t        if (this.missing$Ref) {\n\t            dest = {};\n\t        } else {\n\t            throw err;\n\t        }\n\t    }\n\t\n\t    if (this.cache[ref] === dest) {\n\t        return dest;\n\t    }\n\t\n\t    this.cache[ref] = dest;\n\t\n\t    if (dest.$ref !== undefined) {\n\t        dest = this.resolve(dest);\n\t    }\n\t\n\t    return dest;\n\t};\n\t\n\tSchemaResolver.prototype.resolve = function (schema) {\n\t    if (!schema || typeof schema !== 'object' || schema.$ref === undefined) {\n\t        return schema;\n\t    }\n\t\n\t    var ref = this.getNormalizedRef(schema) || schema.$ref,\n\t        resolved = this.cache[ref];\n\t\n\t    if (resolved !== undefined) {\n\t        return resolved;\n\t    }\n\t\n\t    if (this.refStack.indexOf(ref) > -1) {\n\t        throw new Error(CIRCULAR_SCHEMA_REFERENCE + ' ' + ref);\n\t    }\n\t\n\t    this.refStack.push(ref);\n\t\n\t    resolved = this._resolveRef(ref);\n\t\n\t    this.refStack.pop();\n\t\n\t    if (schema === this.rootSchema) {\n\t        // cache the resolved root schema\n\t        this.resolvedRootSchema = resolved;\n\t    }\n\t\n\t    return resolved;\n\t};\n\t\n\tSchemaResolver.prototype.hasRef = function (schema) {\n\t    var keys = Object.keys(schema),\n\t        len, key, i, hasChildRef;\n\t\n\t    if (keys.indexOf('$ref') > -1) {\n\t        return true;\n\t    }\n\t\n\t    for (i = 0, len = keys.length; i < len; i++) {\n\t        key = keys[i];\n\t\n\t        if (schema[key] && typeof schema[key] === 'object' && !Array.isArray(schema[key])) {\n\t            hasChildRef = this.hasRef(schema[key]);\n\t\n\t            if (hasChildRef) {\n\t                return true;\n\t            }\n\t        }\n\t    }\n\t\n\t    return false;\n\t};\n\t\n\tSchemaResolver.resolvePointer = function (obj, pointer) {\n\t    var descriptor = refToObj(pointer),\n\t        path = descriptor.path;\n\t\n\t    if (descriptor.base) {\n\t        path = [descriptor.base].concat(path);\n\t    }\n\t\n\t    return get(obj, path);\n\t};\n\t\n\tmodule.exports = SchemaResolver;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\t'use strict';\n\t\n\tvar punycode = __webpack_require__(17);\n\tvar util = __webpack_require__(19);\n\t\n\texports.parse = urlParse;\n\texports.resolve = urlResolve;\n\texports.resolveObject = urlResolveObject;\n\texports.format = urlFormat;\n\t\n\texports.Url = Url;\n\t\n\tfunction Url() {\n\t  this.protocol = null;\n\t  this.slashes = null;\n\t  this.auth = null;\n\t  this.host = null;\n\t  this.port = null;\n\t  this.hostname = null;\n\t  this.hash = null;\n\t  this.search = null;\n\t  this.query = null;\n\t  this.pathname = null;\n\t  this.path = null;\n\t  this.href = null;\n\t}\n\t\n\t// Reference: RFC 3986, RFC 1808, RFC 2396\n\t\n\t// define these here so at least they only have to be\n\t// compiled once on the first module load.\n\tvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n\t    portPattern = /:[0-9]*$/,\n\t\n\t    // Special case for a simple path URL\n\t    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\t\n\t    // RFC 2396: characters reserved for delimiting URLs.\n\t    // We actually just auto-escape these.\n\t    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\t\n\t    // RFC 2396: characters not allowed for various reasons.\n\t    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\t\n\t    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n\t    autoEscape = ['\\''].concat(unwise),\n\t    // Characters that are never ever allowed in a hostname.\n\t    // Note that any invalid chars are also handled, but these\n\t    // are the ones that are *expected* to be seen, so we fast-path\n\t    // them.\n\t    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n\t    hostEndingChars = ['/', '?', '#'],\n\t    hostnameMaxLen = 255,\n\t    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n\t    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n\t    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n\t    unsafeProtocol = {\n\t      'javascript': true,\n\t      'javascript:': true\n\t    },\n\t    // protocols that never have a hostname.\n\t    hostlessProtocol = {\n\t      'javascript': true,\n\t      'javascript:': true\n\t    },\n\t    // protocols that always contain a // bit.\n\t    slashedProtocol = {\n\t      'http': true,\n\t      'https': true,\n\t      'ftp': true,\n\t      'gopher': true,\n\t      'file': true,\n\t      'http:': true,\n\t      'https:': true,\n\t      'ftp:': true,\n\t      'gopher:': true,\n\t      'file:': true\n\t    },\n\t    querystring = __webpack_require__(20);\n\t\n\tfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n\t  if (url && util.isObject(url) && url instanceof Url) return url;\n\t\n\t  var u = new Url;\n\t  u.parse(url, parseQueryString, slashesDenoteHost);\n\t  return u;\n\t}\n\t\n\tUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n\t  if (!util.isString(url)) {\n\t    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n\t  }\n\t\n\t  // Copy chrome, IE, opera backslash-handling behavior.\n\t  // Back slashes before the query string get converted to forward slashes\n\t  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n\t  var queryIndex = url.indexOf('?'),\n\t      splitter =\n\t          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n\t      uSplit = url.split(splitter),\n\t      slashRegex = /\\\\/g;\n\t  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n\t  url = uSplit.join(splitter);\n\t\n\t  var rest = url;\n\t\n\t  // trim before proceeding.\n\t  // This is to support parse stuff like \"  http://foo.com  \\n\"\n\t  rest = rest.trim();\n\t\n\t  if (!slashesDenoteHost && url.split('#').length === 1) {\n\t    // Try fast path regexp\n\t    var simplePath = simplePathPattern.exec(rest);\n\t    if (simplePath) {\n\t      this.path = rest;\n\t      this.href = rest;\n\t      this.pathname = simplePath[1];\n\t      if (simplePath[2]) {\n\t        this.search = simplePath[2];\n\t        if (parseQueryString) {\n\t          this.query = querystring.parse(this.search.substr(1));\n\t        } else {\n\t          this.query = this.search.substr(1);\n\t        }\n\t      } else if (parseQueryString) {\n\t        this.search = '';\n\t        this.query = {};\n\t      }\n\t      return this;\n\t    }\n\t  }\n\t\n\t  var proto = protocolPattern.exec(rest);\n\t  if (proto) {\n\t    proto = proto[0];\n\t    var lowerProto = proto.toLowerCase();\n\t    this.protocol = lowerProto;\n\t    rest = rest.substr(proto.length);\n\t  }\n\t\n\t  // figure out if it's got a host\n\t  // user@server is *always* interpreted as a hostname, and url\n\t  // resolution will treat //foo/bar as host=foo,path=bar because that's\n\t  // how the browser resolves relative URLs.\n\t  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n\t    var slashes = rest.substr(0, 2) === '//';\n\t    if (slashes && !(proto && hostlessProtocol[proto])) {\n\t      rest = rest.substr(2);\n\t      this.slashes = true;\n\t    }\n\t  }\n\t\n\t  if (!hostlessProtocol[proto] &&\n\t      (slashes || (proto && !slashedProtocol[proto]))) {\n\t\n\t    // there's a hostname.\n\t    // the first instance of /, ?, ;, or # ends the host.\n\t    //\n\t    // If there is an @ in the hostname, then non-host chars *are* allowed\n\t    // to the left of the last @ sign, unless some host-ending character\n\t    // comes *before* the @-sign.\n\t    // URLs are obnoxious.\n\t    //\n\t    // ex:\n\t    // http://a@b@c/ => user:a@b host:c\n\t    // http://a@b?@c => user:a host:c path:/?@c\n\t\n\t    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n\t    // Review our test case against browsers more comprehensively.\n\t\n\t    // find the first instance of any hostEndingChars\n\t    var hostEnd = -1;\n\t    for (var i = 0; i < hostEndingChars.length; i++) {\n\t      var hec = rest.indexOf(hostEndingChars[i]);\n\t      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n\t        hostEnd = hec;\n\t    }\n\t\n\t    // at this point, either we have an explicit point where the\n\t    // auth portion cannot go past, or the last @ char is the decider.\n\t    var auth, atSign;\n\t    if (hostEnd === -1) {\n\t      // atSign can be anywhere.\n\t      atSign = rest.lastIndexOf('@');\n\t    } else {\n\t      // atSign must be in auth portion.\n\t      // http://a@b/c@d => host:b auth:a path:/c@d\n\t      atSign = rest.lastIndexOf('@', hostEnd);\n\t    }\n\t\n\t    // Now we have a portion which is definitely the auth.\n\t    // Pull that off.\n\t    if (atSign !== -1) {\n\t      auth = rest.slice(0, atSign);\n\t      rest = rest.slice(atSign + 1);\n\t      this.auth = decodeURIComponent(auth);\n\t    }\n\t\n\t    // the host is the remaining to the left of the first non-host char\n\t    hostEnd = -1;\n\t    for (var i = 0; i < nonHostChars.length; i++) {\n\t      var hec = rest.indexOf(nonHostChars[i]);\n\t      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n\t        hostEnd = hec;\n\t    }\n\t    // if we still have not hit it, then the entire thing is a host.\n\t    if (hostEnd === -1)\n\t      hostEnd = rest.length;\n\t\n\t    this.host = rest.slice(0, hostEnd);\n\t    rest = rest.slice(hostEnd);\n\t\n\t    // pull out port.\n\t    this.parseHost();\n\t\n\t    // we've indicated that there is a hostname,\n\t    // so even if it's empty, it has to be present.\n\t    this.hostname = this.hostname || '';\n\t\n\t    // if hostname begins with [ and ends with ]\n\t    // assume that it's an IPv6 address.\n\t    var ipv6Hostname = this.hostname[0] === '[' &&\n\t        this.hostname[this.hostname.length - 1] === ']';\n\t\n\t    // validate a little.\n\t    if (!ipv6Hostname) {\n\t      var hostparts = this.hostname.split(/\\./);\n\t      for (var i = 0, l = hostparts.length; i < l; i++) {\n\t        var part = hostparts[i];\n\t        if (!part) continue;\n\t        if (!part.match(hostnamePartPattern)) {\n\t          var newpart = '';\n\t          for (var j = 0, k = part.length; j < k; j++) {\n\t            if (part.charCodeAt(j) > 127) {\n\t              // we replace non-ASCII char with a temporary placeholder\n\t              // we need this to make sure size of hostname is not\n\t              // broken by replacing non-ASCII by nothing\n\t              newpart += 'x';\n\t            } else {\n\t              newpart += part[j];\n\t            }\n\t          }\n\t          // we test again with ASCII char only\n\t          if (!newpart.match(hostnamePartPattern)) {\n\t            var validParts = hostparts.slice(0, i);\n\t            var notHost = hostparts.slice(i + 1);\n\t            var bit = part.match(hostnamePartStart);\n\t            if (bit) {\n\t              validParts.push(bit[1]);\n\t              notHost.unshift(bit[2]);\n\t            }\n\t            if (notHost.length) {\n\t              rest = '/' + notHost.join('.') + rest;\n\t            }\n\t            this.hostname = validParts.join('.');\n\t            break;\n\t          }\n\t        }\n\t      }\n\t    }\n\t\n\t    if (this.hostname.length > hostnameMaxLen) {\n\t      this.hostname = '';\n\t    } else {\n\t      // hostnames are always lower case.\n\t      this.hostname = this.hostname.toLowerCase();\n\t    }\n\t\n\t    if (!ipv6Hostname) {\n\t      // IDNA Support: Returns a punycoded representation of \"domain\".\n\t      // It only converts parts of the domain name that\n\t      // have non-ASCII characters, i.e. it doesn't matter if\n\t      // you call it with a domain that already is ASCII-only.\n\t      this.hostname = punycode.toASCII(this.hostname);\n\t    }\n\t\n\t    var p = this.port ? ':' + this.port : '';\n\t    var h = this.hostname || '';\n\t    this.host = h + p;\n\t    this.href += this.host;\n\t\n\t    // strip [ and ] from the hostname\n\t    // the host field still retains them, though\n\t    if (ipv6Hostname) {\n\t      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n\t      if (rest[0] !== '/') {\n\t        rest = '/' + rest;\n\t      }\n\t    }\n\t  }\n\t\n\t  // now rest is set to the post-host stuff.\n\t  // chop off any delim chars.\n\t  if (!unsafeProtocol[lowerProto]) {\n\t\n\t    // First, make 100% sure that any \"autoEscape\" chars get\n\t    // escaped, even if encodeURIComponent doesn't think they\n\t    // need to be.\n\t    for (var i = 0, l = autoEscape.length; i < l; i++) {\n\t      var ae = autoEscape[i];\n\t      if (rest.indexOf(ae) === -1)\n\t        continue;\n\t      var esc = encodeURIComponent(ae);\n\t      if (esc === ae) {\n\t        esc = escape(ae);\n\t      }\n\t      rest = rest.split(ae).join(esc);\n\t    }\n\t  }\n\t\n\t\n\t  // chop off from the tail first.\n\t  var hash = rest.indexOf('#');\n\t  if (hash !== -1) {\n\t    // got a fragment string.\n\t    this.hash = rest.substr(hash);\n\t    rest = rest.slice(0, hash);\n\t  }\n\t  var qm = rest.indexOf('?');\n\t  if (qm !== -1) {\n\t    this.search = rest.substr(qm);\n\t    this.query = rest.substr(qm + 1);\n\t    if (parseQueryString) {\n\t      this.query = querystring.parse(this.query);\n\t    }\n\t    rest = rest.slice(0, qm);\n\t  } else if (parseQueryString) {\n\t    // no query string, but parseQueryString still requested\n\t    this.search = '';\n\t    this.query = {};\n\t  }\n\t  if (rest) this.pathname = rest;\n\t  if (slashedProtocol[lowerProto] &&\n\t      this.hostname && !this.pathname) {\n\t    this.pathname = '/';\n\t  }\n\t\n\t  //to support http.request\n\t  if (this.pathname || this.search) {\n\t    var p = this.pathname || '';\n\t    var s = this.search || '';\n\t    this.path = p + s;\n\t  }\n\t\n\t  // finally, reconstruct the href based on what has been validated.\n\t  this.href = this.format();\n\t  return this;\n\t};\n\t\n\t// format a parsed object into a url string\n\tfunction urlFormat(obj) {\n\t  // ensure it's an object, and not a string url.\n\t  // If it's an obj, this is a no-op.\n\t  // this way, you can call url_format() on strings\n\t  // to clean up potentially wonky urls.\n\t  if (util.isString(obj)) obj = urlParse(obj);\n\t  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n\t  return obj.format();\n\t}\n\t\n\tUrl.prototype.format = function() {\n\t  var auth = this.auth || '';\n\t  if (auth) {\n\t    auth = encodeURIComponent(auth);\n\t    auth = auth.replace(/%3A/i, ':');\n\t    auth += '@';\n\t  }\n\t\n\t  var protocol = this.protocol || '',\n\t      pathname = this.pathname || '',\n\t      hash = this.hash || '',\n\t      host = false,\n\t      query = '';\n\t\n\t  if (this.host) {\n\t    host = auth + this.host;\n\t  } else if (this.hostname) {\n\t    host = auth + (this.hostname.indexOf(':') === -1 ?\n\t        this.hostname :\n\t        '[' + this.hostname + ']');\n\t    if (this.port) {\n\t      host += ':' + this.port;\n\t    }\n\t  }\n\t\n\t  if (this.query &&\n\t      util.isObject(this.query) &&\n\t      Object.keys(this.query).length) {\n\t    query = querystring.stringify(this.query);\n\t  }\n\t\n\t  var search = this.search || (query && ('?' + query)) || '';\n\t\n\t  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\t\n\t  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n\t  // unless they had them to begin with.\n\t  if (this.slashes ||\n\t      (!protocol || slashedProtocol[protocol]) && host !== false) {\n\t    host = '//' + (host || '');\n\t    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n\t  } else if (!host) {\n\t    host = '';\n\t  }\n\t\n\t  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n\t  if (search && search.charAt(0) !== '?') search = '?' + search;\n\t\n\t  pathname = pathname.replace(/[?#]/g, function(match) {\n\t    return encodeURIComponent(match);\n\t  });\n\t  search = search.replace('#', '%23');\n\t\n\t  return protocol + host + pathname + search + hash;\n\t};\n\t\n\tfunction urlResolve(source, relative) {\n\t  return urlParse(source, false, true).resolve(relative);\n\t}\n\t\n\tUrl.prototype.resolve = function(relative) {\n\t  return this.resolveObject(urlParse(relative, false, true)).format();\n\t};\n\t\n\tfunction urlResolveObject(source, relative) {\n\t  if (!source) return relative;\n\t  return urlParse(source, false, true).resolveObject(relative);\n\t}\n\t\n\tUrl.prototype.resolveObject = function(relative) {\n\t  if (util.isString(relative)) {\n\t    var rel = new Url();\n\t    rel.parse(relative, false, true);\n\t    relative = rel;\n\t  }\n\t\n\t  var result = new Url();\n\t  var tkeys = Object.keys(this);\n\t  for (var tk = 0; tk < tkeys.length; tk++) {\n\t    var tkey = tkeys[tk];\n\t    result[tkey] = this[tkey];\n\t  }\n\t\n\t  // hash is always overridden, no matter what.\n\t  // even href=\"\" will remove it.\n\t  result.hash = relative.hash;\n\t\n\t  // if the relative url is empty, then there's nothing left to do here.\n\t  if (relative.href === '') {\n\t    result.href = result.format();\n\t    return result;\n\t  }\n\t\n\t  // hrefs like //foo/bar always cut to the protocol.\n\t  if (relative.slashes && !relative.protocol) {\n\t    // take everything except the protocol from relative\n\t    var rkeys = Object.keys(relative);\n\t    for (var rk = 0; rk < rkeys.length; rk++) {\n\t      var rkey = rkeys[rk];\n\t      if (rkey !== 'protocol')\n\t        result[rkey] = relative[rkey];\n\t    }\n\t\n\t    //urlParse appends trailing / to urls like http://www.example.com\n\t    if (slashedProtocol[result.protocol] &&\n\t        result.hostname && !result.pathname) {\n\t      result.path = result.pathname = '/';\n\t    }\n\t\n\t    result.href = result.format();\n\t    return result;\n\t  }\n\t\n\t  if (relative.protocol && relative.protocol !== result.protocol) {\n\t    // if it's a known url protocol, then changing\n\t    // the protocol does weird things\n\t    // first, if it's not file:, then we MUST have a host,\n\t    // and if there was a path\n\t    // to begin with, then we MUST have a path.\n\t    // if it is file:, then the host is dropped,\n\t    // because that's known to be hostless.\n\t    // anything else is assumed to be absolute.\n\t    if (!slashedProtocol[relative.protocol]) {\n\t      var keys = Object.keys(relative);\n\t      for (var v = 0; v < keys.length; v++) {\n\t        var k = keys[v];\n\t        result[k] = relative[k];\n\t      }\n\t      result.href = result.format();\n\t      return result;\n\t    }\n\t\n\t    result.protocol = relative.protocol;\n\t    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n\t      var relPath = (relative.pathname || '').split('/');\n\t      while (relPath.length && !(relative.host = relPath.shift()));\n\t      if (!relative.host) relative.host = '';\n\t      if (!relative.hostname) relative.hostname = '';\n\t      if (relPath[0] !== '') relPath.unshift('');\n\t      if (relPath.length < 2) relPath.unshift('');\n\t      result.pathname = relPath.join('/');\n\t    } else {\n\t      result.pathname = relative.pathname;\n\t    }\n\t    result.search = relative.search;\n\t    result.query = relative.query;\n\t    result.host = relative.host || '';\n\t    result.auth = relative.auth;\n\t    result.hostname = relative.hostname || relative.host;\n\t    result.port = relative.port;\n\t    // to support http.request\n\t    if (result.pathname || result.search) {\n\t      var p = result.pathname || '';\n\t      var s = result.search || '';\n\t      result.path = p + s;\n\t    }\n\t    result.slashes = result.slashes || relative.slashes;\n\t    result.href = result.format();\n\t    return result;\n\t  }\n\t\n\t  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n\t      isRelAbs = (\n\t          relative.host ||\n\t          relative.pathname && relative.pathname.charAt(0) === '/'\n\t      ),\n\t      mustEndAbs = (isRelAbs || isSourceAbs ||\n\t                    (result.host && relative.pathname)),\n\t      removeAllDots = mustEndAbs,\n\t      srcPath = result.pathname && result.pathname.split('/') || [],\n\t      relPath = relative.pathname && relative.pathname.split('/') || [],\n\t      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\t\n\t  // if the url is a non-slashed url, then relative\n\t  // links like ../.. should be able\n\t  // to crawl up to the hostname, as well.  This is strange.\n\t  // result.protocol has already been set by now.\n\t  // Later on, put the first path part into the host field.\n\t  if (psychotic) {\n\t    result.hostname = '';\n\t    result.port = null;\n\t    if (result.host) {\n\t      if (srcPath[0] === '') srcPath[0] = result.host;\n\t      else srcPath.unshift(result.host);\n\t    }\n\t    result.host = '';\n\t    if (relative.protocol) {\n\t      relative.hostname = null;\n\t      relative.port = null;\n\t      if (relative.host) {\n\t        if (relPath[0] === '') relPath[0] = relative.host;\n\t        else relPath.unshift(relative.host);\n\t      }\n\t      relative.host = null;\n\t    }\n\t    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n\t  }\n\t\n\t  if (isRelAbs) {\n\t    // it's absolute.\n\t    result.host = (relative.host || relative.host === '') ?\n\t                  relative.host : result.host;\n\t    result.hostname = (relative.hostname || relative.hostname === '') ?\n\t                      relative.hostname : result.hostname;\n\t    result.search = relative.search;\n\t    result.query = relative.query;\n\t    srcPath = relPath;\n\t    // fall through to the dot-handling below.\n\t  } else if (relPath.length) {\n\t    // it's relative\n\t    // throw away the existing file, and take the new path instead.\n\t    if (!srcPath) srcPath = [];\n\t    srcPath.pop();\n\t    srcPath = srcPath.concat(relPath);\n\t    result.search = relative.search;\n\t    result.query = relative.query;\n\t  } else if (!util.isNullOrUndefined(relative.search)) {\n\t    // just pull out the search.\n\t    // like href='?foo'.\n\t    // Put this after the other two cases because it simplifies the booleans\n\t    if (psychotic) {\n\t      result.hostname = result.host = srcPath.shift();\n\t      //occationaly the auth can get stuck only in host\n\t      //this especially happens in cases like\n\t      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n\t      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n\t                       result.host.split('@') : false;\n\t      if (authInHost) {\n\t        result.auth = authInHost.shift();\n\t        result.host = result.hostname = authInHost.shift();\n\t      }\n\t    }\n\t    result.search = relative.search;\n\t    result.query = relative.query;\n\t    //to support http.request\n\t    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n\t      result.path = (result.pathname ? result.pathname : '') +\n\t                    (result.search ? result.search : '');\n\t    }\n\t    result.href = result.format();\n\t    return result;\n\t  }\n\t\n\t  if (!srcPath.length) {\n\t    // no path at all.  easy.\n\t    // we've already handled the other stuff above.\n\t    result.pathname = null;\n\t    //to support http.request\n\t    if (result.search) {\n\t      result.path = '/' + result.search;\n\t    } else {\n\t      result.path = null;\n\t    }\n\t    result.href = result.format();\n\t    return result;\n\t  }\n\t\n\t  // if a url ENDs in . or .., then it must get a trailing slash.\n\t  // however, if it ends in anything else non-slashy,\n\t  // then it must NOT get a trailing slash.\n\t  var last = srcPath.slice(-1)[0];\n\t  var hasTrailingSlash = (\n\t      (result.host || relative.host || srcPath.length > 1) &&\n\t      (last === '.' || last === '..') || last === '');\n\t\n\t  // strip single dots, resolve double dots to parent dir\n\t  // if the path tries to go above the root, `up` ends up > 0\n\t  var up = 0;\n\t  for (var i = srcPath.length; i >= 0; i--) {\n\t    last = srcPath[i];\n\t    if (last === '.') {\n\t      srcPath.splice(i, 1);\n\t    } else if (last === '..') {\n\t      srcPath.splice(i, 1);\n\t      up++;\n\t    } else if (up) {\n\t      srcPath.splice(i, 1);\n\t      up--;\n\t    }\n\t  }\n\t\n\t  // if the path is allowed to go above the root, restore leading ..s\n\t  if (!mustEndAbs && !removeAllDots) {\n\t    for (; up--; up) {\n\t      srcPath.unshift('..');\n\t    }\n\t  }\n\t\n\t  if (mustEndAbs && srcPath[0] !== '' &&\n\t      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n\t    srcPath.unshift('');\n\t  }\n\t\n\t  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n\t    srcPath.push('');\n\t  }\n\t\n\t  var isAbsolute = srcPath[0] === '' ||\n\t      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\t\n\t  // put the host back\n\t  if (psychotic) {\n\t    result.hostname = result.host = isAbsolute ? '' :\n\t                                    srcPath.length ? srcPath.shift() : '';\n\t    //occationaly the auth can get stuck only in host\n\t    //this especially happens in cases like\n\t    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n\t    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n\t                     result.host.split('@') : false;\n\t    if (authInHost) {\n\t      result.auth = authInHost.shift();\n\t      result.host = result.hostname = authInHost.shift();\n\t    }\n\t  }\n\t\n\t  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\t\n\t  if (mustEndAbs && !isAbsolute) {\n\t    srcPath.unshift('');\n\t  }\n\t\n\t  if (!srcPath.length) {\n\t    result.pathname = null;\n\t    result.path = null;\n\t  } else {\n\t    result.pathname = srcPath.join('/');\n\t  }\n\t\n\t  //to support request.http\n\t  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n\t    result.path = (result.pathname ? result.pathname : '') +\n\t                  (result.search ? result.search : '');\n\t  }\n\t  result.auth = relative.auth || result.auth;\n\t  result.slashes = result.slashes || relative.slashes;\n\t  result.href = result.format();\n\t  return result;\n\t};\n\t\n\tUrl.prototype.parseHost = function() {\n\t  var host = this.host;\n\t  var port = portPattern.exec(host);\n\t  if (port) {\n\t    port = port[0];\n\t    if (port !== ':') {\n\t      this.port = port.substr(1);\n\t    }\n\t    host = host.substr(0, host.length - port.length);\n\t  }\n\t  if (host) this.hostname = host;\n\t};\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module, global) {/*! https://mths.be/punycode v1.3.2 by @mathias */\n\t;(function(root) {\n\t\n\t\t/** Detect free variables */\n\t\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t\t!exports.nodeType && exports;\n\t\tvar freeModule = typeof module == 'object' && module &&\n\t\t\t!module.nodeType && module;\n\t\tvar freeGlobal = typeof global == 'object' && global;\n\t\tif (\n\t\t\tfreeGlobal.global === freeGlobal ||\n\t\t\tfreeGlobal.window === freeGlobal ||\n\t\t\tfreeGlobal.self === freeGlobal\n\t\t) {\n\t\t\troot = freeGlobal;\n\t\t}\n\t\n\t\t/**\n\t\t * The `punycode` object.\n\t\t * @name punycode\n\t\t * @type Object\n\t\t */\n\t\tvar punycode,\n\t\n\t\t/** Highest positive signed 32-bit float value */\n\t\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\t\n\t\t/** Bootstring parameters */\n\t\tbase = 36,\n\t\ttMin = 1,\n\t\ttMax = 26,\n\t\tskew = 38,\n\t\tdamp = 700,\n\t\tinitialBias = 72,\n\t\tinitialN = 128, // 0x80\n\t\tdelimiter = '-', // '\\x2D'\n\t\n\t\t/** Regular expressions */\n\t\tregexPunycode = /^xn--/,\n\t\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\t\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\t\n\t\t/** Error messages */\n\t\terrors = {\n\t\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t\t'invalid-input': 'Invalid input'\n\t\t},\n\t\n\t\t/** Convenience shortcuts */\n\t\tbaseMinusTMin = base - tMin,\n\t\tfloor = Math.floor,\n\t\tstringFromCharCode = String.fromCharCode,\n\t\n\t\t/** Temporary variable */\n\t\tkey;\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\t/**\n\t\t * A generic error utility function.\n\t\t * @private\n\t\t * @param {String} type The error type.\n\t\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t\t */\n\t\tfunction error(type) {\n\t\t\tthrow RangeError(errors[type]);\n\t\t}\n\t\n\t\t/**\n\t\t * A generic `Array#map` utility function.\n\t\t * @private\n\t\t * @param {Array} array The array to iterate over.\n\t\t * @param {Function} callback The function that gets called for every array\n\t\t * item.\n\t\t * @returns {Array} A new array of values returned by the callback function.\n\t\t */\n\t\tfunction map(array, fn) {\n\t\t\tvar length = array.length;\n\t\t\tvar result = [];\n\t\t\twhile (length--) {\n\t\t\t\tresult[length] = fn(array[length]);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\n\t\t/**\n\t\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t\t * addresses.\n\t\t * @private\n\t\t * @param {String} domain The domain name or email address.\n\t\t * @param {Function} callback The function that gets called for every\n\t\t * character.\n\t\t * @returns {Array} A new string of characters returned by the callback\n\t\t * function.\n\t\t */\n\t\tfunction mapDomain(string, fn) {\n\t\t\tvar parts = string.split('@');\n\t\t\tvar result = '';\n\t\t\tif (parts.length > 1) {\n\t\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\t\tresult = parts[0] + '@';\n\t\t\t\tstring = parts[1];\n\t\t\t}\n\t\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\t\tvar labels = string.split('.');\n\t\t\tvar encoded = map(labels, fn).join('.');\n\t\t\treturn result + encoded;\n\t\t}\n\t\n\t\t/**\n\t\t * Creates an array containing the numeric code points of each Unicode\n\t\t * character in the string. While JavaScript uses UCS-2 internally,\n\t\t * this function will convert a pair of surrogate halves (each of which\n\t\t * UCS-2 exposes as separate characters) into a single code point,\n\t\t * matching UTF-16.\n\t\t * @see `punycode.ucs2.encode`\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode.ucs2\n\t\t * @name decode\n\t\t * @param {String} string The Unicode input string (UCS-2).\n\t\t * @returns {Array} The new array of code points.\n\t\t */\n\t\tfunction ucs2decode(string) {\n\t\t\tvar output = [],\n\t\t\t    counter = 0,\n\t\t\t    length = string.length,\n\t\t\t    value,\n\t\t\t    extra;\n\t\t\twhile (counter < length) {\n\t\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\t\toutput.push(value);\n\t\t\t\t\t\tcounter--;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\toutput.push(value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\t\n\t\t/**\n\t\t * Creates a string based on an array of numeric code points.\n\t\t * @see `punycode.ucs2.decode`\n\t\t * @memberOf punycode.ucs2\n\t\t * @name encode\n\t\t * @param {Array} codePoints The array of numeric code points.\n\t\t * @returns {String} The new Unicode string (UCS-2).\n\t\t */\n\t\tfunction ucs2encode(array) {\n\t\t\treturn map(array, function(value) {\n\t\t\t\tvar output = '';\n\t\t\t\tif (value > 0xFFFF) {\n\t\t\t\t\tvalue -= 0x10000;\n\t\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t\t}\n\t\t\t\toutput += stringFromCharCode(value);\n\t\t\t\treturn output;\n\t\t\t}).join('');\n\t\t}\n\t\n\t\t/**\n\t\t * Converts a basic code point into a digit/integer.\n\t\t * @see `digitToBasic()`\n\t\t * @private\n\t\t * @param {Number} codePoint The basic numeric code point value.\n\t\t * @returns {Number} The numeric value of a basic code point (for use in\n\t\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t\t * the code point does not represent a value.\n\t\t */\n\t\tfunction basicToDigit(codePoint) {\n\t\t\tif (codePoint - 48 < 10) {\n\t\t\t\treturn codePoint - 22;\n\t\t\t}\n\t\t\tif (codePoint - 65 < 26) {\n\t\t\t\treturn codePoint - 65;\n\t\t\t}\n\t\t\tif (codePoint - 97 < 26) {\n\t\t\t\treturn codePoint - 97;\n\t\t\t}\n\t\t\treturn base;\n\t\t}\n\t\n\t\t/**\n\t\t * Converts a digit/integer into a basic code point.\n\t\t * @see `basicToDigit()`\n\t\t * @private\n\t\t * @param {Number} digit The numeric value of a basic code point.\n\t\t * @returns {Number} The basic code point whose value (when used for\n\t\t * representing integers) is `digit`, which needs to be in the range\n\t\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t\t * used; else, the lowercase form is used. The behavior is undefined\n\t\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t\t */\n\t\tfunction digitToBasic(digit, flag) {\n\t\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t\t// 26..35 map to ASCII 0..9\n\t\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t\t}\n\t\n\t\t/**\n\t\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t\t * @private\n\t\t */\n\t\tfunction adapt(delta, numPoints, firstTime) {\n\t\t\tvar k = 0;\n\t\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\t\tdelta += floor(delta / numPoints);\n\t\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t\t}\n\t\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t\t}\n\t\n\t\t/**\n\t\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t\t * symbols.\n\t\t * @memberOf punycode\n\t\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t\t * @returns {String} The resulting string of Unicode symbols.\n\t\t */\n\t\tfunction decode(input) {\n\t\t\t// Don't use UCS-2\n\t\t\tvar output = [],\n\t\t\t    inputLength = input.length,\n\t\t\t    out,\n\t\t\t    i = 0,\n\t\t\t    n = initialN,\n\t\t\t    bias = initialBias,\n\t\t\t    basic,\n\t\t\t    j,\n\t\t\t    index,\n\t\t\t    oldi,\n\t\t\t    w,\n\t\t\t    k,\n\t\t\t    digit,\n\t\t\t    t,\n\t\t\t    /** Cached calculation results */\n\t\t\t    baseMinusT;\n\t\n\t\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t\t// the first basic code points to the output.\n\t\n\t\t\tbasic = input.lastIndexOf(delimiter);\n\t\t\tif (basic < 0) {\n\t\t\t\tbasic = 0;\n\t\t\t}\n\t\n\t\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t\t// if it's not a basic code point\n\t\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\t\terror('not-basic');\n\t\t\t\t}\n\t\t\t\toutput.push(input.charCodeAt(j));\n\t\t\t}\n\t\n\t\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t\t// points were copied; start at the beginning otherwise.\n\t\n\t\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\t\n\t\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t\t// value at the end to obtain `delta`.\n\t\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\t\n\t\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\t\terror('invalid-input');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\t\n\t\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\t\terror('overflow');\n\t\t\t\t\t}\n\t\n\t\t\t\t\ti += digit * w;\n\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\n\t\t\t\t\tif (digit < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\t\terror('overflow');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tw *= baseMinusT;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tout = output.length + 1;\n\t\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\t\n\t\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\t\n\t\t\t\tn += floor(i / out);\n\t\t\t\ti %= out;\n\t\n\t\t\t\t// Insert `n` at position `i` of the output\n\t\t\t\toutput.splice(i++, 0, n);\n\t\n\t\t\t}\n\t\n\t\t\treturn ucs2encode(output);\n\t\t}\n\t\n\t\t/**\n\t\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t\t * Punycode string of ASCII-only symbols.\n\t\t * @memberOf punycode\n\t\t * @param {String} input The string of Unicode symbols.\n\t\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t\t */\n\t\tfunction encode(input) {\n\t\t\tvar n,\n\t\t\t    delta,\n\t\t\t    handledCPCount,\n\t\t\t    basicLength,\n\t\t\t    bias,\n\t\t\t    j,\n\t\t\t    m,\n\t\t\t    q,\n\t\t\t    k,\n\t\t\t    t,\n\t\t\t    currentValue,\n\t\t\t    output = [],\n\t\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t\t    inputLength,\n\t\t\t    /** Cached calculation results */\n\t\t\t    handledCPCountPlusOne,\n\t\t\t    baseMinusT,\n\t\t\t    qMinusT;\n\t\n\t\t\t// Convert the input in UCS-2 to Unicode\n\t\t\tinput = ucs2decode(input);\n\t\n\t\t\t// Cache the length\n\t\t\tinputLength = input.length;\n\t\n\t\t\t// Initialize the state\n\t\t\tn = initialN;\n\t\t\tdelta = 0;\n\t\t\tbias = initialBias;\n\t\n\t\t\t// Handle the basic code points\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue < 0x80) {\n\t\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\thandledCPCount = basicLength = output.length;\n\t\n\t\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t\t// `basicLength` is the number of basic code points.\n\t\n\t\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\t\tif (basicLength) {\n\t\t\t\toutput.push(delimiter);\n\t\t\t}\n\t\n\t\t\t// Main encoding loop:\n\t\t\twhile (handledCPCount < inputLength) {\n\t\n\t\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t\t// larger one:\n\t\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\t\tcurrentValue = input[j];\n\t\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\t\tm = currentValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t\t// but guard against overflow\n\t\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\t\n\t\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\t\tn = m;\n\t\n\t\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\t\tcurrentValue = input[j];\n\t\n\t\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\t\terror('overflow');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\t\tdelta = 0;\n\t\t\t\t\t\t++handledCPCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t++delta;\n\t\t\t\t++n;\n\t\n\t\t\t}\n\t\t\treturn output.join('');\n\t\t}\n\t\n\t\t/**\n\t\t * Converts a Punycode string representing a domain name or an email address\n\t\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t\t * it doesn't matter if you call it on a string that has already been\n\t\t * converted to Unicode.\n\t\t * @memberOf punycode\n\t\t * @param {String} input The Punycoded domain name or email address to\n\t\t * convert to Unicode.\n\t\t * @returns {String} The Unicode representation of the given Punycode\n\t\t * string.\n\t\t */\n\t\tfunction toUnicode(input) {\n\t\t\treturn mapDomain(input, function(string) {\n\t\t\t\treturn regexPunycode.test(string)\n\t\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t\t: string;\n\t\t\t});\n\t\t}\n\t\n\t\t/**\n\t\t * Converts a Unicode string representing a domain name or an email address to\n\t\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t\t * ASCII.\n\t\t * @memberOf punycode\n\t\t * @param {String} input The domain name or email address to convert, as a\n\t\t * Unicode string.\n\t\t * @returns {String} The Punycode representation of the given domain name or\n\t\t * email address.\n\t\t */\n\t\tfunction toASCII(input) {\n\t\t\treturn mapDomain(input, function(string) {\n\t\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t\t: string;\n\t\t\t});\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\t/** Define the public API */\n\t\tpunycode = {\n\t\t\t/**\n\t\t\t * A string representing the current Punycode.js version number.\n\t\t\t * @memberOf punycode\n\t\t\t * @type String\n\t\t\t */\n\t\t\t'version': '1.3.2',\n\t\t\t/**\n\t\t\t * An object of methods to convert from JavaScript's internal character\n\t\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t\t * @memberOf punycode\n\t\t\t * @type Object\n\t\t\t */\n\t\t\t'ucs2': {\n\t\t\t\t'decode': ucs2decode,\n\t\t\t\t'encode': ucs2encode\n\t\t\t},\n\t\t\t'decode': decode,\n\t\t\t'encode': encode,\n\t\t\t'toASCII': toASCII,\n\t\t\t'toUnicode': toUnicode\n\t\t};\n\t\n\t\t/** Expose `punycode` */\n\t\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t\t// like the following:\n\t\tif (\n\t\t\ttrue\n\t\t) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t\t\t\treturn punycode;\n\t\t\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (freeExports && freeModule) {\n\t\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\t\tfreeModule.exports = punycode;\n\t\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\t\tfor (key in punycode) {\n\t\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else { // in Rhino or a web browser\n\t\t\troot.punycode = punycode;\n\t\t}\n\t\n\t}(this));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(18)(module), (function() { return this; }())))\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t  isString: function(arg) {\n\t    return typeof(arg) === 'string';\n\t  },\n\t  isObject: function(arg) {\n\t    return typeof(arg) === 'object' && arg !== null;\n\t  },\n\t  isNull: function(arg) {\n\t    return arg === null;\n\t  },\n\t  isNullOrUndefined: function(arg) {\n\t    return arg == null;\n\t  }\n\t};\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.decode = exports.parse = __webpack_require__(21);\n\texports.encode = exports.stringify = __webpack_require__(22);\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\t'use strict';\n\t\n\t// If obj.hasOwnProperty has been overridden, then calling\n\t// obj.hasOwnProperty(prop) will break.\n\t// See: https://github.com/joyent/node/issues/1707\n\tfunction hasOwnProperty(obj, prop) {\n\t  return Object.prototype.hasOwnProperty.call(obj, prop);\n\t}\n\t\n\tmodule.exports = function(qs, sep, eq, options) {\n\t  sep = sep || '&';\n\t  eq = eq || '=';\n\t  var obj = {};\n\t\n\t  if (typeof qs !== 'string' || qs.length === 0) {\n\t    return obj;\n\t  }\n\t\n\t  var regexp = /\\+/g;\n\t  qs = qs.split(sep);\n\t\n\t  var maxKeys = 1000;\n\t  if (options && typeof options.maxKeys === 'number') {\n\t    maxKeys = options.maxKeys;\n\t  }\n\t\n\t  var len = qs.length;\n\t  // maxKeys <= 0 means that we should not limit keys count\n\t  if (maxKeys > 0 && len > maxKeys) {\n\t    len = maxKeys;\n\t  }\n\t\n\t  for (var i = 0; i < len; ++i) {\n\t    var x = qs[i].replace(regexp, '%20'),\n\t        idx = x.indexOf(eq),\n\t        kstr, vstr, k, v;\n\t\n\t    if (idx >= 0) {\n\t      kstr = x.substr(0, idx);\n\t      vstr = x.substr(idx + 1);\n\t    } else {\n\t      kstr = x;\n\t      vstr = '';\n\t    }\n\t\n\t    k = decodeURIComponent(kstr);\n\t    v = decodeURIComponent(vstr);\n\t\n\t    if (!hasOwnProperty(obj, k)) {\n\t      obj[k] = v;\n\t    } else if (Array.isArray(obj[k])) {\n\t      obj[k].push(v);\n\t    } else {\n\t      obj[k] = [obj[k], v];\n\t    }\n\t  }\n\t\n\t  return obj;\n\t};\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\t'use strict';\n\t\n\tvar stringifyPrimitive = function(v) {\n\t  switch (typeof v) {\n\t    case 'string':\n\t      return v;\n\t\n\t    case 'boolean':\n\t      return v ? 'true' : 'false';\n\t\n\t    case 'number':\n\t      return isFinite(v) ? v : '';\n\t\n\t    default:\n\t      return '';\n\t  }\n\t};\n\t\n\tmodule.exports = function(obj, sep, eq, name) {\n\t  sep = sep || '&';\n\t  eq = eq || '=';\n\t  if (obj === null) {\n\t    obj = undefined;\n\t  }\n\t\n\t  if (typeof obj === 'object') {\n\t    return Object.keys(obj).map(function(k) {\n\t      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n\t      if (Array.isArray(obj[k])) {\n\t        return obj[k].map(function(v) {\n\t          return ks + encodeURIComponent(stringifyPrimitive(v));\n\t        }).join(sep);\n\t      } else {\n\t        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n\t      }\n\t    }).join(sep);\n\t\n\t  }\n\t\n\t  if (!name) return '';\n\t  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n\t         encodeURIComponent(stringifyPrimitive(obj));\n\t};\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"id\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"$schema\": \"http://json-schema.org/draft-04/schema#\",\n\t\t\"description\": \"Core schema meta-schema\",\n\t\t\"definitions\": {\n\t\t\t\"schemaArray\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"minItems\": 1,\n\t\t\t\t\"items\": {\n\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"positiveInteger\": {\n\t\t\t\t\"type\": \"integer\",\n\t\t\t\t\"minimum\": 0\n\t\t\t},\n\t\t\t\"positiveIntegerDefault0\": {\n\t\t\t\t\"allOf\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"$ref\": \"#/definitions/positiveInteger\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"default\": 0\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"simpleTypes\": {\n\t\t\t\t\"enum\": [\n\t\t\t\t\t\"array\",\n\t\t\t\t\t\"boolean\",\n\t\t\t\t\t\"integer\",\n\t\t\t\t\t\"null\",\n\t\t\t\t\t\"number\",\n\t\t\t\t\t\"object\",\n\t\t\t\t\t\"string\"\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"stringArray\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"items\": {\n\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t},\n\t\t\t\t\"minItems\": 1,\n\t\t\t\t\"uniqueItems\": true\n\t\t\t}\n\t\t},\n\t\t\"type\": \"object\",\n\t\t\"properties\": {\n\t\t\t\"id\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"format\": \"uri\"\n\t\t\t},\n\t\t\t\"$schema\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"format\": \"uri\"\n\t\t\t},\n\t\t\t\"title\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"description\": {\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t\"default\": {},\n\t\t\t\"multipleOf\": {\n\t\t\t\t\"type\": \"number\",\n\t\t\t\t\"minimum\": 0,\n\t\t\t\t\"exclusiveMinimum\": true\n\t\t\t},\n\t\t\t\"maximum\": {\n\t\t\t\t\"type\": \"number\"\n\t\t\t},\n\t\t\t\"exclusiveMaximum\": {\n\t\t\t\t\"type\": \"boolean\",\n\t\t\t\t\"default\": false\n\t\t\t},\n\t\t\t\"minimum\": {\n\t\t\t\t\"type\": \"number\"\n\t\t\t},\n\t\t\t\"exclusiveMinimum\": {\n\t\t\t\t\"type\": \"boolean\",\n\t\t\t\t\"default\": false\n\t\t\t},\n\t\t\t\"maxLength\": {\n\t\t\t\t\"$ref\": \"#/definitions/positiveInteger\"\n\t\t\t},\n\t\t\t\"minLength\": {\n\t\t\t\t\"$ref\": \"#/definitions/positiveIntegerDefault0\"\n\t\t\t},\n\t\t\t\"pattern\": {\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"format\": \"regex\"\n\t\t\t},\n\t\t\t\"additionalItems\": {\n\t\t\t\t\"anyOf\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"boolean\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"default\": {}\n\t\t\t},\n\t\t\t\"items\": {\n\t\t\t\t\"anyOf\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"$ref\": \"#/definitions/schemaArray\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"default\": {}\n\t\t\t},\n\t\t\t\"maxItems\": {\n\t\t\t\t\"$ref\": \"#/definitions/positiveInteger\"\n\t\t\t},\n\t\t\t\"minItems\": {\n\t\t\t\t\"$ref\": \"#/definitions/positiveIntegerDefault0\"\n\t\t\t},\n\t\t\t\"uniqueItems\": {\n\t\t\t\t\"type\": \"boolean\",\n\t\t\t\t\"default\": false\n\t\t\t},\n\t\t\t\"maxProperties\": {\n\t\t\t\t\"$ref\": \"#/definitions/positiveInteger\"\n\t\t\t},\n\t\t\t\"minProperties\": {\n\t\t\t\t\"$ref\": \"#/definitions/positiveIntegerDefault0\"\n\t\t\t},\n\t\t\t\"required\": {\n\t\t\t\t\"$ref\": \"#/definitions/stringArray\"\n\t\t\t},\n\t\t\t\"additionalProperties\": {\n\t\t\t\t\"anyOf\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"boolean\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"default\": {}\n\t\t\t},\n\t\t\t\"definitions\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"additionalProperties\": {\n\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t},\n\t\t\t\t\"default\": {}\n\t\t\t},\n\t\t\t\"properties\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"additionalProperties\": {\n\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t},\n\t\t\t\t\"default\": {}\n\t\t\t},\n\t\t\t\"patternProperties\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"additionalProperties\": {\n\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t},\n\t\t\t\t\"default\": {}\n\t\t\t},\n\t\t\t\"dependencies\": {\n\t\t\t\t\"type\": \"object\",\n\t\t\t\t\"additionalProperties\": {\n\t\t\t\t\t\"anyOf\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"$ref\": \"#\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"$ref\": \"#/definitions/stringArray\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"enum\": {\n\t\t\t\t\"type\": \"array\",\n\t\t\t\t\"minItems\": 1,\n\t\t\t\t\"uniqueItems\": true\n\t\t\t},\n\t\t\t\"type\": {\n\t\t\t\t\"anyOf\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"$ref\": \"#/definitions/simpleTypes\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"array\",\n\t\t\t\t\t\t\"items\": {\n\t\t\t\t\t\t\t\"$ref\": \"#/definitions/simpleTypes\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"minItems\": 1,\n\t\t\t\t\t\t\"uniqueItems\": true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"allOf\": {\n\t\t\t\t\"$ref\": \"#/definitions/schemaArray\"\n\t\t\t},\n\t\t\t\"anyOf\": {\n\t\t\t\t\"$ref\": \"#/definitions/schemaArray\"\n\t\t\t},\n\t\t\t\"oneOf\": {\n\t\t\t\t\"$ref\": \"#/definitions/schemaArray\"\n\t\t\t},\n\t\t\t\"not\": {\n\t\t\t\t\"$ref\": \"#\"\n\t\t\t}\n\t\t},\n\t\t\"dependencies\": {\n\t\t\t\"exclusiveMaximum\": [\n\t\t\t\t\"maximum\"\n\t\t\t],\n\t\t\t\"exclusiveMinimum\": [\n\t\t\t\t\"minimum\"\n\t\t\t]\n\t\t},\n\t\t\"default\": {}\n\t};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar formats = {};\n\t\n\t// reference: http://dansnetwork.com/javascript-iso8601rfc3339-date-parser/\n\tformats['date-time'] = /(\\d\\d\\d\\d)(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))/;\n\t// reference: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js#L7\n\tformats.uri = /^([a-zA-Z][a-zA-Z0-9+-.]*:){0,1}\\/\\/[^\\s]*$/;\n\t// reference: http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n\t//            http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n\tformats.email = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n\t// reference: https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n\tformats.ipv4 = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n\t// reference: http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n\tformats.ipv6 = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|[fF][eE]80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::([fF]{4}(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\n\t// reference: http://stackoverflow.com/questions/106179/regular-expression-to-match-dns-hostname-or-ip-address#answer-3824105\n\tformats.hostname = /^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])(\\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]))*$/;\n\t\n\tmodule.exports = formats;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\t// Reference: https://github.com/bestiejs/punycode.js/blob/master/punycode.js#L101`\n\t// Info: https://mathiasbynens.be/notes/javascript-unicode\n\tfunction ucs2length(string) {\n\t    var ucs2len = 0,\n\t        counter = 0,\n\t        length = string.length,\n\t        value, extra;\n\t\n\t    while (counter < length) {\n\t        ucs2len++;\n\t        value = string.charCodeAt(counter++);\n\t\n\t        if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t            // It's a high surrogate, and there is a next character.\n\t            extra = string.charCodeAt(counter++);\n\t\n\t            if ((extra & 0xFC00) !== 0xDC00) { /* Low surrogate. */                 // jshint ignore: line\n\t                counter--;\n\t            }\n\t        }\n\t    }\n\t\n\t    return ucs2len;\n\t}\n\t\n\tmodule.exports = ucs2length;\n\n/***/ })\n/******/ ])\n});\n;\n//# sourceMappingURL=models.js.map";
},function(t,e){t.exports='/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var dataview;\r\n            (function (dataview) {\r\n                // TODO: refactor & focus DataViewTransform into a service with well-defined dependencies.\r\n                var DataViewTransform;\r\n                (function (DataViewTransform) {\r\n                    // TODO: refactor this, setGrouped, and groupValues to a test helper to stop using it in the product\r\n                    function createValueColumns(values, valueIdentityFields, source) {\r\n                        if (values === void 0) { values = []; }\r\n                        var result = values;\r\n                        setGrouped(result);\r\n                        if (valueIdentityFields) {\r\n                            result.identityFields = valueIdentityFields;\r\n                        }\r\n                        if (source) {\r\n                            result.source = source;\r\n                        }\r\n                        return result;\r\n                    }\r\n                    DataViewTransform.createValueColumns = createValueColumns;\r\n                    function setGrouped(values, groupedResult) {\r\n                        values.grouped = groupedResult\r\n                            ? function () { return groupedResult; }\r\n                            : function () { return groupValues(values); };\r\n                    }\r\n                    DataViewTransform.setGrouped = setGrouped;\r\n                    /** Group together the values with a common identity. */\r\n                    function groupValues(values) {\r\n                        var groups = [], currentGroup;\r\n                        for (var i = 0, len = values.length; i < len; i++) {\r\n                            var value = values[i];\r\n                            if (!currentGroup || currentGroup.identity !== value.identity) {\r\n                                currentGroup = {\r\n                                    values: []\r\n                                };\r\n                                if (value.identity) {\r\n                                    currentGroup.identity = value.identity;\r\n                                    var source = value.source;\r\n                                    // allow null, which will be formatted as (Blank).\r\n                                    if (source.groupName !== undefined) {\r\n                                        currentGroup.name = source.groupName;\r\n                                    }\r\n                                    else if (source.displayName) {\r\n                                        currentGroup.name = source.displayName;\r\n                                    }\r\n                                }\r\n                                groups.push(currentGroup);\r\n                            }\r\n                            currentGroup.values.push(value);\r\n                        }\r\n                        return groups;\r\n                    }\r\n                    DataViewTransform.groupValues = groupValues;\r\n                })(DataViewTransform = dataview.DataViewTransform || (dataview.DataViewTransform = {}));\r\n            })(dataview = utils.dataview || (utils.dataview = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var dataview;\r\n            (function (dataview) {\r\n                var DataRoleHelper;\r\n                (function (DataRoleHelper) {\r\n                    function getMeasureIndexOfRole(grouped, roleName) {\r\n                        if (!grouped || !grouped.length) {\r\n                            return -1;\r\n                        }\r\n                        var firstGroup = grouped[0];\r\n                        if (firstGroup.values && firstGroup.values.length > 0) {\r\n                            for (var i = 0, len = firstGroup.values.length; i < len; ++i) {\r\n                                var value = firstGroup.values[i];\r\n                                if (value && value.source) {\r\n                                    if (hasRole(value.source, roleName)) {\r\n                                        return i;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        return -1;\r\n                    }\r\n                    DataRoleHelper.getMeasureIndexOfRole = getMeasureIndexOfRole;\r\n                    function getCategoryIndexOfRole(categories, roleName) {\r\n                        if (categories && categories.length) {\r\n                            for (var i = 0, ilen = categories.length; i < ilen; i++) {\r\n                                if (hasRole(categories[i].source, roleName)) {\r\n                                    return i;\r\n                                }\r\n                            }\r\n                        }\r\n                        return -1;\r\n                    }\r\n                    DataRoleHelper.getCategoryIndexOfRole = getCategoryIndexOfRole;\r\n                    function hasRole(column, name) {\r\n                        var roles = column.roles;\r\n                        return roles && roles[name];\r\n                    }\r\n                    DataRoleHelper.hasRole = hasRole;\r\n                    function hasRoleInDataView(dataView, name) {\r\n                        return dataView != null\r\n                            && dataView.metadata != null\r\n                            && dataView.metadata.columns\r\n                            && dataView.metadata.columns.some(function (c) { return c.roles && c.roles[name] !== undefined; }); // any is an alias of some\r\n                    }\r\n                    DataRoleHelper.hasRoleInDataView = hasRoleInDataView;\r\n                    function hasRoleInValueColumn(valueColumn, name) {\r\n                        return valueColumn\r\n                            && valueColumn.source\r\n                            && valueColumn.source.roles\r\n                            && (valueColumn.source.roles[name] === true);\r\n                    }\r\n                    DataRoleHelper.hasRoleInValueColumn = hasRoleInValueColumn;\r\n                })(DataRoleHelper = dataview.DataRoleHelper || (dataview.DataRoleHelper = {}));\r\n            })(dataview = utils.dataview || (utils.dataview = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var dataview;\r\n            (function (dataview) {\r\n                var DataViewObject;\r\n                (function (DataViewObject) {\r\n                    function getValue(object, propertyName, defaultValue) {\r\n                        if (!object) {\r\n                            return defaultValue;\r\n                        }\r\n                        var propertyValue = object[propertyName];\r\n                        if (propertyValue === undefined) {\r\n                            return defaultValue;\r\n                        }\r\n                        return propertyValue;\r\n                    }\r\n                    DataViewObject.getValue = getValue;\r\n                    /** Gets the solid color from a fill property using only a propertyName */\r\n                    function getFillColorByPropertyName(object, propertyName, defaultColor) {\r\n                        var value = getValue(object, propertyName);\r\n                        if (!value || !value.solid) {\r\n                            return defaultColor;\r\n                        }\r\n                        return value.solid.color;\r\n                    }\r\n                    DataViewObject.getFillColorByPropertyName = getFillColorByPropertyName;\r\n                })(DataViewObject = dataview.DataViewObject || (dataview.DataViewObject = {}));\r\n            })(dataview = utils.dataview || (utils.dataview = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var dataview;\r\n            (function (dataview) {\r\n                var DataViewObjects;\r\n                (function (DataViewObjects) {\r\n                    /** Gets the value of the given object/property pair. */\r\n                    function getValue(objects, propertyId, defaultValue) {\r\n                        if (!objects) {\r\n                            return defaultValue;\r\n                        }\r\n                        return dataview.DataViewObject.getValue(objects[propertyId.objectName], propertyId.propertyName, defaultValue);\r\n                    }\r\n                    DataViewObjects.getValue = getValue;\r\n                    /** Gets an object from objects. */\r\n                    function getObject(objects, objectName, defaultValue) {\r\n                        if (objects && objects[objectName]) {\r\n                            return objects[objectName];\r\n                        }\r\n                        return defaultValue;\r\n                    }\r\n                    DataViewObjects.getObject = getObject;\r\n                    /** Gets the solid color from a fill property. */\r\n                    function getFillColor(objects, propertyId, defaultColor) {\r\n                        var value = getValue(objects, propertyId);\r\n                        if (!value || !value.solid) {\r\n                            return defaultColor;\r\n                        }\r\n                        return value.solid.color;\r\n                    }\r\n                    DataViewObjects.getFillColor = getFillColor;\r\n                    function getCommonValue(objects, propertyId, defaultValue) {\r\n                        var value = getValue(objects, propertyId, defaultValue);\r\n                        if (value && value.solid) {\r\n                            return value.solid.color;\r\n                        }\r\n                        if (value === undefined\r\n                            || value === null\r\n                            || (typeof value === "object" && !value.solid)) {\r\n                            return defaultValue;\r\n                        }\r\n                        return value;\r\n                    }\r\n                    DataViewObjects.getCommonValue = getCommonValue;\r\n                })(DataViewObjects = dataview.DataViewObjects || (dataview.DataViewObjects = {}));\r\n            })(dataview = utils.dataview || (utils.dataview = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var dataview;\r\n            (function (dataview) {\r\n                // powerbi.extensibility.utils.dataview\r\n                var DataRoleHelper = powerbi.extensibility.utils.dataview.DataRoleHelper;\r\n                var converterHelper;\r\n                (function (converterHelper) {\r\n                    function categoryIsAlsoSeriesRole(dataView, seriesRoleName, categoryRoleName) {\r\n                        if (dataView.categories && dataView.categories.length > 0) {\r\n                            // Need to pivot data if our category soure is a series role\r\n                            var category = dataView.categories[0];\r\n                            return category.source &&\r\n                                DataRoleHelper.hasRole(category.source, seriesRoleName) &&\r\n                                DataRoleHelper.hasRole(category.source, categoryRoleName);\r\n                        }\r\n                        return false;\r\n                    }\r\n                    converterHelper.categoryIsAlsoSeriesRole = categoryIsAlsoSeriesRole;\r\n                    function getSeriesName(source) {\r\n                        return (source.groupName !== undefined)\r\n                            ? source.groupName\r\n                            : source.queryName;\r\n                    }\r\n                    converterHelper.getSeriesName = getSeriesName;\r\n                    function isImageUrlColumn(column) {\r\n                        var misc = getMiscellaneousTypeDescriptor(column);\r\n                        return misc != null && misc.imageUrl === true;\r\n                    }\r\n                    converterHelper.isImageUrlColumn = isImageUrlColumn;\r\n                    function isWebUrlColumn(column) {\r\n                        var misc = getMiscellaneousTypeDescriptor(column);\r\n                        return misc != null && misc.webUrl === true;\r\n                    }\r\n                    converterHelper.isWebUrlColumn = isWebUrlColumn;\r\n                    function getMiscellaneousTypeDescriptor(column) {\r\n                        return column\r\n                            && column.type\r\n                            && column.type.misc;\r\n                    }\r\n                    converterHelper.getMiscellaneousTypeDescriptor = getMiscellaneousTypeDescriptor;\r\n                    function hasImageUrlColumn(dataView) {\r\n                        if (!dataView || !dataView.metadata || !dataView.metadata.columns || !dataView.metadata.columns.length) {\r\n                            return false;\r\n                        }\r\n                        return dataView.metadata.columns.some(function (column) { return isImageUrlColumn(column) === true; });\r\n                    }\r\n                    converterHelper.hasImageUrlColumn = hasImageUrlColumn;\r\n                })(converterHelper = dataview.converterHelper || (dataview.converterHelper = {}));\r\n            })(dataview = utils.dataview || (utils.dataview = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var dataview;\r\n            (function (dataview) {\r\n                var DataViewObjectsParser = (function () {\r\n                    function DataViewObjectsParser() {\r\n                    }\r\n                    DataViewObjectsParser.getDefault = function () {\r\n                        return new this();\r\n                    };\r\n                    DataViewObjectsParser.createPropertyIdentifier = function (objectName, propertyName) {\r\n                        return {\r\n                            objectName: objectName,\r\n                            propertyName: propertyName\r\n                        };\r\n                    };\r\n                    DataViewObjectsParser.parse = function (dataView) {\r\n                        var dataViewObjectParser = this.getDefault(), properties;\r\n                        if (!dataView || !dataView.metadata || !dataView.metadata.objects) {\r\n                            return dataViewObjectParser;\r\n                        }\r\n                        properties = dataViewObjectParser.getProperties();\r\n                        for (var objectName in properties) {\r\n                            for (var propertyName in properties[objectName]) {\r\n                                var defaultValue = dataViewObjectParser[objectName][propertyName];\r\n                                dataViewObjectParser[objectName][propertyName] = dataview.DataViewObjects.getCommonValue(dataView.metadata.objects, properties[objectName][propertyName], defaultValue);\r\n                            }\r\n                        }\r\n                        return dataViewObjectParser;\r\n                    };\r\n                    DataViewObjectsParser.isPropertyEnumerable = function (propertyName) {\r\n                        return !DataViewObjectsParser.InnumerablePropertyPrefix.test(propertyName);\r\n                    };\r\n                    DataViewObjectsParser.enumerateObjectInstances = function (dataViewObjectParser, options) {\r\n                        var dataViewProperties = dataViewObjectParser && dataViewObjectParser[options.objectName];\r\n                        if (!dataViewProperties) {\r\n                            return [];\r\n                        }\r\n                        var instance = {\r\n                            objectName: options.objectName,\r\n                            selector: null,\r\n                            properties: {}\r\n                        };\r\n                        for (var key in dataViewProperties) {\r\n                            if (dataViewProperties.hasOwnProperty(key)) {\r\n                                instance.properties[key] = dataViewProperties[key];\r\n                            }\r\n                        }\r\n                        return {\r\n                            instances: [instance]\r\n                        };\r\n                    };\r\n                    DataViewObjectsParser.prototype.getProperties = function () {\r\n                        var _this = this;\r\n                        var properties = {}, objectNames = Object.keys(this);\r\n                        objectNames.forEach(function (objectName) {\r\n                            if (DataViewObjectsParser.isPropertyEnumerable(objectName)) {\r\n                                var propertyNames = Object.keys(_this[objectName]);\r\n                                properties[objectName] = {};\r\n                                propertyNames.forEach(function (propertyName) {\r\n                                    if (DataViewObjectsParser.isPropertyEnumerable(objectName)) {\r\n                                        properties[objectName][propertyName] =\r\n                                            DataViewObjectsParser.createPropertyIdentifier(objectName, propertyName);\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n                        return properties;\r\n                    };\r\n                    return DataViewObjectsParser;\r\n                }());\r\n                DataViewObjectsParser.InnumerablePropertyPrefix = /^_/;\r\n                dataview.DataViewObjectsParser = DataViewObjectsParser;\r\n            })(dataview = utils.dataview || (utils.dataview = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n'},function(t,e){t.exports='var __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n// Custom implementation of Globalize from PowerView team\r\n// The public implementation from https://github.com/borisyankov/DefinitelyTyped/tree/master/globalize doesn\'t work\r\n"use strict";\r\n/* tslint:disable:no-var-keyword */\r\nvar Globalize = Globalize || window["Globalize"];\r\n/* tslint:enable */\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var LocalStorageService = (function () {\r\n                    function LocalStorageService() {\r\n                    }\r\n                    LocalStorageService.prototype.getData = function (key) {\r\n                        try {\r\n                            if (localStorage) {\r\n                                var value = localStorage[key];\r\n                                if (value) {\r\n                                    return JSON.parse(value);\r\n                                }\r\n                            }\r\n                        }\r\n                        catch (exception) { }\r\n                        return null;\r\n                    };\r\n                    LocalStorageService.prototype.setData = function (key, data) {\r\n                        try {\r\n                            if (localStorage) {\r\n                                localStorage[key] = JSON.stringify(data);\r\n                            }\r\n                        }\r\n                        catch (e) { }\r\n                    };\r\n                    return LocalStorageService;\r\n                }());\r\n                formatting.LocalStorageService = LocalStorageService;\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var EphemeralStorageService = (function () {\r\n                    function EphemeralStorageService(clearCacheInterval) {\r\n                        this.cache = {};\r\n                        this.clearCacheInterval = (clearCacheInterval != null)\r\n                            ? clearCacheInterval\r\n                            : EphemeralStorageService.defaultClearCacheInterval;\r\n                        this.clearCache();\r\n                    }\r\n                    EphemeralStorageService.prototype.getData = function (key) {\r\n                        return this.cache[key];\r\n                    };\r\n                    EphemeralStorageService.prototype.setData = function (key, data) {\r\n                        var _this = this;\r\n                        this.cache[key] = data;\r\n                        if (this.clearCacheTimerId == null) {\r\n                            this.clearCacheTimerId = setTimeout(function () { return _this.clearCache(); }, this.clearCacheInterval);\r\n                        }\r\n                    };\r\n                    EphemeralStorageService.prototype.clearCache = function () {\r\n                        this.cache = {};\r\n                        this.clearCacheTimerId = undefined;\r\n                    };\r\n                    return EphemeralStorageService;\r\n                }());\r\n                EphemeralStorageService.defaultClearCacheInterval = (1000 * 60 * 60 * 24); // 1 day\r\n                formatting.EphemeralStorageService = EphemeralStorageService;\r\n                formatting.ephemeralStorageService = new EphemeralStorageService();\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                /**\r\n                 * Extensions to String class.\r\n                 */\r\n                var stringExtensions;\r\n                (function (stringExtensions) {\r\n                    var HtmlTagRegex = new RegExp("[<>]", "g");\r\n                    /**\r\n                     * Checks if a string ends with a sub-string.\r\n                     */\r\n                    function endsWith(str, suffix) {\r\n                        return str.indexOf(suffix, str.length - suffix.length) !== -1;\r\n                    }\r\n                    stringExtensions.endsWith = endsWith;\r\n                    function format() {\r\n                        var args = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            args[_i] = arguments[_i];\r\n                        }\r\n                        var s = args[0];\r\n                        if (isNullOrUndefinedOrWhiteSpaceString(s))\r\n                            return s;\r\n                        for (var i = 0; i < args.length - 1; i++) {\r\n                            var reg = new RegExp("\\\\{" + i + "\\\\}", "gm");\r\n                            s = s.replace(reg, args[i + 1]);\r\n                        }\r\n                        return s;\r\n                    }\r\n                    stringExtensions.format = format;\r\n                    /**\r\n                     * Compares two strings for equality, ignoring case.\r\n                     */\r\n                    function equalIgnoreCase(a, b) {\r\n                        return stringExtensions.normalizeCase(a) === stringExtensions.normalizeCase(b);\r\n                    }\r\n                    stringExtensions.equalIgnoreCase = equalIgnoreCase;\r\n                    function startsWithIgnoreCase(a, b) {\r\n                        var normalizedSearchString = stringExtensions.normalizeCase(b);\r\n                        return stringExtensions.normalizeCase(a).indexOf(normalizedSearchString) === 0;\r\n                    }\r\n                    stringExtensions.startsWithIgnoreCase = startsWithIgnoreCase;\r\n                    function startsWith(a, b) {\r\n                        return a.indexOf(b) === 0;\r\n                    }\r\n                    stringExtensions.startsWith = startsWith;\r\n                    /** Determines whether a string contains a specified substring (by case-sensitive comparison). */\r\n                    function contains(source, substring) {\r\n                        if (source == null)\r\n                            return false;\r\n                        return source.indexOf(substring) !== -1;\r\n                    }\r\n                    stringExtensions.contains = contains;\r\n                    /** Determines whether a string contains a specified substring (while ignoring case). */\r\n                    function containsIgnoreCase(source, substring) {\r\n                        if (source == null)\r\n                            return false;\r\n                        return contains(normalizeCase(source), normalizeCase(substring));\r\n                    }\r\n                    stringExtensions.containsIgnoreCase = containsIgnoreCase;\r\n                    /**\r\n                     * Normalizes case for a string.\r\n                     * Used by equalIgnoreCase method.\r\n                     */\r\n                    function normalizeCase(value) {\r\n                        return value.toUpperCase();\r\n                    }\r\n                    stringExtensions.normalizeCase = normalizeCase;\r\n                    /**\r\n                     * Receives a string and returns an ArrayBuffer of its characters.\r\n                     * @return An ArrayBuffer of the string\'s characters.\r\n                     * If the string is empty or null or undefined - returns null.\r\n                     */\r\n                    function stringToArrayBuffer(str) {\r\n                        if (isNullOrEmpty(str)) {\r\n                            return null;\r\n                        }\r\n                        var buffer = new ArrayBuffer(str.length);\r\n                        var bufferView = new Uint8Array(buffer);\r\n                        for (var i = 0, strLen = str.length; i < strLen; i++) {\r\n                            bufferView[i] = str.charCodeAt(i);\r\n                        }\r\n                        return bufferView;\r\n                    }\r\n                    stringExtensions.stringToArrayBuffer = stringToArrayBuffer;\r\n                    /**\r\n                     * Is string null or empty or undefined?\r\n                     * @return True if the value is null or undefined or empty string,\r\n                     * otherwise false.\r\n                     */\r\n                    function isNullOrEmpty(value) {\r\n                        return (value == null) || (value.length === 0);\r\n                    }\r\n                    stringExtensions.isNullOrEmpty = isNullOrEmpty;\r\n                    /**\r\n                     * Returns true if the string is null, undefined, empty, or only includes white spaces.\r\n                     * @return True if the str is null, undefined, empty, or only includes white spaces,\r\n                     * otherwise false.\r\n                     */\r\n                    function isNullOrUndefinedOrWhiteSpaceString(str) {\r\n                        return stringExtensions.isNullOrEmpty(str) || stringExtensions.isNullOrEmpty(str.trim());\r\n                    }\r\n                    stringExtensions.isNullOrUndefinedOrWhiteSpaceString = isNullOrUndefinedOrWhiteSpaceString;\r\n                    /**\r\n                     * Returns a value indicating whether the str contains any whitespace.\r\n                     */\r\n                    function containsWhitespace(str) {\r\n                        var expr = /\\s/;\r\n                        return expr.test(str);\r\n                    }\r\n                    stringExtensions.containsWhitespace = containsWhitespace;\r\n                    /**\r\n                     * Returns a value indicating whether the str is a whitespace string.\r\n                     */\r\n                    function isWhitespace(str) {\r\n                        return str.trim() === "";\r\n                    }\r\n                    stringExtensions.isWhitespace = isWhitespace;\r\n                    /**\r\n                     * Returns the string with any trailing whitespace from str removed.\r\n                     */\r\n                    function trimTrailingWhitespace(str) {\r\n                        return str.replace(/\\s+$/, "");\r\n                    }\r\n                    stringExtensions.trimTrailingWhitespace = trimTrailingWhitespace;\r\n                    /**\r\n                     * Returns the string with any leading and trailing whitespace from str removed.\r\n                     */\r\n                    function trimWhitespace(str) {\r\n                        return str.replace(/^\\s+/, "").replace(/\\s+$/, "");\r\n                    }\r\n                    stringExtensions.trimWhitespace = trimWhitespace;\r\n                    /**\r\n                     * Returns length difference between the two provided strings.\r\n                     */\r\n                    function getLengthDifference(left, right) {\r\n                        return Math.abs(left.length - right.length);\r\n                    }\r\n                    stringExtensions.getLengthDifference = getLengthDifference;\r\n                    /**\r\n                     * Repeat char or string several times.\r\n                     * @param char The string to repeat.\r\n                     * @param count How many times to repeat the string.\r\n                     */\r\n                    function repeat(char, count) {\r\n                        var result = "";\r\n                        for (var i = 0; i < count; i++) {\r\n                            result += char;\r\n                        }\r\n                        return result;\r\n                    }\r\n                    stringExtensions.repeat = repeat;\r\n                    /**\r\n                     * Replace all the occurrences of the textToFind in the text with the textToReplace.\r\n                     * @param text The original string.\r\n                     * @param textToFind Text to find in the original string.\r\n                     * @param textToReplace New text replacing the textToFind.\r\n                     */\r\n                    function replaceAll(text, textToFind, textToReplace) {\r\n                        if (!textToFind)\r\n                            return text;\r\n                        var pattern = escapeStringForRegex(textToFind);\r\n                        return text.replace(new RegExp(pattern, "gi"), textToReplace);\r\n                    }\r\n                    stringExtensions.replaceAll = replaceAll;\r\n                    function ensureUniqueNames(names) {\r\n                        var usedNames = {};\r\n                        // Make sure we are giving fair chance for all columns to stay with their original name\r\n                        // First we fill the used names map to contain all the original unique names from the list.\r\n                        for (var _i = 0, names_1 = names; _i < names_1.length; _i++) {\r\n                            var name_1 = names_1[_i];\r\n                            usedNames[name_1] = false;\r\n                        }\r\n                        var uniqueNames = [];\r\n                        // Now we go over all names and find a unique name for each\r\n                        for (var _a = 0, names_2 = names; _a < names_2.length; _a++) {\r\n                            var name_2 = names_2[_a];\r\n                            var uniqueName = name_2;\r\n                            // If the (original) column name is already taken lets try to find another name\r\n                            if (usedNames[uniqueName]) {\r\n                                var counter = 0;\r\n                                // Find a name that is not already in the map\r\n                                while (usedNames[uniqueName] !== undefined) {\r\n                                    uniqueName = name_2 + "." + (++counter);\r\n                                }\r\n                            }\r\n                            uniqueNames.push(uniqueName);\r\n                            usedNames[uniqueName] = true;\r\n                        }\r\n                        return uniqueNames;\r\n                    }\r\n                    stringExtensions.ensureUniqueNames = ensureUniqueNames;\r\n                    /**\r\n                     * Returns a name that is not specified in the values.\r\n                     */\r\n                    function findUniqueName(usedNames, baseName) {\r\n                        // Find a unique name\r\n                        var i = 0, uniqueName = baseName;\r\n                        while (usedNames[uniqueName]) {\r\n                            uniqueName = baseName + (++i);\r\n                        }\r\n                        return uniqueName;\r\n                    }\r\n                    stringExtensions.findUniqueName = findUniqueName;\r\n                    function constructNameFromList(list, separator, maxCharacter) {\r\n                        var labels = [];\r\n                        var exceeded;\r\n                        var length = 0;\r\n                        for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {\r\n                            var item = list_1[_i];\r\n                            if (length + item.length > maxCharacter && labels.length > 0) {\r\n                                exceeded = true;\r\n                                break;\r\n                            }\r\n                            labels.push(item);\r\n                            length += item.length;\r\n                        }\r\n                        var separatorWithSpace = " " + separator + " ";\r\n                        var name = labels.join(separatorWithSpace);\r\n                        if (exceeded)\r\n                            name += separatorWithSpace + "...";\r\n                        return name;\r\n                    }\r\n                    stringExtensions.constructNameFromList = constructNameFromList;\r\n                    function escapeStringForRegex(s) {\r\n                        return s.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, "\\\\$1");\r\n                    }\r\n                    stringExtensions.escapeStringForRegex = escapeStringForRegex;\r\n                    /**\r\n                     * Remove file name reserved characters <>:"/\\|?* from input string.\r\n                     */\r\n                    function normalizeFileName(fileName) {\r\n                        return fileName.replace(/[\\<\\>\\:"\\/\\\\\\|\\?*]/g, "");\r\n                    }\r\n                    stringExtensions.normalizeFileName = normalizeFileName;\r\n                    /**\r\n                     * Similar to JSON.stringify, but strips away escape sequences so that the resulting\r\n                     * string is human-readable (and parsable by JSON formatting/validating tools).\r\n                     */\r\n                    function stringifyAsPrettyJSON(object) {\r\n                        // let specialCharacterRemover = (key: string, value: string) => value.replace(/[^\\w\\s]/gi, "");\r\n                        return JSON.stringify(object /*, specialCharacterRemover*/);\r\n                    }\r\n                    stringExtensions.stringifyAsPrettyJSON = stringifyAsPrettyJSON;\r\n                    /**\r\n                     * Derive a CLS-compliant name from a specified string.  If no allowed characters are present, return a fallback string instead.\r\n                     * TODO (6708134): this should have a fully Unicode-aware implementation\r\n                     */\r\n                    function deriveClsCompliantName(input, fallback) {\r\n                        var result = input.replace(/^[^A-Za-z]*/g, "").replace(/[ :\\.\\/\\\\\\-\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]/g, "_").replace(/[\\W]/g, "");\r\n                        return result.length > 0 ? result : fallback;\r\n                    }\r\n                    stringExtensions.deriveClsCompliantName = deriveClsCompliantName;\r\n                    /** Performs cheap sanitization by stripping away HTML tag (<>) characters. */\r\n                    function stripTagDelimiters(s) {\r\n                        return s.replace(HtmlTagRegex, "");\r\n                    }\r\n                    stringExtensions.stripTagDelimiters = stripTagDelimiters;\r\n                })(stringExtensions = formatting.stringExtensions || (formatting.stringExtensions = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var wordBreaker;\r\n                (function (wordBreaker) {\r\n                    var SPACE = " ";\r\n                    var BREAKERS_REGEX = /[\\s\\n]+/g;\r\n                    function search(index, content, backward) {\r\n                        if (backward) {\r\n                            for (var i = index - 1; i > -1; i--) {\r\n                                if (hasBreakers(content[i]))\r\n                                    return i + 1;\r\n                            }\r\n                        }\r\n                        else {\r\n                            for (var i = index, ilen = content.length; i < ilen; i++) {\r\n                                if (hasBreakers(content[i]))\r\n                                    return i;\r\n                            }\r\n                        }\r\n                        return backward ? 0 : content.length;\r\n                    }\r\n                    /**\r\n                     * Find the word nearest the cursor specified within content\r\n                     * @param index - point within content to search forward/backward from\r\n                     * @param content - string to search\r\n                    */\r\n                    function find(index, content) {\r\n                        var result = { start: 0, end: 0 };\r\n                        if (content.length === 0) {\r\n                            return result;\r\n                        }\r\n                        result.start = search(index, content, true);\r\n                        result.end = search(index, content, false);\r\n                        return result;\r\n                    }\r\n                    wordBreaker.find = find;\r\n                    /**\r\n                     * Test for presence of breakers within content\r\n                     * @param content - string to test\r\n                    */\r\n                    function hasBreakers(content) {\r\n                        BREAKERS_REGEX.lastIndex = 0;\r\n                        return BREAKERS_REGEX.test(content);\r\n                    }\r\n                    wordBreaker.hasBreakers = hasBreakers;\r\n                    /**\r\n                     * Count the number of pieces when broken by BREAKERS_REGEX\r\n                     * ~2.7x faster than WordBreaker.split(content).length\r\n                     * @param content - string to break and count\r\n                    */\r\n                    function wordCount(content) {\r\n                        var count = 1;\r\n                        BREAKERS_REGEX.lastIndex = 0;\r\n                        BREAKERS_REGEX.exec(content);\r\n                        while (BREAKERS_REGEX.lastIndex !== 0) {\r\n                            count++;\r\n                            BREAKERS_REGEX.exec(content);\r\n                        }\r\n                        return count;\r\n                    }\r\n                    wordBreaker.wordCount = wordCount;\r\n                    function getMaxWordWidth(content, textWidthMeasurer, properties) {\r\n                        var words = split(content);\r\n                        var maxWidth = 0;\r\n                        for (var _i = 0, words_1 = words; _i < words_1.length; _i++) {\r\n                            var w = words_1[_i];\r\n                            properties.text = w;\r\n                            maxWidth = Math.max(maxWidth, textWidthMeasurer(properties));\r\n                        }\r\n                        return maxWidth;\r\n                    }\r\n                    wordBreaker.getMaxWordWidth = getMaxWordWidth;\r\n                    function split(content) {\r\n                        return content.split(BREAKERS_REGEX);\r\n                    }\r\n                    function getWidth(content, properties, textWidthMeasurer) {\r\n                        properties.text = content;\r\n                        return textWidthMeasurer(properties);\r\n                    }\r\n                    function truncate(content, properties, truncator, maxWidth) {\r\n                        properties.text = content;\r\n                        return truncator(properties, maxWidth);\r\n                    }\r\n                    /**\r\n                     * Split content by breakers (words) and greedy fit as many words\r\n                     * into each index in the result based on max width and number of lines\r\n                     * e.g. Each index in result corresponds to a line of content\r\n                     *      when used by AxisHelper.LabelLayoutStrategy.wordBreak\r\n                     * @param content - string to split\r\n                     * @param properties - text properties to be used by @param:textWidthMeasurer\r\n                     * @param textWidthMeasurer - function to calculate width of given text content\r\n                     * @param maxWidth - maximum allowed width of text content in each result\r\n                     * @param maxNumLines - maximum number of results we will allow, valid values must be greater than 0\r\n                     * @param truncator - (optional) if specified, used as a function to truncate content to a given width\r\n                    */\r\n                    function splitByWidth(content, properties, textWidthMeasurer, maxWidth, maxNumLines, truncator) {\r\n                        // Default truncator returns string as-is\r\n                        truncator = truncator ? truncator : function (properties, maxWidth) { return properties.text; };\r\n                        var result = [];\r\n                        var words = split(content);\r\n                        var usedWidth = 0;\r\n                        var wordsInLine = [];\r\n                        for (var _i = 0, words_2 = words; _i < words_2.length; _i++) {\r\n                            var word = words_2[_i];\r\n                            // Last line? Just add whatever is left\r\n                            if ((maxNumLines > 0) && (result.length >= maxNumLines - 1)) {\r\n                                wordsInLine.push(word);\r\n                                continue;\r\n                            }\r\n                            // Determine width if we add this word\r\n                            // Account for SPACE we will add when joining...\r\n                            var wordWidth = wordsInLine.length === 0\r\n                                ? getWidth(word, properties, textWidthMeasurer)\r\n                                : getWidth(SPACE + word, properties, textWidthMeasurer);\r\n                            // If width would exceed max width,\r\n                            // then push used words and start new split result\r\n                            if (usedWidth + wordWidth > maxWidth) {\r\n                                // Word alone exceeds max width, just add it.\r\n                                if (wordsInLine.length === 0) {\r\n                                    result.push(truncate(word, properties, truncator, maxWidth));\r\n                                    usedWidth = 0;\r\n                                    wordsInLine = [];\r\n                                    continue;\r\n                                }\r\n                                result.push(truncate(wordsInLine.join(SPACE), properties, truncator, maxWidth));\r\n                                usedWidth = 0;\r\n                                wordsInLine = [];\r\n                            }\r\n                            // ...otherwise, add word and continue\r\n                            wordsInLine.push(word);\r\n                            usedWidth += wordWidth;\r\n                        }\r\n                        // Push remaining words onto result (if any)\r\n                        if (wordsInLine && wordsInLine.length) {\r\n                            result.push(truncate(wordsInLine.join(SPACE), properties, truncator, maxWidth));\r\n                        }\r\n                        return result;\r\n                    }\r\n                    wordBreaker.splitByWidth = splitByWidth;\r\n                })(wordBreaker = formatting.wordBreaker || (formatting.wordBreaker = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                /** Enumeration of DateTimeUnits */\r\n                var DateTimeUnit;\r\n                (function (DateTimeUnit) {\r\n                    DateTimeUnit[DateTimeUnit["Year"] = 0] = "Year";\r\n                    DateTimeUnit[DateTimeUnit["Month"] = 1] = "Month";\r\n                    DateTimeUnit[DateTimeUnit["Week"] = 2] = "Week";\r\n                    DateTimeUnit[DateTimeUnit["Day"] = 3] = "Day";\r\n                    DateTimeUnit[DateTimeUnit["Hour"] = 4] = "Hour";\r\n                    DateTimeUnit[DateTimeUnit["Minute"] = 5] = "Minute";\r\n                    DateTimeUnit[DateTimeUnit["Second"] = 6] = "Second";\r\n                    DateTimeUnit[DateTimeUnit["Millisecond"] = 7] = "Millisecond";\r\n                })(DateTimeUnit = formatting.DateTimeUnit || (formatting.DateTimeUnit = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                // powerbi.extensibility.utils.type\r\n                var PixelConverter = powerbi.extensibility.utils.type.PixelConverter;\r\n                var Prototype = powerbi.extensibility.utils.type.Prototype;\r\n                // powerbi.extensibility.utils.formatting\r\n                var wordBreaker = powerbi.extensibility.utils.formatting.wordBreaker;\r\n                var textMeasurementService;\r\n                (function (textMeasurementService) {\r\n                    var ellipsis = "...";\r\n                    var spanElement;\r\n                    var svgTextElement;\r\n                    var canvasCtx;\r\n                    var fallbackFontFamily;\r\n                    /**\r\n                     * Idempotent function for adding the elements to the DOM.\r\n                     */\r\n                    function ensureDOM() {\r\n                        if (spanElement) {\r\n                            return;\r\n                        }\r\n                        spanElement = document.createElement("span");\r\n                        document.body.appendChild(spanElement);\r\n                        // The style hides the svg element from the canvas, preventing canvas from scrolling down to show svg black square.\r\n                        var svgElement = document.createElementNS("http://www.w3.org/2000/svg", "svg");\r\n                        svgElement.setAttribute("height", "0");\r\n                        svgElement.setAttribute("width", "0");\r\n                        svgElement.setAttribute("position", "absolute");\r\n                        svgTextElement = document.createElementNS("http://www.w3.org/2000/svg", "text");\r\n                        svgElement.appendChild(svgTextElement);\r\n                        document.body.appendChild(svgElement);\r\n                        var canvasElement = document.createElement("canvas");\r\n                        canvasCtx = canvasElement.getContext("2d");\r\n                        var style = window.getComputedStyle(svgTextElement);\r\n                        if (style) {\r\n                            fallbackFontFamily = style.fontFamily;\r\n                        }\r\n                        else {\r\n                            fallbackFontFamily = "";\r\n                        }\r\n                    }\r\n                    /**\r\n                     * Removes spanElement from DOM.\r\n                     */\r\n                    function removeSpanElement() {\r\n                        if (spanElement && spanElement.remove) {\r\n                            spanElement.remove();\r\n                        }\r\n                        spanElement = null;\r\n                    }\r\n                    textMeasurementService.removeSpanElement = removeSpanElement;\r\n                    /**\r\n                     * This method measures the width of the text with the given SVG text properties.\r\n                     * @param textProperties The text properties to use for text measurement.\r\n                     * @param text The text to measure.\r\n                     */\r\n                    function measureSvgTextWidth(textProperties, text) {\r\n                        ensureDOM();\r\n                        canvasCtx.font =\r\n                            (textProperties.fontStyle || "") + " " +\r\n                                (textProperties.fontVariant || "") + " " +\r\n                                (textProperties.fontWeight || "") + " " +\r\n                                textProperties.fontSize + " " +\r\n                                (textProperties.fontFamily || fallbackFontFamily);\r\n                        return canvasCtx.measureText(text || textProperties.text).width;\r\n                    }\r\n                    textMeasurementService.measureSvgTextWidth = measureSvgTextWidth;\r\n                    /**\r\n                     * This method return the rect with the given SVG text properties.\r\n                     * @param textProperties The text properties to use for text measurement.\r\n                     * @param text The text to measure.\r\n                     */\r\n                    function measureSvgTextRect(textProperties, text) {\r\n                        ensureDOM();\r\n                        svgTextElement.setAttribute("style", null);\r\n                        svgTextElement.style.visibility = "hidden";\r\n                        svgTextElement.style.fontFamily = textProperties.fontFamily || fallbackFontFamily;\r\n                        svgTextElement.style.fontVariant = textProperties.fontVariant;\r\n                        svgTextElement.style.fontSize = textProperties.fontSize;\r\n                        svgTextElement.style.fontWeight = textProperties.fontWeight;\r\n                        svgTextElement.style.fontStyle = textProperties.fontStyle;\r\n                        svgTextElement.style.whiteSpace = textProperties.whiteSpace || "nowrap";\r\n                        svgTextElement.appendChild(document.createTextNode(text || textProperties.text));\r\n                        // We\'re expecting the browser to give a synchronous measurement here\r\n                        // We\'re using SVGTextElement because it works across all browsers\r\n                        return svgTextElement.getBBox();\r\n                    }\r\n                    textMeasurementService.measureSvgTextRect = measureSvgTextRect;\r\n                    /**\r\n                     * This method measures the height of the text with the given SVG text properties.\r\n                     * @param textProperties The text properties to use for text measurement.\r\n                     * @param text The text to measure.\r\n                     */\r\n                    function measureSvgTextHeight(textProperties, text) {\r\n                        return measureSvgTextRect(textProperties, text).height;\r\n                    }\r\n                    textMeasurementService.measureSvgTextHeight = measureSvgTextHeight;\r\n                    /**\r\n                     * This method returns the text Rect with the given SVG text properties.\r\n                     * Does NOT return text width; obliterates text value\r\n                     * @param {TextProperties} textProperties - The text properties to use for text measurement\r\n                     */\r\n                    function estimateSvgTextRect(textProperties) {\r\n                        var propertiesKey = textProperties.fontFamily + textProperties.fontSize;\r\n                        var rect = formatting.ephemeralStorageService.getData(propertiesKey);\r\n                        if (rect == null) {\r\n                            // To estimate we check the height of a particular character, once it is cached, subsequent\r\n                            // calls should always get the height from the cache (regardless of the text).\r\n                            var estimatedTextProperties = {\r\n                                fontFamily: textProperties.fontFamily,\r\n                                fontSize: textProperties.fontSize,\r\n                                text: "M",\r\n                            };\r\n                            rect = textMeasurementService.measureSvgTextRect(estimatedTextProperties);\r\n                            // NOTE: In some cases (disconnected/hidden DOM) we may provide incorrect measurement results (zero sized bounding-box), so\r\n                            // we only store values in the cache if we are confident they are correct.\r\n                            if (rect.height > 0)\r\n                                formatting.ephemeralStorageService.setData(propertiesKey, rect);\r\n                        }\r\n                        return rect;\r\n                    }\r\n                    /**\r\n                     * This method returns the text Rect with the given SVG text properties.\r\n                     * @param {TextProperties} textProperties - The text properties to use for text measurement\r\n                     */\r\n                    function estimateSvgTextBaselineDelta(textProperties) {\r\n                        var rect = estimateSvgTextRect(textProperties);\r\n                        return rect.y + rect.height;\r\n                    }\r\n                    textMeasurementService.estimateSvgTextBaselineDelta = estimateSvgTextBaselineDelta;\r\n                    /**\r\n                     * This method estimates the height of the text with the given SVG text properties.\r\n                     * @param {TextProperties} textProperties - The text properties to use for text measurement\r\n                     */\r\n                    function estimateSvgTextHeight(textProperties, tightFightForNumeric) {\r\n                        if (tightFightForNumeric === void 0) { tightFightForNumeric = false; }\r\n                        var height = estimateSvgTextRect(textProperties).height;\r\n                        // TODO: replace it with new baseline calculation\r\n                        if (tightFightForNumeric)\r\n                            height *= 0.7;\r\n                        return height;\r\n                    }\r\n                    textMeasurementService.estimateSvgTextHeight = estimateSvgTextHeight;\r\n                    /**\r\n                     * This method measures the width of the svgElement.\r\n                     * @param svgElement The SVGTextElement to be measured.\r\n                     */\r\n                    function measureSvgTextElementWidth(svgElement) {\r\n                        return measureSvgTextWidth(getSvgMeasurementProperties(svgElement));\r\n                    }\r\n                    textMeasurementService.measureSvgTextElementWidth = measureSvgTextElementWidth;\r\n                    /**\r\n                     * This method fetches the text measurement properties of the given DOM element.\r\n                     * @param element The selector for the DOM Element.\r\n                     */\r\n                    function getMeasurementProperties(element) {\r\n                        var style = window.getComputedStyle(element);\r\n                        return {\r\n                            text: element.value || element.textContent,\r\n                            fontFamily: style.fontFamily,\r\n                            fontSize: style.fontSize,\r\n                            fontWeight: style.fontWeight,\r\n                            fontStyle: style.fontStyle,\r\n                            fontVariant: style.fontVariant,\r\n                            whiteSpace: style.whiteSpace\r\n                        };\r\n                    }\r\n                    textMeasurementService.getMeasurementProperties = getMeasurementProperties;\r\n                    /**\r\n                     * This method fetches the text measurement properties of the given SVG text element.\r\n                     * @param element The SVGTextElement to be measured.\r\n                     */\r\n                    function getSvgMeasurementProperties(element) {\r\n                        var style = window.getComputedStyle(element);\r\n                        if (style) {\r\n                            return {\r\n                                text: element.textContent,\r\n                                fontFamily: style.fontFamily,\r\n                                fontSize: style.fontSize,\r\n                                fontWeight: style.fontWeight,\r\n                                fontStyle: style.fontStyle,\r\n                                fontVariant: style.fontVariant,\r\n                                whiteSpace: style.whiteSpace\r\n                            };\r\n                        }\r\n                        else {\r\n                            return {\r\n                                text: element.textContent,\r\n                                fontFamily: "",\r\n                                fontSize: "0",\r\n                            };\r\n                        }\r\n                    }\r\n                    textMeasurementService.getSvgMeasurementProperties = getSvgMeasurementProperties;\r\n                    /**\r\n                     * This method returns the width of a div element.\r\n                     * @param element The div element.\r\n                     */\r\n                    function getDivElementWidth(element) {\r\n                        var style = window.getComputedStyle(element);\r\n                        if (style)\r\n                            return style.width;\r\n                        else\r\n                            return "0";\r\n                    }\r\n                    textMeasurementService.getDivElementWidth = getDivElementWidth;\r\n                    /**\r\n                     * Compares labels text size to the available size and renders ellipses when the available size is smaller.\r\n                     * @param textProperties The text properties (including text content) to use for text measurement.\r\n                     * @param maxWidth The maximum width available for rendering the text.\r\n                     */\r\n                    function getTailoredTextOrDefault(textProperties, maxWidth) {\r\n                        ensureDOM();\r\n                        var strLength = textProperties.text.length;\r\n                        if (strLength === 0) {\r\n                            return textProperties.text;\r\n                        }\r\n                        var width = measureSvgTextWidth(textProperties);\r\n                        if (width < maxWidth) {\r\n                            return textProperties.text;\r\n                        }\r\n                        // Create a copy of the textProperties so we don\'t modify the one that\'s passed in.\r\n                        var copiedTextProperties = Prototype.inherit(textProperties);\r\n                        // Take the properties and apply them to svgTextElement\r\n                        // Then, do the binary search to figure out the substring we want\r\n                        // Set the substring on textElement argument\r\n                        var text = copiedTextProperties.text = ellipsis + copiedTextProperties.text;\r\n                        var min = 1;\r\n                        var max = text.length;\r\n                        var i = ellipsis.length;\r\n                        while (min <= max) {\r\n                            // num | 0 prefered to Math.floor(num) for performance benefits\r\n                            i = (min + max) / 2 | 0;\r\n                            copiedTextProperties.text = text.substr(0, i);\r\n                            width = measureSvgTextWidth(copiedTextProperties);\r\n                            if (maxWidth > width) {\r\n                                min = i + 1;\r\n                            }\r\n                            else if (maxWidth < width) {\r\n                                max = i - 1;\r\n                            }\r\n                            else {\r\n                                break;\r\n                            }\r\n                        }\r\n                        // Since the search algorithm almost never finds an exact match,\r\n                        // it will pick one of the closest two, which could result in a\r\n                        // value bigger with than \'maxWidth\' thus we need to go back by\r\n                        // one to guarantee a smaller width than \'maxWidth\'.\r\n                        copiedTextProperties.text = text.substr(0, i);\r\n                        width = measureSvgTextWidth(copiedTextProperties);\r\n                        if (width > maxWidth) {\r\n                            i--;\r\n                        }\r\n                        return text.substr(ellipsis.length, i - ellipsis.length) + ellipsis;\r\n                    }\r\n                    textMeasurementService.getTailoredTextOrDefault = getTailoredTextOrDefault;\r\n                    /**\r\n                     * Compares labels text size to the available size and renders ellipses when the available size is smaller.\r\n                     * @param textElement The SVGTextElement containing the text to render.\r\n                     * @param maxWidth The maximum width available for rendering the text.\r\n                     */\r\n                    function svgEllipsis(textElement, maxWidth) {\r\n                        var properties = getSvgMeasurementProperties(textElement);\r\n                        var originalText = properties.text;\r\n                        var tailoredText = getTailoredTextOrDefault(properties, maxWidth);\r\n                        if (originalText !== tailoredText) {\r\n                            textElement.textContent = tailoredText;\r\n                        }\r\n                    }\r\n                    textMeasurementService.svgEllipsis = svgEllipsis;\r\n                    /**\r\n                     * Word break textContent of <text> SVG element into <tspan>s\r\n                     * Each tspan will be the height of a single line of text\r\n                     * @param textElement - the SVGTextElement containing the text to wrap\r\n                     * @param maxWidth - the maximum width available\r\n                     * @param maxHeight - the maximum height available (defaults to single line)\r\n                     * @param linePadding - (optional) padding to add to line height\r\n                     */\r\n                    function wordBreak(textElement, maxWidth, maxHeight, linePadding) {\r\n                        if (linePadding === void 0) { linePadding = 0; }\r\n                        var properties = getSvgMeasurementProperties(textElement);\r\n                        var height = estimateSvgTextHeight(properties) + linePadding;\r\n                        var maxNumLines = Math.max(1, Math.floor(maxHeight / height));\r\n                        // Save y of parent textElement to apply as first tspan dy\r\n                        var firstDY = textElement ? textElement.getAttribute("y") : null;\r\n                        // Store and clear text content\r\n                        var labelText = textElement ? textElement.textContent : null;\r\n                        textElement.textContent = null;\r\n                        // Append a tspan for each word broken section\r\n                        var words = wordBreaker.splitByWidth(labelText, properties, measureSvgTextWidth, maxWidth, maxNumLines);\r\n                        var fragment = document.createDocumentFragment();\r\n                        for (var i = 0, ilen = words.length; i < ilen; i++) {\r\n                            var dy = i === 0 ? firstDY : height;\r\n                            properties.text = words[i];\r\n                            var textElement_1 = document.createElementNS("http://www.w3.org/2000/svg", "tspan");\r\n                            textElement_1.setAttribute("x", "0");\r\n                            textElement_1.setAttribute("dy", dy ? dy.toString() : null);\r\n                            textElement_1.appendChild(document.createTextNode(getTailoredTextOrDefault(properties, maxWidth)));\r\n                            fragment.appendChild(textElement_1);\r\n                        }\r\n                        textElement.appendChild(fragment);\r\n                    }\r\n                    textMeasurementService.wordBreak = wordBreak;\r\n                    /**\r\n                     * Word break textContent of span element into <span>s\r\n                     * Each span will be the height of a single line of text\r\n                     * @param textElement - the element containing the text to wrap\r\n                     * @param maxWidth - the maximum width available\r\n                     * @param maxHeight - the maximum height available (defaults to single line)\r\n                     * @param linePadding - (optional) padding to add to line height\r\n                     */\r\n                    function wordBreakOverflowingText(textElement, maxWidth, maxHeight, linePadding) {\r\n                        if (linePadding === void 0) { linePadding = 0; }\r\n                        var properties = getSvgMeasurementProperties(textElement);\r\n                        var height = estimateSvgTextHeight(properties) + linePadding;\r\n                        var maxNumLines = Math.max(1, Math.floor(maxHeight / height));\r\n                        // Store and clear text content\r\n                        var labelText = textElement.textContent;\r\n                        textElement.textContent = null;\r\n                        // Append a span for each word broken section\r\n                        var words = wordBreaker.splitByWidth(labelText, properties, measureSvgTextWidth, maxWidth, maxNumLines);\r\n                        var fragment = document.createDocumentFragment();\r\n                        for (var i = 0; i < words.length; i++) {\r\n                            var span = document.createElement("span");\r\n                            span.classList.add("overflowingText");\r\n                            span.style.width = PixelConverter.toString(maxWidth);\r\n                            span.appendChild(document.createTextNode(words[i]));\r\n                            span.appendChild(document.createTextNode(getTailoredTextOrDefault(properties, maxWidth)));\r\n                            fragment.appendChild(span);\r\n                        }\r\n                        textElement.appendChild(fragment);\r\n                    }\r\n                    textMeasurementService.wordBreakOverflowingText = wordBreakOverflowingText;\r\n                })(textMeasurementService = formatting.textMeasurementService || (formatting.textMeasurementService = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                /** dateUtils module provides DateTimeSequence with set of additional date manipulation routines */\r\n                var dateUtils;\r\n                (function (dateUtils) {\r\n                    var MonthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n                    var MonthDaysLeap = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n                    /**\r\n                     * Returns bool indicating weither the provided year is a leap year.\r\n                     * @param year - year value\r\n                     */\r\n                    function isLeap(year) {\r\n                        return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0);\r\n                    }\r\n                    /**\r\n                     * Returns number of days in the provided year/month.\r\n                     * @param year - year value\r\n                     * @param month - month value\r\n                     */\r\n                    function getMonthDays(year, month) {\r\n                        return isLeap(year) ? MonthDaysLeap[month] : MonthDays[month];\r\n                    }\r\n                    /**\r\n                     * Adds a specified number of years to the provided date.\r\n                     * @param date - date value\r\n                     * @param yearDelta - number of years to add\r\n                     */\r\n                    function addYears(date, yearDelta) {\r\n                        var year = date.getFullYear();\r\n                        var month = date.getMonth();\r\n                        var day = date.getDate();\r\n                        var isLeapDay = month === 2 && day === 29;\r\n                        var result = new Date(date.getTime());\r\n                        year = year + yearDelta;\r\n                        if (isLeapDay && !isLeap(year)) {\r\n                            day = 28;\r\n                        }\r\n                        result.setFullYear(year, month, day);\r\n                        return result;\r\n                    }\r\n                    dateUtils.addYears = addYears;\r\n                    /**\r\n                     * Adds a specified number of months to the provided date.\r\n                     * @param date - date value\r\n                     * @param monthDelta - number of months to add\r\n                     */\r\n                    function addMonths(date, monthDelta) {\r\n                        var year = date.getFullYear();\r\n                        var month = date.getMonth();\r\n                        var day = date.getDate();\r\n                        var result = new Date(date.getTime());\r\n                        year += (monthDelta - (monthDelta % 12)) / 12;\r\n                        month += monthDelta % 12;\r\n                        // VSTS 1325771: Certain column charts don\'t display any data\r\n                        // Wrap arround the month if is after december (value 11)\r\n                        if (month > 11) {\r\n                            month = month % 12;\r\n                            year++;\r\n                        }\r\n                        day = Math.min(day, getMonthDays(year, month));\r\n                        result.setFullYear(year, month, day);\r\n                        return result;\r\n                    }\r\n                    dateUtils.addMonths = addMonths;\r\n                    /**\r\n                     * Adds a specified number of weeks to the provided date.\r\n                     * @param date - date value\r\n                     * @param weeks - number of weeks to add\r\n                     */\r\n                    function addWeeks(date, weeks) {\r\n                        return addDays(date, weeks * 7);\r\n                    }\r\n                    dateUtils.addWeeks = addWeeks;\r\n                    /**\r\n                     * Adds a specified number of days to the provided date.\r\n                     * @param date - date value\r\n                     * @param days - number of days to add\r\n                     */\r\n                    function addDays(date, days) {\r\n                        var year = date.getFullYear();\r\n                        var month = date.getMonth();\r\n                        var day = date.getDate();\r\n                        var result = new Date(date.getTime());\r\n                        result.setFullYear(year, month, day + days);\r\n                        return result;\r\n                    }\r\n                    dateUtils.addDays = addDays;\r\n                    /**\r\n                     * Adds a specified number of hours to the provided date.\r\n                     * @param date - date value\r\n                     * @param hours - number of hours to add\r\n                     */\r\n                    function addHours(date, hours) {\r\n                        return new Date(date.getTime() + hours * 3600000);\r\n                    }\r\n                    dateUtils.addHours = addHours;\r\n                    /**\r\n                     * Adds a specified number of minutes to the provided date.\r\n                     * @param date - date value\r\n                     * @param minutes - number of minutes to add\r\n                     */\r\n                    function addMinutes(date, minutes) {\r\n                        return new Date(date.getTime() + minutes * 60000);\r\n                    }\r\n                    dateUtils.addMinutes = addMinutes;\r\n                    /**\r\n                     * Adds a specified number of seconds to the provided date.\r\n                     * @param date - date value\r\n                     * @param seconds - number of seconds to add\r\n                     */\r\n                    function addSeconds(date, seconds) {\r\n                        return new Date(date.getTime() + seconds * 1000);\r\n                    }\r\n                    dateUtils.addSeconds = addSeconds;\r\n                    /**\r\n                     * Adds a specified number of milliseconds to the provided date.\r\n                     * @param date - date value\r\n                     * @param milliseconds - number of milliseconds to add\r\n                     */\r\n                    function addMilliseconds(date, milliseconds) {\r\n                        return new Date(date.getTime() + milliseconds);\r\n                    }\r\n                    dateUtils.addMilliseconds = addMilliseconds;\r\n                })(dateUtils = formatting.dateUtils || (formatting.dateUtils = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                // powerbi.extensibility.utils.type\r\n                var NumericSequenceRange = powerbi.extensibility.utils.type.NumericSequenceRange;\r\n                var NumericSequence = powerbi.extensibility.utils.type.NumericSequence;\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                // powerbi.extensibility.utils.formatting\r\n                var DateTimeUnit = powerbi.extensibility.utils.formatting.DateTimeUnit;\r\n                /** Repreasents the sequence of the dates/times */\r\n                var DateTimeSequence = (function () {\r\n                    // Constructors\r\n                    /** Creates new instance of the DateTimeSequence */\r\n                    function DateTimeSequence(unit) {\r\n                        this.unit = unit;\r\n                        this.sequence = [];\r\n                        this.min = new Date("9999-12-31T23:59:59.999");\r\n                        this.max = new Date("0001-01-01T00:00:00.000");\r\n                    }\r\n                    // Methods\r\n                    /**\r\n                     * Add a new Date to a sequence.\r\n                     * @param date - date to add\r\n                     */\r\n                    DateTimeSequence.prototype.add = function (date) {\r\n                        if (date < this.min) {\r\n                            this.min = date;\r\n                        }\r\n                        if (date > this.max) {\r\n                            this.max = date;\r\n                        }\r\n                        this.sequence.push(date);\r\n                    };\r\n                    // Methods\r\n                    /**\r\n                     * Extends the sequence to cover new date range\r\n                     * @param min - new min to be covered by sequence\r\n                     * @param max - new max to be covered by sequence\r\n                     */\r\n                    DateTimeSequence.prototype.extendToCover = function (min, max) {\r\n                        var x = this.min;\r\n                        while (min < x) {\r\n                            x = DateTimeSequence.addInterval(x, -this.interval, this.unit);\r\n                            this.sequence.splice(0, 0, x);\r\n                        }\r\n                        this.min = x;\r\n                        x = this.max;\r\n                        while (x < max) {\r\n                            x = DateTimeSequence.addInterval(x, this.interval, this.unit);\r\n                            this.sequence.push(x);\r\n                        }\r\n                        this.max = x;\r\n                    };\r\n                    /**\r\n                     * Move the sequence to cover new date range\r\n                     * @param min - new min to be covered by sequence\r\n                     * @param max - new max to be covered by sequence\r\n                     */\r\n                    DateTimeSequence.prototype.moveToCover = function (min, max) {\r\n                        var delta = DateTimeSequence.getDelta(min, max, this.unit);\r\n                        var count = Math.floor(delta / this.interval);\r\n                        this.min = DateTimeSequence.addInterval(this.min, count * this.interval, this.unit);\r\n                        this.sequence = [];\r\n                        this.sequence.push(this.min);\r\n                        this.max = this.min;\r\n                        while (this.max < max) {\r\n                            this.max = DateTimeSequence.addInterval(this.max, this.interval, this.unit);\r\n                            this.sequence.push(this.max);\r\n                        }\r\n                    };\r\n                    // Static\r\n                    /**\r\n                     * Calculate a new DateTimeSequence\r\n                     * @param dataMin - Date representing min of the data range\r\n                     * @param dataMax - Date representing max of the data range\r\n                     * @param expectedCount - expected number of intervals in the sequence\r\n                     * @param unit - of the intervals in the sequence\r\n                     */\r\n                    DateTimeSequence.calculate = function (dataMin, dataMax, expectedCount, unit) {\r\n                        if (!unit) {\r\n                            unit = DateTimeSequence.getIntervalUnit(dataMin, dataMax, expectedCount);\r\n                        }\r\n                        switch (unit) {\r\n                            case DateTimeUnit.Year:\r\n                                return DateTimeSequence.calculateYears(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Month:\r\n                                return DateTimeSequence.calculateMonths(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Week:\r\n                                return DateTimeSequence.calculateWeeks(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Day:\r\n                                return DateTimeSequence.calculateDays(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Hour:\r\n                                return DateTimeSequence.calculateHours(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Minute:\r\n                                return DateTimeSequence.calculateMinutes(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Second:\r\n                                return DateTimeSequence.calculateSeconds(dataMin, dataMax, expectedCount);\r\n                            case DateTimeUnit.Millisecond:\r\n                                return DateTimeSequence.calculateMilliseconds(dataMin, dataMax, expectedCount);\r\n                        }\r\n                    };\r\n                    DateTimeSequence.calculateYears = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range and sequence\r\n                        var yearsRange = NumericSequenceRange.calculateDataRange(dataMin.getFullYear(), dataMax.getFullYear(), false);\r\n                        // Calculate year sequence\r\n                        var sequence = NumericSequence.calculate(NumericSequenceRange.calculate(0, yearsRange.max - yearsRange.min), expectedCount, 0, null, null, [1, 2, 5]);\r\n                        var newMinYear = Math.floor(yearsRange.min / sequence.interval) * sequence.interval;\r\n                        var date = new Date(newMinYear, 0, 1);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Year);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateMonths = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range\r\n                        var minYear = dataMin.getFullYear();\r\n                        var maxYear = dataMax.getFullYear();\r\n                        var minMonth = dataMin.getMonth();\r\n                        var maxMonth = (maxYear - minYear) * 12 + dataMax.getMonth();\r\n                        var date = new Date(minYear, 0, 1);\r\n                        // Calculate month sequence\r\n                        var sequence = NumericSequence.calculateUnits(minMonth, maxMonth, expectedCount, [1, 2, 3, 6, 12]);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Month);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateWeeks = function (dataMin, dataMax, expectedCount) {\r\n                        var firstDayOfWeek = 0;\r\n                        var minDayOfWeek = dataMin.getDay();\r\n                        var dayOffset = (minDayOfWeek - firstDayOfWeek + 7) % 7;\r\n                        var minDay = dataMin.getDate() - dayOffset;\r\n                        // Calculate range\r\n                        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), minDay);\r\n                        var min = 0;\r\n                        var max = Double.ceilWithPrecision(DateTimeSequence.getDelta(date, dataMax, DateTimeUnit.Week));\r\n                        // Calculate week sequence\r\n                        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 4, 8]);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Week);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateDays = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range\r\n                        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate());\r\n                        var min = 0;\r\n                        var max = Double.ceilWithPrecision(DateTimeSequence.getDelta(dataMin, dataMax, DateTimeUnit.Day));\r\n                        // Calculate day sequence\r\n                        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 7, 14]);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Day);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateHours = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range\r\n                        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate());\r\n                        var min = Double.floorWithPrecision(DateTimeSequence.getDelta(date, dataMin, DateTimeUnit.Hour));\r\n                        var max = Double.ceilWithPrecision(DateTimeSequence.getDelta(date, dataMax, DateTimeUnit.Hour));\r\n                        // Calculate hour sequence\r\n                        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 3, 6, 12, 24]);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Hour);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateMinutes = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range\r\n                        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate(), dataMin.getHours());\r\n                        var min = Double.floorWithPrecision(DateTimeSequence.getDelta(date, dataMin, DateTimeUnit.Minute));\r\n                        var max = Double.ceilWithPrecision(DateTimeSequence.getDelta(date, dataMax, DateTimeUnit.Minute));\r\n                        // Calculate minutes numeric sequence\r\n                        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 5, 10, 15, 30, 60, 60 * 2, 60 * 3, 60 * 6, 60 * 12, 60 * 24]);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Minute);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateSeconds = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range\r\n                        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate(), dataMin.getHours(), dataMin.getMinutes());\r\n                        var min = Double.floorWithPrecision(DateTimeSequence.getDelta(date, dataMin, DateTimeUnit.Second));\r\n                        var max = Double.ceilWithPrecision(DateTimeSequence.getDelta(date, dataMax, DateTimeUnit.Second));\r\n                        // Calculate minutes numeric sequence\r\n                        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 5, 10, 15, 30, 60, 60 * 2, 60 * 5, 60 * 10, 60 * 15, 60 * 30, 60 * 60]);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Second);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.calculateMilliseconds = function (dataMin, dataMax, expectedCount) {\r\n                        // Calculate range\r\n                        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate(), dataMin.getHours(), dataMin.getMinutes(), dataMin.getSeconds());\r\n                        var min = DateTimeSequence.getDelta(date, dataMin, DateTimeUnit.Millisecond);\r\n                        var max = DateTimeSequence.getDelta(date, dataMax, DateTimeUnit.Millisecond);\r\n                        // Calculate milliseconds numeric sequence\r\n                        var sequence = NumericSequence.calculate(NumericSequenceRange.calculate(min, max), expectedCount, 0);\r\n                        // Convert to date sequence\r\n                        var result = DateTimeSequence.fromNumericSequence(date, sequence, DateTimeUnit.Millisecond);\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.addInterval = function (value, interval, unit) {\r\n                        interval = Math.round(interval);\r\n                        switch (unit) {\r\n                            case DateTimeUnit.Year:\r\n                                return formatting.dateUtils.addYears(value, interval);\r\n                            case DateTimeUnit.Month:\r\n                                return formatting.dateUtils.addMonths(value, interval);\r\n                            case DateTimeUnit.Week:\r\n                                return formatting.dateUtils.addWeeks(value, interval);\r\n                            case DateTimeUnit.Day:\r\n                                return formatting.dateUtils.addDays(value, interval);\r\n                            case DateTimeUnit.Hour:\r\n                                return formatting.dateUtils.addHours(value, interval);\r\n                            case DateTimeUnit.Minute:\r\n                                return formatting.dateUtils.addMinutes(value, interval);\r\n                            case DateTimeUnit.Second:\r\n                                return formatting.dateUtils.addSeconds(value, interval);\r\n                            case DateTimeUnit.Millisecond:\r\n                                return formatting.dateUtils.addMilliseconds(value, interval);\r\n                        }\r\n                    };\r\n                    DateTimeSequence.fromNumericSequence = function (date, sequence, unit) {\r\n                        var result = new DateTimeSequence(unit);\r\n                        for (var i = 0; i < sequence.sequence.length; i++) {\r\n                            var x = sequence.sequence[i];\r\n                            var d = DateTimeSequence.addInterval(date, x, unit);\r\n                            result.add(d);\r\n                        }\r\n                        result.interval = sequence.interval;\r\n                        result.intervalOffset = sequence.intervalOffset;\r\n                        return result;\r\n                    };\r\n                    DateTimeSequence.getDelta = function (min, max, unit) {\r\n                        var delta = 0;\r\n                        switch (unit) {\r\n                            case DateTimeUnit.Year:\r\n                                delta = max.getFullYear() - min.getFullYear();\r\n                                break;\r\n                            case DateTimeUnit.Month:\r\n                                delta = (max.getFullYear() - min.getFullYear()) * 12 + max.getMonth() - min.getMonth();\r\n                                break;\r\n                            case DateTimeUnit.Week:\r\n                                delta = (max.getTime() - min.getTime()) / (7 * 24 * 3600000);\r\n                                break;\r\n                            case DateTimeUnit.Day:\r\n                                delta = (max.getTime() - min.getTime()) / (24 * 3600000);\r\n                                break;\r\n                            case DateTimeUnit.Hour:\r\n                                delta = (max.getTime() - min.getTime()) / 3600000;\r\n                                break;\r\n                            case DateTimeUnit.Minute:\r\n                                delta = (max.getTime() - min.getTime()) / 60000;\r\n                                break;\r\n                            case DateTimeUnit.Second:\r\n                                delta = (max.getTime() - min.getTime()) / 1000;\r\n                                break;\r\n                            case DateTimeUnit.Millisecond:\r\n                                delta = max.getTime() - min.getTime();\r\n                                break;\r\n                        }\r\n                        return delta;\r\n                    };\r\n                    DateTimeSequence.getIntervalUnit = function (min, max, maxCount) {\r\n                        maxCount = Math.max(maxCount, 2);\r\n                        var totalDays = DateTimeSequence.getDelta(min, max, DateTimeUnit.Day);\r\n                        if (totalDays > 356 && totalDays >= 30 * 6 * maxCount)\r\n                            return DateTimeUnit.Year;\r\n                        if (totalDays > 60 && totalDays > 7 * maxCount)\r\n                            return DateTimeUnit.Month;\r\n                        if (totalDays > 14 && totalDays > 2 * maxCount)\r\n                            return DateTimeUnit.Week;\r\n                        var totalHours = DateTimeSequence.getDelta(min, max, DateTimeUnit.Hour);\r\n                        if (totalDays > 2 && totalHours > 12 * maxCount)\r\n                            return DateTimeUnit.Day;\r\n                        if (totalHours >= 24 && totalHours >= maxCount)\r\n                            return DateTimeUnit.Hour;\r\n                        var totalMinutes = DateTimeSequence.getDelta(min, max, DateTimeUnit.Minute);\r\n                        if (totalMinutes > 2 && totalMinutes >= maxCount)\r\n                            return DateTimeUnit.Minute;\r\n                        var totalSeconds = DateTimeSequence.getDelta(min, max, DateTimeUnit.Second);\r\n                        if (totalSeconds > 2 && totalSeconds >= 0.8 * maxCount)\r\n                            return DateTimeUnit.Second;\r\n                        var totalMilliseconds = DateTimeSequence.getDelta(min, max, DateTimeUnit.Millisecond);\r\n                        if (totalMilliseconds > 0)\r\n                            return DateTimeUnit.Millisecond;\r\n                        // If the size of the range is 0 we need to guess the unit based on the date\'s non-zero values starting with milliseconds\r\n                        var date = min;\r\n                        if (date.getMilliseconds() !== 0)\r\n                            return DateTimeUnit.Millisecond;\r\n                        if (date.getSeconds() !== 0)\r\n                            return DateTimeUnit.Second;\r\n                        if (date.getMinutes() !== 0)\r\n                            return DateTimeUnit.Minute;\r\n                        if (date.getHours() !== 0)\r\n                            return DateTimeUnit.Hour;\r\n                        if (date.getDate() !== 1)\r\n                            return DateTimeUnit.Day;\r\n                        if (date.getMonth() !== 0)\r\n                            return DateTimeUnit.Month;\r\n                        return DateTimeUnit.Year;\r\n                    };\r\n                    return DateTimeSequence;\r\n                }());\r\n                // Constants\r\n                DateTimeSequence.MIN_COUNT = 1;\r\n                DateTimeSequence.MAX_COUNT = 1000;\r\n                formatting.DateTimeSequence = DateTimeSequence;\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var regexCache;\r\n                /**\r\n                 * Translate .NET format into something supported by jQuery.Globalize.\r\n                 */\r\n                function findDateFormat(value, format, cultureName) {\r\n                    switch (format) {\r\n                        case "m":\r\n                            // Month + day\r\n                            format = "M";\r\n                            break;\r\n                        case "O":\r\n                        case "o":\r\n                            // Roundtrip\r\n                            format = "yyyy\'-\'MM\'-\'dd\'T\'HH\':\'mm\':\'ss\'.\'fff\'0000\'";\r\n                            break;\r\n                        case "R":\r\n                        case "r":\r\n                            // RFC1123 pattern - - time must be converted to UTC before formatting\r\n                            value = new Date(value.getUTCFullYear(), value.getUTCMonth(), value.getUTCDate(), value.getUTCHours(), value.getUTCMinutes(), value.getUTCSeconds(), value.getUTCMilliseconds());\r\n                            format = "ddd, dd MMM yyyy HH\':\'mm\':\'ss \'GMT\'";\r\n                            break;\r\n                        case "s":\r\n                            // Sortable - should use invariant culture\r\n                            format = "S";\r\n                            break;\r\n                        case "u":\r\n                            // Universal sortable - should convert to UTC before applying the "yyyy\'-\'MM\'-\'dd HH\':\'mm\':\'ss\'Z\' format.\r\n                            value = new Date(value.getUTCFullYear(), value.getUTCMonth(), value.getUTCDate(), value.getUTCHours(), value.getUTCMinutes(), value.getUTCSeconds(), value.getUTCMilliseconds());\r\n                            format = "yyyy\'-\'MM\'-\'dd HH\':\'mm\':\'ss\'Z\'";\r\n                            break;\r\n                        case "U":\r\n                            // Universal full - the pattern is same as F but the time must be converted to UTC before formatting\r\n                            value = new Date(value.getUTCFullYear(), value.getUTCMonth(), value.getUTCDate(), value.getUTCHours(), value.getUTCMinutes(), value.getUTCSeconds(), value.getUTCMilliseconds());\r\n                            format = "F";\r\n                            break;\r\n                        case "y":\r\n                        case "Y":\r\n                            // Year and month\r\n                            switch (cultureName) {\r\n                                case "default":\r\n                                case "en":\r\n                                case "en-US":\r\n                                    format = "MMMM, yyyy"; // Fix the default year-month pattern for english\r\n                                    break;\r\n                                default:\r\n                                    format = "Y"; // For other cultures - use the localized pattern\r\n                            }\r\n                            break;\r\n                    }\r\n                    return { value: value, format: format };\r\n                }\r\n                formatting.findDateFormat = findDateFormat;\r\n                /**\r\n                 * Translates unsupported .NET custom format expressions to the custom expressions supported by JQuery.Globalize.\r\n                 */\r\n                function fixDateTimeFormat(format) {\r\n                    // Fix for the "K" format (timezone):\r\n                    // T he js dates don\'t have a kind property so we\'ll support only local kind which is equavalent to zzz format.\r\n                    format = format.replace(/%K/g, "zzz");\r\n                    format = format.replace(/K/g, "zzz");\r\n                    format = format.replace(/fffffff/g, "fff0000");\r\n                    format = format.replace(/ffffff/g, "fff000");\r\n                    format = format.replace(/fffff/g, "fff00");\r\n                    format = format.replace(/ffff/g, "fff0");\r\n                    // Fix for the 5 digit year: "yyyyy" format.\r\n                    // The Globalize doesn\'t support dates greater than 9999 so we replace the "yyyyy" with "0yyyy".\r\n                    format = format.replace(/yyyyy/g, "0yyyy");\r\n                    // Fix for the 3 digit year: "yyy" format.\r\n                    // The Globalize doesn\'t support this formatting so we need to replace it with the 4 digit year "yyyy" format.\r\n                    format = format.replace(/(^y|^)yyy(^y|$)/g, "yyyy");\r\n                    if (!regexCache) {\r\n                        // Creating Regexes for cases "Using single format specifier"\r\n                        // - http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx#UsingSingleSpecifiers\r\n                        // This is not supported from The Globalize.\r\n                        // The case covers all single "%" lead specifier (like "%d" but not %dd)\r\n                        // The cases as single "%d" are filtered in if the bellow.\r\n                        // (?!S) where S is the specifier make sure that we only one symbol for specifier.\r\n                        regexCache = ["d", "f", "F", "g", "h", "H", "K", "m", "M", "s", "t", "y", "z", ":", "/"].map(function (s) {\r\n                            return { r: new RegExp("\\%" + s + "(?!" + s + ")", "g"), s: s };\r\n                        });\r\n                    }\r\n                    if (format.indexOf("%") !== -1 && format.length > 2) {\r\n                        for (var i = 0; i < regexCache.length; i++) {\r\n                            format = format.replace(regexCache[i].r, regexCache[i].s);\r\n                        }\r\n                    }\r\n                    return format;\r\n                }\r\n                formatting.fixDateTimeFormat = fixDateTimeFormat;\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var font;\r\n                (function (font_1) {\r\n                    var FamilyInfo = (function () {\r\n                        function FamilyInfo(families) {\r\n                            this.families = families;\r\n                        }\r\n                        Object.defineProperty(FamilyInfo.prototype, "family", {\r\n                            /**\r\n                             * Gets the first font "wf_" font family since it will always be loaded.\r\n                             */\r\n                            get: function () {\r\n                                return this.getFamily();\r\n                            },\r\n                            enumerable: true,\r\n                            configurable: true\r\n                        });\r\n                        /**\r\n                        * Gets the first font family that matches regex (if provided).\r\n                        * Default regex looks for "wf_" fonts which are always loaded.\r\n                        */\r\n                        FamilyInfo.prototype.getFamily = function (regex) {\r\n                            if (regex === void 0) { regex = /^wf_/; }\r\n                            if (!this.families) {\r\n                                return null;\r\n                            }\r\n                            if (regex) {\r\n                                for (var _i = 0, _a = this.families; _i < _a.length; _i++) {\r\n                                    var fontFamily = _a[_i];\r\n                                    if (regex.test(fontFamily)) {\r\n                                        return fontFamily;\r\n                                    }\r\n                                }\r\n                            }\r\n                            return this.families[0];\r\n                        };\r\n                        Object.defineProperty(FamilyInfo.prototype, "css", {\r\n                            /**\r\n                             * Gets the CSS string for the "font-family" CSS attribute.\r\n                             */\r\n                            get: function () {\r\n                                return this.getCSS();\r\n                            },\r\n                            enumerable: true,\r\n                            configurable: true\r\n                        });\r\n                        /**\r\n                         * Gets the CSS string for the "font-family" CSS attribute.\r\n                         */\r\n                        FamilyInfo.prototype.getCSS = function () {\r\n                            return this.families ? this.families.map((function (font) { return font.indexOf(" ") > 0 ? "\'" + font + "\'" : font; })).join(", ") : null;\r\n                        };\r\n                        return FamilyInfo;\r\n                    }());\r\n                    font_1.FamilyInfo = FamilyInfo;\r\n                })(font = formatting.font || (formatting.font = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var font;\r\n                (function (font) {\r\n                    font.fallbackFonts = ["helvetica", "arial", "sans-serif"];\r\n                    font.Family = {\r\n                        light: new font.FamilyInfo(font.fallbackFonts),\r\n                        semilight: new font.FamilyInfo(font.fallbackFonts),\r\n                        regular: new font.FamilyInfo(font.fallbackFonts),\r\n                        semibold: new font.FamilyInfo(font.fallbackFonts),\r\n                        bold: new font.FamilyInfo(font.fallbackFonts),\r\n                        lightSecondary: new font.FamilyInfo(font.fallbackFonts),\r\n                        regularSecondary: new font.FamilyInfo(font.fallbackFonts),\r\n                        boldSecondary: new font.FamilyInfo(font.fallbackFonts)\r\n                    };\r\n                })(font = formatting.font || (formatting.font = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                // powerbi.extensibility.utils.type\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                var RegExpExtensions = powerbi.extensibility.utils.type.RegExpExtensions;\r\n                // powerbi.extensibility.utils.formatting\r\n                var stringExtensions = powerbi.extensibility.utils.formatting.stringExtensions;\r\n                var findDateFormat = powerbi.extensibility.utils.formatting.findDateFormat;\r\n                var fixDateTimeFormat = powerbi.extensibility.utils.formatting.fixDateTimeFormat;\r\n                var DateTimeUnit = powerbi.extensibility.utils.formatting.DateTimeUnit;\r\n                /** Formatting Encoder */\r\n                var formattingEncoder;\r\n                (function (formattingEncoder) {\r\n                    // quoted and escaped literal patterns\r\n                    // NOTE: the final three cases match .NET behavior\r\n                    var literalPatterns = [\r\n                        "\'[^\']*\'",\r\n                        "\\"[^\\"]*\\"",\r\n                        "\\\\\\\\.",\r\n                        "\'[^\']*$",\r\n                        "\\"[^\\"]*$",\r\n                        "\\\\\\\\$",\r\n                    ];\r\n                    var literalMatcher = new RegExp(literalPatterns.join("|"), "g");\r\n                    // Unicode U+E000 - U+F8FF is a private area and so we can use the chars from the range to encode the escaped sequences\r\n                    function removeLiterals(format) {\r\n                        literalMatcher.lastIndex = 0;\r\n                        // just in case consecutive non-literals have some meaning\r\n                        return format.replace(literalMatcher, "\\uE100");\r\n                    }\r\n                    formattingEncoder.removeLiterals = removeLiterals;\r\n                    function preserveLiterals(format, literals) {\r\n                        literalMatcher.lastIndex = 0;\r\n                        for (;;) {\r\n                            var match = literalMatcher.exec(format);\r\n                            if (!match)\r\n                                break;\r\n                            var literal = match[0];\r\n                            var literalOffset = literalMatcher.lastIndex - literal.length;\r\n                            var token = String.fromCharCode(0xE100 + literals.length);\r\n                            literals.push(literal);\r\n                            format = format.substr(0, literalOffset) + token + format.substr(literalMatcher.lastIndex);\r\n                            // back to avoid skipping due to removed literal substring\r\n                            literalMatcher.lastIndex = literalOffset + 1;\r\n                        }\r\n                        return format;\r\n                    }\r\n                    formattingEncoder.preserveLiterals = preserveLiterals;\r\n                    function restoreLiterals(format, literals, quoted) {\r\n                        if (quoted === void 0) { quoted = true; }\r\n                        var count = literals.length;\r\n                        for (var i = 0; i < count; i++) {\r\n                            var token = String.fromCharCode(0xE100 + i);\r\n                            var literal = literals[i];\r\n                            if (!quoted) {\r\n                                // caller wants literals to be re-inserted without escaping\r\n                                var firstChar = literal[0];\r\n                                if (firstChar === "\\\\" || literal.length === 1 || literal[literal.length - 1] !== firstChar) {\r\n                                    // either escaped literal OR quoted literal that\'s missing the trailing quote\r\n                                    // in either case we only remove the leading character\r\n                                    literal = literal.substring(1);\r\n                                }\r\n                                else {\r\n                                    // so must be a quoted literal with both starting and ending quote\r\n                                    literal = literal.substring(1, literal.length - 1);\r\n                                }\r\n                            }\r\n                            format = format.replace(token, literal);\r\n                        }\r\n                        return format;\r\n                    }\r\n                    formattingEncoder.restoreLiterals = restoreLiterals;\r\n                })(formattingEncoder || (formattingEncoder = {}));\r\n                var IndexedTokensRegex = /({{)|(}})|{(\\d+[^}]*)}/g;\r\n                var ZeroPlaceholder = "0";\r\n                var DigitPlaceholder = "#";\r\n                var ExponentialFormatChar = "E";\r\n                var NumericPlaceholders = [ZeroPlaceholder, DigitPlaceholder];\r\n                var NumericPlaceholderRegex = new RegExp(NumericPlaceholders.join("|"), "g");\r\n                /** Formatting Service */\r\n                var FormattingService = (function () {\r\n                    function FormattingService() {\r\n                    }\r\n                    FormattingService.prototype.formatValue = function (value, format, cultureSelector) {\r\n                        // Handle special cases\r\n                        if (value === undefined || value === null) {\r\n                            return "";\r\n                        }\r\n                        var gculture = this.getCulture(cultureSelector);\r\n                        if (dateTimeFormat.canFormat(value)) {\r\n                            // Dates\r\n                            return dateTimeFormat.format(value, format, gculture);\r\n                        }\r\n                        else if (numberFormat.canFormat(value)) {\r\n                            // Numbers\r\n                            return numberFormat.format(value, format, gculture);\r\n                        }\r\n                        // Other data types - return as string\r\n                        return value.toString();\r\n                    };\r\n                    FormattingService.prototype.format = function (formatWithIndexedTokens, args, culture) {\r\n                        var _this = this;\r\n                        if (!formatWithIndexedTokens) {\r\n                            return "";\r\n                        }\r\n                        var result = formatWithIndexedTokens.replace(IndexedTokensRegex, function (match, left, right, argToken) {\r\n                            if (left) {\r\n                                return "{";\r\n                            }\r\n                            else if (right) {\r\n                                return "}";\r\n                            }\r\n                            else {\r\n                                var parts = argToken.split(":");\r\n                                var argIndex = parseInt(parts[0], 10);\r\n                                var argFormat = parts[1];\r\n                                return _this.formatValue(args[argIndex], argFormat, culture);\r\n                            }\r\n                        });\r\n                        return result;\r\n                    };\r\n                    FormattingService.prototype.isStandardNumberFormat = function (format) {\r\n                        return numberFormat.isStandardFormat(format);\r\n                    };\r\n                    FormattingService.prototype.formatNumberWithCustomOverride = function (value, format, nonScientificOverrideFormat, culture) {\r\n                        var gculture = this.getCulture(culture);\r\n                        return numberFormat.formatWithCustomOverride(value, format, nonScientificOverrideFormat, gculture);\r\n                    };\r\n                    FormattingService.prototype.dateFormatString = function (unit) {\r\n                        if (!this._dateTimeScaleFormatInfo)\r\n                            this.initialize();\r\n                        return this._dateTimeScaleFormatInfo.getFormatString(unit);\r\n                    };\r\n                    /**\r\n                     * Sets the current localization culture\r\n                     * @param cultureSelector - name of a culture: "en", "en-UK", "fr-FR" etc. (See National Language Support (NLS) for full lists. Use "default" for invariant culture).\r\n                     */\r\n                    FormattingService.prototype.setCurrentCulture = function (cultureSelector) {\r\n                        if (this._currentCultureSelector !== cultureSelector) {\r\n                            this._currentCulture = this.getCulture(cultureSelector);\r\n                            this._currentCultureSelector = cultureSelector;\r\n                            this._dateTimeScaleFormatInfo = new DateTimeScaleFormatInfo(this._currentCulture);\r\n                        }\r\n                    };\r\n                    /**\r\n                     * Gets the culture assotiated with the specified cultureSelector ("en", "en-US", "fr-FR" etc).\r\n                     * @param cultureSelector - name of a culture: "en", "en-UK", "fr-FR" etc. (See National Language Support (NLS) for full lists. Use "default" for invariant culture).\r\n                     * Exposing this function for testability of unsupported cultures\r\n                     */\r\n                    FormattingService.prototype.getCulture = function (cultureSelector) {\r\n                        if (cultureSelector == null) {\r\n                            if (this._currentCulture == null) {\r\n                                this.initialize();\r\n                            }\r\n                            return this._currentCulture;\r\n                        }\r\n                        else {\r\n                            var culture = Globalize.findClosestCulture(cultureSelector);\r\n                            if (!culture)\r\n                                culture = Globalize.culture("en-US");\r\n                            return culture;\r\n                        }\r\n                    };\r\n                    /** By default the Globalization module initializes to the culture/calendar provided in the language/culture URL params */\r\n                    FormattingService.prototype.initialize = function () {\r\n                        var cultureName = this.getCurrentCulture();\r\n                        this.setCurrentCulture(cultureName);\r\n                        var calendarName = this.getUrlParam("calendar");\r\n                        if (calendarName) {\r\n                            var culture = this._currentCulture;\r\n                            var c = culture.calendars[calendarName];\r\n                            if (c) {\r\n                                culture.calendar = c;\r\n                            }\r\n                        }\r\n                    };\r\n                    /**\r\n                     *  Exposing this function for testability\r\n                     */\r\n                    FormattingService.prototype.getCurrentCulture = function () {\r\n                        var urlParam = this.getUrlParam("language");\r\n                        if (urlParam) {\r\n                            return urlParam;\r\n                        }\r\n                        if (powerbi && powerbi.common && powerbi.common.cultureInfo) {\r\n                            // Get cultureInfo set in powerbi\r\n                            return powerbi.common.cultureInfo;\r\n                        }\r\n                        return window.navigator.userLanguage || window.navigator["language"] || Globalize.culture().name;\r\n                    };\r\n                    /**\r\n                     *  Exposing this function for testability\r\n                     *  @param name: queryString name\r\n                     */\r\n                    FormattingService.prototype.getUrlParam = function (name) {\r\n                        var param = window.location.search.match(RegExp("[?&]" + name + "=([^&]*)"));\r\n                        return param ? param[1] : undefined;\r\n                    };\r\n                    return FormattingService;\r\n                }());\r\n                formatting.FormattingService = FormattingService;\r\n                /**\r\n                 * DateTimeFormat module contains the static methods for formatting the DateTimes.\r\n                 * It extends the JQuery.Globalize functionality to support complete set of .NET\r\n                 * formatting expressions for dates.\r\n                 */\r\n                var dateTimeFormat;\r\n                (function (dateTimeFormat) {\r\n                    var _currentCachedFormat;\r\n                    var _currentCachedProcessedFormat;\r\n                    /** Evaluates if the value can be formatted using the NumberFormat */\r\n                    function canFormat(value) {\r\n                        var result = value instanceof Date;\r\n                        return result;\r\n                    }\r\n                    dateTimeFormat.canFormat = canFormat;\r\n                    /** Formats the date using provided format and culture */\r\n                    function format(value, format, culture) {\r\n                        format = format || "G";\r\n                        var isStandard = format.length === 1;\r\n                        try {\r\n                            if (isStandard) {\r\n                                return formatDateStandard(value, format, culture);\r\n                            }\r\n                            else {\r\n                                return formatDateCustom(value, format, culture);\r\n                            }\r\n                        }\r\n                        catch (e) {\r\n                            return formatDateStandard(value, "G", culture);\r\n                        }\r\n                    }\r\n                    dateTimeFormat.format = format;\r\n                    /** Formats the date using standard format expression */\r\n                    function formatDateStandard(value, format, culture) {\r\n                        // In order to provide parity with .NET we have to support additional set of DateTime patterns.\r\n                        var patterns = culture.calendar.patterns;\r\n                        // Extend supported set of patterns\r\n                        ensurePatterns(culture.calendar);\r\n                        // Handle extended set of formats\r\n                        var output = findDateFormat(value, format, culture.name);\r\n                        if (output.format.length === 1)\r\n                            format = patterns[output.format];\r\n                        else\r\n                            format = output.format;\r\n                        // need to revisit when globalization is enabled\r\n                        if (!culture) {\r\n                            culture = Globalize.culture("en-US");\r\n                        }\r\n                        return Globalize.format(output.value, format, culture);\r\n                    }\r\n                    /** Formats the date using custom format expression */\r\n                    function formatDateCustom(value, format, culture) {\r\n                        var result;\r\n                        var literals = [];\r\n                        format = formattingEncoder.preserveLiterals(format, literals);\r\n                        if (format.indexOf("F") > -1) {\r\n                            // F is not supported so we need to replace the F with f based on the milliseconds\r\n                            // Replace all sequences of F longer than 3 with "FFF"\r\n                            format = stringExtensions.replaceAll(format, "FFFF", "FFF");\r\n                            // Based on milliseconds update the format to use fff\r\n                            var milliseconds = value.getMilliseconds();\r\n                            if (milliseconds % 10 >= 1) {\r\n                                format = stringExtensions.replaceAll(format, "FFF", "fff");\r\n                            }\r\n                            format = stringExtensions.replaceAll(format, "FFF", "FF");\r\n                            if ((milliseconds % 100) / 10 >= 1) {\r\n                                format = stringExtensions.replaceAll(format, "FF", "ff");\r\n                            }\r\n                            format = stringExtensions.replaceAll(format, "FF", "F");\r\n                            if ((milliseconds % 1000) / 100 >= 1) {\r\n                                format = stringExtensions.replaceAll(format, "F", "f");\r\n                            }\r\n                            format = stringExtensions.replaceAll(format, "F", "");\r\n                            if (format === "" || format === "%")\r\n                                return "";\r\n                        }\r\n                        format = processCustomDateTimeFormat(format);\r\n                        result = Globalize.format(value, format, culture);\r\n                        result = localize(result, culture.calendar);\r\n                        result = formattingEncoder.restoreLiterals(result, literals, false);\r\n                        return result;\r\n                    }\r\n                    /** Translates unsupported .NET custom format expressions to the custom expressions supported by JQuery.Globalize */\r\n                    function processCustomDateTimeFormat(format) {\r\n                        if (format === _currentCachedFormat) {\r\n                            return _currentCachedProcessedFormat;\r\n                        }\r\n                        _currentCachedFormat = format;\r\n                        format = fixDateTimeFormat(format);\r\n                        _currentCachedProcessedFormat = format;\r\n                        return format;\r\n                    }\r\n                    /** Localizes the time separator symbol */\r\n                    function localize(value, dictionary) {\r\n                        var timeSeparator = dictionary[":"];\r\n                        if (timeSeparator === ":") {\r\n                            return value;\r\n                        }\r\n                        var result = "";\r\n                        var count = value.length;\r\n                        for (var i = 0; i < count; i++) {\r\n                            var char = value.charAt(i);\r\n                            switch (char) {\r\n                                case ":":\r\n                                    result += timeSeparator;\r\n                                    break;\r\n                                default:\r\n                                    result += char;\r\n                                    break;\r\n                            }\r\n                        }\r\n                        return result;\r\n                    }\r\n                    function ensurePatterns(calendar) {\r\n                        var patterns = calendar.patterns;\r\n                        if (patterns["g"] === undefined) {\r\n                            patterns["g"] = patterns["f"].replace(patterns["D"], patterns["d"]); // Generic: Short date, short time\r\n                            patterns["G"] = patterns["F"].replace(patterns["D"], patterns["d"]); // Generic: Short date, long time\r\n                        }\r\n                    }\r\n                })(dateTimeFormat || (dateTimeFormat = {}));\r\n                /**\r\n                 * NumberFormat module contains the static methods for formatting the numbers.\r\n                 * It extends the JQuery.Globalize functionality to support complete set of .NET\r\n                 * formatting expressions for numeric types including custom formats.\r\n                 */\r\n                var numberFormat;\r\n                (function (numberFormat) {\r\n                    var NonScientificFormatRegex = /^\\{.+\\}.*/;\r\n                    var NumericalPlaceHolderRegex = /\\{.+\\}/;\r\n                    var ScientificFormatRegex = /e[+-]*[0#]+/i;\r\n                    var StandardFormatRegex = /^[a-z]\\d{0,2}$/i; // a letter + up to 2 digits for precision specifier\r\n                    var TrailingZerosRegex = /0+$/;\r\n                    var DecimalFormatRegex = /\\.([0#]*)/g;\r\n                    var NumericFormatRegex = /[0#,\\.]+[0,#]*/g;\r\n                    // (?=...) is a positive lookahead assertion. The RE is asking for the last digit placeholder, [0#],\r\n                    // which is followed by non-digit placeholders and the end of string, [^0#]*$. But it only matches\r\n                    // the last digit placeholder, not anything that follows because the positive lookahead isn"t included\r\n                    // in the match - it is only a condition.\r\n                    var LastNumericPlaceholderRegex = /([0#])(?=[^0#]*$)/;\r\n                    var DecimalFormatCharacter = ".";\r\n                    numberFormat.NumberFormatComponentsDelimeter = ";";\r\n                    function getNonScientificFormatWithPrecision(baseFormat, numericFormat) {\r\n                        if (!numericFormat || baseFormat === undefined)\r\n                            return baseFormat;\r\n                        var newFormat = "{0:" + numericFormat + "}";\r\n                        return baseFormat.replace("{0}", newFormat);\r\n                    }\r\n                    function getNumericFormat(value, baseFormat) {\r\n                        if (baseFormat == null)\r\n                            return baseFormat;\r\n                        if (hasFormatComponents(baseFormat)) {\r\n                            var _a = numberFormat.getComponents(baseFormat), positive = _a.positive, negative = _a.negative, zero = _a.zero;\r\n                            if (value > 0)\r\n                                return getNumericFormatFromComponent(value, positive);\r\n                            else if (value === 0)\r\n                                return getNumericFormatFromComponent(value, zero);\r\n                            return getNumericFormatFromComponent(value, negative);\r\n                        }\r\n                        return getNumericFormatFromComponent(value, baseFormat);\r\n                    }\r\n                    numberFormat.getNumericFormat = getNumericFormat;\r\n                    function getNumericFormatFromComponent(value, format) {\r\n                        var match = RegExpExtensions.run(NumericFormatRegex, format);\r\n                        if (match)\r\n                            return match[0];\r\n                        return format;\r\n                    }\r\n                    function addDecimalsToFormat(baseFormat, decimals, trailingZeros) {\r\n                        if (decimals == null)\r\n                            return baseFormat;\r\n                        // Default format string\r\n                        if (baseFormat == null)\r\n                            baseFormat = ZeroPlaceholder;\r\n                        if (hasFormatComponents(baseFormat)) {\r\n                            var _a = numberFormat.getComponents(baseFormat), positive = _a.positive, negative = _a.negative, zero = _a.zero;\r\n                            var formats = [positive, negative, zero];\r\n                            for (var i = 0; i < formats.length; i++) {\r\n                                // Update format in formats array\r\n                                formats[i] = addDecimalsToFormatComponent(formats[i], decimals, trailingZeros);\r\n                            }\r\n                            return formats.join(numberFormat.NumberFormatComponentsDelimeter);\r\n                        }\r\n                        return addDecimalsToFormatComponent(baseFormat, decimals, trailingZeros);\r\n                    }\r\n                    numberFormat.addDecimalsToFormat = addDecimalsToFormat;\r\n                    function addDecimalsToFormatComponent(format, decimals, trailingZeros) {\r\n                        decimals = Math.abs(decimals);\r\n                        if (decimals >= 0) {\r\n                            var literals = [];\r\n                            format = formattingEncoder.preserveLiterals(format, literals);\r\n                            var placeholder = trailingZeros ? ZeroPlaceholder : DigitPlaceholder;\r\n                            var decimalPlaceholders = stringExtensions.repeat(placeholder, Math.abs(decimals));\r\n                            var match = RegExpExtensions.run(DecimalFormatRegex, format);\r\n                            if (match) {\r\n                                var beforeDecimal = format.substr(0, match.index);\r\n                                var formatDecimal = format.substr(match.index + 1, match[1].length);\r\n                                var afterDecimal = format.substr(match.index + match[0].length);\r\n                                if (trailingZeros)\r\n                                    // Use explicit decimals argument as placeholders\r\n                                    formatDecimal = decimalPlaceholders;\r\n                                else {\r\n                                    var decimalChange = decimalPlaceholders.length - formatDecimal.length;\r\n                                    if (decimalChange > 0)\r\n                                        // Append decimalPlaceholders to existing decimal portion of format string\r\n                                        formatDecimal = formatDecimal + decimalPlaceholders.slice(-decimalChange);\r\n                                    else if (decimalChange < 0)\r\n                                        // Remove decimals from formatDecimal\r\n                                        formatDecimal = formatDecimal.slice(0, decimalChange);\r\n                                }\r\n                                if (formatDecimal.length > 0)\r\n                                    formatDecimal = DecimalFormatCharacter + formatDecimal;\r\n                                format = beforeDecimal + formatDecimal + afterDecimal;\r\n                            }\r\n                            else if (decimalPlaceholders.length > 0) {\r\n                                // Replace last numeric placeholder with decimal portion\r\n                                format = format.replace(LastNumericPlaceholderRegex, "$1" + DecimalFormatCharacter + decimalPlaceholders);\r\n                            }\r\n                            if (literals.length !== 0)\r\n                                format = formattingEncoder.restoreLiterals(format, literals);\r\n                        }\r\n                        return format;\r\n                    }\r\n                    function hasFormatComponents(format) {\r\n                        return formattingEncoder.removeLiterals(format).indexOf(numberFormat.NumberFormatComponentsDelimeter) !== -1;\r\n                    }\r\n                    numberFormat.hasFormatComponents = hasFormatComponents;\r\n                    function getComponents(format) {\r\n                        var signFormat = {\r\n                            hasNegative: false,\r\n                            positive: format,\r\n                            negative: format,\r\n                            zero: format,\r\n                        };\r\n                        // escape literals so semi-colon in a literal isn\'t interpreted as a delimiter\r\n                        // NOTE: OK to use the literals extracted here for all three components before since the literals are indexed.\r\n                        // For example, "\'pos-lit\';\'neg-lit\'" will get preserved as "\\uE000;\\uE001" and the literal array will be\r\n                        // [\'pos-lit\', \'neg-lit\']. When the negative components is restored, its \\uE001 will select the second\r\n                        // literal.\r\n                        var literals = [];\r\n                        format = formattingEncoder.preserveLiterals(format, literals);\r\n                        var signSpecificFormats = format.split(numberFormat.NumberFormatComponentsDelimeter);\r\n                        var formatCount = signSpecificFormats.length;\r\n                        if (formatCount > 1) {\r\n                            if (literals.length !== 0)\r\n                                signSpecificFormats = signSpecificFormats.map(function (signSpecificFormat) { return formattingEncoder.restoreLiterals(signSpecificFormat, literals); });\r\n                            signFormat.hasNegative = true;\r\n                            signFormat.positive = signFormat.zero = signSpecificFormats[0];\r\n                            signFormat.negative = signSpecificFormats[1];\r\n                            if (formatCount > 2)\r\n                                signFormat.zero = signSpecificFormats[2];\r\n                        }\r\n                        return signFormat;\r\n                    }\r\n                    numberFormat.getComponents = getComponents;\r\n                    var _lastCustomFormatMeta;\r\n                    /** Evaluates if the value can be formatted using the NumberFormat */\r\n                    function canFormat(value) {\r\n                        var result = typeof (value) === "number";\r\n                        return result;\r\n                    }\r\n                    numberFormat.canFormat = canFormat;\r\n                    function isStandardFormat(format) {\r\n                        return StandardFormatRegex.test(format);\r\n                    }\r\n                    numberFormat.isStandardFormat = isStandardFormat;\r\n                    /** Formats the number using specified format expression and culture */\r\n                    function format(value, format, culture) {\r\n                        format = format || "G";\r\n                        try {\r\n                            if (isStandardFormat(format))\r\n                                return formatNumberStandard(value, format, culture);\r\n                            return formatNumberCustom(value, format, culture);\r\n                        }\r\n                        catch (e) {\r\n                            return Globalize.format(value, undefined, culture);\r\n                        }\r\n                    }\r\n                    numberFormat.format = format;\r\n                    /** Performs a custom format with a value override.  Typically used for custom formats showing scaled values. */\r\n                    function formatWithCustomOverride(value, format, nonScientificOverrideFormat, culture) {\r\n                        return formatNumberCustom(value, format, culture, nonScientificOverrideFormat);\r\n                    }\r\n                    numberFormat.formatWithCustomOverride = formatWithCustomOverride;\r\n                    /** Formats the number using standard format expression */\r\n                    function formatNumberStandard(value, format, culture) {\r\n                        var result;\r\n                        var precision = (format.length > 1 ? parseInt(format.substr(1, format.length - 1), 10) : undefined);\r\n                        var numberFormatInfo = culture.numberFormat;\r\n                        var formatChar = format.charAt(0);\r\n                        switch (formatChar) {\r\n                            case "e":\r\n                            case "E":\r\n                                if (precision === undefined) {\r\n                                    precision = 6;\r\n                                }\r\n                                var mantissaDecimalDigits = stringExtensions.repeat("0", precision);\r\n                                format = "0." + mantissaDecimalDigits + formatChar + "+000";\r\n                                result = formatNumberCustom(value, format, culture);\r\n                                break;\r\n                            case "f":\r\n                            case "F":\r\n                                result = precision !== undefined ? value.toFixed(precision) : value.toFixed(numberFormatInfo.decimals);\r\n                                result = localize(result, numberFormatInfo);\r\n                                break;\r\n                            case "g":\r\n                            case "G":\r\n                                var abs = Math.abs(value);\r\n                                if (abs === 0 || (1E-4 <= abs && abs < 1E15)) {\r\n                                    // For the range of 0.0001 to 1,000,000,000,000,000 - use the normal form\r\n                                    result = precision !== undefined ? value.toPrecision(precision) : value.toString();\r\n                                }\r\n                                else {\r\n                                    // Otherwise use exponential\r\n                                    // Assert that value is a number and fall back on returning value if it is not\r\n                                    if (typeof (value) !== "number")\r\n                                        return String(value);\r\n                                    result = precision !== undefined ? value.toExponential(precision) : value.toExponential();\r\n                                    result = result.replace("e", "E");\r\n                                }\r\n                                result = localize(result, numberFormatInfo);\r\n                                break;\r\n                            case "r":\r\n                            case "R":\r\n                                result = value.toString();\r\n                                result = localize(result, numberFormatInfo);\r\n                                break;\r\n                            case "x":\r\n                            case "X":\r\n                                result = value.toString(16);\r\n                                if (formatChar === "X") {\r\n                                    result = result.toUpperCase();\r\n                                }\r\n                                if (precision !== undefined) {\r\n                                    var actualPrecision = result.length;\r\n                                    var isNegative = value < 0;\r\n                                    if (isNegative) {\r\n                                        actualPrecision--;\r\n                                    }\r\n                                    var paddingZerosCount = precision - actualPrecision;\r\n                                    var paddingZeros = undefined;\r\n                                    if (paddingZerosCount > 0) {\r\n                                        paddingZeros = stringExtensions.repeat("0", paddingZerosCount);\r\n                                    }\r\n                                    if (isNegative) {\r\n                                        result = "-" + paddingZeros + result.substr(1);\r\n                                    }\r\n                                    else {\r\n                                        result = paddingZeros + result;\r\n                                    }\r\n                                }\r\n                                result = localize(result, numberFormatInfo);\r\n                                break;\r\n                            default:\r\n                                result = Globalize.format(value, format, culture);\r\n                        }\r\n                        return result;\r\n                    }\r\n                    /** Formats the number using custom format expression */\r\n                    function formatNumberCustom(value, format, culture, nonScientificOverrideFormat) {\r\n                        var result;\r\n                        var numberFormatInfo = culture.numberFormat;\r\n                        if (isFinite(value)) {\r\n                            // Split format by positive[;negative;zero] pattern\r\n                            var formatComponents = getComponents(format);\r\n                            // Pick a format based on the sign of value\r\n                            if (value > 0) {\r\n                                format = formatComponents.positive;\r\n                            }\r\n                            else if (value === 0) {\r\n                                format = formatComponents.zero;\r\n                            }\r\n                            else {\r\n                                format = formatComponents.negative;\r\n                            }\r\n                            // Normalize value if we have an explicit negative format\r\n                            if (formatComponents.hasNegative)\r\n                                value = Math.abs(value);\r\n                            // Get format metadata\r\n                            var formatMeta = getCustomFormatMetadata(format, true /*calculatePrecision*/);\r\n                            // Preserve literals and escaped chars\r\n                            var literals = [];\r\n                            if (formatMeta.hasLiterals) {\r\n                                format = formattingEncoder.preserveLiterals(format, literals);\r\n                            }\r\n                            // Scientific format\r\n                            if (formatMeta.hasE && !nonScientificOverrideFormat) {\r\n                                var scientificMatch = RegExpExtensions.run(ScientificFormatRegex, format);\r\n                                if (scientificMatch) {\r\n                                    // Case 2.1. Scientific custom format\r\n                                    var formatM = format.substr(0, scientificMatch.index);\r\n                                    var formatE = format.substr(scientificMatch.index + 2); // E(+|-)\r\n                                    var precision = getCustomFormatPrecision(formatM, formatMeta);\r\n                                    var scale = getCustomFormatScale(formatM, formatMeta);\r\n                                    if (scale !== 1) {\r\n                                        value = value * scale;\r\n                                    }\r\n                                    // Assert that value is a number and fall back on returning value if it is not\r\n                                    if (typeof (value) !== "number")\r\n                                        return String(value);\r\n                                    var s = value.toExponential(precision);\r\n                                    var indexOfE = s.indexOf("e");\r\n                                    var mantissa = s.substr(0, indexOfE);\r\n                                    var exp = s.substr(indexOfE + 1);\r\n                                    var resultM = fuseNumberWithCustomFormat(mantissa, formatM, numberFormatInfo);\r\n                                    var resultE = fuseNumberWithCustomFormat(exp, formatE, numberFormatInfo);\r\n                                    if (resultE.charAt(0) === "+" && scientificMatch[0].charAt(1) !== "+") {\r\n                                        resultE = resultE.substr(1);\r\n                                    }\r\n                                    var e = scientificMatch[0].charAt(0);\r\n                                    result = resultM + e + resultE;\r\n                                }\r\n                            }\r\n                            // Non scientific format\r\n                            if (result === undefined) {\r\n                                var valueFormatted = void 0;\r\n                                var isValueGlobalized = false;\r\n                                var precision = getCustomFormatPrecision(format, formatMeta);\r\n                                var scale = getCustomFormatScale(format, formatMeta);\r\n                                if (scale !== 1)\r\n                                    value = value * scale;\r\n                                // Rounding\r\n                                value = parseFloat(toNonScientific(value, precision));\r\n                                if (!isFinite(value)) {\r\n                                    // very large and small finite values can become infinite by parseFloat(toNonScientific())\r\n                                    return Globalize.format(value, undefined);\r\n                                }\r\n                                if (nonScientificOverrideFormat) {\r\n                                    // Get numeric format from format string\r\n                                    var numericFormat = numberFormat.getNumericFormat(value, format);\r\n                                    // Add separators and decimalFormat to nonScientificFormat\r\n                                    nonScientificOverrideFormat = getNonScientificFormatWithPrecision(nonScientificOverrideFormat, numericFormat);\r\n                                    // Format the value\r\n                                    valueFormatted = formatting.formattingService.format(nonScientificOverrideFormat, [value], culture.name);\r\n                                    isValueGlobalized = true;\r\n                                }\r\n                                else\r\n                                    valueFormatted = toNonScientific(value, precision);\r\n                                result = fuseNumberWithCustomFormat(valueFormatted, format, numberFormatInfo, nonScientificOverrideFormat, isValueGlobalized);\r\n                            }\r\n                            if (formatMeta.hasLiterals) {\r\n                                result = formattingEncoder.restoreLiterals(result, literals, false);\r\n                            }\r\n                            _lastCustomFormatMeta = formatMeta;\r\n                        }\r\n                        else {\r\n                            return Globalize.format(value, undefined);\r\n                        }\r\n                        return result;\r\n                    }\r\n                    /** Returns string with the fixed point respresentation of the number */\r\n                    function toNonScientific(value, precision) {\r\n                        var result = "";\r\n                        var precisionZeros = 0;\r\n                        // Double precision numbers support actual 15-16 decimal digits of precision.\r\n                        if (precision > 16) {\r\n                            precisionZeros = precision - 16;\r\n                            precision = 16;\r\n                        }\r\n                        var digitsBeforeDecimalPoint = Double.log10(Math.abs(value));\r\n                        if (digitsBeforeDecimalPoint < 16) {\r\n                            if (digitsBeforeDecimalPoint > 0) {\r\n                                var maxPrecision = 16 - digitsBeforeDecimalPoint;\r\n                                if (precision > maxPrecision) {\r\n                                    precisionZeros += precision - maxPrecision;\r\n                                    precision = maxPrecision;\r\n                                }\r\n                            }\r\n                            result = value.toFixed(precision);\r\n                        }\r\n                        else if (digitsBeforeDecimalPoint === 16) {\r\n                            result = value.toFixed(0);\r\n                            precisionZeros += precision;\r\n                            if (precisionZeros > 0) {\r\n                                result += ".";\r\n                            }\r\n                        }\r\n                        else {\r\n                            // Different browsers have different implementations of the toFixed().\r\n                            // In IE it returns fixed format no matter what\'s the number. In FF and Chrome the method returns exponential format for numbers greater than 1E21.\r\n                            // So we need to check for range and convert the to exponential with the max precision.\r\n                            // Then we convert exponential string to fixed by removing the dot and padding with "power" zeros.\r\n                            // Assert that value is a number and fall back on returning value if it is not\r\n                            if (typeof (value) !== "number")\r\n                                return String(value);\r\n                            result = value.toExponential(15);\r\n                            var indexOfE = result.indexOf("e");\r\n                            if (indexOfE > 0) {\r\n                                var indexOfDot = result.indexOf(".");\r\n                                var mantissa = result.substr(0, indexOfE);\r\n                                var exp = result.substr(indexOfE + 1);\r\n                                var powerZeros = parseInt(exp, 10) - (mantissa.length - indexOfDot - 1);\r\n                                result = mantissa.replace(".", "") + stringExtensions.repeat("0", powerZeros);\r\n                                if (precision > 0) {\r\n                                    result = result + "." + stringExtensions.repeat("0", precision);\r\n                                }\r\n                            }\r\n                        }\r\n                        if (precisionZeros > 0) {\r\n                            result = result + stringExtensions.repeat("0", precisionZeros);\r\n                        }\r\n                        return result;\r\n                    }\r\n                    /**\r\n                     * Returns the formatMetadata of the format\r\n                     * When calculating precision and scale, if format string of\r\n                     * positive[;negative;zero] => positive format will be used\r\n                     * @param (required) format - format string\r\n                     * @param (optional) calculatePrecision - calculate precision of positive format\r\n                     * @param (optional) calculateScale - calculate scale of positive format\r\n                     */\r\n                    function getCustomFormatMetadata(format, calculatePrecision, calculateScale, calculatePartsPerScale) {\r\n                        if (_lastCustomFormatMeta !== undefined && format === _lastCustomFormatMeta.format) {\r\n                            return _lastCustomFormatMeta;\r\n                        }\r\n                        var literals = [];\r\n                        var escaped = formattingEncoder.preserveLiterals(format, literals);\r\n                        var result = {\r\n                            format: format,\r\n                            hasLiterals: literals.length !== 0,\r\n                            hasE: false,\r\n                            hasCommas: false,\r\n                            hasDots: false,\r\n                            hasPercent: false,\r\n                            hasPermile: false,\r\n                            precision: undefined,\r\n                            scale: undefined,\r\n                            partsPerScale: undefined,\r\n                        };\r\n                        for (var i = 0, length_1 = escaped.length; i < length_1; i++) {\r\n                            var c = escaped.charAt(i);\r\n                            switch (c) {\r\n                                case "e":\r\n                                case "E":\r\n                                    result.hasE = true;\r\n                                    break;\r\n                                case ",":\r\n                                    result.hasCommas = true;\r\n                                    break;\r\n                                case ".":\r\n                                    result.hasDots = true;\r\n                                    break;\r\n                                case "%":\r\n                                    result.hasPercent = true;\r\n                                    break;\r\n                                case "\\u2030":\r\n                                    result.hasPermile = true;\r\n                                    break;\r\n                            }\r\n                        }\r\n                        // Use positive format for calculating these values\r\n                        var formatComponents = getComponents(format);\r\n                        if (calculatePrecision)\r\n                            result.precision = getCustomFormatPrecision(formatComponents.positive, result);\r\n                        if (calculatePartsPerScale)\r\n                            result.partsPerScale = getCustomFormatPartsPerScale(formatComponents.positive, result);\r\n                        if (calculateScale)\r\n                            result.scale = getCustomFormatScale(formatComponents.positive, result);\r\n                        return result;\r\n                    }\r\n                    numberFormat.getCustomFormatMetadata = getCustomFormatMetadata;\r\n                    /** Returns the decimal precision of format based on the number of # and 0 chars after the decimal point\r\n                      * Important: The input format string needs to be split to the appropriate pos/neg/zero portion to work correctly */\r\n                    function getCustomFormatPrecision(format, formatMeta) {\r\n                        if (formatMeta.precision > -1) {\r\n                            return formatMeta.precision;\r\n                        }\r\n                        var result = 0;\r\n                        if (formatMeta.hasDots) {\r\n                            if (formatMeta.hasLiterals) {\r\n                                format = formattingEncoder.removeLiterals(format);\r\n                            }\r\n                            var dotIndex = format.indexOf(".");\r\n                            if (dotIndex > -1) {\r\n                                var count = format.length;\r\n                                for (var i = dotIndex; i < count; i++) {\r\n                                    var char = format.charAt(i);\r\n                                    if (char.match(NumericPlaceholderRegex))\r\n                                        result++;\r\n                                    // 0.00E+0 :: Break before counting 0 in\r\n                                    // exponential portion of format string\r\n                                    if (char === ExponentialFormatChar)\r\n                                        break;\r\n                                }\r\n                                result = Math.min(19, result);\r\n                            }\r\n                        }\r\n                        formatMeta.precision = result;\r\n                        return result;\r\n                    }\r\n                    function getCustomFormatPartsPerScale(format, formatMeta) {\r\n                        if (formatMeta.partsPerScale != null)\r\n                            return formatMeta.partsPerScale;\r\n                        var result = 1;\r\n                        if (formatMeta.hasPercent && format.indexOf("%") > -1) {\r\n                            result = result * 100;\r\n                        }\r\n                        if (formatMeta.hasPermile && format.indexOf(/* \u2030 */ "\\u2030") > -1) {\r\n                            result = result * 1000;\r\n                        }\r\n                        formatMeta.partsPerScale = result;\r\n                        return result;\r\n                    }\r\n                    /** Returns the scale factor of the format based on the "%" and scaling "," chars in the format */\r\n                    function getCustomFormatScale(format, formatMeta) {\r\n                        if (formatMeta.scale > -1) {\r\n                            return formatMeta.scale;\r\n                        }\r\n                        var result = getCustomFormatPartsPerScale(format, formatMeta);\r\n                        if (formatMeta.hasCommas) {\r\n                            var dotIndex = format.indexOf(".");\r\n                            if (dotIndex === -1) {\r\n                                dotIndex = format.length;\r\n                            }\r\n                            for (var i = dotIndex - 1; i > -1; i--) {\r\n                                var char = format.charAt(i);\r\n                                if (char === ",") {\r\n                                    result = result / 1000;\r\n                                }\r\n                                else {\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        formatMeta.scale = result;\r\n                        return result;\r\n                    }\r\n                    function fuseNumberWithCustomFormat(value, format, numberFormatInfo, nonScientificOverrideFormat, isValueGlobalized) {\r\n                        var suppressModifyValue = !!nonScientificOverrideFormat;\r\n                        var formatParts = format.split(".", 2);\r\n                        if (formatParts.length === 2) {\r\n                            var wholeFormat = formatParts[0];\r\n                            var fractionFormat = formatParts[1];\r\n                            var displayUnit = "";\r\n                            // Remove display unit from value before splitting on "." as localized display units sometimes end with "."\r\n                            if (nonScientificOverrideFormat) {\r\n                                displayUnit = nonScientificOverrideFormat.replace(NumericalPlaceHolderRegex, "");\r\n                                value = value.replace(displayUnit, "");\r\n                            }\r\n                            var globalizedDecimalSeparator = numberFormatInfo["."];\r\n                            var decimalSeparator = isValueGlobalized ? globalizedDecimalSeparator : ".";\r\n                            var valueParts = value.split(decimalSeparator, 2);\r\n                            var wholeValue = valueParts.length === 1 ? valueParts[0] + displayUnit : valueParts[0];\r\n                            var fractionValue = valueParts.length === 2 ? valueParts[1] + displayUnit : "";\r\n                            fractionValue = fractionValue.replace(TrailingZerosRegex, "");\r\n                            var wholeFormattedValue = fuseNumberWithCustomFormatLeft(wholeValue, wholeFormat, numberFormatInfo, suppressModifyValue);\r\n                            var fractionFormattedValue = fuseNumberWithCustomFormatRight(fractionValue, fractionFormat, suppressModifyValue);\r\n                            if (fractionFormattedValue.fmtOnly || fractionFormattedValue.value === "")\r\n                                return wholeFormattedValue + fractionFormattedValue.value;\r\n                            return wholeFormattedValue + globalizedDecimalSeparator + fractionFormattedValue.value;\r\n                        }\r\n                        return fuseNumberWithCustomFormatLeft(value, format, numberFormatInfo, suppressModifyValue);\r\n                    }\r\n                    function fuseNumberWithCustomFormatLeft(value, format, numberFormatInfo, suppressModifyValue) {\r\n                        var groupSymbolIndex = format.indexOf(",");\r\n                        var enableGroups = groupSymbolIndex > -1 && groupSymbolIndex < Math.max(format.lastIndexOf("0"), format.lastIndexOf("#")) && numberFormatInfo[","];\r\n                        var groupDigitCount = 0;\r\n                        var groupIndex = 0;\r\n                        var groupSizes = numberFormatInfo.groupSizes || [3];\r\n                        var groupSize = groupSizes[0];\r\n                        var groupSeparator = numberFormatInfo[","];\r\n                        var sign = "";\r\n                        var firstChar = value.charAt(0);\r\n                        if (firstChar === "+" || firstChar === "-") {\r\n                            sign = numberFormatInfo[firstChar];\r\n                            value = value.substr(1);\r\n                        }\r\n                        var isZero = value === "0";\r\n                        var result = "";\r\n                        var leftBuffer = "";\r\n                        var vi = value.length - 1;\r\n                        var fmtOnly = true;\r\n                        // Iterate through format chars and replace 0 and # with the digits from the value string\r\n                        for (var fi = format.length - 1; fi > -1; fi--) {\r\n                            var formatChar = format.charAt(fi);\r\n                            switch (formatChar) {\r\n                                case ZeroPlaceholder:\r\n                                case DigitPlaceholder:\r\n                                    fmtOnly = false;\r\n                                    if (leftBuffer !== "") {\r\n                                        result = leftBuffer + result;\r\n                                        leftBuffer = "";\r\n                                    }\r\n                                    if (!suppressModifyValue) {\r\n                                        if (vi > -1 || formatChar === ZeroPlaceholder) {\r\n                                            if (enableGroups) {\r\n                                                // If the groups are enabled we\'ll need to keep track of the current group index and periodically insert group separator,\r\n                                                if (groupDigitCount === groupSize) {\r\n                                                    result = groupSeparator + result;\r\n                                                    groupIndex++;\r\n                                                    if (groupIndex < groupSizes.length) {\r\n                                                        groupSize = groupSizes[groupIndex];\r\n                                                    }\r\n                                                    groupDigitCount = 1;\r\n                                                }\r\n                                                else {\r\n                                                    groupDigitCount++;\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        if (vi > -1) {\r\n                                            if (isZero && formatChar === DigitPlaceholder) {\r\n                                            }\r\n                                            else {\r\n                                                result = value.charAt(vi) + result;\r\n                                            }\r\n                                            vi--;\r\n                                        }\r\n                                        else if (formatChar !== DigitPlaceholder) {\r\n                                            result = formatChar + result;\r\n                                        }\r\n                                    }\r\n                                    break;\r\n                                case ",":\r\n                                    // We should skip all the , chars\r\n                                    break;\r\n                                default:\r\n                                    leftBuffer = formatChar + leftBuffer;\r\n                                    break;\r\n                            }\r\n                        }\r\n                        // If the value didn\'t fit into the number of zeros provided in the format then we should insert the missing part of the value into the result\r\n                        if (!suppressModifyValue) {\r\n                            if (vi > -1 && result !== "") {\r\n                                if (enableGroups) {\r\n                                    while (vi > -1) {\r\n                                        if (groupDigitCount === groupSize) {\r\n                                            result = groupSeparator + result;\r\n                                            groupIndex++;\r\n                                            if (groupIndex < groupSizes.length) {\r\n                                                groupSize = groupSizes[groupIndex];\r\n                                            }\r\n                                            groupDigitCount = 1;\r\n                                        }\r\n                                        else {\r\n                                            groupDigitCount++;\r\n                                        }\r\n                                        result = value.charAt(vi) + result;\r\n                                        vi--;\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    result = value.substr(0, vi + 1) + result;\r\n                                }\r\n                            }\r\n                            // Insert sign in front of the leftBuffer and result\r\n                            return sign + leftBuffer + result;\r\n                        }\r\n                        if (fmtOnly)\r\n                            // If the format doesn\'t specify any digits to be displayed, then just return the format we\'ve parsed up until now.\r\n                            return sign + leftBuffer + result;\r\n                        return sign + leftBuffer + value + result;\r\n                    }\r\n                    function fuseNumberWithCustomFormatRight(value, format, suppressModifyValue) {\r\n                        var vi = 0;\r\n                        var fCount = format.length;\r\n                        var vCount = value.length;\r\n                        if (suppressModifyValue) {\r\n                            var lastChar = format.charAt(fCount - 1);\r\n                            if (!lastChar.match(NumericPlaceholderRegex))\r\n                                return {\r\n                                    value: value + lastChar,\r\n                                    fmtOnly: value === "",\r\n                                };\r\n                            return {\r\n                                value: value,\r\n                                fmtOnly: value === "",\r\n                            };\r\n                        }\r\n                        var result = "", fmtOnly = true;\r\n                        for (var fi = 0; fi < fCount; fi++) {\r\n                            var formatChar = format.charAt(fi);\r\n                            if (vi < vCount) {\r\n                                switch (formatChar) {\r\n                                    case ZeroPlaceholder:\r\n                                    case DigitPlaceholder:\r\n                                        result += value[vi++];\r\n                                        fmtOnly = false;\r\n                                        break;\r\n                                    default:\r\n                                        result += formatChar;\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (formatChar !== DigitPlaceholder) {\r\n                                    result += formatChar;\r\n                                    fmtOnly = fmtOnly && (formatChar !== ZeroPlaceholder);\r\n                                }\r\n                            }\r\n                        }\r\n                        return {\r\n                            value: result,\r\n                            fmtOnly: fmtOnly,\r\n                        };\r\n                    }\r\n                    function localize(value, dictionary) {\r\n                        var plus = dictionary["+"];\r\n                        var minus = dictionary["-"];\r\n                        var dot = dictionary["."];\r\n                        var comma = dictionary[","];\r\n                        if (plus === "+" && minus === "-" && dot === "." && comma === ",") {\r\n                            return value;\r\n                        }\r\n                        var count = value.length;\r\n                        var result = "";\r\n                        for (var i = 0; i < count; i++) {\r\n                            var char = value.charAt(i);\r\n                            switch (char) {\r\n                                case "+":\r\n                                    result = result + plus;\r\n                                    break;\r\n                                case "-":\r\n                                    result = result + minus;\r\n                                    break;\r\n                                case ".":\r\n                                    result = result + dot;\r\n                                    break;\r\n                                case ",":\r\n                                    result = result + comma;\r\n                                    break;\r\n                                default:\r\n                                    result = result + char;\r\n                                    break;\r\n                            }\r\n                        }\r\n                        return result;\r\n                    }\r\n                })(numberFormat = formatting.numberFormat || (formatting.numberFormat = {}));\r\n                /** DateTimeScaleFormatInfo is used to calculate and keep the Date formats used for different units supported by the DateTimeScaleModel */\r\n                var DateTimeScaleFormatInfo = (function () {\r\n                    // Constructor\r\n                    /**\r\n                     * Creates new instance of the DateTimeScaleFormatInfo class.\r\n                     * @param culture - culture which calendar info is going to be used to derive the formats.\r\n                     */\r\n                    function DateTimeScaleFormatInfo(culture) {\r\n                        var calendar = culture.calendar;\r\n                        var patterns = calendar.patterns;\r\n                        var monthAbbreviations = calendar["months"]["namesAbbr"];\r\n                        var cultureHasMonthAbbr = monthAbbreviations && monthAbbreviations[0];\r\n                        var yearMonthPattern = patterns["Y"];\r\n                        var monthDayPattern = patterns["M"];\r\n                        var fullPattern = patterns["f"];\r\n                        var longTimePattern = patterns["T"];\r\n                        var shortTimePattern = patterns["t"];\r\n                        var separator = fullPattern.indexOf(",") > -1 ? ", " : " ";\r\n                        var hasYearSymbol = yearMonthPattern.indexOf("yyyy\'") === 0 && yearMonthPattern.length > 6 && yearMonthPattern[6] === "\\\'";\r\n                        this.YearPattern = hasYearSymbol ? yearMonthPattern.substr(0, 7) : "yyyy";\r\n                        var yearPos = fullPattern.indexOf("yy");\r\n                        var monthPos = fullPattern.indexOf("MMMM");\r\n                        this.MonthPattern = cultureHasMonthAbbr && monthPos > -1 ? (yearPos > monthPos ? "MMM yyyy" : "yyyy MMM") : yearMonthPattern;\r\n                        this.DayPattern = cultureHasMonthAbbr ? monthDayPattern.replace("MMMM", "MMM") : monthDayPattern;\r\n                        var minutePos = fullPattern.indexOf("mm");\r\n                        var pmPos = fullPattern.indexOf("tt");\r\n                        var shortHourPattern = pmPos > -1 ? shortTimePattern.replace(":mm ", "") : shortTimePattern;\r\n                        this.HourPattern = yearPos < minutePos ? this.DayPattern + separator + shortHourPattern : shortHourPattern + separator + this.DayPattern;\r\n                        this.MinutePattern = shortTimePattern;\r\n                        this.SecondPattern = longTimePattern;\r\n                        this.MillisecondPattern = longTimePattern.replace("ss", "ss.fff");\r\n                        // Special cases\r\n                        switch (culture.name) {\r\n                            case "fi-FI":\r\n                                this.DayPattern = this.DayPattern.replace("\'ta\'", ""); // Fix for finish \'ta\' suffix for month names.\r\n                                this.HourPattern = this.HourPattern.replace("\'ta\'", "");\r\n                                break;\r\n                        }\r\n                    }\r\n                    // Methods\r\n                    /**\r\n                     * Returns the format string of the provided DateTimeUnit.\r\n                     * @param unit - date or time unit\r\n                     */\r\n                    DateTimeScaleFormatInfo.prototype.getFormatString = function (unit) {\r\n                        switch (unit) {\r\n                            case DateTimeUnit.Year:\r\n                                return this.YearPattern;\r\n                            case DateTimeUnit.Month:\r\n                                return this.MonthPattern;\r\n                            case DateTimeUnit.Week:\r\n                            case DateTimeUnit.Day:\r\n                                return this.DayPattern;\r\n                            case DateTimeUnit.Hour:\r\n                                return this.HourPattern;\r\n                            case DateTimeUnit.Minute:\r\n                                return this.MinutePattern;\r\n                            case DateTimeUnit.Second:\r\n                                return this.SecondPattern;\r\n                            case DateTimeUnit.Millisecond:\r\n                                return this.MillisecondPattern;\r\n                        }\r\n                    };\r\n                    return DateTimeScaleFormatInfo;\r\n                }());\r\n                formatting.formattingService = new FormattingService();\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                /** The system used to determine display units used during formatting */\r\n                var DisplayUnitSystemType;\r\n                (function (DisplayUnitSystemType) {\r\n                    /** Default display unit system, which saves space by using units such as K, M, bn with PowerView rules for when to pick a unit. Suitable for chart axes. */\r\n                    DisplayUnitSystemType[DisplayUnitSystemType["Default"] = 0] = "Default";\r\n                    /** A verbose display unit system that will only respect the formatting defined in the model. Suitable for explore mode single-value cards. */\r\n                    DisplayUnitSystemType[DisplayUnitSystemType["Verbose"] = 1] = "Verbose";\r\n                    /**\r\n                     * A display unit system that uses units such as K, M, bn if we have at least one of those units (e.g. 0.9M is not valid as it\'s less than 1 million).\r\n                     * Suitable for dashboard tile cards\r\n                     */\r\n                    DisplayUnitSystemType[DisplayUnitSystemType["WholeUnits"] = 2] = "WholeUnits";\r\n                    /**A display unit system that also contains Auto and None units for data labels*/\r\n                    DisplayUnitSystemType[DisplayUnitSystemType["DataLabels"] = 3] = "DataLabels";\r\n                })(DisplayUnitSystemType = formatting.DisplayUnitSystemType || (formatting.DisplayUnitSystemType = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                var NumberFormat = powerbi.extensibility.utils.formatting.numberFormat;\r\n                var formattingService = powerbi.extensibility.utils.formatting.formattingService;\r\n                // Constants\r\n                var maxExponent = 24;\r\n                var defaultScientificBigNumbersBoundary = 1E15;\r\n                var scientificSmallNumbersBoundary = 1E-4;\r\n                var PERCENTAGE_FORMAT = "%";\r\n                var SCIENTIFIC_FORMAT = "E+0";\r\n                var DEFAULT_SCIENTIFIC_FORMAT = "0.##" + SCIENTIFIC_FORMAT;\r\n                // Regular expressions\r\n                /**\r\n                 * This regex looks for strings that match one of the following conditions:\r\n                 *   - Optionally contain "0", "#", followed by a period, followed by at least one "0" or "#" (Ex. ###,000.###)\r\n                 *   - Contains at least one of "0", "#", or "," (Ex. ###,000)\r\n                 *   - Contain a "g" (indicates to use the general .NET numeric format string)\r\n                 * The entire string (start to end) must match, and the match is not case-sensitive.\r\n                 */\r\n                var SUPPORTED_SCIENTIFIC_FORMATS = /^([0\\#,]*\\.[0\\#]+|[0\\#,]+|g)$/i;\r\n                var DisplayUnit = (function () {\r\n                    function DisplayUnit() {\r\n                    }\r\n                    // Methods\r\n                    DisplayUnit.prototype.project = function (value) {\r\n                        if (this.value) {\r\n                            return Double.removeDecimalNoise(value / this.value);\r\n                        }\r\n                        else {\r\n                            return value;\r\n                        }\r\n                    };\r\n                    DisplayUnit.prototype.reverseProject = function (value) {\r\n                        if (this.value) {\r\n                            return value * this.value;\r\n                        }\r\n                        else {\r\n                            return value;\r\n                        }\r\n                    };\r\n                    DisplayUnit.prototype.isApplicableTo = function (value) {\r\n                        value = Math.abs(value);\r\n                        var precision = Double.getPrecision(value, 3);\r\n                        return Double.greaterOrEqualWithPrecision(value, this.applicableRangeMin, precision) && Double.lessWithPrecision(value, this.applicableRangeMax, precision);\r\n                    };\r\n                    DisplayUnit.prototype.isScaling = function () {\r\n                        return this.value > 1;\r\n                    };\r\n                    return DisplayUnit;\r\n                }());\r\n                formatting.DisplayUnit = DisplayUnit;\r\n                var DisplayUnitSystem = (function () {\r\n                    // Constructor\r\n                    function DisplayUnitSystem(units) {\r\n                        this.units = units ? units : [];\r\n                    }\r\n                    Object.defineProperty(DisplayUnitSystem.prototype, "title", {\r\n                        // Properties\r\n                        get: function () {\r\n                            return this.displayUnit ? this.displayUnit.title : undefined;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    // Methods\r\n                    DisplayUnitSystem.prototype.update = function (value) {\r\n                        if (value === undefined)\r\n                            return;\r\n                        this.unitBaseValue = value;\r\n                        this.displayUnit = this.findApplicableDisplayUnit(value);\r\n                    };\r\n                    DisplayUnitSystem.prototype.findApplicableDisplayUnit = function (value) {\r\n                        for (var _i = 0, _a = this.units; _i < _a.length; _i++) {\r\n                            var unit = _a[_i];\r\n                            if (unit.isApplicableTo(value))\r\n                                return unit;\r\n                        }\r\n                        return undefined;\r\n                    };\r\n                    DisplayUnitSystem.prototype.format = function (value, format, decimals, trailingZeros, cultureSelector) {\r\n                        decimals = this.getNumberOfDecimalsForFormatting(format, decimals);\r\n                        var nonScientificFormat = "";\r\n                        if (this.isFormatSupported(format)\r\n                            && !this.hasScientitifcFormat(format)\r\n                            && this.isScalingUnit()\r\n                            && this.shouldRespectScalingUnit(format)) {\r\n                            value = this.displayUnit.project(value);\r\n                            nonScientificFormat = this.displayUnit.labelFormat;\r\n                        }\r\n                        return this.formatHelper({\r\n                            value: value,\r\n                            nonScientificFormat: nonScientificFormat,\r\n                            format: format,\r\n                            decimals: decimals,\r\n                            trailingZeros: trailingZeros,\r\n                            cultureSelector: cultureSelector\r\n                        });\r\n                    };\r\n                    DisplayUnitSystem.prototype.isFormatSupported = function (format) {\r\n                        return !DisplayUnitSystem.UNSUPPORTED_FORMATS.test(format);\r\n                    };\r\n                    DisplayUnitSystem.prototype.isPercentageFormat = function (format) {\r\n                        return format && format.indexOf(PERCENTAGE_FORMAT) >= 0;\r\n                    };\r\n                    DisplayUnitSystem.prototype.shouldRespectScalingUnit = function (format) {\r\n                        return true;\r\n                    };\r\n                    DisplayUnitSystem.prototype.getNumberOfDecimalsForFormatting = function (format, decimals) {\r\n                        return decimals;\r\n                    };\r\n                    DisplayUnitSystem.prototype.isScalingUnit = function () {\r\n                        return this.displayUnit && this.displayUnit.isScaling();\r\n                    };\r\n                    DisplayUnitSystem.prototype.formatHelper = function (options) {\r\n                        var value = options.value, nonScientificFormat = options.nonScientificFormat, cultureSelector = options.cultureSelector, format = options.format, decimals = options.decimals, trailingZeros = options.trailingZeros;\r\n                        // If the format is "general" and we want to override the number of decimal places then use the default numeric format string.\r\n                        if ((format === "g" || format === "G") && decimals != null) {\r\n                            format = "#,0.00";\r\n                        }\r\n                        format = NumberFormat.addDecimalsToFormat(format, decimals, trailingZeros);\r\n                        if (format && !formattingService.isStandardNumberFormat(format))\r\n                            return formattingService.formatNumberWithCustomOverride(value, format, nonScientificFormat);\r\n                        if (!format) {\r\n                            format = "G";\r\n                        }\r\n                        if (!nonScientificFormat) {\r\n                            nonScientificFormat = "{0}";\r\n                        }\r\n                        var text = formattingService.formatValue(value, format, cultureSelector);\r\n                        return formattingService.format(nonScientificFormat, [text]);\r\n                    };\r\n                    /** Formats a single value by choosing an appropriate base for the DisplayUnitSystem before formatting. */\r\n                    DisplayUnitSystem.prototype.formatSingleValue = function (value, format, decimals, trailingZeros, cultureSelector) {\r\n                        // Change unit base to a value appropriate for this value\r\n                        this.update(this.shouldUseValuePrecision(value) ? Double.getPrecision(value, 8) : value);\r\n                        return this.format(value, format, decimals, trailingZeros, cultureSelector);\r\n                    };\r\n                    DisplayUnitSystem.prototype.shouldUseValuePrecision = function (value) {\r\n                        if (this.units.length === 0)\r\n                            return true;\r\n                        // Check if the value is big enough to have a valid unit by checking against the smallest unit (that it\'s value bigger than 1).\r\n                        var applicableRangeMin = 0;\r\n                        for (var i = 0; i < this.units.length; i++) {\r\n                            if (this.units[i].isScaling()) {\r\n                                applicableRangeMin = this.units[i].applicableRangeMin;\r\n                                break;\r\n                            }\r\n                        }\r\n                        return Math.abs(value) < applicableRangeMin;\r\n                    };\r\n                    DisplayUnitSystem.prototype.isScientific = function (value) {\r\n                        return value < -defaultScientificBigNumbersBoundary || value > defaultScientificBigNumbersBoundary ||\r\n                            (-scientificSmallNumbersBoundary < value && value < scientificSmallNumbersBoundary && value !== 0);\r\n                    };\r\n                    DisplayUnitSystem.prototype.hasScientitifcFormat = function (format) {\r\n                        return format && format.toUpperCase().indexOf("E") !== -1;\r\n                    };\r\n                    DisplayUnitSystem.prototype.supportsScientificFormat = function (format) {\r\n                        if (format)\r\n                            return SUPPORTED_SCIENTIFIC_FORMATS.test(format);\r\n                        return true;\r\n                    };\r\n                    DisplayUnitSystem.prototype.shouldFallbackToScientific = function (value, format) {\r\n                        return !this.hasScientitifcFormat(format)\r\n                            && this.supportsScientificFormat(format)\r\n                            && this.isScientific(value);\r\n                    };\r\n                    DisplayUnitSystem.prototype.getScientificFormat = function (data, format, decimals, trailingZeros) {\r\n                        // Use scientific format outside of the range\r\n                        if (this.isFormatSupported(format) && this.shouldFallbackToScientific(data, format)) {\r\n                            var numericFormat = NumberFormat.getNumericFormat(data, format);\r\n                            if (decimals)\r\n                                numericFormat = NumberFormat.addDecimalsToFormat(numericFormat ? numericFormat : "0", Math.abs(decimals), trailingZeros);\r\n                            if (numericFormat)\r\n                                return numericFormat + SCIENTIFIC_FORMAT;\r\n                            else\r\n                                return DEFAULT_SCIENTIFIC_FORMAT;\r\n                        }\r\n                        return format;\r\n                    };\r\n                    return DisplayUnitSystem;\r\n                }());\r\n                DisplayUnitSystem.UNSUPPORTED_FORMATS = /^(p\\d*)|(e\\d*)$/i;\r\n                formatting.DisplayUnitSystem = DisplayUnitSystem;\r\n                /** Provides a unit system that is defined by formatting in the model, and is suitable for visualizations shown in single number visuals in explore mode. */\r\n                var NoDisplayUnitSystem = (function (_super) {\r\n                    __extends(NoDisplayUnitSystem, _super);\r\n                    // Constructor\r\n                    function NoDisplayUnitSystem() {\r\n                        return _super.call(this, []) || this;\r\n                    }\r\n                    return NoDisplayUnitSystem;\r\n                }(DisplayUnitSystem));\r\n                formatting.NoDisplayUnitSystem = NoDisplayUnitSystem;\r\n                /** Provides a unit system that creates a more concise format for displaying values. This is suitable for most of the cases where\r\n                    we are showing values (chart axes) and as such it is the default unit system. */\r\n                var DefaultDisplayUnitSystem = (function (_super) {\r\n                    __extends(DefaultDisplayUnitSystem, _super);\r\n                    // Constructor\r\n                    function DefaultDisplayUnitSystem(unitLookup) {\r\n                        return _super.call(this, DefaultDisplayUnitSystem.getUnits(unitLookup)) || this;\r\n                    }\r\n                    // Methods\r\n                    DefaultDisplayUnitSystem.prototype.format = function (data, format, decimals, trailingZeros, cultureSelector) {\r\n                        format = this.getScientificFormat(data, format, decimals, trailingZeros);\r\n                        return _super.prototype.format.call(this, data, format, decimals, trailingZeros, cultureSelector);\r\n                    };\r\n                    DefaultDisplayUnitSystem.reset = function () {\r\n                        DefaultDisplayUnitSystem.units = null;\r\n                    };\r\n                    DefaultDisplayUnitSystem.getUnits = function (unitLookup) {\r\n                        if (!DefaultDisplayUnitSystem.units) {\r\n                            DefaultDisplayUnitSystem.units = createDisplayUnits(unitLookup, function (value, previousUnitValue, min) {\r\n                                // When dealing with millions/billions/trillions we need to switch to millions earlier: for example instead of showing 100K 200K 300K we should show 0.1M 0.2M 0.3M etc\r\n                                if (value - previousUnitValue >= 1000) {\r\n                                    return value / 10;\r\n                                }\r\n                                return min;\r\n                            });\r\n                            // Ensure last unit has max of infinity\r\n                            DefaultDisplayUnitSystem.units[DefaultDisplayUnitSystem.units.length - 1].applicableRangeMax = Infinity;\r\n                        }\r\n                        return DefaultDisplayUnitSystem.units;\r\n                    };\r\n                    return DefaultDisplayUnitSystem;\r\n                }(DisplayUnitSystem));\r\n                formatting.DefaultDisplayUnitSystem = DefaultDisplayUnitSystem;\r\n                /** Provides a unit system that creates a more concise format for displaying values, but only allows showing a unit if we have at least\r\n                    one of those units (e.g. 0.9M is not allowed since it\'s less than 1 million). This is suitable for cases such as dashboard tiles\r\n                    where we have restricted space but do not want to show partial units. */\r\n                var WholeUnitsDisplayUnitSystem = (function (_super) {\r\n                    __extends(WholeUnitsDisplayUnitSystem, _super);\r\n                    // Constructor\r\n                    function WholeUnitsDisplayUnitSystem(unitLookup) {\r\n                        return _super.call(this, WholeUnitsDisplayUnitSystem.getUnits(unitLookup)) || this;\r\n                    }\r\n                    WholeUnitsDisplayUnitSystem.reset = function () {\r\n                        WholeUnitsDisplayUnitSystem.units = null;\r\n                    };\r\n                    WholeUnitsDisplayUnitSystem.getUnits = function (unitLookup) {\r\n                        if (!WholeUnitsDisplayUnitSystem.units) {\r\n                            WholeUnitsDisplayUnitSystem.units = createDisplayUnits(unitLookup);\r\n                            // Ensure last unit has max of infinity\r\n                            WholeUnitsDisplayUnitSystem.units[WholeUnitsDisplayUnitSystem.units.length - 1].applicableRangeMax = Infinity;\r\n                        }\r\n                        return WholeUnitsDisplayUnitSystem.units;\r\n                    };\r\n                    WholeUnitsDisplayUnitSystem.prototype.format = function (data, format, decimals, trailingZeros, cultureSelector) {\r\n                        format = this.getScientificFormat(data, format, decimals, trailingZeros);\r\n                        return _super.prototype.format.call(this, data, format, decimals, trailingZeros, cultureSelector);\r\n                    };\r\n                    return WholeUnitsDisplayUnitSystem;\r\n                }(DisplayUnitSystem));\r\n                formatting.WholeUnitsDisplayUnitSystem = WholeUnitsDisplayUnitSystem;\r\n                var DataLabelsDisplayUnitSystem = (function (_super) {\r\n                    __extends(DataLabelsDisplayUnitSystem, _super);\r\n                    function DataLabelsDisplayUnitSystem(unitLookup) {\r\n                        return _super.call(this, DataLabelsDisplayUnitSystem.getUnits(unitLookup)) || this;\r\n                    }\r\n                    DataLabelsDisplayUnitSystem.prototype.isFormatSupported = function (format) {\r\n                        return !DataLabelsDisplayUnitSystem.UNSUPPORTED_FORMATS.test(format);\r\n                    };\r\n                    DataLabelsDisplayUnitSystem.getUnits = function (unitLookup) {\r\n                        if (!DataLabelsDisplayUnitSystem.units) {\r\n                            var units = [];\r\n                            var adjustMinBasedOnPreviousUnit = function (value, previousUnitValue, min) {\r\n                                // Never returns true, we are always ignoring\r\n                                // We do not early switch (e.g. 100K instead of 0.1M)\r\n                                // Intended? If so, remove this function, otherwise, remove if statement\r\n                                if (value === -1)\r\n                                    if (value - previousUnitValue >= 1000) {\r\n                                        return value / 10;\r\n                                    }\r\n                                return min;\r\n                            };\r\n                            // Add Auto & None\r\n                            var names = unitLookup(-1);\r\n                            addUnitIfNonEmpty(units, DataLabelsDisplayUnitSystem.AUTO_DISPLAYUNIT_VALUE, names.title, names.format, adjustMinBasedOnPreviousUnit);\r\n                            names = unitLookup(0);\r\n                            addUnitIfNonEmpty(units, DataLabelsDisplayUnitSystem.NONE_DISPLAYUNIT_VALUE, names.title, names.format, adjustMinBasedOnPreviousUnit);\r\n                            // Add normal units\r\n                            DataLabelsDisplayUnitSystem.units = units.concat(createDisplayUnits(unitLookup, adjustMinBasedOnPreviousUnit));\r\n                            // Ensure last unit has max of infinity\r\n                            DataLabelsDisplayUnitSystem.units[DataLabelsDisplayUnitSystem.units.length - 1].applicableRangeMax = Infinity;\r\n                        }\r\n                        return DataLabelsDisplayUnitSystem.units;\r\n                    };\r\n                    DataLabelsDisplayUnitSystem.prototype.format = function (data, format, decimals, trailingZeros, cultureSelector) {\r\n                        format = this.getScientificFormat(data, format, decimals, trailingZeros);\r\n                        return _super.prototype.format.call(this, data, format, decimals, trailingZeros, cultureSelector);\r\n                    };\r\n                    return DataLabelsDisplayUnitSystem;\r\n                }(DisplayUnitSystem));\r\n                // Constants\r\n                DataLabelsDisplayUnitSystem.AUTO_DISPLAYUNIT_VALUE = 0;\r\n                DataLabelsDisplayUnitSystem.NONE_DISPLAYUNIT_VALUE = 1;\r\n                DataLabelsDisplayUnitSystem.UNSUPPORTED_FORMATS = /^(e\\d*)$/i;\r\n                formatting.DataLabelsDisplayUnitSystem = DataLabelsDisplayUnitSystem;\r\n                function createDisplayUnits(unitLookup, adjustMinBasedOnPreviousUnit) {\r\n                    var units = [];\r\n                    for (var i = 3; i < maxExponent; i++) {\r\n                        var names = unitLookup(i);\r\n                        if (names)\r\n                            addUnitIfNonEmpty(units, Double.pow10(i), names.title, names.format, adjustMinBasedOnPreviousUnit);\r\n                    }\r\n                    return units;\r\n                }\r\n                function addUnitIfNonEmpty(units, value, title, labelFormat, adjustMinBasedOnPreviousUnit) {\r\n                    if (title || labelFormat) {\r\n                        var min = value;\r\n                        if (units.length > 0) {\r\n                            var previousUnit = units[units.length - 1];\r\n                            if (adjustMinBasedOnPreviousUnit)\r\n                                min = adjustMinBasedOnPreviousUnit(value, previousUnit.value, min);\r\n                            previousUnit.applicableRangeMax = min;\r\n                        }\r\n                        var unit = new DisplayUnit();\r\n                        unit.value = value;\r\n                        unit.applicableRangeMin = min;\r\n                        unit.applicableRangeMax = min * 1000;\r\n                        unit.title = title;\r\n                        unit.labelFormat = labelFormat;\r\n                        units.push(unit);\r\n                    }\r\n                }\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\n/**\r\n * Contains functions/constants to aid in text manupilation.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                var textUtil;\r\n                (function (textUtil) {\r\n                    /**\r\n                     * Remove breaking spaces from given string and replace by none breaking space (&nbsp).\r\n                     */\r\n                    function removeBreakingSpaces(str) {\r\n                        return str.toString().replace(new RegExp(" ", "g"), "&nbsp");\r\n                    }\r\n                    textUtil.removeBreakingSpaces = removeBreakingSpaces;\r\n                    /**\r\n                     * Remove ellipses from a given string\r\n                     */\r\n                    function removeEllipses(str) {\r\n                        return str.replace(/(\u2026)|(\\.\\.\\.)/g, "");\r\n                    }\r\n                    textUtil.removeEllipses = removeEllipses;\r\n                    /**\r\n                    * Replace every whitespace (0x20) with Non-Breaking Space (0xA0)\r\n                     * @param {string} txt String to replace White spaces\r\n                     * @returns Text after replcing white spaces\r\n                     */\r\n                    function replaceSpaceWithNBSP(txt) {\r\n                        if (txt != null) {\r\n                            return txt.replace(/ /g, "\\xA0");\r\n                        }\r\n                    }\r\n                    textUtil.replaceSpaceWithNBSP = replaceSpaceWithNBSP;\r\n                })(textUtil = formatting.textUtil || (formatting.textUtil = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n"use strict";\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var formatting;\r\n            (function (formatting) {\r\n                // powerbi.extensibility.utils.type\r\n                var ValueType = powerbi.extensibility.utils.type.ValueType;\r\n                var PrimitiveType = powerbi.extensibility.utils.type.PrimitiveType;\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                // powerbi.extensibility.utils.formatting\r\n                var stringExtensions = powerbi.extensibility.utils.formatting.stringExtensions;\r\n                var DisplayUnitSystemType = powerbi.extensibility.utils.formatting.DisplayUnitSystemType;\r\n                var DefaultDisplayUnitSystem = powerbi.extensibility.utils.formatting.DefaultDisplayUnitSystem;\r\n                var NumberFormat = powerbi.extensibility.utils.formatting.numberFormat;\r\n                var WholeUnitsDisplayUnitSystem = powerbi.extensibility.utils.formatting.WholeUnitsDisplayUnitSystem;\r\n                var DateTimeSequence = powerbi.extensibility.utils.formatting.DateTimeSequence;\r\n                var NoDisplayUnitSystem = powerbi.extensibility.utils.formatting.NoDisplayUnitSystem;\r\n                var DataLabelsDisplayUnitSystem = powerbi.extensibility.utils.formatting.DataLabelsDisplayUnitSystem;\r\n                var formattingService = powerbi.extensibility.utils.formatting.formattingService;\r\n                // powerbi.extensibility.utils.dataview\r\n                var DataViewObjects = powerbi.extensibility.utils.dataview.DataViewObjects;\r\n                var valueFormatter;\r\n                (function (valueFormatter) {\r\n                    var StringExtensions = stringExtensions;\r\n                    var BeautifiedFormat = {\r\n                        "0.00 %;-0.00 %;0.00 %": "Percentage",\r\n                        "0.0 %;-0.0 %;0.0 %": "Percentage1",\r\n                    };\r\n                    valueFormatter.DefaultIntegerFormat = "g";\r\n                    valueFormatter.DefaultNumericFormat = "#,0.00";\r\n                    valueFormatter.DefaultDateFormat = "d";\r\n                    var defaultLocalizedStrings = {\r\n                        "NullValue": "(Blank)",\r\n                        "BooleanTrue": "True",\r\n                        "BooleanFalse": "False",\r\n                        "NaNValue": "NaN",\r\n                        "InfinityValue": "+Infinity",\r\n                        "NegativeInfinityValue": "-Infinity",\r\n                        "RestatementComma": "{0}, {1}",\r\n                        "RestatementCompoundAnd": "{0} and {1}",\r\n                        "RestatementCompoundOr": "{0} or {1}",\r\n                        "DisplayUnitSystem_EAuto_Title": "Auto",\r\n                        "DisplayUnitSystem_E0_Title": "None",\r\n                        "DisplayUnitSystem_E3_LabelFormat": "{0}K",\r\n                        "DisplayUnitSystem_E3_Title": "Thousands",\r\n                        "DisplayUnitSystem_E6_LabelFormat": "{0}M",\r\n                        "DisplayUnitSystem_E6_Title": "Millions",\r\n                        "DisplayUnitSystem_E9_LabelFormat": "{0}bn",\r\n                        "DisplayUnitSystem_E9_Title": "Billions",\r\n                        "DisplayUnitSystem_E12_LabelFormat": "{0}T",\r\n                        "DisplayUnitSystem_E12_Title": "Trillions",\r\n                        "Percentage": "#,0.##%",\r\n                        "Percentage1": "#,0.#%",\r\n                        "TableTotalLabel": "Total",\r\n                        "Tooltip_HighlightedValueDisplayName": "Highlighted",\r\n                        "Funnel_PercentOfFirst": "Percent of first",\r\n                        "Funnel_PercentOfPrevious": "Percent of previous",\r\n                        "Funnel_PercentOfFirst_Highlight": "Percent of first (highlighted)",\r\n                        "Funnel_PercentOfPrevious_Highlight": "Percent of previous (highlighted)",\r\n                        // Geotagging strings\r\n                        "GeotaggingString_Continent": "continent",\r\n                        "GeotaggingString_Continents": "continents",\r\n                        "GeotaggingString_Country": "country",\r\n                        "GeotaggingString_Countries": "countries",\r\n                        "GeotaggingString_State": "state",\r\n                        "GeotaggingString_States": "states",\r\n                        "GeotaggingString_City": "city",\r\n                        "GeotaggingString_Cities": "cities",\r\n                        "GeotaggingString_Town": "town",\r\n                        "GeotaggingString_Towns": "towns",\r\n                        "GeotaggingString_Province": "province",\r\n                        "GeotaggingString_Provinces": "provinces",\r\n                        "GeotaggingString_County": "county",\r\n                        "GeotaggingString_Counties": "counties",\r\n                        "GeotaggingString_Village": "village",\r\n                        "GeotaggingString_Villages": "villages",\r\n                        "GeotaggingString_Post": "post",\r\n                        "GeotaggingString_Zip": "zip",\r\n                        "GeotaggingString_Code": "code",\r\n                        "GeotaggingString_Place": "place",\r\n                        "GeotaggingString_Places": "places",\r\n                        "GeotaggingString_Address": "address",\r\n                        "GeotaggingString_Addresses": "addresses",\r\n                        "GeotaggingString_Street": "street",\r\n                        "GeotaggingString_Streets": "streets",\r\n                        "GeotaggingString_Longitude": "longitude",\r\n                        "GeotaggingString_Longitude_Short": "lon",\r\n                        "GeotaggingString_Longitude_Short2": "long",\r\n                        "GeotaggingString_Latitude": "latitude",\r\n                        "GeotaggingString_Latitude_Short": "lat",\r\n                        "GeotaggingString_PostalCode": "postal code",\r\n                        "GeotaggingString_PostalCodes": "postal codes",\r\n                        "GeotaggingString_ZipCode": "zip code",\r\n                        "GeotaggingString_ZipCodes": "zip codes",\r\n                        "GeotaggingString_Territory": "territory",\r\n                        "GeotaggingString_Territories": "territories",\r\n                    };\r\n                    function beautify(format) {\r\n                        var key = BeautifiedFormat[format];\r\n                        if (key)\r\n                            return defaultLocalizedStrings[key] || format;\r\n                        return format;\r\n                    }\r\n                    function describeUnit(exponent) {\r\n                        var exponentLookup = (exponent === -1) ? "Auto" : exponent.toString();\r\n                        var title = defaultLocalizedStrings["DisplayUnitSystem_E" + exponentLookup + "_Title"];\r\n                        var format = (exponent <= 0) ? "{0}" : defaultLocalizedStrings["DisplayUnitSystem_E" + exponentLookup + "_LabelFormat"];\r\n                        if (title || format)\r\n                            return { title: title, format: format };\r\n                    }\r\n                    function getLocalizedString(stringId) {\r\n                        return defaultLocalizedStrings[stringId];\r\n                    }\r\n                    valueFormatter.getLocalizedString = getLocalizedString;\r\n                    // NOTE: Define default locale options, but these can be overriden by setLocaleOptions.\r\n                    var localizationOptions = {\r\n                        nullValue: defaultLocalizedStrings["NullValue"],\r\n                        trueValue: defaultLocalizedStrings["BooleanTrue"],\r\n                        falseValue: defaultLocalizedStrings["BooleanFalse"],\r\n                        NaN: defaultLocalizedStrings["NaNValue"],\r\n                        infinity: defaultLocalizedStrings["InfinityValue"],\r\n                        negativeInfinity: defaultLocalizedStrings["NegativeInfinityValue"],\r\n                        beautify: function (format) { return beautify(format); },\r\n                        describe: function (exponent) { return describeUnit(exponent); },\r\n                        restatementComma: defaultLocalizedStrings["RestatementComma"],\r\n                        restatementCompoundAnd: defaultLocalizedStrings["RestatementCompoundAnd"],\r\n                        restatementCompoundOr: defaultLocalizedStrings["RestatementCompoundOr"],\r\n                    };\r\n                    var MaxScaledDecimalPlaces = 2;\r\n                    var MaxValueForDisplayUnitRounding = 1000;\r\n                    var MinIntegerValueForDisplayUnits = 10000;\r\n                    var MinPrecisionForDisplayUnits = 2;\r\n                    var DateTimeMetadataColumn = {\r\n                        displayName: "",\r\n                        type: ValueType.fromPrimitiveTypeAndCategory(PrimitiveType.DateTime),\r\n                    };\r\n                    function getFormatMetadata(format) {\r\n                        return NumberFormat.getCustomFormatMetadata(format);\r\n                    }\r\n                    valueFormatter.getFormatMetadata = getFormatMetadata;\r\n                    function setLocaleOptions(options) {\r\n                        localizationOptions = options;\r\n                        DefaultDisplayUnitSystem.reset();\r\n                        WholeUnitsDisplayUnitSystem.reset();\r\n                    }\r\n                    valueFormatter.setLocaleOptions = setLocaleOptions;\r\n                    function createDefaultFormatter(formatString, allowFormatBeautification, cultureSelector) {\r\n                        var formatBeautified = allowFormatBeautification\r\n                            ? localizationOptions.beautify(formatString)\r\n                            : formatString;\r\n                        return {\r\n                            format: function (value) {\r\n                                if (value == null) {\r\n                                    return localizationOptions.nullValue;\r\n                                }\r\n                                return formatCore({\r\n                                    value: value,\r\n                                    cultureSelector: cultureSelector,\r\n                                    format: formatBeautified\r\n                                });\r\n                            }\r\n                        };\r\n                    }\r\n                    valueFormatter.createDefaultFormatter = createDefaultFormatter;\r\n                    /** Creates an IValueFormatter to be used for a range of values. */\r\n                    function create(options) {\r\n                        var format = !!options.allowFormatBeautification\r\n                            ? localizationOptions.beautify(options.format)\r\n                            : options.format;\r\n                        var cultureSelector = options.cultureSelector;\r\n                        if (shouldUseNumericDisplayUnits(options)) {\r\n                            var displayUnitSystem_1 = createDisplayUnitSystem(options.displayUnitSystemType);\r\n                            var singleValueFormattingMode_1 = !!options.formatSingleValues;\r\n                            displayUnitSystem_1.update(Math.max(Math.abs(options.value || 0), Math.abs(options.value2 || 0)));\r\n                            var forcePrecision_1 = options.precision != null;\r\n                            var decimals_1;\r\n                            if (forcePrecision_1)\r\n                                decimals_1 = -options.precision;\r\n                            else if (displayUnitSystem_1.displayUnit && displayUnitSystem_1.displayUnit.value > 1)\r\n                                decimals_1 = -MaxScaledDecimalPlaces;\r\n                            return {\r\n                                format: function (value) {\r\n                                    var formattedValue = getStringFormat(value, true /*nullsAreBlank*/);\r\n                                    if (!StringExtensions.isNullOrUndefinedOrWhiteSpaceString(formattedValue)) {\r\n                                        return formattedValue;\r\n                                    }\r\n                                    // Round to Double.DEFAULT_PRECISION\r\n                                    if (value\r\n                                        && !displayUnitSystem_1.isScalingUnit()\r\n                                        && Math.abs(value) < MaxValueForDisplayUnitRounding\r\n                                        && !forcePrecision_1) {\r\n                                        value = Double.roundToPrecision(value);\r\n                                    }\r\n                                    return singleValueFormattingMode_1\r\n                                        ? displayUnitSystem_1.formatSingleValue(value, format, decimals_1, forcePrecision_1, cultureSelector)\r\n                                        : displayUnitSystem_1.format(value, format, decimals_1, forcePrecision_1, cultureSelector);\r\n                                },\r\n                                displayUnit: displayUnitSystem_1.displayUnit,\r\n                                options: options\r\n                            };\r\n                        }\r\n                        if (shouldUseDateUnits(options.value, options.value2, options.tickCount)) {\r\n                            var unit_1 = DateTimeSequence.getIntervalUnit(options.value /* minDate */, options.value2 /* maxDate */, options.tickCount);\r\n                            return {\r\n                                format: function (value) {\r\n                                    if (value == null) {\r\n                                        return localizationOptions.nullValue;\r\n                                    }\r\n                                    var formatString = formattingService.dateFormatString(unit_1);\r\n                                    return formatCore({\r\n                                        value: value,\r\n                                        cultureSelector: cultureSelector,\r\n                                        format: formatString,\r\n                                    });\r\n                                },\r\n                                options: options\r\n                            };\r\n                        }\r\n                        return createDefaultFormatter(format, false, cultureSelector);\r\n                    }\r\n                    valueFormatter.create = create;\r\n                    function format(value, format, allowFormatBeautification, cultureSelector) {\r\n                        if (value == null) {\r\n                            return localizationOptions.nullValue;\r\n                        }\r\n                        var formatString = !!allowFormatBeautification\r\n                            ? localizationOptions.beautify(format)\r\n                            : format;\r\n                        return formatCore({\r\n                            value: value,\r\n                            cultureSelector: cultureSelector,\r\n                            format: formatString\r\n                        });\r\n                    }\r\n                    valueFormatter.format = format;\r\n                    /**\r\n                     * Value formatting function to handle variant measures.\r\n                     * For a Date/Time value within a non-date/time field, it\'s formatted with the default date/time formatString instead of as a number\r\n                     * @param {any} value Value to be formatted\r\n                     * @param {DataViewMetadataColumn} column Field which the value belongs to\r\n                     * @param {DataViewObjectPropertyIdentifier} formatStringProp formatString Property ID\r\n                     * @param {boolean} nullsAreBlank? Whether to show "(Blank)" instead of empty string for null values\r\n                     * @returns Formatted value\r\n                     */\r\n                    function formatVariantMeasureValue(value, column, formatStringProp, nullsAreBlank, cultureSelector) {\r\n                        // If column type is not datetime, but the value is of time datetime,\r\n                        // then use the default date format string\r\n                        if (!(column && column.type && column.type.dateTime) && value instanceof Date) {\r\n                            var valueFormat = getFormatString(DateTimeMetadataColumn, null, false);\r\n                            return formatCore({\r\n                                value: value,\r\n                                nullsAreBlank: nullsAreBlank,\r\n                                cultureSelector: cultureSelector,\r\n                                format: valueFormat\r\n                            });\r\n                        }\r\n                        else {\r\n                            var valueFormat = getFormatString(column, formatStringProp);\r\n                            return formatCore({\r\n                                value: value,\r\n                                nullsAreBlank: nullsAreBlank,\r\n                                cultureSelector: cultureSelector,\r\n                                format: valueFormat\r\n                            });\r\n                        }\r\n                    }\r\n                    valueFormatter.formatVariantMeasureValue = formatVariantMeasureValue;\r\n                    function createDisplayUnitSystem(displayUnitSystemType) {\r\n                        if (displayUnitSystemType == null)\r\n                            return new DefaultDisplayUnitSystem(localizationOptions.describe);\r\n                        switch (displayUnitSystemType) {\r\n                            case DisplayUnitSystemType.Default:\r\n                                return new DefaultDisplayUnitSystem(localizationOptions.describe);\r\n                            case DisplayUnitSystemType.WholeUnits:\r\n                                return new WholeUnitsDisplayUnitSystem(localizationOptions.describe);\r\n                            case DisplayUnitSystemType.Verbose:\r\n                                return new NoDisplayUnitSystem();\r\n                            case DisplayUnitSystemType.DataLabels:\r\n                                return new DataLabelsDisplayUnitSystem(localizationOptions.describe);\r\n                            default:\r\n                                return new DefaultDisplayUnitSystem(localizationOptions.describe);\r\n                        }\r\n                    }\r\n                    valueFormatter.createDisplayUnitSystem = createDisplayUnitSystem;\r\n                    function shouldUseNumericDisplayUnits(options) {\r\n                        var value = options.value;\r\n                        var value2 = options.value2;\r\n                        var format = options.format;\r\n                        // For singleValue visuals like card, gauge we don\'t want to roundoff data to the nearest thousands so format the whole number / integers below 10K to not use display units\r\n                        if (options.formatSingleValues && format) {\r\n                            if (Math.abs(value) < MinIntegerValueForDisplayUnits) {\r\n                                var isCustomFormat = !NumberFormat.isStandardFormat(format);\r\n                                if (isCustomFormat) {\r\n                                    var precision = NumberFormat.getCustomFormatMetadata(format, true /*calculatePrecision*/).precision;\r\n                                    if (precision < MinPrecisionForDisplayUnits)\r\n                                        return false;\r\n                                }\r\n                                else if (Double.isInteger(value))\r\n                                    return false;\r\n                            }\r\n                        }\r\n                        if ((typeof value === "number") || (typeof value2 === "number")) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    function shouldUseDateUnits(value, value2, tickCount) {\r\n                        // must check both value and value2 because we\'ll need to get an interval for date units\r\n                        return (value instanceof Date) && (value2 instanceof Date) && (tickCount !== undefined && tickCount !== null);\r\n                    }\r\n                    /*\r\n                     * Get the column format. Order of precendence is:\r\n                     *  1. Column format\r\n                     *  2. Default PowerView policy for column type\r\n                     */\r\n                    function getFormatString(column, formatStringProperty, suppressTypeFallback) {\r\n                        if (column) {\r\n                            if (formatStringProperty) {\r\n                                var propertyValue = DataViewObjects.getValue(column.objects, formatStringProperty);\r\n                                if (propertyValue)\r\n                                    return propertyValue;\r\n                            }\r\n                            if (!suppressTypeFallback) {\r\n                                var columnType = column.type;\r\n                                if (columnType) {\r\n                                    if (columnType.dateTime)\r\n                                        return valueFormatter.DefaultDateFormat;\r\n                                    if (columnType.integer) {\r\n                                        if (columnType.temporal && columnType.temporal.year)\r\n                                            return "0";\r\n                                        return valueFormatter.DefaultIntegerFormat;\r\n                                    }\r\n                                    if (columnType.numeric)\r\n                                        return valueFormatter.DefaultNumericFormat;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    valueFormatter.getFormatString = getFormatString;\r\n                    function getFormatStringByColumn(column, suppressTypeFallback) {\r\n                        if (column) {\r\n                            if (column.format) {\r\n                                return column.format;\r\n                            }\r\n                            if (!suppressTypeFallback) {\r\n                                var columnType = column.type;\r\n                                if (columnType) {\r\n                                    if (columnType.dateTime) {\r\n                                        return valueFormatter.DefaultDateFormat;\r\n                                    }\r\n                                    if (columnType.integer) {\r\n                                        if (columnType.temporal && columnType.temporal.year) {\r\n                                            return "0";\r\n                                        }\r\n                                        return valueFormatter.DefaultIntegerFormat;\r\n                                    }\r\n                                    if (columnType.numeric) {\r\n                                        return valueFormatter.DefaultNumericFormat;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        return undefined;\r\n                    }\r\n                    valueFormatter.getFormatStringByColumn = getFormatStringByColumn;\r\n                    function formatListCompound(strings, conjunction) {\r\n                        var result;\r\n                        if (!strings) {\r\n                            return null;\r\n                        }\r\n                        var length = strings.length;\r\n                        if (length > 0) {\r\n                            result = strings[0];\r\n                            var lastIndex = length - 1;\r\n                            for (var i = 1, len = lastIndex; i < len; i++) {\r\n                                var value = strings[i];\r\n                                result = StringExtensions.format(localizationOptions.restatementComma, result, value);\r\n                            }\r\n                            if (length > 1) {\r\n                                var value = strings[lastIndex];\r\n                                result = StringExtensions.format(conjunction, result, value);\r\n                            }\r\n                        }\r\n                        else {\r\n                            result = null;\r\n                        }\r\n                        return result;\r\n                    }\r\n                    /** The returned string will look like \'A, B, ..., and C\'  */\r\n                    function formatListAnd(strings) {\r\n                        return formatListCompound(strings, localizationOptions.restatementCompoundAnd);\r\n                    }\r\n                    valueFormatter.formatListAnd = formatListAnd;\r\n                    /** The returned string will look like \'A, B, ..., or C\' */\r\n                    function formatListOr(strings) {\r\n                        return formatListCompound(strings, localizationOptions.restatementCompoundOr);\r\n                    }\r\n                    valueFormatter.formatListOr = formatListOr;\r\n                    function formatCore(options) {\r\n                        var value = options.value, format = options.format, nullsAreBlank = options.nullsAreBlank, cultureSelector = options.cultureSelector;\r\n                        var formattedValue = getStringFormat(value, nullsAreBlank ? nullsAreBlank : false);\r\n                        if (!StringExtensions.isNullOrUndefinedOrWhiteSpaceString(formattedValue)) {\r\n                            return formattedValue;\r\n                        }\r\n                        return formattingService.formatValue(value, format, cultureSelector);\r\n                    }\r\n                    function getStringFormat(value, nullsAreBlank) {\r\n                        if (value == null && nullsAreBlank) {\r\n                            return localizationOptions.nullValue;\r\n                        }\r\n                        if (value === true) {\r\n                            return localizationOptions.trueValue;\r\n                        }\r\n                        if (value === false) {\r\n                            return localizationOptions.falseValue;\r\n                        }\r\n                        if (typeof value === "number" && isNaN(value)) {\r\n                            return localizationOptions.NaN;\r\n                        }\r\n                        if (value === Number.NEGATIVE_INFINITY) {\r\n                            return localizationOptions.negativeInfinity;\r\n                        }\r\n                        if (value === Number.POSITIVE_INFINITY) {\r\n                            return localizationOptions.infinity;\r\n                        }\r\n                        return "";\r\n                    }\r\n                    function getDisplayUnits(displayUnitSystemType) {\r\n                        var displayUnitSystem = createDisplayUnitSystem(displayUnitSystemType);\r\n                        return displayUnitSystem.units;\r\n                    }\r\n                    valueFormatter.getDisplayUnits = getDisplayUnits;\r\n                })(valueFormatter = formatting.valueFormatter || (formatting.valueFormatter = {}));\r\n            })(formatting = utils.formatting || (utils.formatting = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n';
},function(t,e){t.exports='var powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var filter;\r\n            (function (filter) {\r\n                var SQExprKind;\r\n                (function (SQExprKind) {\r\n                    SQExprKind[SQExprKind["Entity"] = 0] = "Entity";\r\n                    SQExprKind[SQExprKind["SubqueryRef"] = 1] = "SubqueryRef";\r\n                    SQExprKind[SQExprKind["ColumnRef"] = 2] = "ColumnRef";\r\n                    SQExprKind[SQExprKind["MeasureRef"] = 3] = "MeasureRef";\r\n                    SQExprKind[SQExprKind["Aggregation"] = 4] = "Aggregation";\r\n                    SQExprKind[SQExprKind["PropertyVariationSource"] = 5] = "PropertyVariationSource";\r\n                    SQExprKind[SQExprKind["Hierarchy"] = 6] = "Hierarchy";\r\n                    SQExprKind[SQExprKind["HierarchyLevel"] = 7] = "HierarchyLevel";\r\n                    SQExprKind[SQExprKind["And"] = 8] = "And";\r\n                    SQExprKind[SQExprKind["Between"] = 9] = "Between";\r\n                    SQExprKind[SQExprKind["In"] = 10] = "In";\r\n                    SQExprKind[SQExprKind["Or"] = 11] = "Or";\r\n                    SQExprKind[SQExprKind["Contains"] = 12] = "Contains";\r\n                    SQExprKind[SQExprKind["Compare"] = 13] = "Compare";\r\n                    SQExprKind[SQExprKind["StartsWith"] = 14] = "StartsWith";\r\n                    SQExprKind[SQExprKind["Exists"] = 15] = "Exists";\r\n                    SQExprKind[SQExprKind["Not"] = 16] = "Not";\r\n                    SQExprKind[SQExprKind["Constant"] = 17] = "Constant";\r\n                    SQExprKind[SQExprKind["DateSpan"] = 18] = "DateSpan";\r\n                    SQExprKind[SQExprKind["DateAdd"] = 19] = "DateAdd";\r\n                    SQExprKind[SQExprKind["Now"] = 20] = "Now";\r\n                    SQExprKind[SQExprKind["AnyValue"] = 21] = "AnyValue";\r\n                    SQExprKind[SQExprKind["DefaultValue"] = 22] = "DefaultValue";\r\n                    SQExprKind[SQExprKind["Arithmetic"] = 23] = "Arithmetic";\r\n                    SQExprKind[SQExprKind["FillRule"] = 24] = "FillRule";\r\n                    SQExprKind[SQExprKind["ResourcePackageItem"] = 25] = "ResourcePackageItem";\r\n                    SQExprKind[SQExprKind["ScopedEval"] = 26] = "ScopedEval";\r\n                    SQExprKind[SQExprKind["WithRef"] = 27] = "WithRef";\r\n                    SQExprKind[SQExprKind["Percentile"] = 28] = "Percentile";\r\n                    SQExprKind[SQExprKind["SelectRef"] = 29] = "SelectRef";\r\n                    SQExprKind[SQExprKind["TransformTableRef"] = 30] = "TransformTableRef";\r\n                    SQExprKind[SQExprKind["TransformOutputRoleRef"] = 31] = "TransformOutputRoleRef";\r\n                    SQExprKind[SQExprKind["ThemeDataColor"] = 32] = "ThemeDataColor";\r\n                    SQExprKind[SQExprKind["GroupRef"] = 33] = "GroupRef";\r\n                    SQExprKind[SQExprKind["Floor"] = 34] = "Floor";\r\n                    SQExprKind[SQExprKind["RoleRef"] = 35] = "RoleRef";\r\n                    SQExprKind[SQExprKind["Discretize"] = 36] = "Discretize";\r\n                    SQExprKind[SQExprKind["NamedQueryRef"] = 37] = "NamedQueryRef";\r\n                    SQExprKind[SQExprKind["Member"] = 38] = "Member";\r\n                    SQExprKind[SQExprKind["FilteredEval"] = 39] = "FilteredEval";\r\n                    SQExprKind[SQExprKind["Conditional"] = 40] = "Conditional";\r\n                })(SQExprKind = filter.SQExprKind || (filter.SQExprKind = {}));\r\n                var QueryComparisonKind;\r\n                (function (QueryComparisonKind) {\r\n                    QueryComparisonKind[QueryComparisonKind["Equal"] = 0] = "Equal";\r\n                    QueryComparisonKind[QueryComparisonKind["GreaterThan"] = 1] = "GreaterThan";\r\n                    QueryComparisonKind[QueryComparisonKind["GreaterThanOrEqual"] = 2] = "GreaterThanOrEqual";\r\n                    QueryComparisonKind[QueryComparisonKind["LessThan"] = 3] = "LessThan";\r\n                    QueryComparisonKind[QueryComparisonKind["LessThanOrEqual"] = 4] = "LessThanOrEqual";\r\n                    QueryComparisonKind[QueryComparisonKind["Contains"] = 12] = "Contains";\r\n                    QueryComparisonKind[QueryComparisonKind["Is"] = 13] = "Is";\r\n                    QueryComparisonKind[QueryComparisonKind["StartsWith"] = 14] = "StartsWith";\r\n                    QueryComparisonKind[QueryComparisonKind["DoesNotContain"] = 16] = "DoesNotContain";\r\n                })(QueryComparisonKind = filter.QueryComparisonKind || (filter.QueryComparisonKind = {}));\r\n            })(filter = utils.filter || (utils.filter = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var filter;\r\n            (function (filter_1) {\r\n                var FilterManager = (function () {\r\n                    function FilterManager() {\r\n                    }\r\n                    /*\r\n                        Restore SelectionID\'s from filter\r\n                    */\r\n                    FilterManager.restoreSelectionIds = function (filter) {\r\n                        var selectionIds = [];\r\n                        try {\r\n                            if (filter\r\n                                && filter.whereItems\r\n                                && filter.whereItems.length > 0\r\n                                && filter.whereItems[0]\r\n                                && filter.whereItems[0].condition\r\n                                && filter.whereItems[0].condition.values) {\r\n                                filter.whereItems.forEach(function (whereItem) {\r\n                                    if (!whereItem.condition || !whereItem.condition.values) {\r\n                                        return;\r\n                                    }\r\n                                    var condition = whereItem.condition;\r\n                                    var selectionId = condition.values.map(function (valueArray) {\r\n                                        var sqlExpr = condition.args\r\n                                            .map(function (arg, argIndex) {\r\n                                            return new powerbi["data"].SQCompareExpr(filter_1.QueryComparisonKind.Equal, arg, valueArray[argIndex]);\r\n                                        })\r\n                                            .reduce(function (prExp, curExpr) {\r\n                                            if (!prExp) {\r\n                                                return curExpr;\r\n                                            }\r\n                                            return powerbi["data"].SQExprBuilder.and(prExp, curExpr);\r\n                                        }, undefined);\r\n                                        var identity = powerbi["data"].createDataViewScopeIdentity(sqlExpr);\r\n                                        return powerbi["visuals"].SelectionId.createWithId(identity);\r\n                                    });\r\n                                    selectionIds = selectionIds.concat(selectionId);\r\n                                });\r\n                            }\r\n                        }\r\n                        catch (ex) { }\r\n                        return selectionIds;\r\n                    };\r\n                    FilterManager.restoreFilter = function (filter) {\r\n                        if (!filter\r\n                            || !filter.whereItems\r\n                            || !filter.whereItems[0]\r\n                            || !filter.whereItems[0].condition) {\r\n                            return undefined;\r\n                        }\r\n                        var expr = filter.whereItems[0].condition;\r\n                        var basicFilterOperator = FilterManager.getBasicFilterOperator(expr._kind);\r\n                        if ((expr.values || expr.arg && expr.arg.values) &&\r\n                            (basicFilterOperator === "In" ||\r\n                                basicFilterOperator === "All" ||\r\n                                basicFilterOperator === "NotIn")) {\r\n                            return FilterManager.restoreBasicFilter(expr);\r\n                        }\r\n                        return FilterManager.restoreAdvancedFilter(expr);\r\n                    };\r\n                    /*\r\n                        Restores AdvancedFilter instance from filter\r\n                    */\r\n                    FilterManager.restoreAdvancedFilter = function (expr) {\r\n                        var logicalOperator = FilterManager.getLogicalOperatorNameByKind(expr._kind);\r\n                        var conditions;\r\n                        if (logicalOperator === "And" || logicalOperator === "Or") {\r\n                            conditions = FilterManager.getConditions([expr.left, expr.right]);\r\n                        }\r\n                        else {\r\n                            logicalOperator = "And";\r\n                            conditions = FilterManager.getConditions([expr]);\r\n                        }\r\n                        var advancedFilter = new window["powerbi-models"].AdvancedFilter(null, logicalOperator, conditions);\r\n                        return advancedFilter.toJSON();\r\n                    };\r\n                    /*\r\n                        Restores BasicFilter instance from filter\r\n                    */\r\n                    FilterManager.restoreBasicFilter = function (expr) {\r\n                        var basicFilterOperator = FilterManager.getBasicFilterOperator(expr._kind);\r\n                        var basicFilter = new window["powerbi-models"].BasicFilter(null, basicFilterOperator, expr.values || expr.arg && expr.arg.values);\r\n                        return basicFilter.toJSON();\r\n                    };\r\n                    FilterManager.getConditions = function (exprs) {\r\n                        var conditions = [];\r\n                        exprs.forEach(function (expr) {\r\n                            if (expr) {\r\n                                if ((expr.left && expr.right || expr.arg) &&\r\n                                    typeof expr.comparison === "undefined" &&\r\n                                    (expr._kind === filter_1.QueryComparisonKind.Contains ||\r\n                                        expr._kind === filter_1.QueryComparisonKind.Is ||\r\n                                        expr._kind === filter_1.QueryComparisonKind.DoesNotContain ||\r\n                                        expr._kind === filter_1.QueryComparisonKind.StartsWith)) {\r\n                                    var internal = FilterManager\r\n                                        .getConditions([expr.left, expr.right, expr.arg]\r\n                                        .filter(function (expr) { return expr; }))\r\n                                        .filter(function (con) { return typeof con.value !== "undefined"; }); // null must be considered as value\r\n                                    internal.forEach(function (con) {\r\n                                        if (con.operator === "None") {\r\n                                            con.operator = FilterManager.getCondictionOperatorByComparison(expr._kind);\r\n                                        }\r\n                                        // IsBlank stores inside semantic filter as "value is null"\r\n                                        if (con.value === null && con.operator === "Is") {\r\n                                            con.operator = "IsBlank";\r\n                                        }\r\n                                        if (con.value === null && con.operator === "DoesNotContain") {\r\n                                            con.operator = "IsNotBlank";\r\n                                        }\r\n                                    });\r\n                                    // check DoesNotStartsWith as  DoesNotContain values as StartsWith value\r\n                                    if (internal.every(function (con) { return con.operator === "StartsWith"; }) && expr._kind === filter_1.QueryComparisonKind.DoesNotContain) {\r\n                                        internal.forEach(function (con) {\r\n                                            con.operator = "DoesNotStartWith";\r\n                                        });\r\n                                    }\r\n                                    if (internal.every(function (con) { return con.operator === "Contains"; }) && expr._kind === filter_1.QueryComparisonKind.DoesNotContain) {\r\n                                        internal.forEach(function (con) {\r\n                                            con.operator = "DoesNotContain";\r\n                                        });\r\n                                    }\r\n                                    if (internal.every(function (con) { return con.operator === "Is"; }) && expr._kind === filter_1.QueryComparisonKind.DoesNotContain) {\r\n                                        internal.forEach(function (con) {\r\n                                            con.operator = "IsNot";\r\n                                        });\r\n                                    }\r\n                                    if (internal.every(function (con) { return con.operator === "IsBlank"; }) && expr._kind === filter_1.QueryComparisonKind.DoesNotContain) {\r\n                                        internal.forEach(function (con) {\r\n                                            con.operator = "IsNotBlank";\r\n                                        });\r\n                                    }\r\n                                    conditions = conditions.concat(internal);\r\n                                    return;\r\n                                }\r\n                                conditions.push(FilterManager.getCondition(expr));\r\n                            }\r\n                        });\r\n                        return conditions;\r\n                    };\r\n                    FilterManager.getValue = function (expr) {\r\n                        if (!expr) {\r\n                            return undefined;\r\n                        }\r\n                        if (expr._kind === filter_1.SQExprKind.Constant) {\r\n                            return expr.value;\r\n                        }\r\n                        if (expr._kind === filter_1.SQExprKind.Contains) {\r\n                            return expr.value;\r\n                        }\r\n                        var exprs = [\r\n                            expr.left,\r\n                            expr.right,\r\n                            expr.arg,\r\n                        ];\r\n                        for (var _i = 0, exprs_1 = exprs; _i < exprs_1.length; _i++) {\r\n                            var currentExpr = exprs_1[_i];\r\n                            var value = FilterManager.getValue(currentExpr);\r\n                            if (value !== undefined) {\r\n                                return value;\r\n                            }\r\n                        }\r\n                    };\r\n                    FilterManager.getCondition = function (expr) {\r\n                        return {\r\n                            value: FilterManager.getValue(expr),\r\n                            operator: FilterManager.getCondictionOperatorByComparison(expr.comparison),\r\n                        };\r\n                    };\r\n                    FilterManager.getBasicFilterOperator = function (kind) {\r\n                        switch (kind) {\r\n                            case filter_1.SQExprKind.In: {\r\n                                return "In";\r\n                            }\r\n                            case filter_1.SQExprKind.And: {\r\n                                return "All";\r\n                            }\r\n                            case filter_1.SQExprKind.Not: {\r\n                                return "NotIn";\r\n                            }\r\n                            default:\r\n                                return null;\r\n                        }\r\n                    };\r\n                    FilterManager.getLogicalOperatorNameByKind = function (kind) {\r\n                        switch (kind) {\r\n                            case filter_1.SQExprKind.And: {\r\n                                return "And";\r\n                            }\r\n                            case filter_1.SQExprKind.Or: {\r\n                                return "Or";\r\n                            }\r\n                            default:\r\n                                return null;\r\n                        }\r\n                    };\r\n                    FilterManager.getCondictionOperatorByComparison = function (comparison) {\r\n                        switch (comparison) {\r\n                            case filter_1.QueryComparisonKind.Equal: {\r\n                                return "Is";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.Is: {\r\n                                return "Is";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.GreaterThan: {\r\n                                return "GreaterThan";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.GreaterThanOrEqual: {\r\n                                return "GreaterThanOrEqual";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.LessThan: {\r\n                                return "LessThan";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.LessThanOrEqual: {\r\n                                return "LessThanOrEqual";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.Contains: {\r\n                                return "Contains";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.DoesNotContain: {\r\n                                return "DoesNotContain";\r\n                            }\r\n                            case filter_1.QueryComparisonKind.StartsWith: {\r\n                                return "StartsWith";\r\n                            }\r\n                        }\r\n                        return "None";\r\n                    };\r\n                    return FilterManager;\r\n                }());\r\n                filter_1.FilterManager = FilterManager;\r\n            })(filter = utils.filter || (utils.filter = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var interactivity;\r\n            (function (interactivity) {\r\n                // powerbi.extensibility.utils.type\r\n                var ArrayExtensions = powerbi.extensibility.utils.type.ArrayExtensions;\r\n                /**\r\n                 * Factory method to create an IInteractivityService instance.\r\n                 */\r\n                function createInteractivityService(hostServices) {\r\n                    return new InteractivityService(hostServices);\r\n                }\r\n                interactivity.createInteractivityService = createInteractivityService;\r\n                /**\r\n                * Creates a clear an svg rect to catch clear clicks.\r\n                */\r\n                function appendClearCatcher(selection) {\r\n                    return selection\r\n                        .append("rect")\r\n                        .classed("clearCatcher", true)\r\n                        .attr({ width: "100%", height: "100%" });\r\n                }\r\n                interactivity.appendClearCatcher = appendClearCatcher;\r\n                function dataHasSelection(data) {\r\n                    for (var i = 0, ilen = data.length; i < ilen; i++) {\r\n                        if (data[i].selected)\r\n                            return true;\r\n                    }\r\n                    return false;\r\n                }\r\n                interactivity.dataHasSelection = dataHasSelection;\r\n                var InteractivityService = (function () {\r\n                    function InteractivityService(hostServices) {\r\n                        var _this = this;\r\n                        // References\r\n                        this.renderSelectionInVisual = function () { };\r\n                        this.renderSelectionInLegend = function () { };\r\n                        this.renderSelectionInLabels = function () { };\r\n                        // Selection state\r\n                        this.selectedIds = [];\r\n                        this.isInvertedSelectionMode = false;\r\n                        this.selectionManager = hostServices.createSelectionManager();\r\n                        if (this.selectionManager.registerOnSelectCallback) {\r\n                            this.selectionManager.registerOnSelectCallback(function () {\r\n                                _this.restoreSelection(_this.selectionManager.getSelectionIds().slice());\r\n                            });\r\n                        }\r\n                    }\r\n                    // IInteractivityService Implementation\r\n                    /** Binds the visual to the interactivityService */\r\n                    InteractivityService.prototype.bind = function (dataPoints, behavior, behaviorOptions, options) {\r\n                        var _this = this;\r\n                        // Bind the data\r\n                        if (options && options.overrideSelectionFromData) {\r\n                            // Override selection state from data points if needed\r\n                            this.takeSelectionStateFromDataPoints(dataPoints);\r\n                        }\r\n                        if (options) {\r\n                            if (options.isLegend) {\r\n                                // Bind to legend data instead of normal data if isLegend\r\n                                this.selectableLegendDataPoints = dataPoints;\r\n                                this.renderSelectionInLegend = function () { return behavior.renderSelection(_this.legendHasSelection()); };\r\n                            }\r\n                            else if (options.isLabels) {\r\n                                // Bind to label data instead of normal data if isLabels\r\n                                this.selectableLabelsDataPoints = dataPoints;\r\n                                this.renderSelectionInLabels = function () { return behavior.renderSelection(_this.labelsHasSelection()); };\r\n                            }\r\n                            else {\r\n                                this.selectableDataPoints = dataPoints;\r\n                                this.renderSelectionInVisual = function () { return behavior.renderSelection(_this.hasSelection()); };\r\n                            }\r\n                            if (options.hasSelectionOverride != null) {\r\n                                this.hasSelectionOverride = options.hasSelectionOverride;\r\n                            }\r\n                        }\r\n                        else {\r\n                            this.selectableDataPoints = dataPoints;\r\n                            this.renderSelectionInVisual = function () { return behavior.renderSelection(_this.hasSelection()); };\r\n                        }\r\n                        // Bind to the behavior\r\n                        this.behavior = behavior;\r\n                        behavior.bindEvents(behaviorOptions, this);\r\n                        // Sync data points with current selection state\r\n                        this.syncSelectionState();\r\n                    };\r\n                    InteractivityService.prototype.clearSelectedIds = function () {\r\n                        this.hasSelectionOverride = undefined;\r\n                        ArrayExtensions.clear(this.selectedIds);\r\n                    };\r\n                    /**\r\n                     * Sets the selected state of all selectable data points to false and invokes the behavior\'s select command.\r\n                     */\r\n                    InteractivityService.prototype.clearSelection = function () {\r\n                        this.clearSelectedIds();\r\n                        this.applyToAllSelectableDataPoints(function (dataPoint) { return dataPoint.selected = false; });\r\n                        this.renderAll();\r\n                    };\r\n                    InteractivityService.prototype.applySelectionStateToData = function (dataPoints, hasHighlights) {\r\n                        if (hasHighlights && this.hasSelection()) {\r\n                            var selectionIds = (this.selectionManager.getSelectionIds() || []);\r\n                            ArrayExtensions.clear(this.selectedIds);\r\n                            ArrayExtensions.clear(selectionIds);\r\n                        }\r\n                        for (var _i = 0, dataPoints_1 = dataPoints; _i < dataPoints_1.length; _i++) {\r\n                            var dataPoint = dataPoints_1[_i];\r\n                            dataPoint.selected = InteractivityService.isDataPointSelected(dataPoint, this.selectedIds);\r\n                        }\r\n                        return this.hasSelection();\r\n                    };\r\n                    /**\r\n                     * Apply new selections to change internal state of interactivity service from filter\r\n                     */\r\n                    InteractivityService.prototype.applySelectionFromFilter = function (appliedFilter) {\r\n                        this.restoreSelection(utils.filter.FilterManager.restoreSelectionIds(appliedFilter));\r\n                    };\r\n                    /**\r\n                     * Apply new selections to change internal state of interactivity service\r\n                     */\r\n                    InteractivityService.prototype.restoreSelection = function (selectionIds) {\r\n                        this.clearSelection();\r\n                        this.selectedIds = selectionIds;\r\n                        this.syncSelectionState();\r\n                        this.renderAll();\r\n                    };\r\n                    /**\r\n                     * Checks whether there is at least one item selected.\r\n                     */\r\n                    InteractivityService.prototype.hasSelection = function () {\r\n                        return this.selectedIds.length > 0;\r\n                    };\r\n                    InteractivityService.prototype.legendHasSelection = function () {\r\n                        return this.selectableLegendDataPoints ? dataHasSelection(this.selectableLegendDataPoints) : false;\r\n                    };\r\n                    InteractivityService.prototype.labelsHasSelection = function () {\r\n                        return this.selectableLabelsDataPoints ? dataHasSelection(this.selectableLabelsDataPoints) : false;\r\n                    };\r\n                    InteractivityService.prototype.isSelectionModeInverted = function () {\r\n                        return this.isInvertedSelectionMode;\r\n                    };\r\n                    // ISelectionHandler Implementation\r\n                    InteractivityService.prototype.applySelectionFilter = function () {\r\n                        if (!this.selectionManager) {\r\n                            return;\r\n                        }\r\n                        this.selectionManager.applySelectionFilter();\r\n                    };\r\n                    InteractivityService.prototype.handleSelection = function (dataPoints, multiSelect) {\r\n                        // defect 7067397: should not happen so assert but also don\'t continue as it\'s\r\n                        // causing a lot of error telemetry in desktop.\r\n                        if (!dataPoints) {\r\n                            return;\r\n                        }\r\n                        this.select(dataPoints, multiSelect);\r\n                        this.sendSelectionToHost();\r\n                        this.renderAll();\r\n                    };\r\n                    InteractivityService.prototype.handleClearSelection = function () {\r\n                        this.clearSelection();\r\n                        this.sendSelectionToHost();\r\n                    };\r\n                    /**\r\n                     * Syncs the selection state for all data points that have the same category. Returns\r\n                     * true if the selection state was out of sync and corrections were made; false if\r\n                     * the data is already in sync with the service.\r\n                     *\r\n                     * If the data is not compatible with the current service\'s current selection state,\r\n                     * the state is cleared and the cleared selection is sent to the host.\r\n                     *\r\n                     * Ignores series for now, since we don\'t support series selection at the moment.\r\n                     */\r\n                    InteractivityService.prototype.syncSelectionState = function () {\r\n                        if (this.isInvertedSelectionMode) {\r\n                            return this.syncSelectionStateInverted();\r\n                        }\r\n                        if (!this.selectableDataPoints && !this.selectableLegendDataPoints) {\r\n                            return;\r\n                        }\r\n                        if (this.selectableDataPoints) {\r\n                            InteractivityService.updateSelectableDataPointsBySelectedIds(this.selectableDataPoints, this.selectedIds);\r\n                        }\r\n                        if (this.selectableLegendDataPoints) {\r\n                            InteractivityService.updateSelectableDataPointsBySelectedIds(this.selectableLegendDataPoints, this.selectedIds);\r\n                        }\r\n                        if (this.selectableLabelsDataPoints) {\r\n                            var _loop_1 = function (labelsDataPoint) {\r\n                                labelsDataPoint.selected = this_1.selectedIds.some(function (value) {\r\n                                    return value.includes(labelsDataPoint.identity);\r\n                                });\r\n                            };\r\n                            var this_1 = this;\r\n                            for (var _i = 0, _a = this.selectableLabelsDataPoints; _i < _a.length; _i++) {\r\n                                var labelsDataPoint = _a[_i];\r\n                                _loop_1(labelsDataPoint);\r\n                            }\r\n                        }\r\n                    };\r\n                    InteractivityService.prototype.syncSelectionStateInverted = function () {\r\n                        var selectedIds = this.selectedIds;\r\n                        var selectableDataPoints = this.selectableDataPoints;\r\n                        if (!selectableDataPoints)\r\n                            return;\r\n                        if (selectedIds.length === 0) {\r\n                            for (var _i = 0, selectableDataPoints_1 = selectableDataPoints; _i < selectableDataPoints_1.length; _i++) {\r\n                                var dataPoint = selectableDataPoints_1[_i];\r\n                                dataPoint.selected = false;\r\n                            }\r\n                        }\r\n                        else {\r\n                            var _loop_2 = function (dataPoint) {\r\n                                if (selectedIds.some(function (value) { return value.includes(dataPoint.identity); })) {\r\n                                    dataPoint.selected = true;\r\n                                }\r\n                                else if (dataPoint.selected) {\r\n                                    dataPoint.selected = false;\r\n                                }\r\n                            };\r\n                            for (var _a = 0, selectableDataPoints_2 = selectableDataPoints; _a < selectableDataPoints_2.length; _a++) {\r\n                                var dataPoint = selectableDataPoints_2[_a];\r\n                                _loop_2(dataPoint);\r\n                            }\r\n                        }\r\n                    };\r\n                    // Private utility methods\r\n                    InteractivityService.prototype.renderAll = function () {\r\n                        this.renderSelectionInVisual();\r\n                        this.renderSelectionInLegend();\r\n                        this.renderSelectionInLabels();\r\n                    };\r\n                    /** Marks a data point as selected and syncs selection with the host. */\r\n                    InteractivityService.prototype.select = function (dataPoints, multiSelect) {\r\n                        var _this = this;\r\n                        var selectableDataPoints = [].concat(dataPoints);\r\n                        var originalSelectedIds = this.selectedIds.slice();\r\n                        if (!multiSelect || !selectableDataPoints.length) {\r\n                            this.clearSelectedIds();\r\n                        }\r\n                        selectableDataPoints.forEach(function (dataPoint) {\r\n                            var shouldDataPointBeSelected = !InteractivityService.isDataPointSelected(dataPoint, originalSelectedIds);\r\n                            _this.selectSingleDataPoint(dataPoint, shouldDataPointBeSelected);\r\n                        });\r\n                        this.syncSelectionState();\r\n                    };\r\n                    InteractivityService.prototype.selectSingleDataPoint = function (dataPoint, shouldDataPointBeSelected) {\r\n                        if (!dataPoint || !dataPoint.identity) {\r\n                            return;\r\n                        }\r\n                        var identity = dataPoint.identity;\r\n                        if (shouldDataPointBeSelected) {\r\n                            dataPoint.selected = true;\r\n                            this.selectedIds.push(identity);\r\n                            if (identity.hasIdentity()) {\r\n                                this.removeSelectionIdsWithOnlyMeasures();\r\n                            }\r\n                            else {\r\n                                this.removeSelectionIdsExceptOnlyMeasures();\r\n                            }\r\n                        }\r\n                        else {\r\n                            dataPoint.selected = false;\r\n                            this.removeId(identity);\r\n                        }\r\n                    };\r\n                    InteractivityService.prototype.removeId = function (toRemove) {\r\n                        var selectedIds = this.selectedIds;\r\n                        for (var i = selectedIds.length - 1; i > -1; i--) {\r\n                            var currentId = selectedIds[i];\r\n                            if (toRemove.includes(currentId))\r\n                                selectedIds.splice(i, 1);\r\n                        }\r\n                    };\r\n                    InteractivityService.prototype.sendSelectionToHost = function () {\r\n                        if (!this.selectionManager) {\r\n                            return;\r\n                        }\r\n                        if (this.selectedIds && this.selectedIds.length) {\r\n                            this.selectionManager.select(this.selectedIds.slice());\r\n                        }\r\n                        else {\r\n                            this.selectionManager.clear();\r\n                        }\r\n                    };\r\n                    InteractivityService.prototype.takeSelectionStateFromDataPoints = function (dataPoints) {\r\n                        var selectedIds = this.selectedIds;\r\n                        // Replace the existing selectedIds rather than merging.\r\n                        ArrayExtensions.clear(selectedIds);\r\n                        for (var _i = 0, dataPoints_2 = dataPoints; _i < dataPoints_2.length; _i++) {\r\n                            var dataPoint = dataPoints_2[_i];\r\n                            if (dataPoint.selected) {\r\n                                selectedIds.push(dataPoint.identity);\r\n                            }\r\n                        }\r\n                    };\r\n                    InteractivityService.prototype.applyToAllSelectableDataPoints = function (action) {\r\n                        var selectableDataPoints = this.selectableDataPoints;\r\n                        var selectableLegendDataPoints = this.selectableLegendDataPoints;\r\n                        var selectableLabelsDataPoints = this.selectableLabelsDataPoints;\r\n                        if (selectableDataPoints) {\r\n                            for (var _i = 0, selectableDataPoints_3 = selectableDataPoints; _i < selectableDataPoints_3.length; _i++) {\r\n                                var dataPoint = selectableDataPoints_3[_i];\r\n                                action(dataPoint);\r\n                            }\r\n                        }\r\n                        if (selectableLegendDataPoints) {\r\n                            for (var _a = 0, selectableLegendDataPoints_1 = selectableLegendDataPoints; _a < selectableLegendDataPoints_1.length; _a++) {\r\n                                var dataPoint = selectableLegendDataPoints_1[_a];\r\n                                action(dataPoint);\r\n                            }\r\n                        }\r\n                        if (selectableLabelsDataPoints) {\r\n                            for (var _b = 0, selectableLabelsDataPoints_1 = selectableLabelsDataPoints; _b < selectableLabelsDataPoints_1.length; _b++) {\r\n                                var dataPoint = selectableLabelsDataPoints_1[_b];\r\n                                action(dataPoint);\r\n                            }\r\n                        }\r\n                    };\r\n                    InteractivityService.updateSelectableDataPointsBySelectedIds = function (selectableDataPoints, selectedIds) {\r\n                        var foundMatchingId = false;\r\n                        for (var _i = 0, selectableDataPoints_4 = selectableDataPoints; _i < selectableDataPoints_4.length; _i++) {\r\n                            var dataPoint = selectableDataPoints_4[_i];\r\n                            dataPoint.selected = InteractivityService.isDataPointSelected(dataPoint, selectedIds);\r\n                            if (dataPoint.selected)\r\n                                foundMatchingId = true;\r\n                        }\r\n                        return foundMatchingId;\r\n                    };\r\n                    InteractivityService.isDataPointSelected = function (dataPoint, selectedIds) {\r\n                        return selectedIds.some(function (value) { return value.includes(dataPoint.identity); });\r\n                    };\r\n                    InteractivityService.prototype.removeSelectionIdsWithOnlyMeasures = function () {\r\n                        this.selectedIds = this.selectedIds.filter(function (identity) { return identity.hasIdentity(); });\r\n                    };\r\n                    InteractivityService.prototype.removeSelectionIdsExceptOnlyMeasures = function () {\r\n                        this.selectedIds = this.selectedIds.filter(function (identity) { return !identity.hasIdentity(); });\r\n                    };\r\n                    return InteractivityService;\r\n                }());\r\n                interactivity.InteractivityService = InteractivityService;\r\n            })(interactivity = utils.interactivity || (utils.interactivity = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var interactivity;\r\n            (function (interactivity) {\r\n                var interactivityUtils;\r\n                (function (interactivityUtils) {\r\n                    function getPositionOfLastInputEvent() {\r\n                        return {\r\n                            x: d3.event.clientX,\r\n                            y: d3.event.clientY\r\n                        };\r\n                    }\r\n                    interactivityUtils.getPositionOfLastInputEvent = getPositionOfLastInputEvent;\r\n                    function registerStandardSelectionHandler(selection, selectionHandler) {\r\n                        selection.on("click", function (d) { return handleSelection(d, selectionHandler); });\r\n                    }\r\n                    interactivityUtils.registerStandardSelectionHandler = registerStandardSelectionHandler;\r\n                    function registerGroupSelectionHandler(group, selectionHandler) {\r\n                        group.on("click", function () {\r\n                            var target = d3.event.target, d = d3.select(target).datum();\r\n                            handleSelection(d, selectionHandler);\r\n                        });\r\n                    }\r\n                    interactivityUtils.registerGroupSelectionHandler = registerGroupSelectionHandler;\r\n                    function handleSelection(d, selectionHandler) {\r\n                        selectionHandler.handleSelection(d, d3.event.ctrlKey);\r\n                    }\r\n                })(interactivityUtils = interactivity.interactivityUtils || (interactivity.interactivityUtils = {}));\r\n            })(interactivity = utils.interactivity || (utils.interactivity = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n';
},function(t,e){t.exports='var __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                var Rect = (function () {\r\n                    // Constructor\r\n                    function Rect(left, top, width, height) {\r\n                        this.left = left || 0;\r\n                        this.top = top || 0;\r\n                        this.width = width || 0;\r\n                        this.height = height || 0;\r\n                    }\r\n                    return Rect;\r\n                }());\r\n                svg.Rect = Rect;\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                var shapes;\r\n                (function (shapes) {\r\n                    var Rect;\r\n                    (function (Rect) {\r\n                        function getOffset(rect) {\r\n                            return { x: rect.left, y: rect.top };\r\n                        }\r\n                        Rect.getOffset = getOffset;\r\n                        function getSize(rect) {\r\n                            return { width: rect.width, height: rect.height };\r\n                        }\r\n                        Rect.getSize = getSize;\r\n                        function setSize(rect, value) {\r\n                            rect.width = value.width;\r\n                            rect.height = value.height;\r\n                        }\r\n                        Rect.setSize = setSize;\r\n                        function right(rect) {\r\n                            return rect.left + rect.width;\r\n                        }\r\n                        Rect.right = right;\r\n                        function bottom(rect) {\r\n                            return rect.top + rect.height;\r\n                        }\r\n                        Rect.bottom = bottom;\r\n                        function topLeft(rect) {\r\n                            return { x: rect.left, y: rect.top };\r\n                        }\r\n                        Rect.topLeft = topLeft;\r\n                        function topRight(rect) {\r\n                            return { x: rect.left + rect.width, y: rect.top };\r\n                        }\r\n                        Rect.topRight = topRight;\r\n                        function bottomLeft(rect) {\r\n                            return { x: rect.left, y: rect.top + rect.height };\r\n                        }\r\n                        Rect.bottomLeft = bottomLeft;\r\n                        function bottomRight(rect) {\r\n                            return { x: rect.left + rect.width, y: rect.top + rect.height };\r\n                        }\r\n                        Rect.bottomRight = bottomRight;\r\n                        function equals(rect, other) {\r\n                            return other !== undefined && other !== null &&\r\n                                rect.left === other.left && rect.top === other.top && rect.width === other.width && rect.height === other.height;\r\n                        }\r\n                        Rect.equals = equals;\r\n                        function clone(rect) {\r\n                            return (rect !== null) ? { left: rect.left, top: rect.top, width: rect.width, height: rect.height } : null;\r\n                        }\r\n                        Rect.clone = clone;\r\n                        function toString(rect) {\r\n                            return "{left:" + rect.left + ", top:" + rect.top + ", width:" + rect.width + ", height:" + rect.height + "}";\r\n                        }\r\n                        Rect.toString = toString;\r\n                        function offset(rect, offsetX, offsetY) {\r\n                            var newLeft = ((rect.left + offsetX) >= 0) ? rect.left + offsetX : 0;\r\n                            var newTop = ((rect.top + offsetY) >= 0) ? rect.top + offsetY : 0;\r\n                            return { left: newLeft, top: newTop, width: rect.width, height: rect.height };\r\n                        }\r\n                        Rect.offset = offset;\r\n                        function add(rect, rect2) {\r\n                            return {\r\n                                left: rect.left + rect2.left,\r\n                                top: rect.top + rect2.top,\r\n                                height: rect.height + rect2.height,\r\n                                width: rect.width + rect2.width\r\n                            };\r\n                        }\r\n                        Rect.add = add;\r\n                        function subtract(rect, rect2) {\r\n                            return {\r\n                                left: rect.left - rect2.left,\r\n                                top: rect.top - rect2.top,\r\n                                height: rect.height - rect2.height,\r\n                                width: rect.width - rect2.width\r\n                            };\r\n                        }\r\n                        Rect.subtract = subtract;\r\n                        function inflate(rect, padding) {\r\n                            var result = clone(rect);\r\n                            if (padding) {\r\n                                result.left -= padding.left;\r\n                                result.top -= padding.top;\r\n                                result.width += padding.left + padding.right;\r\n                                result.height += padding.top + padding.bottom;\r\n                            }\r\n                            return result;\r\n                        }\r\n                        Rect.inflate = inflate;\r\n                        function deflate(rect, padding) {\r\n                            var result = clone(rect);\r\n                            if (padding) {\r\n                                result.left += padding.left;\r\n                                result.top += padding.top;\r\n                                result.width -= padding.left + padding.right;\r\n                                result.height -= padding.top + padding.bottom;\r\n                            }\r\n                            return result;\r\n                        }\r\n                        Rect.deflate = deflate;\r\n                        function inflateBy(rect, padding) {\r\n                            return { left: rect.left - padding, top: rect.top - padding, width: rect.width + padding + padding, height: rect.height + padding + padding };\r\n                        }\r\n                        Rect.inflateBy = inflateBy;\r\n                        function deflateBy(rect, padding) {\r\n                            return { left: rect.left + padding, top: rect.top + padding, width: rect.width - padding - padding, height: rect.height - padding - padding };\r\n                        }\r\n                        Rect.deflateBy = deflateBy;\r\n                        /**\r\n                         * Get closest point.\r\n                         *\r\n                         * @return the closest point on the rect to the (x,y) point given.\r\n                         * In case the (x,y) given is inside the rect, (x,y) will be returned.\r\n                         * Otherwise, a point on a border will be returned.\r\n                         */\r\n                        function getClosestPoint(rect, x, y) {\r\n                            return {\r\n                                x: Math.min(Math.max(rect.left, x), rect.left + rect.width),\r\n                                y: Math.min(Math.max(rect.top, y), rect.top + rect.height)\r\n                            };\r\n                        }\r\n                        Rect.getClosestPoint = getClosestPoint;\r\n                        function equal(rect1, rect2) {\r\n                            return rect1 === rect2 ||\r\n                                (rect1 !== undefined && rect2 !== undefined && rect1.left === rect2.left && rect1.top === rect2.top && rect1.width === rect2.width && rect1.height === rect2.height);\r\n                        }\r\n                        Rect.equal = equal;\r\n                        function equalWithPrecision(rect1, rect2) {\r\n                            return rect1 === rect2 ||\r\n                                (rect1 !== undefined && rect2 !== undefined &&\r\n                                    Double.equalWithPrecision(rect1.left, rect2.left) && Double.equalWithPrecision(rect1.top, rect2.top) &&\r\n                                    Double.equalWithPrecision(rect1.width, rect2.width) && Double.equalWithPrecision(rect1.height, rect2.height));\r\n                        }\r\n                        Rect.equalWithPrecision = equalWithPrecision;\r\n                        function isEmpty(rect) {\r\n                            return rect === undefined || rect === null || (rect.width === 0 && rect.height === 0);\r\n                        }\r\n                        Rect.isEmpty = isEmpty;\r\n                        function containsPoint(rect, point) {\r\n                            if ((rect === null) || (point === null)) {\r\n                                return false;\r\n                            }\r\n                            return Double.lessOrEqualWithPrecision(rect.left, point.x) &&\r\n                                Double.lessOrEqualWithPrecision(point.x, rect.left + rect.width) &&\r\n                                Double.lessOrEqualWithPrecision(rect.top, point.y) &&\r\n                                Double.lessOrEqualWithPrecision(point.y, rect.top + rect.height);\r\n                        }\r\n                        Rect.containsPoint = containsPoint;\r\n                        function isIntersecting(rect1, rect2) {\r\n                            if (!rect1 || !rect2) {\r\n                                return false;\r\n                            }\r\n                            var left = Math.max(rect1.left, rect2.left);\r\n                            var right = Math.min(rect1.left + rect1.width, rect2.left + rect2.width);\r\n                            if (left > right) {\r\n                                return false;\r\n                            }\r\n                            var top = Math.max(rect1.top, rect2.top);\r\n                            var bottom = Math.min(rect1.top + rect1.height, rect2.top + rect2.height);\r\n                            return top <= bottom;\r\n                        }\r\n                        Rect.isIntersecting = isIntersecting;\r\n                        function intersect(rect1, rect2) {\r\n                            if (!rect1) {\r\n                                return rect2;\r\n                            }\r\n                            if (!rect2) {\r\n                                return rect1;\r\n                            }\r\n                            var left = Math.max(rect1.left, rect2.left);\r\n                            var top = Math.max(rect1.top, rect2.top);\r\n                            var right = Math.min(rect1.left + rect1.width, rect2.left + rect2.width);\r\n                            var bottom = Math.min(rect1.top + rect1.height, rect2.top + rect2.height);\r\n                            if (left <= right && top <= bottom) {\r\n                                return { left: left, top: top, width: right - left, height: bottom - top };\r\n                            }\r\n                            else {\r\n                                return { left: 0, top: 0, width: 0, height: 0 };\r\n                            }\r\n                        }\r\n                        Rect.intersect = intersect;\r\n                        function combine(rect1, rect2) {\r\n                            if (!rect1) {\r\n                                return rect2;\r\n                            }\r\n                            if (!rect2) {\r\n                                return rect1;\r\n                            }\r\n                            var left = Math.min(rect1.left, rect2.left);\r\n                            var top = Math.min(rect1.top, rect2.top);\r\n                            var right = Math.max(rect1.left + rect1.width, rect2.left + rect2.width);\r\n                            var bottom = Math.max(rect1.top + rect1.height, rect2.top + rect2.height);\r\n                            return { left: left, top: top, width: right - left, height: bottom - top };\r\n                        }\r\n                        Rect.combine = combine;\r\n                        function getCentroid(rect) {\r\n                            return {\r\n                                x: rect.left + (rect.width / 2),\r\n                                y: rect.top + (rect.height / 2)\r\n                            };\r\n                        }\r\n                        Rect.getCentroid = getCentroid;\r\n                    })(Rect = shapes.Rect || (shapes.Rect = {}));\r\n                })(shapes = svg.shapes || (svg.shapes = {}));\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                var Point = (function () {\r\n                    function Point(x, y) {\r\n                        this.x = x || 0;\r\n                        this.y = y || 0;\r\n                    }\r\n                    return Point;\r\n                }());\r\n                svg.Point = Point;\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                /**\r\n                 * CSS constants.\r\n                 */\r\n                var CssConstants;\r\n                (function (CssConstants) {\r\n                    function createClassAndSelector(className) {\r\n                        return {\r\n                            className: className,\r\n                            selectorName: "." + className,\r\n                        };\r\n                    }\r\n                    CssConstants.createClassAndSelector = createClassAndSelector;\r\n                    CssConstants.styleAttribute = "style";\r\n                    CssConstants.pixelUnits = "px";\r\n                    CssConstants.heightProperty = "height";\r\n                    CssConstants.widthProperty = "width";\r\n                    CssConstants.topProperty = "top";\r\n                    CssConstants.bottomProperty = "bottom";\r\n                    CssConstants.leftProperty = "left";\r\n                    CssConstants.rightProperty = "right";\r\n                    CssConstants.marginTopProperty = "margin-top";\r\n                    CssConstants.marginLeftProperty = "margin-left";\r\n                    CssConstants.displayProperty = "display";\r\n                    CssConstants.backgroundProperty = "background";\r\n                    CssConstants.backgroundColorProperty = "background-color";\r\n                    CssConstants.backgroundRepeatProperty = "background-repeat";\r\n                    CssConstants.backgroundSizeProperty = "background-size";\r\n                    CssConstants.backgroundImageProperty = "background-image";\r\n                    CssConstants.textShadowProperty = "text-shadow";\r\n                    CssConstants.textAlignProperty = "text-align";\r\n                    CssConstants.borderProperty = "border";\r\n                    CssConstants.borderTopWidthProperty = "border-top-width";\r\n                    CssConstants.borderBottomWidthProperty = "border-bottom-width";\r\n                    CssConstants.borderLeftWidthProperty = "border-left-width";\r\n                    CssConstants.borderRightWidthProperty = "border-right-width";\r\n                    CssConstants.fontSizeProperty = "font-size";\r\n                    CssConstants.fontWeightProperty = "font-weight";\r\n                    CssConstants.colorProperty = "color";\r\n                    CssConstants.opacityProperty = "opacity";\r\n                    CssConstants.paddingLeftProperty = "padding-left";\r\n                    CssConstants.paddingRightProperty = "padding-right";\r\n                    CssConstants.positionProperty = "position";\r\n                    CssConstants.maxWidthProperty = "max-width";\r\n                    CssConstants.minWidthProperty = "min-width";\r\n                    CssConstants.overflowProperty = "overflow";\r\n                    CssConstants.overflowXProperty = "overflow-x";\r\n                    CssConstants.overflowYProperty = "overflow-y";\r\n                    CssConstants.transformProperty = "transform";\r\n                    CssConstants.webkitTransformProperty = "-webkit-transform";\r\n                    CssConstants.cursorProperty = "cursor";\r\n                    CssConstants.visibilityProperty = "visibility";\r\n                    CssConstants.absoluteValue = "absolute";\r\n                    CssConstants.zeroPixelValue = "0px";\r\n                    CssConstants.autoValue = "auto";\r\n                    CssConstants.hiddenValue = "hidden";\r\n                    CssConstants.noneValue = "none";\r\n                    CssConstants.blockValue = "block";\r\n                    CssConstants.inlineBlockValue = "inline-block";\r\n                    CssConstants.transparentValue = "transparent";\r\n                    CssConstants.boldValue = "bold";\r\n                    CssConstants.visibleValue = "visible";\r\n                    CssConstants.tableRowValue = "table-row";\r\n                    CssConstants.coverValue = "cover";\r\n                    CssConstants.pointerValue = "pointer";\r\n                    CssConstants.scrollValue = "scroll";\r\n                })(CssConstants = svg.CssConstants || (svg.CssConstants = {}));\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                var touch;\r\n                (function (touch) {\r\n                    var Point = (function () {\r\n                        function Point(x, y) {\r\n                            this.x = x || 0;\r\n                            this.y = y || 0;\r\n                        }\r\n                        Point.prototype.offset = function (offsetX, offsetY) {\r\n                            this.x += offsetX;\r\n                            this.y += offsetY;\r\n                        };\r\n                        return Point;\r\n                    }());\r\n                    touch.Point = Point;\r\n                    var Rectangle = (function (_super) {\r\n                        __extends(Rectangle, _super);\r\n                        function Rectangle(x, y, width, height) {\r\n                            var _this = _super.call(this, x, y) || this;\r\n                            _this.width = width || 0;\r\n                            _this.height = height || 0;\r\n                            return _this;\r\n                        }\r\n                        Object.defineProperty(Rectangle.prototype, "point", {\r\n                            get: function () {\r\n                                return new Point(this.x, this.y);\r\n                            },\r\n                            enumerable: true,\r\n                            configurable: true\r\n                        });\r\n                        Rectangle.prototype.contains = function (p) {\r\n                            return Rectangle.contains(this, p);\r\n                        };\r\n                        Rectangle.contains = function (rect, p) {\r\n                            if (p && !Rectangle.isEmpty(rect)) {\r\n                                return rect.x <= p.x && p.x < rect.x + rect.width && rect.y <= p.y && p.y < rect.y + rect.height;\r\n                            }\r\n                            return false;\r\n                        };\r\n                        Rectangle.isEmpty = function (rect) {\r\n                            return !(rect !== undefined && rect.width >= 0 && rect.height >= 0);\r\n                        };\r\n                        return Rectangle;\r\n                    }(Point));\r\n                    touch.Rectangle = Rectangle;\r\n                })(touch = svg.touch || (svg.touch = {}));\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                var touch;\r\n                (function (touch) {\r\n                    function touchStartEventName() {\r\n                        var eventName = "touchstart";\r\n                        if (window["PointerEvent"]) {\r\n                            // IE11\r\n                            eventName = "pointerdown";\r\n                        }\r\n                        return eventName;\r\n                    }\r\n                    touch.touchStartEventName = touchStartEventName;\r\n                    function touchMoveEventName() {\r\n                        var eventName = "touchmove";\r\n                        if (window["PointerEvent"]) {\r\n                            // IE11\r\n                            eventName = "pointermove";\r\n                        }\r\n                        return eventName;\r\n                    }\r\n                    touch.touchMoveEventName = touchMoveEventName;\r\n                    function touchEndEventName() {\r\n                        var eventName = "touchend";\r\n                        if (window["PointerEvent"]) {\r\n                            // IE11\r\n                            eventName = "pointerup";\r\n                        }\r\n                        return eventName;\r\n                    }\r\n                    touch.touchEndEventName = touchEndEventName;\r\n                    function usePointerEvents() {\r\n                        var eventName = touchStartEventName();\r\n                        return eventName === "pointerdown" || eventName === "MSPointerDown";\r\n                    }\r\n                    touch.usePointerEvents = usePointerEvents;\r\n                })(touch = svg.touch || (svg.touch = {}));\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                function getCoordinates(rootNode, isPointerEvent) {\r\n                    var coordinates;\r\n                    if (isPointerEvent) {\r\n                        // DO NOT USE - WebKit bug in getScreenCTM with nested SVG results in slight negative coordinate shift\r\n                        // Also, IE will incorporate transform scale but WebKit does not, forcing us to detect browser and adjust appropriately.\r\n                        // Just use non-scaled coordinates for all browsers, and adjust for the transform scale later (see lineChart.findIndex)\r\n                        // coordinates = d3.mouse(rootNode);\r\n                        // copied from d3_eventSource (which is not exposed)\r\n                        var e = d3.event, s = void 0;\r\n                        while (s = e.sourceEvent)\r\n                            e = s;\r\n                        var rect = rootNode.getBoundingClientRect();\r\n                        coordinates = [e.clientX - rect.left - rootNode.clientLeft, e.clientY - rect.top - rootNode.clientTop];\r\n                    }\r\n                    else {\r\n                        var touchCoordinates = d3.touches(rootNode);\r\n                        if (touchCoordinates && touchCoordinates.length > 0) {\r\n                            coordinates = touchCoordinates[0];\r\n                        }\r\n                    }\r\n                    return coordinates;\r\n                }\r\n                svg.getCoordinates = getCoordinates;\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                /**\r\n                 * Very small values, when stringified, may be converted to scientific notation and cause a temporarily\r\n                 * invalid attribute or style property value.\r\n                 * For example, the number 0.0000001 is converted to the string "1e-7".\r\n                 * This is particularly noticeable when interpolating opacity values.\r\n                 * To avoid scientific notation, start or end the transition at 1e-6,\r\n                 * which is the smallest value that is not stringified in exponential notation.\r\n                 */\r\n                svg.AlmostZero = 1e-6;\r\n                /**\r\n                     * Creates a translate string for use with the SVG transform call.\r\n                     */\r\n                function translate(x, y) {\r\n                    return "translate(" + x + "," + y + ")";\r\n                }\r\n                svg.translate = translate;\r\n                /**\r\n                 * Creates a translateX string for use with the SVG transform call.\r\n                 */\r\n                function translateXWithPixels(x) {\r\n                    return "translateX(" + x + "px)";\r\n                }\r\n                svg.translateXWithPixels = translateXWithPixels;\r\n                function translateWithPixels(x, y) {\r\n                    return "translate(" + x + "px," + y + "px)";\r\n                }\r\n                svg.translateWithPixels = translateWithPixels;\r\n                /**\r\n                 * Creates a translate + rotate string for use with the SVG transform call.\r\n                 */\r\n                function translateAndRotate(x, y, px, py, angle) {\r\n                    return "translate("\r\n                        + x + "," + y + ")"\r\n                        + " rotate(" + angle + "," + px + "," + py + ")";\r\n                }\r\n                svg.translateAndRotate = translateAndRotate;\r\n                /**\r\n                 * Creates a scale string for use in a CSS transform property.\r\n                 */\r\n                function scale(scale) {\r\n                    return "scale(" + scale + ")";\r\n                }\r\n                svg.scale = scale;\r\n                /**\r\n                 * Creates a translate + scale string for use with the SVG transform call.\r\n                 */\r\n                function translateAndScale(x, y, ratio) {\r\n                    return "translate("\r\n                        + x + "," + y + ")"\r\n                        + " scale(" + ratio + ")";\r\n                }\r\n                svg.translateAndScale = translateAndScale;\r\n                /**\r\n                 * Creates a transform origin string for use in a CSS transform-origin property.\r\n                 */\r\n                function transformOrigin(xOffset, yOffset) {\r\n                    return xOffset + " " + yOffset;\r\n                }\r\n                svg.transformOrigin = transformOrigin;\r\n                /**\r\n                 * Forces all D3 transitions to complete.\r\n                 * Normally, zero-delay transitions are executed after an instantaneous delay (<10ms).\r\n                 * This can cause a brief flicker if the browser renders the page twice: once at the end of the first event loop,\r\n                 * then again immediately on the first timer callback. By flushing the timer queue at the end of the first event loop,\r\n                 * you can run any zero-delay transitions immediately and avoid the flicker.\r\n                 *\r\n                 * These flickers are noticable on IE, and with a large number of webviews(not recommend you ever do this) on iOS.\r\n                 */\r\n                function flushAllD3Transitions() {\r\n                    var now = Date.now;\r\n                    Date.now = function () { return Infinity; };\r\n                    d3.timer.flush();\r\n                    Date.now = now;\r\n                }\r\n                svg.flushAllD3Transitions = flushAllD3Transitions;\r\n                /**\r\n                 * Wrapper for flushAllD3Transitions.\r\n                 */\r\n                function flushAllD3TransitionsIfNeeded(options) {\r\n                    if (!options)\r\n                        return;\r\n                    var animationOptions = options;\r\n                    if (animationOptions && animationOptions.transitionImmediate) {\r\n                        flushAllD3Transitions();\r\n                    }\r\n                }\r\n                svg.flushAllD3TransitionsIfNeeded = flushAllD3TransitionsIfNeeded;\r\n                /**\r\n                 * There is a known bug in IE10 that causes cryptic crashes for SVG elements with a null "d" attribute:\r\n                 * https://github.com/mbostock/d3/issues/1737\r\n                 */\r\n                function ensureDAttribute(pathElement) {\r\n                    if (!pathElement.getAttribute("d")) {\r\n                        pathElement.setAttribute("d", "");\r\n                    }\r\n                }\r\n                svg.ensureDAttribute = ensureDAttribute;\r\n                /**\r\n                 * In IE10, it is possible to return SVGPoints with NaN members.\r\n                 */\r\n                function ensureValidSVGPoint(point) {\r\n                    if (isNaN(point.x)) {\r\n                        point.x = 0;\r\n                    }\r\n                    if (isNaN(point.y)) {\r\n                        point.y = 0;\r\n                    }\r\n                }\r\n                svg.ensureValidSVGPoint = ensureValidSVGPoint;\r\n                /**\r\n                 * Parse the Transform string with value "translate(x,y)".\r\n                 * In Chrome for the translate(position) string the delimiter\r\n                 * is a comma and in IE it is a spaceso checking for both.\r\n                 */\r\n                function parseTranslateTransform(input) {\r\n                    if (!input || input.length === 0) {\r\n                        return {\r\n                            x: "0",\r\n                            y: "0",\r\n                        };\r\n                    }\r\n                    var translateCoordinates = input.split(/[\\s,]+/);\r\n                    var yValue = "0";\r\n                    var xValue;\r\n                    var xCoord = translateCoordinates[0];\r\n                    // Y coordinate is ommited in I.E if it is 0, so need to check against that\r\n                    if (translateCoordinates.length === 1) {\r\n                        // 10 refers to the length of "translate("\r\n                        xValue = xCoord.substring(10, xCoord.length - 1);\r\n                    }\r\n                    else {\r\n                        var yCoord = translateCoordinates[1];\r\n                        yValue = yCoord.substring(0, yCoord.length - 1);\r\n                        // 10 refers to the length of "translate("\r\n                        xValue = xCoord.substring(10, xCoord.length);\r\n                    }\r\n                    return {\r\n                        x: xValue,\r\n                        y: yValue\r\n                    };\r\n                }\r\n                svg.parseTranslateTransform = parseTranslateTransform;\r\n                /**\r\n                 * Create an arrow.\r\n                 */\r\n                function createArrow(width, height, rotate) {\r\n                    var transform = "rotate(" + rotate + " " + width / 2 + " " + height / 2 + ")";\r\n                    var path = "M0 0";\r\n                    path += "L0 " + height;\r\n                    path += "L" + width + " " + height / 2 + " Z";\r\n                    return {\r\n                        path: path,\r\n                        transform: transform\r\n                    };\r\n                }\r\n                svg.createArrow = createArrow;\r\n                /**\r\n                 * Use the ratio of the scaled bounding rect and the SVG DOM bounding box to get the x and y transform scale values\r\n                 * @deprecated This function is unreliable across browser implementations, prefer to use SVGScaleDetector if needed.\r\n                 */\r\n                function getTransformScaleRatios(svgElement) {\r\n                    if (svgElement != null) {\r\n                        var scaledRect = svgElement.getBoundingClientRect();\r\n                        var domRect = svgElement.getBBox();\r\n                        if (domRect.height > 0 && domRect.width > 0) {\r\n                            return {\r\n                                x: scaledRect.width / domRect.width,\r\n                                y: scaledRect.height / domRect.height\r\n                            };\r\n                        }\r\n                    }\r\n                    return { x: 1, y: 1 };\r\n                }\r\n                svg.getTransformScaleRatios = getTransformScaleRatios;\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var svg;\r\n            (function (svg) {\r\n                var SVGScaleDetector = (function () {\r\n                    function SVGScaleDetector(svgElement) {\r\n                        this.scaleDetectorElement = svgElement\r\n                            .append("rect") // Using a <rect> which should have a reliable bounding box across browser implementations.\r\n                            .classed("scale-detector", true)\r\n                            .attr({\r\n                            width: 1,\r\n                            height: 1,\r\n                            "stroke-width": "0px",\r\n                            fill: "none",\r\n                        })\r\n                            .node();\r\n                    }\r\n                    SVGScaleDetector.prototype.getScale = function () {\r\n                        var scaledRect = this.scaleDetectorElement.getBoundingClientRect();\r\n                        var domRect = this.scaleDetectorElement.getBBox();\r\n                        if (domRect.height > 0 && domRect.width > 0) {\r\n                            return {\r\n                                x: scaledRect.width / domRect.width,\r\n                                y: scaledRect.height / domRect.height\r\n                            };\r\n                        }\r\n                        return {\r\n                            x: 1,\r\n                            y: 1\r\n                        };\r\n                    };\r\n                    return SVGScaleDetector;\r\n                }());\r\n                svg.SVGScaleDetector = SVGScaleDetector;\r\n            })(svg = utils.svg || (utils.svg = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n';
},function(t,e){t.exports='/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                /**\r\n                 * Module Double contains a set of constants and precision based utility methods\r\n                 * for dealing with doubles and their decimal garbage in the javascript.\r\n                 */\r\n                var Double;\r\n                (function (Double) {\r\n                    // Constants.\r\n                    Double.MIN_VALUE = -Number.MAX_VALUE;\r\n                    Double.MAX_VALUE = Number.MAX_VALUE;\r\n                    Double.MIN_EXP = -308;\r\n                    Double.MAX_EXP = 308;\r\n                    Double.EPSILON = 1E-323;\r\n                    Double.DEFAULT_PRECISION = 0.0001;\r\n                    Double.DEFAULT_PRECISION_IN_DECIMAL_DIGITS = 12;\r\n                    Double.LOG_E_10 = Math.log(10);\r\n                    Double.POSITIVE_POWERS = [\r\n                        1E0, 1E1, 1E2, 1E3, 1E4, 1E5, 1E6, 1E7, 1E8, 1E9, 1E10, 1E11, 1E12, 1E13, 1E14, 1E15, 1E16, 1E17, 1E18, 1E19, 1E20, 1E21, 1E22, 1E23, 1E24, 1E25, 1E26, 1E27, 1E28, 1E29, 1E30, 1E31, 1E32, 1E33, 1E34, 1E35, 1E36, 1E37, 1E38, 1E39, 1E40, 1E41, 1E42, 1E43, 1E44, 1E45, 1E46, 1E47, 1E48, 1E49, 1E50, 1E51, 1E52, 1E53, 1E54, 1E55, 1E56, 1E57, 1E58, 1E59, 1E60, 1E61, 1E62, 1E63, 1E64, 1E65, 1E66, 1E67, 1E68, 1E69, 1E70, 1E71, 1E72, 1E73, 1E74, 1E75, 1E76, 1E77, 1E78, 1E79, 1E80, 1E81, 1E82, 1E83, 1E84, 1E85, 1E86, 1E87, 1E88, 1E89, 1E90, 1E91, 1E92, 1E93, 1E94, 1E95, 1E96, 1E97, 1E98, 1E99,\r\n                        1E100, 1E101, 1E102, 1E103, 1E104, 1E105, 1E106, 1E107, 1E108, 1E109, 1E110, 1E111, 1E112, 1E113, 1E114, 1E115, 1E116, 1E117, 1E118, 1E119, 1E120, 1E121, 1E122, 1E123, 1E124, 1E125, 1E126, 1E127, 1E128, 1E129, 1E130, 1E131, 1E132, 1E133, 1E134, 1E135, 1E136, 1E137, 1E138, 1E139, 1E140, 1E141, 1E142, 1E143, 1E144, 1E145, 1E146, 1E147, 1E148, 1E149, 1E150, 1E151, 1E152, 1E153, 1E154, 1E155, 1E156, 1E157, 1E158, 1E159, 1E160, 1E161, 1E162, 1E163, 1E164, 1E165, 1E166, 1E167, 1E168, 1E169, 1E170, 1E171, 1E172, 1E173, 1E174, 1E175, 1E176, 1E177, 1E178, 1E179, 1E180, 1E181, 1E182, 1E183, 1E184, 1E185, 1E186, 1E187, 1E188, 1E189, 1E190, 1E191, 1E192, 1E193, 1E194, 1E195, 1E196, 1E197, 1E198, 1E199,\r\n                        1E200, 1E201, 1E202, 1E203, 1E204, 1E205, 1E206, 1E207, 1E208, 1E209, 1E210, 1E211, 1E212, 1E213, 1E214, 1E215, 1E216, 1E217, 1E218, 1E219, 1E220, 1E221, 1E222, 1E223, 1E224, 1E225, 1E226, 1E227, 1E228, 1E229, 1E230, 1E231, 1E232, 1E233, 1E234, 1E235, 1E236, 1E237, 1E238, 1E239, 1E240, 1E241, 1E242, 1E243, 1E244, 1E245, 1E246, 1E247, 1E248, 1E249, 1E250, 1E251, 1E252, 1E253, 1E254, 1E255, 1E256, 1E257, 1E258, 1E259, 1E260, 1E261, 1E262, 1E263, 1E264, 1E265, 1E266, 1E267, 1E268, 1E269, 1E270, 1E271, 1E272, 1E273, 1E274, 1E275, 1E276, 1E277, 1E278, 1E279, 1E280, 1E281, 1E282, 1E283, 1E284, 1E285, 1E286, 1E287, 1E288, 1E289, 1E290, 1E291, 1E292, 1E293, 1E294, 1E295, 1E296, 1E297, 1E298, 1E299,\r\n                        1E300, 1E301, 1E302, 1E303, 1E304, 1E305, 1E306, 1E307, 1E308\r\n                    ];\r\n                    Double.NEGATIVE_POWERS = [\r\n                        1E0, 1E-1, 1E-2, 1E-3, 1E-4, 1E-5, 1E-6, 1E-7, 1E-8, 1E-9, 1E-10, 1E-11, 1E-12, 1E-13, 1E-14, 1E-15, 1E-16, 1E-17, 1E-18, 1E-19, 1E-20, 1E-21, 1E-22, 1E-23, 1E-24, 1E-25, 1E-26, 1E-27, 1E-28, 1E-29, 1E-30, 1E-31, 1E-32, 1E-33, 1E-34, 1E-35, 1E-36, 1E-37, 1E-38, 1E-39, 1E-40, 1E-41, 1E-42, 1E-43, 1E-44, 1E-45, 1E-46, 1E-47, 1E-48, 1E-49, 1E-50, 1E-51, 1E-52, 1E-53, 1E-54, 1E-55, 1E-56, 1E-57, 1E-58, 1E-59, 1E-60, 1E-61, 1E-62, 1E-63, 1E-64, 1E-65, 1E-66, 1E-67, 1E-68, 1E-69, 1E-70, 1E-71, 1E-72, 1E-73, 1E-74, 1E-75, 1E-76, 1E-77, 1E-78, 1E-79, 1E-80, 1E-81, 1E-82, 1E-83, 1E-84, 1E-85, 1E-86, 1E-87, 1E-88, 1E-89, 1E-90, 1E-91, 1E-92, 1E-93, 1E-94, 1E-95, 1E-96, 1E-97, 1E-98, 1E-99,\r\n                        1E-100, 1E-101, 1E-102, 1E-103, 1E-104, 1E-105, 1E-106, 1E-107, 1E-108, 1E-109, 1E-110, 1E-111, 1E-112, 1E-113, 1E-114, 1E-115, 1E-116, 1E-117, 1E-118, 1E-119, 1E-120, 1E-121, 1E-122, 1E-123, 1E-124, 1E-125, 1E-126, 1E-127, 1E-128, 1E-129, 1E-130, 1E-131, 1E-132, 1E-133, 1E-134, 1E-135, 1E-136, 1E-137, 1E-138, 1E-139, 1E-140, 1E-141, 1E-142, 1E-143, 1E-144, 1E-145, 1E-146, 1E-147, 1E-148, 1E-149, 1E-150, 1E-151, 1E-152, 1E-153, 1E-154, 1E-155, 1E-156, 1E-157, 1E-158, 1E-159, 1E-160, 1E-161, 1E-162, 1E-163, 1E-164, 1E-165, 1E-166, 1E-167, 1E-168, 1E-169, 1E-170, 1E-171, 1E-172, 1E-173, 1E-174, 1E-175, 1E-176, 1E-177, 1E-178, 1E-179, 1E-180, 1E-181, 1E-182, 1E-183, 1E-184, 1E-185, 1E-186, 1E-187, 1E-188, 1E-189, 1E-190, 1E-191, 1E-192, 1E-193, 1E-194, 1E-195, 1E-196, 1E-197, 1E-198, 1E-199,\r\n                        1E-200, 1E-201, 1E-202, 1E-203, 1E-204, 1E-205, 1E-206, 1E-207, 1E-208, 1E-209, 1E-210, 1E-211, 1E-212, 1E-213, 1E-214, 1E-215, 1E-216, 1E-217, 1E-218, 1E-219, 1E-220, 1E-221, 1E-222, 1E-223, 1E-224, 1E-225, 1E-226, 1E-227, 1E-228, 1E-229, 1E-230, 1E-231, 1E-232, 1E-233, 1E-234, 1E-235, 1E-236, 1E-237, 1E-238, 1E-239, 1E-240, 1E-241, 1E-242, 1E-243, 1E-244, 1E-245, 1E-246, 1E-247, 1E-248, 1E-249, 1E-250, 1E-251, 1E-252, 1E-253, 1E-254, 1E-255, 1E-256, 1E-257, 1E-258, 1E-259, 1E-260, 1E-261, 1E-262, 1E-263, 1E-264, 1E-265, 1E-266, 1E-267, 1E-268, 1E-269, 1E-270, 1E-271, 1E-272, 1E-273, 1E-274, 1E-275, 1E-276, 1E-277, 1E-278, 1E-279, 1E-280, 1E-281, 1E-282, 1E-283, 1E-284, 1E-285, 1E-286, 1E-287, 1E-288, 1E-289, 1E-290, 1E-291, 1E-292, 1E-293, 1E-294, 1E-295, 1E-296, 1E-297, 1E-298, 1E-299,\r\n                        1E-300, 1E-301, 1E-302, 1E-303, 1E-304, 1E-305, 1E-306, 1E-307, 1E-308, 1E-309, 1E-310, 1E-311, 1E-312, 1E-313, 1E-314, 1E-315, 1E-316, 1E-317, 1E-318, 1E-319, 1E-320, 1E-321, 1E-322, 1E-323, 1E-324\r\n                    ];\r\n                    /**\r\n                     * Returns powers of 10.\r\n                     * Unlike the Math.pow this function produces no decimal garbage.\r\n                     * @param exp Exponent.\r\n                     */\r\n                    function pow10(exp) {\r\n                        // Positive & zero\r\n                        if (exp >= 0) {\r\n                            if (exp < Double.POSITIVE_POWERS.length) {\r\n                                return Double.POSITIVE_POWERS[exp];\r\n                            }\r\n                            else {\r\n                                return Infinity;\r\n                            }\r\n                        }\r\n                        // Negative\r\n                        exp = -exp;\r\n                        if (exp > 0 && exp < Double.NEGATIVE_POWERS.length) {\r\n                            return Double.NEGATIVE_POWERS[exp];\r\n                        }\r\n                        else {\r\n                            return 0;\r\n                        }\r\n                    }\r\n                    Double.pow10 = pow10;\r\n                    /**\r\n                     * Returns the 10 base logarithm of the number.\r\n                     * Unlike Math.log function this produces integer results with no decimal garbage.\r\n                     * @param val Positive value or zero.\r\n                     */\r\n                    function log10(val) {\r\n                        // Fast Log10() algorithm\r\n                        if (val > 1 && val < 1E16) {\r\n                            if (val < 1E8) {\r\n                                if (val < 1E4) {\r\n                                    if (val < 1E2) {\r\n                                        if (val < 1E1) {\r\n                                            return 0;\r\n                                        }\r\n                                        else {\r\n                                            return 1;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E3) {\r\n                                            return 2;\r\n                                        }\r\n                                        else {\r\n                                            return 3;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (val < 1E6) {\r\n                                        if (val < 1E5) {\r\n                                            return 4;\r\n                                        }\r\n                                        else {\r\n                                            return 5;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E7) {\r\n                                            return 6;\r\n                                        }\r\n                                        else {\r\n                                            return 7;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (val < 1E12) {\r\n                                    if (val < 1E10) {\r\n                                        if (val < 1E9) {\r\n                                            return 8;\r\n                                        }\r\n                                        else {\r\n                                            return 9;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E11) {\r\n                                            return 10;\r\n                                        }\r\n                                        else {\r\n                                            return 11;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (val < 1E14) {\r\n                                        if (val < 1E13) {\r\n                                            return 12;\r\n                                        }\r\n                                        else {\r\n                                            return 13;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E15) {\r\n                                            return 14;\r\n                                        }\r\n                                        else {\r\n                                            return 15;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        if (val > 1E-16 && val < 1) {\r\n                            if (val < 1E-8) {\r\n                                if (val < 1E-12) {\r\n                                    if (val < 1E-14) {\r\n                                        if (val < 1E-15) {\r\n                                            return -16;\r\n                                        }\r\n                                        else {\r\n                                            return -15;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E-13) {\r\n                                            return -14;\r\n                                        }\r\n                                        else {\r\n                                            return -13;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (val < 1E-10) {\r\n                                        if (val < 1E-11) {\r\n                                            return -12;\r\n                                        }\r\n                                        else {\r\n                                            return -11;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E-9) {\r\n                                            return -10;\r\n                                        }\r\n                                        else {\r\n                                            return -9;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (val < 1E-4) {\r\n                                    if (val < 1E-6) {\r\n                                        if (val < 1E-7) {\r\n                                            return -8;\r\n                                        }\r\n                                        else {\r\n                                            return -7;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E-5) {\r\n                                            return -6;\r\n                                        }\r\n                                        else {\r\n                                            return -5;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (val < 1E-2) {\r\n                                        if (val < 1E-3) {\r\n                                            return -4;\r\n                                        }\r\n                                        else {\r\n                                            return -3;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        if (val < 1E-1) {\r\n                                            return -2;\r\n                                        }\r\n                                        else {\r\n                                            return -1;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        // JS Math provides only natural log function so we need to calc the 10 base logarithm:\r\n                        // logb(x) = logk(x)/logk(b);\r\n                        var log10 = Math.log(val) / Double.LOG_E_10;\r\n                        return Double.floorWithPrecision(log10);\r\n                    }\r\n                    Double.log10 = log10;\r\n                    /**\r\n                     * Returns a power of 10 representing precision of the number based on the number of meaningful decimal digits.\r\n                     * For example the precision of 56,263.3767 with the 6 meaningful decimal digit is 0.1.\r\n                     * @param x Value.\r\n                     * @param decimalDigits How many decimal digits are meaningfull.\r\n                     */\r\n                    function getPrecision(x, decimalDigits) {\r\n                        if (decimalDigits === undefined) {\r\n                            decimalDigits = Double.DEFAULT_PRECISION_IN_DECIMAL_DIGITS;\r\n                        }\r\n                        if (!x || !isFinite(x)) {\r\n                            return undefined;\r\n                        }\r\n                        var exp = Double.log10(Math.abs(x));\r\n                        if (exp < Double.MIN_EXP) {\r\n                            return 0;\r\n                        }\r\n                        var precisionExp = Math.max(exp - decimalDigits, -Double.NEGATIVE_POWERS.length + 1);\r\n                        return Double.pow10(precisionExp);\r\n                    }\r\n                    Double.getPrecision = getPrecision;\r\n                    /**\r\n                     * Checks if a delta between 2 numbers is less than provided precision.\r\n                     * @param x One value.\r\n                     * @param y Another value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function equalWithPrecision(x, y, precision) {\r\n                        precision = detectPrecision(precision, x, y);\r\n                        return x === y || Math.abs(x - y) < precision;\r\n                    }\r\n                    Double.equalWithPrecision = equalWithPrecision;\r\n                    /**\r\n                     * Checks if a first value is less than another taking\r\n                     * into account the loose precision based equality.\r\n                     * @param x One value.\r\n                     * @param y Another value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function lessWithPrecision(x, y, precision) {\r\n                        precision = detectPrecision(precision, x, y);\r\n                        return x < y && Math.abs(x - y) > precision;\r\n                    }\r\n                    Double.lessWithPrecision = lessWithPrecision;\r\n                    /**\r\n                     * Checks if a first value is less or equal than another taking\r\n                     * into account the loose precision based equality.\r\n                     * @param x One value.\r\n                     * @param y Another value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function lessOrEqualWithPrecision(x, y, precision) {\r\n                        precision = detectPrecision(precision, x, y);\r\n                        return x < y || Math.abs(x - y) < precision;\r\n                    }\r\n                    Double.lessOrEqualWithPrecision = lessOrEqualWithPrecision;\r\n                    /**\r\n                     * Checks if a first value is greater than another taking\r\n                     * into account the loose precision based equality.\r\n                     * @param x One value.\r\n                     * @param y Another value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function greaterWithPrecision(x, y, precision) {\r\n                        precision = detectPrecision(precision, x, y);\r\n                        return x > y && Math.abs(x - y) > precision;\r\n                    }\r\n                    Double.greaterWithPrecision = greaterWithPrecision;\r\n                    /**\r\n                     * Checks if a first value is greater or equal to another taking\r\n                     * into account the loose precision based equality.\r\n                     * @param x One value.\r\n                     * @param y Another value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function greaterOrEqualWithPrecision(x, y, precision) {\r\n                        precision = detectPrecision(precision, x, y);\r\n                        return x > y || Math.abs(x - y) < precision;\r\n                    }\r\n                    Double.greaterOrEqualWithPrecision = greaterOrEqualWithPrecision;\r\n                    /**\r\n                     * Floors the number unless it\'s withing the precision distance from the higher int.\r\n                     * @param x One value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function floorWithPrecision(x, precision) {\r\n                        precision = precision != null ? precision : Double.DEFAULT_PRECISION;\r\n                        var roundX = Math.round(x);\r\n                        if (Math.abs(x - roundX) < precision) {\r\n                            return roundX;\r\n                        }\r\n                        else {\r\n                            return Math.floor(x);\r\n                        }\r\n                    }\r\n                    Double.floorWithPrecision = floorWithPrecision;\r\n                    /**\r\n                     * Ceils the number unless it\'s withing the precision distance from the lower int.\r\n                     * @param x One value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function ceilWithPrecision(x, precision) {\r\n                        precision = detectPrecision(precision, Double.DEFAULT_PRECISION);\r\n                        var roundX = Math.round(x);\r\n                        if (Math.abs(x - roundX) < precision) {\r\n                            return roundX;\r\n                        }\r\n                        else {\r\n                            return Math.ceil(x);\r\n                        }\r\n                    }\r\n                    Double.ceilWithPrecision = ceilWithPrecision;\r\n                    /**\r\n                     * Floors the number to the provided precision.\r\n                     * For example 234,578 floored to 1,000 precision is 234,000.\r\n                     * @param x One value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function floorToPrecision(x, precision) {\r\n                        precision = detectPrecision(precision, Double.DEFAULT_PRECISION);\r\n                        if (precision === 0 || x === 0) {\r\n                            return x;\r\n                        }\r\n                        // Precision must be a Power of 10\r\n                        return Math.floor(x / precision) * precision;\r\n                    }\r\n                    Double.floorToPrecision = floorToPrecision;\r\n                    /**\r\n                     * Ceils the number to the provided precision.\r\n                     * For example 234,578 floored to 1,000 precision is 235,000.\r\n                     * @param x One value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function ceilToPrecision(x, precision) {\r\n                        precision = detectPrecision(precision, Double.DEFAULT_PRECISION);\r\n                        if (precision === 0 || x === 0) {\r\n                            return x;\r\n                        }\r\n                        // Precision must be a Power of 10\r\n                        return Math.ceil(x / precision) * precision;\r\n                    }\r\n                    Double.ceilToPrecision = ceilToPrecision;\r\n                    /**\r\n                     * Rounds the number to the provided precision.\r\n                     * For example 234,578 floored to 1,000 precision is 235,000.\r\n                     * @param x One value.\r\n                     * @param precision Precision value.\r\n                     */\r\n                    function roundToPrecision(x, precision) {\r\n                        precision = detectPrecision(precision, Double.DEFAULT_PRECISION);\r\n                        if (precision === 0 || x === 0) {\r\n                            return x;\r\n                        }\r\n                        // Precision must be a Power of 10\r\n                        var result = Math.round(x / precision) * precision;\r\n                        var decimalDigits = Math.round(Double.log10(Math.abs(x)) - Double.log10(precision)) + 1;\r\n                        if (decimalDigits > 0 && decimalDigits < 16) {\r\n                            result = parseFloat(result.toPrecision(decimalDigits));\r\n                        }\r\n                        return result;\r\n                    }\r\n                    Double.roundToPrecision = roundToPrecision;\r\n                    /**\r\n                     * Returns the value making sure that it\'s restricted to the provided range.\r\n                     * @param x One value.\r\n                     * @param min Range min boundary.\r\n                     * @param max Range max boundary.\r\n                     */\r\n                    function ensureInRange(x, min, max) {\r\n                        if (x === undefined || x === null) {\r\n                            return x;\r\n                        }\r\n                        if (x < min) {\r\n                            return min;\r\n                        }\r\n                        if (x > max) {\r\n                            return max;\r\n                        }\r\n                        return x;\r\n                    }\r\n                    Double.ensureInRange = ensureInRange;\r\n                    /**\r\n                     * Rounds the value - this method is actually faster than Math.round - used in the graphics utils.\r\n                     * @param x Value to round.\r\n                     */\r\n                    function round(x) {\r\n                        return (0.5 + x) << 0;\r\n                    }\r\n                    Double.round = round;\r\n                    /**\r\n                     * Projects the value from the source range into the target range.\r\n                     * @param value Value to project.\r\n                     * @param fromMin Minimum of the source range.\r\n                     * @param toMin Minimum of the target range.\r\n                     * @param toMax Maximum of the target range.\r\n                     */\r\n                    function project(value, fromMin, fromSize, toMin, toSize) {\r\n                        if (fromSize === 0 || toSize === 0) {\r\n                            if (fromMin <= value && value <= fromMin + fromSize) {\r\n                                return toMin;\r\n                            }\r\n                            else {\r\n                                return NaN;\r\n                            }\r\n                        }\r\n                        var relativeX = (value - fromMin) / fromSize;\r\n                        var projectedX = toMin + relativeX * toSize;\r\n                        return projectedX;\r\n                    }\r\n                    Double.project = project;\r\n                    /**\r\n                     * Removes decimal noise.\r\n                     * @param value Value to be processed.\r\n                     */\r\n                    function removeDecimalNoise(value) {\r\n                        return roundToPrecision(value, getPrecision(value));\r\n                    }\r\n                    Double.removeDecimalNoise = removeDecimalNoise;\r\n                    /**\r\n                     * Checks whether the number is integer.\r\n                     * @param value Value to be checked.\r\n                     */\r\n                    function isInteger(value) {\r\n                        return value !== null && value % 1 === 0;\r\n                    }\r\n                    Double.isInteger = isInteger;\r\n                    /**\r\n                     * Dividing by increment will give us count of increments\r\n                     * Round out the rough edges into even integer\r\n                     * Multiply back by increment to get rounded value\r\n                     * e.g. Rounder.toIncrement(0.647291, 0.05) => 0.65\r\n                     * @param value - value to round to nearest increment\r\n                     * @param increment - smallest increment to round toward\r\n                     */\r\n                    function toIncrement(value, increment) {\r\n                        return Math.round(value / increment) * increment;\r\n                    }\r\n                    Double.toIncrement = toIncrement;\r\n                    /**\r\n                     * Overrides the given precision with defaults if necessary. Exported only for tests\r\n                     *\r\n                     * precision defined returns precision\r\n                     * x defined with y undefined returns twelve digits of precision based on x\r\n                     * x defined but zero with y defined; returns twelve digits of precision based on y\r\n                     * x and y defined retursn twelve digits of precision based on the minimum of the two\r\n                     * if no applicable precision is found based on those (such as x and y being zero), the default precision is used\r\n                     */\r\n                    function detectPrecision(precision, x, y) {\r\n                        if (precision !== undefined) {\r\n                            return precision;\r\n                        }\r\n                        var calculatedPrecision;\r\n                        if (!y) {\r\n                            calculatedPrecision = Double.getPrecision(x);\r\n                        }\r\n                        else if (!x) {\r\n                            calculatedPrecision = Double.getPrecision(y);\r\n                        }\r\n                        else {\r\n                            calculatedPrecision = Double.getPrecision(Math.min(Math.abs(x), Math.abs(y)));\r\n                        }\r\n                        return calculatedPrecision || Double.DEFAULT_PRECISION;\r\n                    }\r\n                    Double.detectPrecision = detectPrecision;\r\n                })(Double = type.Double || (type.Double = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                var Prototype;\r\n                (function (Prototype) {\r\n                    /**\r\n                     * Returns a new object with the provided obj as its prototype.\r\n                     */\r\n                    function inherit(obj, extension) {\r\n                        function wrapCtor() { }\r\n                        wrapCtor.prototype = obj;\r\n                        var inherited = new wrapCtor();\r\n                        if (extension)\r\n                            extension(inherited);\r\n                        return inherited;\r\n                    }\r\n                    Prototype.inherit = inherit;\r\n                    /**\r\n                     * Returns a new object with the provided obj as its prototype\r\n                     * if, and only if, the prototype has not been previously set\r\n                     */\r\n                    function inheritSingle(obj) {\r\n                        var proto = Object.getPrototypeOf(obj);\r\n                        if (proto === Object.prototype || proto === Array.prototype)\r\n                            obj = inherit(obj);\r\n                        return obj;\r\n                    }\r\n                    Prototype.inheritSingle = inheritSingle;\r\n                    /**\r\n                     * Uses the provided callback function to selectively replace contents in the provided array.\r\n                     * @return A new array with those values overriden\r\n                     * or undefined if no overrides are necessary.\r\n                     */\r\n                    function overrideArray(prototype, override) {\r\n                        if (!prototype)\r\n                            return;\r\n                        var overwritten;\r\n                        for (var i = 0, len = prototype.length; i < len; i++) {\r\n                            var value = override(prototype[i]);\r\n                            if (value) {\r\n                                if (!overwritten)\r\n                                    overwritten = inherit(prototype);\r\n                                overwritten[i] = value;\r\n                            }\r\n                        }\r\n                        return overwritten;\r\n                    }\r\n                    Prototype.overrideArray = overrideArray;\r\n                })(Prototype = type.Prototype || (type.Prototype = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                var ArrayExtensions;\r\n                (function (ArrayExtensions) {\r\n                    /**\r\n                     * Returns items that exist in target and other.\r\n                     */\r\n                    function intersect(target, other) {\r\n                        var result = [];\r\n                        for (var i = target.length - 1; i >= 0; --i) {\r\n                            if (other.indexOf(target[i]) !== -1) {\r\n                                result.push(target[i]);\r\n                            }\r\n                        }\r\n                        return result;\r\n                    }\r\n                    ArrayExtensions.intersect = intersect;\r\n                    /**\r\n                     * Return elements exists in target but not exists in other.\r\n                     */\r\n                    function diff(target, other) {\r\n                        var result = [];\r\n                        for (var i = target.length - 1; i >= 0; --i) {\r\n                            var value = target[i];\r\n                            if (other.indexOf(value) === -1) {\r\n                                result.push(value);\r\n                            }\r\n                        }\r\n                        return result;\r\n                    }\r\n                    ArrayExtensions.diff = diff;\r\n                    /**\r\n                     * Return an array with only the distinct items in the source.\r\n                     */\r\n                    function distinct(source) {\r\n                        var result = [];\r\n                        for (var i = 0, len = source.length; i < len; i++) {\r\n                            var value = source[i];\r\n                            if (result.indexOf(value) === -1) {\r\n                                result.push(value);\r\n                            }\r\n                        }\r\n                        return result;\r\n                    }\r\n                    ArrayExtensions.distinct = distinct;\r\n                    /**\r\n                     * Pushes content of source onto target,\r\n                     * for parts of course that do not already exist in target.\r\n                     */\r\n                    function union(target, source) {\r\n                        for (var i = 0, len = source.length; i < len; ++i) {\r\n                            unionSingle(target, source[i]);\r\n                        }\r\n                    }\r\n                    ArrayExtensions.union = union;\r\n                    /**\r\n                     * Pushes value onto target, if value does not already exist in target.\r\n                     */\r\n                    function unionSingle(target, value) {\r\n                        if (target.indexOf(value) < 0) {\r\n                            target.push(value);\r\n                        }\r\n                    }\r\n                    ArrayExtensions.unionSingle = unionSingle;\r\n                    /**\r\n                     * Returns an array with a range of items from source,\r\n                     * including the startIndex & endIndex.\r\n                     */\r\n                    function range(source, startIndex, endIndex) {\r\n                        var result = [];\r\n                        for (var i = startIndex; i <= endIndex; ++i) {\r\n                            result.push(source[i]);\r\n                        }\r\n                        return result;\r\n                    }\r\n                    ArrayExtensions.range = range;\r\n                    /**\r\n                     * Returns an array that includes items from source, up to the specified count.\r\n                     */\r\n                    function take(source, count) {\r\n                        var result = [];\r\n                        for (var i = 0; i < count; ++i) {\r\n                            result.push(source[i]);\r\n                        }\r\n                        return result;\r\n                    }\r\n                    ArrayExtensions.take = take;\r\n                    function copy(source) {\r\n                        return take(source, source.length);\r\n                    }\r\n                    ArrayExtensions.copy = copy;\r\n                    /**\r\n                      * Returns a value indicating whether the arrays have the same values in the same sequence.\r\n                      */\r\n                    function sequenceEqual(left, right, comparison) {\r\n                        // Normalize falsy to null\r\n                        if (!left) {\r\n                            left = null;\r\n                        }\r\n                        if (!right) {\r\n                            right = null;\r\n                        }\r\n                        // T can be same as U, and it is possible for left and right to be the same array object...\r\n                        if (left === right) {\r\n                            return true;\r\n                        }\r\n                        if (!!left !== !!right) {\r\n                            return false;\r\n                        }\r\n                        var len = left.length;\r\n                        if (len !== right.length) {\r\n                            return false;\r\n                        }\r\n                        var i = 0;\r\n                        while (i < len && comparison(left[i], right[i])) {\r\n                            ++i;\r\n                        }\r\n                        return i === len;\r\n                    }\r\n                    ArrayExtensions.sequenceEqual = sequenceEqual;\r\n                    /**\r\n                     * Returns null if the specified array is empty.\r\n                     * Otherwise returns the specified array.\r\n                     */\r\n                    function emptyToNull(array) {\r\n                        if (array && array.length === 0) {\r\n                            return null;\r\n                        }\r\n                        return array;\r\n                    }\r\n                    ArrayExtensions.emptyToNull = emptyToNull;\r\n                    function indexOf(array, predicate) {\r\n                        for (var i = 0, len = array.length; i < len; ++i) {\r\n                            if (predicate(array[i])) {\r\n                                return i;\r\n                            }\r\n                        }\r\n                        return -1;\r\n                    }\r\n                    ArrayExtensions.indexOf = indexOf;\r\n                    /**\r\n                     * Returns a copy of the array rotated by the specified offset.\r\n                     */\r\n                    function rotate(array, offset) {\r\n                        if (offset === 0)\r\n                            return array.slice();\r\n                        var rotated = array.slice(offset);\r\n                        Array.prototype.push.apply(rotated, array.slice(0, offset));\r\n                        return rotated;\r\n                    }\r\n                    ArrayExtensions.rotate = rotate;\r\n                    function createWithId() {\r\n                        return extendWithId([]);\r\n                    }\r\n                    ArrayExtensions.createWithId = createWithId;\r\n                    function extendWithId(array) {\r\n                        var extended = array;\r\n                        extended.withId = withId;\r\n                        return extended;\r\n                    }\r\n                    ArrayExtensions.extendWithId = extendWithId;\r\n                    /**\r\n                     * Finds and returns the first item with a matching ID.\r\n                     */\r\n                    function findWithId(array, id) {\r\n                        for (var i = 0, len = array.length; i < len; i++) {\r\n                            var item = array[i];\r\n                            if (item.id === id)\r\n                                return item;\r\n                        }\r\n                    }\r\n                    ArrayExtensions.findWithId = findWithId;\r\n                    function withId(id) {\r\n                        return ArrayExtensions.findWithId(this, id);\r\n                    }\r\n                    function createWithName() {\r\n                        return extendWithName([]);\r\n                    }\r\n                    ArrayExtensions.createWithName = createWithName;\r\n                    function extendWithName(array) {\r\n                        var extended = array;\r\n                        extended.withName = withName;\r\n                        return extended;\r\n                    }\r\n                    ArrayExtensions.extendWithName = extendWithName;\r\n                    function findItemWithName(array, name) {\r\n                        var index = indexWithName(array, name);\r\n                        if (index >= 0)\r\n                            return array[index];\r\n                    }\r\n                    ArrayExtensions.findItemWithName = findItemWithName;\r\n                    function indexWithName(array, name) {\r\n                        for (var i = 0, len = array.length; i < len; i++) {\r\n                            var item = array[i];\r\n                            if (item.name === name)\r\n                                return i;\r\n                        }\r\n                        return -1;\r\n                    }\r\n                    ArrayExtensions.indexWithName = indexWithName;\r\n                    /**\r\n                     * Inserts a number in sorted order into a list of numbers already in sorted order.\r\n                     * @returns True if the item was added, false if it already existed.\r\n                     */\r\n                    function insertSorted(list, value) {\r\n                        var len = list.length;\r\n                        // NOTE: iterate backwards because incoming values tend to be sorted already.\r\n                        for (var i = len - 1; i >= 0; i--) {\r\n                            var diff_1 = list[i] - value;\r\n                            if (diff_1 === 0)\r\n                                return false;\r\n                            if (diff_1 > 0)\r\n                                continue;\r\n                            // diff < 0\r\n                            list.splice(i + 1, 0, value);\r\n                            return true;\r\n                        }\r\n                        list.unshift(value);\r\n                        return true;\r\n                    }\r\n                    ArrayExtensions.insertSorted = insertSorted;\r\n                    /**\r\n                     * Removes the first occurrence of a value from a list if it exists.\r\n                     * @returns True if the value was removed, false if it did not exist in the list.\r\n                     */\r\n                    function removeFirst(list, value) {\r\n                        var index = list.indexOf(value);\r\n                        if (index < 0)\r\n                            return false;\r\n                        list.splice(index, 1);\r\n                        return true;\r\n                    }\r\n                    ArrayExtensions.removeFirst = removeFirst;\r\n                    /**\r\n                     * Finds and returns the first item with a matching name.\r\n                     */\r\n                    function withName(name) {\r\n                        var array = this;\r\n                        return findItemWithName(array, name);\r\n                    }\r\n                    /**\r\n                     * Deletes all items from the array.\r\n                     */\r\n                    function clear(array) {\r\n                        if (!array)\r\n                            return;\r\n                        while (array.length > 0)\r\n                            array.pop();\r\n                    }\r\n                    ArrayExtensions.clear = clear;\r\n                    function isUndefinedOrEmpty(array) {\r\n                        if (!array || array.length === 0) {\r\n                            return true;\r\n                        }\r\n                        return false;\r\n                    }\r\n                    ArrayExtensions.isUndefinedOrEmpty = isUndefinedOrEmpty;\r\n                    function swap(array, firstIndex, secondIndex) {\r\n                        var temp = array[firstIndex];\r\n                        array[firstIndex] = array[secondIndex];\r\n                        array[secondIndex] = temp;\r\n                    }\r\n                    ArrayExtensions.swap = swap;\r\n                    function isInArray(array, lookupItem, compareCallback) {\r\n                        return array.some(function (item) { return compareCallback(item, lookupItem); });\r\n                    }\r\n                    ArrayExtensions.isInArray = isInArray;\r\n                    /** Checks if the given object is an Array, and looking all the way up the prototype chain. */\r\n                    function isArrayOrInheritedArray(obj) {\r\n                        var nextPrototype = obj;\r\n                        while (nextPrototype != null) {\r\n                            if (Array.isArray(nextPrototype))\r\n                                return true;\r\n                            nextPrototype = Object.getPrototypeOf(nextPrototype);\r\n                        }\r\n                        return false;\r\n                    }\r\n                    ArrayExtensions.isArrayOrInheritedArray = isArrayOrInheritedArray;\r\n                    /**\r\n                     * Returns true if the specified values array is sorted in an order as determined by the specified compareFunction.\r\n                     */\r\n                    function isSorted(values, compareFunction) {\r\n                        var ilen = values.length;\r\n                        if (ilen >= 2) {\r\n                            for (var i = 1; i < ilen; i++) {\r\n                                if (compareFunction(values[i - 1], values[i]) > 0) {\r\n                                    return false;\r\n                                }\r\n                            }\r\n                        }\r\n                        return true;\r\n                    }\r\n                    ArrayExtensions.isSorted = isSorted;\r\n                    /**\r\n                     * Returns true if the specified number values array is sorted in ascending order\r\n                     * (or descending order if the specified descendingOrder is truthy).\r\n                     */\r\n                    function isSortedNumeric(values, descendingOrder) {\r\n                        var compareFunction = descendingOrder ?\r\n                            function (a, b) { return b - a; } :\r\n                            function (a, b) { return a - b; };\r\n                        return isSorted(values, compareFunction);\r\n                    }\r\n                    ArrayExtensions.isSortedNumeric = isSortedNumeric;\r\n                    /**\r\n                     * Ensures that the given T || T[] is in array form, either returning the array or\r\n                     * converting single items into an array of length one.\r\n                     */\r\n                    function ensureArray(value) {\r\n                        if (Array.isArray(value)) {\r\n                            return value;\r\n                        }\r\n                        return [value];\r\n                    }\r\n                    ArrayExtensions.ensureArray = ensureArray;\r\n                })(ArrayExtensions = type.ArrayExtensions || (type.ArrayExtensions = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                // NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                /**\r\n                 * Extensions for Enumerations.\r\n                 */\r\n                var EnumExtensions;\r\n                (function (EnumExtensions) {\r\n                    /**\r\n                     * Gets a value indicating whether the value has the bit flags set.\r\n                     */\r\n                    function hasFlag(value, flag) {\r\n                        return (value & flag) === flag;\r\n                    }\r\n                    EnumExtensions.hasFlag = hasFlag;\r\n                    /**\r\n                     * Sets a value of a flag without modifying any other flags.\r\n                     */\r\n                    function setFlag(value, flag) {\r\n                        return value |= flag;\r\n                    }\r\n                    EnumExtensions.setFlag = setFlag;\r\n                    /**\r\n                     * Resets a value of a flag without modifying any other flags.\r\n                     */\r\n                    function resetFlag(value, flag) {\r\n                        return value &= ~flag;\r\n                    }\r\n                    EnumExtensions.resetFlag = resetFlag;\r\n                    /**\r\n                     * According to the TypeScript Handbook, this is safe to do.\r\n                     */\r\n                    function toString(enumType, value) {\r\n                        return enumType[value];\r\n                    }\r\n                    EnumExtensions.toString = toString;\r\n                    /**\r\n                     * Returns the number of 1\'s in the specified value that is a set of binary bit flags.\r\n                     */\r\n                    function getBitCount(value) {\r\n                        if (!Double.isInteger(value))\r\n                            return 0;\r\n                        var bitCount = 0;\r\n                        var shiftingValue = value;\r\n                        while (shiftingValue !== 0) {\r\n                            if ((shiftingValue & 1) === 1) {\r\n                                bitCount++;\r\n                            }\r\n                            shiftingValue = shiftingValue >>> 1;\r\n                        }\r\n                        return bitCount;\r\n                    }\r\n                    EnumExtensions.getBitCount = getBitCount;\r\n                })(EnumExtensions = type.EnumExtensions || (type.EnumExtensions = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                var NumericSequenceRange = (function () {\r\n                    function NumericSequenceRange() {\r\n                    }\r\n                    NumericSequenceRange.prototype._ensureIncludeZero = function () {\r\n                        if (this.includeZero) {\r\n                            // fixed min and max has higher priority than includeZero\r\n                            if (this.min > 0 && !this.hasFixedMin) {\r\n                                this.min = 0;\r\n                            }\r\n                            if (this.max < 0 && !this.hasFixedMax) {\r\n                                this.max = 0;\r\n                            }\r\n                        }\r\n                    };\r\n                    NumericSequenceRange.prototype._ensureNotEmpty = function () {\r\n                        if (this.min === this.max) {\r\n                            if (!this.min) {\r\n                                this.min = 0;\r\n                                this.max = NumericSequenceRange.DEFAULT_MAX;\r\n                                this.hasFixedMin = true;\r\n                                this.hasFixedMax = true;\r\n                            }\r\n                            else {\r\n                                // We are dealing with a single data value (includeZero is not set)\r\n                                // In order to fix the range we need to extend it in both directions by half of the interval.\r\n                                // Interval is calculated based on the number:\r\n                                // 1. Integers below 10,000 are extended by 0.5: so the [2006-2006] empty range is extended to [2005.5-2006.5] range and the ForsedSingleStop=2006\r\n                                // 2. Other numbers are extended by half of their power: [700,001-700,001] => [650,001-750,001] and the ForsedSingleStop=null as we want the intervals to be calculated to cover the range.\r\n                                var value = this.min;\r\n                                var exp = Double.log10(Math.abs(value));\r\n                                var step = void 0;\r\n                                if (exp >= 0 && exp < 4) {\r\n                                    step = 0.5;\r\n                                    this.forcedSingleStop = value;\r\n                                }\r\n                                else {\r\n                                    step = Double.pow10(exp) / 2;\r\n                                    this.forcedSingleStop = null;\r\n                                }\r\n                                this.min = value - step;\r\n                                this.max = value + step;\r\n                            }\r\n                        }\r\n                    };\r\n                    NumericSequenceRange.prototype._ensureDirection = function () {\r\n                        if (this.min > this.max) {\r\n                            var temp = this.min;\r\n                            this.min = this.max;\r\n                            this.max = temp;\r\n                        }\r\n                    };\r\n                    NumericSequenceRange.prototype.getSize = function () {\r\n                        return this.max - this.min;\r\n                    };\r\n                    NumericSequenceRange.prototype.shrinkByStep = function (range, step) {\r\n                        var oldCount = this.min / step;\r\n                        var newCount = range.min / step;\r\n                        var deltaCount = Math.floor(newCount - oldCount);\r\n                        this.min += deltaCount * step;\r\n                        oldCount = this.max / step;\r\n                        newCount = range.max / step;\r\n                        deltaCount = Math.ceil(newCount - oldCount);\r\n                        this.max += deltaCount * step;\r\n                    };\r\n                    NumericSequenceRange.calculate = function (dataMin, dataMax, fixedMin, fixedMax, includeZero) {\r\n                        var result = new NumericSequenceRange();\r\n                        result.includeZero = includeZero ? true : false;\r\n                        result.hasDataRange = ValueUtil.hasValue(dataMin) && ValueUtil.hasValue(dataMax);\r\n                        result.hasFixedMin = ValueUtil.hasValue(fixedMin);\r\n                        result.hasFixedMax = ValueUtil.hasValue(fixedMax);\r\n                        dataMin = Double.ensureInRange(dataMin, NumericSequenceRange.MIN_SUPPORTED_DOUBLE, NumericSequenceRange.MAX_SUPPORTED_DOUBLE);\r\n                        dataMax = Double.ensureInRange(dataMax, NumericSequenceRange.MIN_SUPPORTED_DOUBLE, NumericSequenceRange.MAX_SUPPORTED_DOUBLE);\r\n                        // Calculate the range using the min, max, dataRange\r\n                        if (result.hasFixedMin && result.hasFixedMax) {\r\n                            result.min = fixedMin;\r\n                            result.max = fixedMax;\r\n                        }\r\n                        else if (result.hasFixedMin) {\r\n                            result.min = fixedMin;\r\n                            result.max = dataMax > fixedMin ? dataMax : fixedMin;\r\n                        }\r\n                        else if (result.hasFixedMax) {\r\n                            result.min = dataMin < fixedMax ? dataMin : fixedMax;\r\n                            result.max = fixedMax;\r\n                        }\r\n                        else if (result.hasDataRange) {\r\n                            result.min = dataMin;\r\n                            result.max = dataMax;\r\n                        }\r\n                        else {\r\n                            result.min = 0;\r\n                            result.max = 0;\r\n                        }\r\n                        result._ensureIncludeZero();\r\n                        result._ensureNotEmpty();\r\n                        result._ensureDirection();\r\n                        if (result.min === 0) {\r\n                            result.hasFixedMin = true; // If the range starts from zero we should prevent extending the intervals into the negative range\r\n                        }\r\n                        else if (result.max === 0) {\r\n                            result.hasFixedMax = true; // If the range ends at zero we should prevent extending the intervals into the positive range\r\n                        }\r\n                        return result;\r\n                    };\r\n                    NumericSequenceRange.calculateDataRange = function (dataMin, dataMax, includeZero) {\r\n                        if (!ValueUtil.hasValue(dataMin) || !ValueUtil.hasValue(dataMax)) {\r\n                            return NumericSequenceRange.calculateFixedRange(0, NumericSequenceRange.DEFAULT_MAX);\r\n                        }\r\n                        else {\r\n                            return NumericSequenceRange.calculate(dataMin, dataMax, null, null, includeZero);\r\n                        }\r\n                    };\r\n                    NumericSequenceRange.calculateFixedRange = function (fixedMin, fixedMax, includeZero) {\r\n                        var result = new NumericSequenceRange();\r\n                        result.hasDataRange = false;\r\n                        result.includeZero = includeZero;\r\n                        result.min = fixedMin;\r\n                        result.max = fixedMax;\r\n                        result._ensureIncludeZero();\r\n                        result._ensureNotEmpty();\r\n                        result._ensureDirection();\r\n                        result.hasFixedMin = true;\r\n                        result.hasFixedMax = true;\r\n                        return result;\r\n                    };\r\n                    return NumericSequenceRange;\r\n                }());\r\n                NumericSequenceRange.DEFAULT_MAX = 10;\r\n                NumericSequenceRange.MIN_SUPPORTED_DOUBLE = -1E307;\r\n                NumericSequenceRange.MAX_SUPPORTED_DOUBLE = 1E307;\r\n                type.NumericSequenceRange = NumericSequenceRange;\r\n                /** Note: Exported for testability */\r\n                var ValueUtil;\r\n                (function (ValueUtil) {\r\n                    function hasValue(value) {\r\n                        return value !== undefined && value !== null;\r\n                    }\r\n                    ValueUtil.hasValue = hasValue;\r\n                })(ValueUtil = type.ValueUtil || (type.ValueUtil = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                var Double = powerbi.extensibility.utils.type.Double;\r\n                var NumericSequenceRange = powerbi.extensibility.utils.type.NumericSequenceRange;\r\n                var NumericSequence = (function () {\r\n                    function NumericSequence() {\r\n                    }\r\n                    NumericSequence.calculate = function (range, expectedCount, maxAllowedMargin, minPower, useZeroRefPoint, steps) {\r\n                        var result = new NumericSequence();\r\n                        if (expectedCount === undefined)\r\n                            expectedCount = 10;\r\n                        else\r\n                            expectedCount = Double.ensureInRange(expectedCount, NumericSequence.MIN_COUNT, NumericSequence.MAX_COUNT);\r\n                        if (minPower === undefined)\r\n                            minPower = Double.MIN_EXP;\r\n                        if (useZeroRefPoint === undefined)\r\n                            useZeroRefPoint = false;\r\n                        if (maxAllowedMargin === undefined)\r\n                            maxAllowedMargin = 1;\r\n                        if (steps === undefined)\r\n                            steps = [1, 2, 5];\r\n                        // Handle single stop case\r\n                        if (range.forcedSingleStop) {\r\n                            result.interval = range.getSize();\r\n                            result.intervalOffset = result.interval - (range.forcedSingleStop - range.min);\r\n                            result.min = range.min;\r\n                            result.max = range.max;\r\n                            result.sequence = [range.forcedSingleStop];\r\n                            return result;\r\n                        }\r\n                        var interval = 0;\r\n                        var min = 0;\r\n                        var max = 9;\r\n                        var canExtendMin = maxAllowedMargin > 0 && !range.hasFixedMin;\r\n                        var canExtendMax = maxAllowedMargin > 0 && !range.hasFixedMax;\r\n                        var size = range.getSize();\r\n                        var exp = Double.log10(size);\r\n                        // Account for Exp of steps\r\n                        var stepExp = Double.log10(steps[0]);\r\n                        exp = exp - stepExp;\r\n                        // Account for MaxCount\r\n                        var expectedCountExp = Double.log10(expectedCount);\r\n                        exp = exp - expectedCountExp;\r\n                        // Account for MinPower\r\n                        exp = Math.max(exp, minPower - stepExp + 1);\r\n                        var count = undefined;\r\n                        // Create array of "good looking" numbers\r\n                        if (interval !== 0) {\r\n                            // If explicit interval is defined - use it instead of the steps array.\r\n                            var power = Double.pow10(exp);\r\n                            var roundMin = Double.floorToPrecision(range.min, power);\r\n                            var roundMax = Double.ceilToPrecision(range.max, power);\r\n                            var roundRange = NumericSequenceRange.calculateFixedRange(roundMin, roundMax);\r\n                            roundRange.shrinkByStep(range, interval);\r\n                            min = roundRange.min;\r\n                            max = roundRange.max;\r\n                            count = Math.floor(roundRange.getSize() / interval);\r\n                        }\r\n                        else {\r\n                            // No interval defined -> find optimal interval\r\n                            var dexp = void 0;\r\n                            for (dexp = 0; dexp < 3; dexp++) {\r\n                                var e = exp + dexp;\r\n                                var power = Double.pow10(e);\r\n                                var roundMin = Double.floorToPrecision(range.min, power);\r\n                                var roundMax = Double.ceilToPrecision(range.max, power);\r\n                                // Go throught the steps array looking for the smallest step that produces the right interval count.\r\n                                var stepsCount = steps.length;\r\n                                var stepPower = Double.pow10(e - 1);\r\n                                for (var i = 0; i < stepsCount; i++) {\r\n                                    var step = steps[i] * stepPower;\r\n                                    var roundRange = NumericSequenceRange.calculateFixedRange(roundMin, roundMax, useZeroRefPoint);\r\n                                    roundRange.shrinkByStep(range, step);\r\n                                    // If the range is based on Data we might need to extend it to provide nice data margins.\r\n                                    if (canExtendMin && range.min === roundRange.min && maxAllowedMargin >= 1)\r\n                                        roundRange.min -= step;\r\n                                    if (canExtendMax && range.max === roundRange.max && maxAllowedMargin >= 1)\r\n                                        roundRange.max += step;\r\n                                    // Count the intervals\r\n                                    count = Double.ceilWithPrecision(roundRange.getSize() / step, Double.DEFAULT_PRECISION);\r\n                                    if (count <= expectedCount || (dexp === 2 && i === stepsCount - 1) || (expectedCount === 1 && count === 2 && (step > range.getSize() || (range.min < 0 && range.max > 0 && step * 2 >= range.getSize())))) {\r\n                                        interval = step;\r\n                                        min = roundRange.min;\r\n                                        max = roundRange.max;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                // Increase the scale power until the interval is found\r\n                                if (interval !== 0)\r\n                                    break;\r\n                            }\r\n                        }\r\n                        // Avoid extreme count cases (>1000 ticks)\r\n                        if (count > expectedCount * 32 || count > NumericSequence.MAX_COUNT) {\r\n                            count = Math.min(expectedCount * 32, NumericSequence.MAX_COUNT);\r\n                            interval = (max - min) / count;\r\n                        }\r\n                        result.min = min;\r\n                        result.max = max;\r\n                        result.interval = interval;\r\n                        result.intervalOffset = min - range.min;\r\n                        result.maxAllowedMargin = maxAllowedMargin;\r\n                        result.canExtendMin = canExtendMin;\r\n                        result.canExtendMax = canExtendMax;\r\n                        // Fill in the Sequence\r\n                        var precision = Double.getPrecision(interval, 0);\r\n                        result.precision = precision;\r\n                        var sequence = [];\r\n                        var x = Double.roundToPrecision(min, precision);\r\n                        sequence.push(x);\r\n                        for (var i = 0; i < count; i++) {\r\n                            x = Double.roundToPrecision(x + interval, precision);\r\n                            sequence.push(x);\r\n                        }\r\n                        result.sequence = sequence;\r\n                        result.trimMinMax(range.min, range.max);\r\n                        return result;\r\n                    };\r\n                    /**\r\n                     * Calculates the sequence of int numbers which are mapped to the multiples of the units grid.\r\n                     * @min - The minimum of the range.\r\n                     * @max - The maximum of the range.\r\n                     * @maxCount - The max count of intervals.\r\n                     * @steps - array of intervals.\r\n                     */\r\n                    NumericSequence.calculateUnits = function (min, max, maxCount, steps) {\r\n                        // Initialization actions\r\n                        maxCount = Double.ensureInRange(maxCount, NumericSequence.MIN_COUNT, NumericSequence.MAX_COUNT);\r\n                        if (min === max) {\r\n                            max = min + 1;\r\n                        }\r\n                        var stepCount = 0;\r\n                        var step = 0;\r\n                        // Calculate step\r\n                        for (var i = 0; i < steps.length; i++) {\r\n                            step = steps[i];\r\n                            var maxStepCount = Double.ceilWithPrecision(max / step);\r\n                            var minStepCount = Double.floorWithPrecision(min / step);\r\n                            stepCount = maxStepCount - minStepCount;\r\n                            if (stepCount <= maxCount) {\r\n                                break;\r\n                            }\r\n                        }\r\n                        // Calculate the offset\r\n                        var offset = -min;\r\n                        offset = offset % step;\r\n                        // Create sequence\r\n                        var result = new NumericSequence();\r\n                        result.sequence = [];\r\n                        for (var x = min + offset;; x += step) {\r\n                            result.sequence.push(x);\r\n                            if (x >= max)\r\n                                break;\r\n                        }\r\n                        result.interval = step;\r\n                        result.intervalOffset = offset;\r\n                        result.min = result.sequence[0];\r\n                        result.max = result.sequence[result.sequence.length - 1];\r\n                        return result;\r\n                    };\r\n                    NumericSequence.prototype.trimMinMax = function (min, max) {\r\n                        var minMargin = (min - this.min) / this.interval;\r\n                        var maxMargin = (this.max - max) / this.interval;\r\n                        var marginPrecision = 0.001;\r\n                        if (!this.canExtendMin || (minMargin > this.maxAllowedMargin && minMargin > marginPrecision)) {\r\n                            this.min = min;\r\n                        }\r\n                        if (!this.canExtendMax || (maxMargin > this.maxAllowedMargin && maxMargin > marginPrecision)) {\r\n                            this.max = max;\r\n                        }\r\n                    };\r\n                    return NumericSequence;\r\n                }());\r\n                NumericSequence.MIN_COUNT = 1;\r\n                NumericSequence.MAX_COUNT = 1000;\r\n                type.NumericSequence = NumericSequence;\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                var PixelConverter;\r\n                (function (PixelConverter) {\r\n                    var PxPtRatio = 4 / 3;\r\n                    var PixelString = "px";\r\n                    /**\r\n                     * Appends \'px\' to the end of number value for use as pixel string in styles\r\n                     */\r\n                    function toString(px) {\r\n                        return px + PixelString;\r\n                    }\r\n                    PixelConverter.toString = toString;\r\n                    /**\r\n                     * Converts point value (pt) to pixels\r\n                     * Returns a string for font-size property\r\n                     * e.g. fromPoint(8) => \'24px\'\r\n                     */\r\n                    function fromPoint(pt) {\r\n                        return toString(fromPointToPixel(pt));\r\n                    }\r\n                    PixelConverter.fromPoint = fromPoint;\r\n                    /**\r\n                     * Converts point value (pt) to pixels\r\n                     * Returns a number for font-size property\r\n                     * e.g. fromPoint(8) => 24px\r\n                     */\r\n                    function fromPointToPixel(pt) {\r\n                        return (PxPtRatio * pt);\r\n                    }\r\n                    PixelConverter.fromPointToPixel = fromPointToPixel;\r\n                    /**\r\n                     * Converts pixel value (px) to pt\r\n                     * e.g. toPoint(24) => 8\r\n                     */\r\n                    function toPoint(px) {\r\n                        return px / PxPtRatio;\r\n                    }\r\n                    PixelConverter.toPoint = toPoint;\r\n                })(PixelConverter = type.PixelConverter || (type.PixelConverter = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                // NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\r\n                var RegExpExtensions;\r\n                (function (RegExpExtensions) {\r\n                    /**\r\n                     * Runs exec on regex starting from 0 index\r\n                     * This is the expected behavior but RegExp actually remember\r\n                     * the last index they stopped at (found match at) and will\r\n                     * return unexpected results when run in sequence.\r\n                     * @param regex - regular expression object\r\n                     * @param value - string to search wiht regex\r\n                     * @param start - index within value to start regex\r\n                     */\r\n                    function run(regex, value, start) {\r\n                        regex.lastIndex = start || 0;\r\n                        return regex.exec(value);\r\n                    }\r\n                    RegExpExtensions.run = run;\r\n                })(RegExpExtensions = type.RegExpExtensions || (type.RegExpExtensions = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                /**\r\n                 * Extensions to String class.\r\n                 */\r\n                var StringExtensions;\r\n                (function (StringExtensions) {\r\n                    /**\r\n                     * Checks if a string ends with a sub-string.\r\n                     */\r\n                    function endsWith(str, suffix) {\r\n                        return str.indexOf(suffix, str.length - suffix.length) !== -1;\r\n                    }\r\n                    StringExtensions.endsWith = endsWith;\r\n                })(StringExtensions = type.StringExtensions || (type.StringExtensions = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                // NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\r\n                var LogicExtensions;\r\n                (function (LogicExtensions) {\r\n                    function XOR(a, b) {\r\n                        return (a || b) && !(a && b);\r\n                    }\r\n                    LogicExtensions.XOR = XOR;\r\n                })(LogicExtensions = type.LogicExtensions || (type.LogicExtensions = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                // NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\r\n                var JsonComparer;\r\n                (function (JsonComparer) {\r\n                    /**\r\n                     * Performs JSON-style comparison of two objects.\r\n                     */\r\n                    function equals(x, y) {\r\n                        if (x === y)\r\n                            return true;\r\n                        return JSON.stringify(x) === JSON.stringify(y);\r\n                    }\r\n                    JsonComparer.equals = equals;\r\n                })(JsonComparer = type.JsonComparer || (type.JsonComparer = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                // NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\r\n                /**\r\n                 * Values are in terms of \'pt\'\r\n                 * Convert to pixels using PixelConverter.fromPoint\r\n                 */\r\n                var TextSizeDefaults;\r\n                (function (TextSizeDefaults) {\r\n                    /**\r\n                     * Stored in terms of \'pt\'\r\n                     * Convert to pixels using PixelConverter.fromPoint\r\n                     */\r\n                    TextSizeDefaults.TextSizeMin = 8;\r\n                    /**\r\n                     * Stored in terms of \'pt\'\r\n                     * Convert to pixels using PixelConverter.fromPoint\r\n                     */\r\n                    TextSizeDefaults.TextSizeMax = 40;\r\n                    var TextSizeRange = TextSizeDefaults.TextSizeMax - TextSizeDefaults.TextSizeMin;\r\n                    /**\r\n                     * Returns the percentage of this value relative to the TextSizeMax\r\n                     * @param textSize - should be given in terms of \'pt\'\r\n                     */\r\n                    function getScale(textSize) {\r\n                        return (textSize - TextSizeDefaults.TextSizeMin) / TextSizeRange;\r\n                    }\r\n                    TextSizeDefaults.getScale = getScale;\r\n                })(TextSizeDefaults = type.TextSizeDefaults || (type.TextSizeDefaults = {}));\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the ""Software""), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in\r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\nvar powerbi;\r\n(function (powerbi) {\r\n    var extensibility;\r\n    (function (extensibility) {\r\n        var utils;\r\n        (function (utils) {\r\n            var type;\r\n            (function (type) {\r\n                // powerbi.extensibility.utils.type\r\n                var EnumExtensions = powerbi.extensibility.utils.type.EnumExtensions;\r\n                /** Describes a data value type, including a primitive type and extended type if any (derived from data category). */\r\n                var ValueType = (function () {\r\n                    /** Do not call the ValueType constructor directly. Use the ValueType.fromXXX methods. */\r\n                    function ValueType(underlyingType, category, enumType, variantTypes) {\r\n                        this.underlyingType = underlyingType;\r\n                        this.category = category;\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Temporal)) {\r\n                            this.temporalType = new TemporalType(underlyingType);\r\n                        }\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Geography)) {\r\n                            this.geographyType = new GeographyType(underlyingType);\r\n                        }\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Miscellaneous)) {\r\n                            this.miscType = new MiscellaneousType(underlyingType);\r\n                        }\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Formatting)) {\r\n                            this.formattingType = new FormattingType(underlyingType);\r\n                        }\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Enumeration)) {\r\n                            this.enumType = enumType;\r\n                        }\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Scripting)) {\r\n                            this.scriptingType = new ScriptType(underlyingType);\r\n                        }\r\n                        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Variant)) {\r\n                            this.variationTypes = variantTypes;\r\n                        }\r\n                    }\r\n                    /** Creates or retrieves a ValueType object based on the specified ValueTypeDescriptor. */\r\n                    ValueType.fromDescriptor = function (descriptor) {\r\n                        descriptor = descriptor || {};\r\n                        // Simplified primitive types\r\n                        if (descriptor.text)\r\n                            return ValueType.fromExtendedType(ExtendedType.Text);\r\n                        if (descriptor.integer)\r\n                            return ValueType.fromExtendedType(ExtendedType.Integer);\r\n                        if (descriptor.numeric)\r\n                            return ValueType.fromExtendedType(ExtendedType.Double);\r\n                        if (descriptor.bool)\r\n                            return ValueType.fromExtendedType(ExtendedType.Boolean);\r\n                        if (descriptor.dateTime)\r\n                            return ValueType.fromExtendedType(ExtendedType.DateTime);\r\n                        if (descriptor.duration)\r\n                            return ValueType.fromExtendedType(ExtendedType.Duration);\r\n                        if (descriptor.binary)\r\n                            return ValueType.fromExtendedType(ExtendedType.Binary);\r\n                        if (descriptor.none)\r\n                            return ValueType.fromExtendedType(ExtendedType.None);\r\n                        // Extended types\r\n                        if (descriptor.scripting) {\r\n                            if (descriptor.scripting.source)\r\n                                return ValueType.fromExtendedType(ExtendedType.ScriptSource);\r\n                        }\r\n                        if (descriptor.enumeration)\r\n                            return ValueType.fromEnum(descriptor.enumeration);\r\n                        if (descriptor.temporal) {\r\n                            if (descriptor.temporal.year)\r\n                                return ValueType.fromExtendedType(ExtendedType.Years_Integer);\r\n                            if (descriptor.temporal.quarter)\r\n                                return ValueType.fromExtendedType(ExtendedType.Quarters_Integer);\r\n                            if (descriptor.temporal.month)\r\n                                return ValueType.fromExtendedType(ExtendedType.Months_Integer);\r\n                            if (descriptor.temporal.day)\r\n                                return ValueType.fromExtendedType(ExtendedType.DayOfMonth_Integer);\r\n                            if (descriptor.temporal.paddedDateTableDate)\r\n                                return ValueType.fromExtendedType(ExtendedType.PaddedDateTableDates);\r\n                        }\r\n                        if (descriptor.geography) {\r\n                            if (descriptor.geography.address)\r\n                                return ValueType.fromExtendedType(ExtendedType.Address);\r\n                            if (descriptor.geography.city)\r\n                                return ValueType.fromExtendedType(ExtendedType.City);\r\n                            if (descriptor.geography.continent)\r\n                                return ValueType.fromExtendedType(ExtendedType.Continent);\r\n                            if (descriptor.geography.country)\r\n                                return ValueType.fromExtendedType(ExtendedType.Country);\r\n                            if (descriptor.geography.county)\r\n                                return ValueType.fromExtendedType(ExtendedType.County);\r\n                            if (descriptor.geography.region)\r\n                                return ValueType.fromExtendedType(ExtendedType.Region);\r\n                            if (descriptor.geography.postalCode)\r\n                                return ValueType.fromExtendedType(ExtendedType.PostalCode_Text);\r\n                            if (descriptor.geography.stateOrProvince)\r\n                                return ValueType.fromExtendedType(ExtendedType.StateOrProvince);\r\n                            if (descriptor.geography.place)\r\n                                return ValueType.fromExtendedType(ExtendedType.Place);\r\n                            if (descriptor.geography.latitude)\r\n                                return ValueType.fromExtendedType(ExtendedType.Latitude_Double);\r\n                            if (descriptor.geography.longitude)\r\n                                return ValueType.fromExtendedType(ExtendedType.Longitude_Double);\r\n                        }\r\n                        if (descriptor.misc) {\r\n                            if (descriptor.misc.image)\r\n                                return ValueType.fromExtendedType(ExtendedType.Image);\r\n                            if (descriptor.misc.imageUrl)\r\n                                return ValueType.fromExtendedType(ExtendedType.ImageUrl);\r\n                            if (descriptor.misc.webUrl)\r\n                                return ValueType.fromExtendedType(ExtendedType.WebUrl);\r\n                            if (descriptor.misc.barcode)\r\n                                return ValueType.fromExtendedType(ExtendedType.Barcode_Text);\r\n                        }\r\n                        if (descriptor.formatting) {\r\n                            if (descriptor.formatting.color)\r\n                                return ValueType.fromExtendedType(ExtendedType.Color);\r\n                            if (descriptor.formatting.formatString)\r\n                                return ValueType.fromExtendedType(ExtendedType.FormatString);\r\n                            if (descriptor.formatting.alignment)\r\n                                return ValueType.fromExtendedType(ExtendedType.Alignment);\r\n                            if (descriptor.formatting.labelDisplayUnits)\r\n                                return ValueType.fromExtendedType(ExtendedType.LabelDisplayUnits);\r\n                            if (descriptor.formatting.fontSize)\r\n                                return ValueType.fromExtendedType(ExtendedType.FontSize);\r\n                            if (descriptor.formatting.labelDensity)\r\n                                return ValueType.fromExtendedType(ExtendedType.LabelDensity);\r\n                        }\r\n                        if (descriptor.extendedType) {\r\n                            return ValueType.fromExtendedType(descriptor.extendedType);\r\n                        }\r\n                        if (descriptor.operations) {\r\n                            if (descriptor.operations.searchEnabled)\r\n                                return ValueType.fromExtendedType(ExtendedType.SearchEnabled);\r\n                        }\r\n                        if (descriptor.variant) {\r\n                            var variantTypes = descriptor.variant.map(function (variantType) { return ValueType.fromDescriptor(variantType); });\r\n                            return ValueType.fromVariant(variantTypes);\r\n                        }\r\n                        return ValueType.fromExtendedType(ExtendedType.Null);\r\n                    };\r\n                    /** Advanced: Generally use fromDescriptor instead. Creates or retrieves a ValueType object for the specified ExtendedType. */\r\n                    ValueType.fromExtendedType = function (extendedType) {\r\n                        extendedType = extendedType || ExtendedType.Null;\r\n                        var primitiveType = getPrimitiveType(extendedType), category = getCategoryFromExtendedType(extendedType);\r\n                        return ValueType.fromPrimitiveTypeAndCategory(primitiveType, category);\r\n                    };\r\n                    /** Creates or retrieves a ValueType object for the specified PrimitiveType and data category. */\r\n                    ValueType.fromPrimitiveTypeAndCategory = function (primitiveType, category) {\r\n                        primitiveType = primitiveType || PrimitiveType.Null;\r\n                        category = category || null;\r\n                        var id = primitiveType.toString();\r\n                        if (category)\r\n                            id += "|" + category;\r\n                        return ValueType.typeCache[id] || (ValueType.typeCache[id] = new ValueType(toExtendedType(primitiveType, category), category));\r\n                    };\r\n                    /** Creates a ValueType to describe the given IEnumType. */\r\n                    ValueType.fromEnum = function (enumType) {\r\n                        return new ValueType(ExtendedType.Enumeration, null, enumType);\r\n                    };\r\n                    /** Creates a ValueType to describe the given Variant type. */\r\n                    ValueType.fromVariant = function (variantTypes) {\r\n                        return new ValueType(ExtendedType.Variant, /* category */ null, /* enumType */ null, variantTypes);\r\n                    };\r\n                    /** Determines if the specified type is compatible from at least one of the otherTypes. */\r\n                    ValueType.isCompatibleTo = function (typeDescriptor, otherTypes) {\r\n                        var valueType = ValueType.fromDescriptor(typeDescriptor);\r\n                        for (var _i = 0, otherTypes_1 = otherTypes; _i < otherTypes_1.length; _i++) {\r\n                            var otherType = otherTypes_1[_i];\r\n                            var otherValueType = ValueType.fromDescriptor(otherType);\r\n                            if (otherValueType.isCompatibleFrom(valueType))\r\n                                return true;\r\n                        }\r\n                        return false;\r\n                    };\r\n                    /** Determines if the instance ValueType is convertable from the \'other\' ValueType. */\r\n                    ValueType.prototype.isCompatibleFrom = function (other) {\r\n                        var otherPrimitiveType = other.primitiveType;\r\n                        if (this === other ||\r\n                            this.primitiveType === otherPrimitiveType ||\r\n                            otherPrimitiveType === PrimitiveType.Null ||\r\n                            // Return true if both types are numbers\r\n                            (this.numeric && other.numeric))\r\n                            return true;\r\n                        return false;\r\n                    };\r\n                    /**\r\n                     * Determines if the instance ValueType is equal to the \'other\' ValueType\r\n                     * @param {ValueType} other the other ValueType to check equality against\r\n                     * @returns True if the instance ValueType is equal to the \'other\' ValueType\r\n                     */\r\n                    ValueType.prototype.equals = function (other) {\r\n                        return type.JsonComparer.equals(this, other);\r\n                    };\r\n                    Object.defineProperty(ValueType.prototype, "primitiveType", {\r\n                        /** Gets the exact primitive type of this ValueType. */\r\n                        get: function () {\r\n                            return getPrimitiveType(this.underlyingType);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "extendedType", {\r\n                        /** Gets the exact extended type of this ValueType. */\r\n                        get: function () {\r\n                            return this.underlyingType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "categoryString", {\r\n                        /** Gets the data category string (if any) for this ValueType. */\r\n                        get: function () {\r\n                            return this.category;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "text", {\r\n                        // Simplified primitive types\r\n                        /** Indicates whether the type represents text values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.Text;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "numeric", {\r\n                        /** Indicates whether the type represents any numeric value. */\r\n                        get: function () {\r\n                            return EnumExtensions.hasFlag(this.underlyingType, ExtendedType.Numeric);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "integer", {\r\n                        /** Indicates whether the type represents integer numeric values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.Integer;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "bool", {\r\n                        /** Indicates whether the type represents Boolean values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.Boolean;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "dateTime", {\r\n                        /** Indicates whether the type represents any date/time values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.DateTime ||\r\n                                this.primitiveType === PrimitiveType.Date ||\r\n                                this.primitiveType === PrimitiveType.Time;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "duration", {\r\n                        /** Indicates whether the type represents duration values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.Duration;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "binary", {\r\n                        /** Indicates whether the type represents binary values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.Binary;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "none", {\r\n                        /** Indicates whether the type represents none values. */\r\n                        get: function () {\r\n                            return this.primitiveType === PrimitiveType.None;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "temporal", {\r\n                        // Extended types\r\n                        /** Returns an object describing temporal values represented by the type, if it represents a temporal type. */\r\n                        get: function () {\r\n                            return this.temporalType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "geography", {\r\n                        /** Returns an object describing geographic values represented by the type, if it represents a geographic type. */\r\n                        get: function () {\r\n                            return this.geographyType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "misc", {\r\n                        /** Returns an object describing the specific values represented by the type, if it represents a miscellaneous extended type. */\r\n                        get: function () {\r\n                            return this.miscType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "formatting", {\r\n                        /** Returns an object describing the formatting values represented by the type, if it represents a formatting type. */\r\n                        get: function () {\r\n                            return this.formattingType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "enumeration", {\r\n                        /** Returns an object describing the enum values represented by the type, if it represents an enumeration type. */\r\n                        get: function () {\r\n                            return this.enumType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "scripting", {\r\n                        get: function () {\r\n                            return this.scriptingType;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(ValueType.prototype, "variant", {\r\n                        /** Returns an array describing the variant values represented by the type, if it represents an Variant type. */\r\n                        get: function () {\r\n                            return this.variationTypes;\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    return ValueType;\r\n                }());\r\n                ValueType.typeCache = {};\r\n                type.ValueType = ValueType;\r\n                var ScriptType = (function () {\r\n                    function ScriptType(underlyingType) {\r\n                        this.underlyingType = underlyingType;\r\n                    }\r\n                    Object.defineProperty(ScriptType.prototype, "source", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.ScriptSource);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    return ScriptType;\r\n                }());\r\n                type.ScriptType = ScriptType;\r\n                var TemporalType = (function () {\r\n                    function TemporalType(underlyingType) {\r\n                        this.underlyingType = underlyingType;\r\n                    }\r\n                    Object.defineProperty(TemporalType.prototype, "year", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Years);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(TemporalType.prototype, "quarter", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Quarters);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(TemporalType.prototype, "month", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Months);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(TemporalType.prototype, "day", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.DayOfMonth);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(TemporalType.prototype, "paddedDateTableDate", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.PaddedDateTableDates);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    return TemporalType;\r\n                }());\r\n                type.TemporalType = TemporalType;\r\n                var GeographyType = (function () {\r\n                    function GeographyType(underlyingType) {\r\n                        this.underlyingType = underlyingType;\r\n                    }\r\n                    Object.defineProperty(GeographyType.prototype, "address", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Address);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "city", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.City);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "continent", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Continent);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "country", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Country);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "county", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.County);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "region", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Region);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "postalCode", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.PostalCode);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "stateOrProvince", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.StateOrProvince);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "place", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Place);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "latitude", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Latitude);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(GeographyType.prototype, "longitude", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Longitude);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    return GeographyType;\r\n                }());\r\n                type.GeographyType = GeographyType;\r\n                var MiscellaneousType = (function () {\r\n                    function MiscellaneousType(underlyingType) {\r\n                        this.underlyingType = underlyingType;\r\n                    }\r\n                    Object.defineProperty(MiscellaneousType.prototype, "image", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Image);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(MiscellaneousType.prototype, "imageUrl", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.ImageUrl);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(MiscellaneousType.prototype, "webUrl", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.WebUrl);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(MiscellaneousType.prototype, "barcode", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Barcode);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    return MiscellaneousType;\r\n                }());\r\n                type.MiscellaneousType = MiscellaneousType;\r\n                var FormattingType = (function () {\r\n                    function FormattingType(underlyingType) {\r\n                        this.underlyingType = underlyingType;\r\n                    }\r\n                    Object.defineProperty(FormattingType.prototype, "color", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Color);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(FormattingType.prototype, "formatString", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.FormatString);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(FormattingType.prototype, "alignment", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Alignment);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(FormattingType.prototype, "labelDisplayUnits", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.LabelDisplayUnits);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(FormattingType.prototype, "fontSize", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.FontSize);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    Object.defineProperty(FormattingType.prototype, "labelDensity", {\r\n                        get: function () {\r\n                            return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.LabelDensity);\r\n                        },\r\n                        enumerable: true,\r\n                        configurable: true\r\n                    });\r\n                    return FormattingType;\r\n                }());\r\n                type.FormattingType = FormattingType;\r\n                /** Defines primitive value types. Must be consistent with types defined by server conceptual schema. */\r\n                var PrimitiveType;\r\n                (function (PrimitiveType) {\r\n                    PrimitiveType[PrimitiveType["Null"] = 0] = "Null";\r\n                    PrimitiveType[PrimitiveType["Text"] = 1] = "Text";\r\n                    PrimitiveType[PrimitiveType["Decimal"] = 2] = "Decimal";\r\n                    PrimitiveType[PrimitiveType["Double"] = 3] = "Double";\r\n                    PrimitiveType[PrimitiveType["Integer"] = 4] = "Integer";\r\n                    PrimitiveType[PrimitiveType["Boolean"] = 5] = "Boolean";\r\n                    PrimitiveType[PrimitiveType["Date"] = 6] = "Date";\r\n                    PrimitiveType[PrimitiveType["DateTime"] = 7] = "DateTime";\r\n                    PrimitiveType[PrimitiveType["DateTimeZone"] = 8] = "DateTimeZone";\r\n                    PrimitiveType[PrimitiveType["Time"] = 9] = "Time";\r\n                    PrimitiveType[PrimitiveType["Duration"] = 10] = "Duration";\r\n                    PrimitiveType[PrimitiveType["Binary"] = 11] = "Binary";\r\n                    PrimitiveType[PrimitiveType["None"] = 12] = "None";\r\n                    PrimitiveType[PrimitiveType["Variant"] = 13] = "Variant";\r\n                })(PrimitiveType = type.PrimitiveType || (type.PrimitiveType = {}));\r\n                var PrimitiveTypeStrings;\r\n                (function (PrimitiveTypeStrings) {\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Null"] = 0] = "Null";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Text"] = 1] = "Text";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Decimal"] = 2] = "Decimal";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Double"] = 3] = "Double";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Integer"] = 4] = "Integer";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Boolean"] = 5] = "Boolean";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Date"] = 6] = "Date";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["DateTime"] = 7] = "DateTime";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["DateTimeZone"] = 8] = "DateTimeZone";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Time"] = 9] = "Time";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Duration"] = 10] = "Duration";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Binary"] = 11] = "Binary";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["None"] = 12] = "None";\r\n                    PrimitiveTypeStrings[PrimitiveTypeStrings["Variant"] = 13] = "Variant";\r\n                })(PrimitiveTypeStrings || (PrimitiveTypeStrings = {}));\r\n                /** Defines extended value types, which include primitive types and known data categories constrained to expected primitive types. */\r\n                var ExtendedType;\r\n                (function (ExtendedType) {\r\n                    // Flags (1 << 8-15 range [0xFF00])\r\n                    // Important: Enum members must be declared before they are used in TypeScript.\r\n                    ExtendedType[ExtendedType["Numeric"] = 256] = "Numeric";\r\n                    ExtendedType[ExtendedType["Temporal"] = 512] = "Temporal";\r\n                    ExtendedType[ExtendedType["Geography"] = 1024] = "Geography";\r\n                    ExtendedType[ExtendedType["Miscellaneous"] = 2048] = "Miscellaneous";\r\n                    ExtendedType[ExtendedType["Formatting"] = 4096] = "Formatting";\r\n                    ExtendedType[ExtendedType["Scripting"] = 8192] = "Scripting";\r\n                    // Primitive types (0-255 range [0xFF] | flags)\r\n                    // The member names and base values must match those in PrimitiveType.\r\n                    ExtendedType[ExtendedType["Null"] = 0] = "Null";\r\n                    ExtendedType[ExtendedType["Text"] = 1] = "Text";\r\n                    ExtendedType[ExtendedType["Decimal"] = 258] = "Decimal";\r\n                    ExtendedType[ExtendedType["Double"] = 259] = "Double";\r\n                    ExtendedType[ExtendedType["Integer"] = 260] = "Integer";\r\n                    ExtendedType[ExtendedType["Boolean"] = 5] = "Boolean";\r\n                    ExtendedType[ExtendedType["Date"] = 518] = "Date";\r\n                    ExtendedType[ExtendedType["DateTime"] = 519] = "DateTime";\r\n                    ExtendedType[ExtendedType["DateTimeZone"] = 520] = "DateTimeZone";\r\n                    ExtendedType[ExtendedType["Time"] = 521] = "Time";\r\n                    ExtendedType[ExtendedType["Duration"] = 10] = "Duration";\r\n                    ExtendedType[ExtendedType["Binary"] = 11] = "Binary";\r\n                    ExtendedType[ExtendedType["None"] = 12] = "None";\r\n                    ExtendedType[ExtendedType["Variant"] = 13] = "Variant";\r\n                    // Extended types (0-32767 << 16 range [0xFFFF0000] | corresponding primitive type | flags)\r\n                    // Temporal\r\n                    ExtendedType[ExtendedType["Years"] = 66048] = "Years";\r\n                    ExtendedType[ExtendedType["Years_Text"] = 66049] = "Years_Text";\r\n                    ExtendedType[ExtendedType["Years_Integer"] = 66308] = "Years_Integer";\r\n                    ExtendedType[ExtendedType["Years_Date"] = 66054] = "Years_Date";\r\n                    ExtendedType[ExtendedType["Years_DateTime"] = 66055] = "Years_DateTime";\r\n                    ExtendedType[ExtendedType["Months"] = 131584] = "Months";\r\n                    ExtendedType[ExtendedType["Months_Text"] = 131585] = "Months_Text";\r\n                    ExtendedType[ExtendedType["Months_Integer"] = 131844] = "Months_Integer";\r\n                    ExtendedType[ExtendedType["Months_Date"] = 131590] = "Months_Date";\r\n                    ExtendedType[ExtendedType["Months_DateTime"] = 131591] = "Months_DateTime";\r\n                    ExtendedType[ExtendedType["PaddedDateTableDates"] = 197127] = "PaddedDateTableDates";\r\n                    ExtendedType[ExtendedType["Quarters"] = 262656] = "Quarters";\r\n                    ExtendedType[ExtendedType["Quarters_Text"] = 262657] = "Quarters_Text";\r\n                    ExtendedType[ExtendedType["Quarters_Integer"] = 262916] = "Quarters_Integer";\r\n                    ExtendedType[ExtendedType["Quarters_Date"] = 262662] = "Quarters_Date";\r\n                    ExtendedType[ExtendedType["Quarters_DateTime"] = 262663] = "Quarters_DateTime";\r\n                    ExtendedType[ExtendedType["DayOfMonth"] = 328192] = "DayOfMonth";\r\n                    ExtendedType[ExtendedType["DayOfMonth_Text"] = 328193] = "DayOfMonth_Text";\r\n                    ExtendedType[ExtendedType["DayOfMonth_Integer"] = 328452] = "DayOfMonth_Integer";\r\n                    ExtendedType[ExtendedType["DayOfMonth_Date"] = 328198] = "DayOfMonth_Date";\r\n                    ExtendedType[ExtendedType["DayOfMonth_DateTime"] = 328199] = "DayOfMonth_DateTime";\r\n                    // Geography\r\n                    ExtendedType[ExtendedType["Address"] = 6554625] = "Address";\r\n                    ExtendedType[ExtendedType["City"] = 6620161] = "City";\r\n                    ExtendedType[ExtendedType["Continent"] = 6685697] = "Continent";\r\n                    ExtendedType[ExtendedType["Country"] = 6751233] = "Country";\r\n                    ExtendedType[ExtendedType["County"] = 6816769] = "County";\r\n                    ExtendedType[ExtendedType["Region"] = 6882305] = "Region";\r\n                    ExtendedType[ExtendedType["PostalCode"] = 6947840] = "PostalCode";\r\n                    ExtendedType[ExtendedType["PostalCode_Text"] = 6947841] = "PostalCode_Text";\r\n                    ExtendedType[ExtendedType["PostalCode_Integer"] = 6948100] = "PostalCode_Integer";\r\n                    ExtendedType[ExtendedType["StateOrProvince"] = 7013377] = "StateOrProvince";\r\n                    ExtendedType[ExtendedType["Place"] = 7078913] = "Place";\r\n                    ExtendedType[ExtendedType["Latitude"] = 7144448] = "Latitude";\r\n                    ExtendedType[ExtendedType["Latitude_Decimal"] = 7144706] = "Latitude_Decimal";\r\n                    ExtendedType[ExtendedType["Latitude_Double"] = 7144707] = "Latitude_Double";\r\n                    ExtendedType[ExtendedType["Longitude"] = 7209984] = "Longitude";\r\n                    ExtendedType[ExtendedType["Longitude_Decimal"] = 7210242] = "Longitude_Decimal";\r\n                    ExtendedType[ExtendedType["Longitude_Double"] = 7210243] = "Longitude_Double";\r\n                    // Miscellaneous\r\n                    ExtendedType[ExtendedType["Image"] = 13109259] = "Image";\r\n                    ExtendedType[ExtendedType["ImageUrl"] = 13174785] = "ImageUrl";\r\n                    ExtendedType[ExtendedType["WebUrl"] = 13240321] = "WebUrl";\r\n                    ExtendedType[ExtendedType["Barcode"] = 13305856] = "Barcode";\r\n                    ExtendedType[ExtendedType["Barcode_Text"] = 13305857] = "Barcode_Text";\r\n                    ExtendedType[ExtendedType["Barcode_Integer"] = 13306116] = "Barcode_Integer";\r\n                    // Formatting\r\n                    ExtendedType[ExtendedType["Color"] = 19664897] = "Color";\r\n                    ExtendedType[ExtendedType["FormatString"] = 19730433] = "FormatString";\r\n                    ExtendedType[ExtendedType["Alignment"] = 20058113] = "Alignment";\r\n                    ExtendedType[ExtendedType["LabelDisplayUnits"] = 20123649] = "LabelDisplayUnits";\r\n                    ExtendedType[ExtendedType["FontSize"] = 20189443] = "FontSize";\r\n                    ExtendedType[ExtendedType["LabelDensity"] = 20254979] = "LabelDensity";\r\n                    // Enumeration\r\n                    ExtendedType[ExtendedType["Enumeration"] = 26214401] = "Enumeration";\r\n                    // Scripting\r\n                    ExtendedType[ExtendedType["ScriptSource"] = 32776193] = "ScriptSource";\r\n                    // NOTE: To avoid confusion, underscores should be used only to delimit primitive type variants of an extended type\r\n                    // (e.g. Year_Integer or Latitude_Double above)\r\n                    // Operations\r\n                    ExtendedType[ExtendedType["SearchEnabled"] = 65541] = "SearchEnabled";\r\n                })(ExtendedType = type.ExtendedType || (type.ExtendedType = {}));\r\n                var ExtendedTypeStrings;\r\n                (function (ExtendedTypeStrings) {\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Numeric"] = 256] = "Numeric";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Temporal"] = 512] = "Temporal";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Geography"] = 1024] = "Geography";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Miscellaneous"] = 2048] = "Miscellaneous";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Formatting"] = 4096] = "Formatting";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Scripting"] = 8192] = "Scripting";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Null"] = 0] = "Null";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Text"] = 1] = "Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Decimal"] = 258] = "Decimal";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Double"] = 259] = "Double";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Integer"] = 260] = "Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Boolean"] = 5] = "Boolean";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Date"] = 518] = "Date";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DateTime"] = 519] = "DateTime";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DateTimeZone"] = 520] = "DateTimeZone";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Time"] = 521] = "Time";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Duration"] = 10] = "Duration";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Binary"] = 11] = "Binary";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["None"] = 12] = "None";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Variant"] = 13] = "Variant";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Years"] = 66048] = "Years";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Years_Text"] = 66049] = "Years_Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Years_Integer"] = 66308] = "Years_Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Years_Date"] = 66054] = "Years_Date";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Years_DateTime"] = 66055] = "Years_DateTime";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Months"] = 131584] = "Months";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Months_Text"] = 131585] = "Months_Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Months_Integer"] = 131844] = "Months_Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Months_Date"] = 131590] = "Months_Date";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Months_DateTime"] = 131591] = "Months_DateTime";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["PaddedDateTableDates"] = 197127] = "PaddedDateTableDates";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Quarters"] = 262656] = "Quarters";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Quarters_Text"] = 262657] = "Quarters_Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Quarters_Integer"] = 262916] = "Quarters_Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Quarters_Date"] = 262662] = "Quarters_Date";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Quarters_DateTime"] = 262663] = "Quarters_DateTime";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DayOfMonth"] = 328192] = "DayOfMonth";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DayOfMonth_Text"] = 328193] = "DayOfMonth_Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DayOfMonth_Integer"] = 328452] = "DayOfMonth_Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DayOfMonth_Date"] = 328198] = "DayOfMonth_Date";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["DayOfMonth_DateTime"] = 328199] = "DayOfMonth_DateTime";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Address"] = 6554625] = "Address";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["City"] = 6620161] = "City";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Continent"] = 6685697] = "Continent";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Country"] = 6751233] = "Country";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["County"] = 6816769] = "County";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Region"] = 6882305] = "Region";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["PostalCode"] = 6947840] = "PostalCode";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["PostalCode_Text"] = 6947841] = "PostalCode_Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["PostalCode_Integer"] = 6948100] = "PostalCode_Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["StateOrProvince"] = 7013377] = "StateOrProvince";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Place"] = 7078913] = "Place";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Latitude"] = 7144448] = "Latitude";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Latitude_Decimal"] = 7144706] = "Latitude_Decimal";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Latitude_Double"] = 7144707] = "Latitude_Double";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Longitude"] = 7209984] = "Longitude";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Longitude_Decimal"] = 7210242] = "Longitude_Decimal";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Longitude_Double"] = 7210243] = "Longitude_Double";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Image"] = 13109259] = "Image";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["ImageUrl"] = 13174785] = "ImageUrl";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["WebUrl"] = 13240321] = "WebUrl";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Barcode"] = 13305856] = "Barcode";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Barcode_Text"] = 13305857] = "Barcode_Text";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Barcode_Integer"] = 13306116] = "Barcode_Integer";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Color"] = 19664897] = "Color";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["FormatString"] = 19730433] = "FormatString";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Alignment"] = 20058113] = "Alignment";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["LabelDisplayUnits"] = 20123649] = "LabelDisplayUnits";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["FontSize"] = 20189443] = "FontSize";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["LabelDensity"] = 20254979] = "LabelDensity";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["Enumeration"] = 26214401] = "Enumeration";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["ScriptSource"] = 32776193] = "ScriptSource";\r\n                    ExtendedTypeStrings[ExtendedTypeStrings["SearchEnabled"] = 65541] = "SearchEnabled";\r\n                })(ExtendedTypeStrings || (ExtendedTypeStrings = {}));\r\n                var PrimitiveTypeMask = 0xFF;\r\n                var PrimitiveTypeWithFlagsMask = 0xFFFF;\r\n                var PrimitiveTypeFlagsExcludedMask = 0xFFFF0000;\r\n                function getPrimitiveType(extendedType) {\r\n                    return extendedType & PrimitiveTypeMask;\r\n                }\r\n                function isPrimitiveType(extendedType) {\r\n                    return (extendedType & PrimitiveTypeWithFlagsMask) === extendedType;\r\n                }\r\n                function getCategoryFromExtendedType(extendedType) {\r\n                    if (isPrimitiveType(extendedType))\r\n                        return null;\r\n                    var category = ExtendedTypeStrings[extendedType];\r\n                    if (category) {\r\n                        // Check for ExtendedType declaration without a primitive type.\r\n                        // If exists, use it as category (e.g. Longitude rather than Longitude_Double)\r\n                        // Otherwise use the ExtendedType declaration with a primitive type (e.g. Address)\r\n                        var delimIdx = category.lastIndexOf("_");\r\n                        if (delimIdx > 0) {\r\n                            var baseCategory = category.slice(0, delimIdx);\r\n                            if (ExtendedTypeStrings[baseCategory]) {\r\n                                category = baseCategory;\r\n                            }\r\n                        }\r\n                    }\r\n                    return category || null;\r\n                }\r\n                function toExtendedType(primitiveType, category) {\r\n                    var primitiveString = PrimitiveTypeStrings[primitiveType];\r\n                    var t = ExtendedTypeStrings[primitiveString];\r\n                    if (t == null) {\r\n                        t = ExtendedType.Null;\r\n                    }\r\n                    if (primitiveType && category) {\r\n                        var categoryType = ExtendedTypeStrings[category];\r\n                        if (categoryType) {\r\n                            var categoryPrimitiveType = getPrimitiveType(categoryType);\r\n                            if (categoryPrimitiveType === PrimitiveType.Null) {\r\n                                // Category supports multiple primitive types, check if requested primitive type is supported\r\n                                // (note: important to use t here rather than primitiveType as it may include primitive type flags)\r\n                                categoryType = t | categoryType;\r\n                                if (ExtendedTypeStrings[categoryType]) {\r\n                                    t = categoryType;\r\n                                }\r\n                            }\r\n                            else if (categoryPrimitiveType === primitiveType) {\r\n                                // Primitive type matches the single supported type for the category\r\n                                t = categoryType;\r\n                            }\r\n                        }\r\n                    }\r\n                    return t;\r\n                }\r\n                function matchesExtendedTypeWithAnyPrimitive(a, b) {\r\n                    return (a & PrimitiveTypeFlagsExcludedMask) === (b & PrimitiveTypeFlagsExcludedMask);\r\n                }\r\n            })(type = utils.type || (utils.type = {}));\r\n        })(utils = extensibility.utils || (extensibility.utils = {}));\r\n    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));\r\n})(powerbi || (powerbi = {}));\r\n';
},function(t,e,n){n(10)(n(107))},function(t,e,n){n(10)(n(108))},function(t,e,n){n(10)(n(109))},function(t,e,n){n(10)(n(110))},function(t,e,n){n(10)(n(111))},function(t,e,n){n(10)(n(112))},function(t,e,n){"use strict";n(16);n(22);n(63);var r=n(95);n(96);n(5);n(115);t.exports=powerbi.extensibility.utils.formatting},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});n(16);n(22);n(5);n(113);n(116);var r=powerbi.extensibility.utils,i=r.interactivity,a=r.filter;e.interactivity=i;e.filter=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:true});var i=n(25);var a=n(122);var o=function(t){r(e,t);function e(e,n){return t.call(this,e,n,true,true,a.LOAD_COUNT)||this}e.prototype.canQuery=function(e){return t.prototype.canQuery.call(this,e)};e.prototype.query=function(e){return t.prototype.query.call(this,e)};return e}(i.JSONDataProvider);e.default=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.LOAD_COUNT=1e3},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});function n(){"use strict";var t;var e=false;var n=false;var r=false;var i=false;var a=false;var o=false;var s=false;var u=false;return{addToCalculation:function(l){if(t&&l){e=true;var c=l.getFullYear();if(c&&c!==t.getFullYear()){n=true}if(l.getMilliseconds()){u=true}if(l.getSeconds()){s=true}if(l.getMinutes()){o=true}if(l.getHours()){a=true}if(l.getDate()-1){i=true}if(l.getMonth()){r=true}}t=l},getFormat:function(){var t=!e;var l=a||o||s||u||t;var c=i||r||n||t;var f="";if(c||t||l&&c){f+="yyyy"}if(i||r||t||l&&c){f+="-MM"}if(i||t||l&&c){f+="-dd"}if(l){f+=(c?" ":"")+"hh"}if(o||s||u||t){f+=":mm"}if(s||u||t){f+=":ss"}if(u||t){f+=".fff"}if(l||t){f+=" tt"}if(!f){f="yyyy"}return f}}}e.dateTimeFormatCalculator=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(33);var i=n(123);var a=n(64);n(5);var o=n(65);function s(t,e,n,s){var u=[];var l;var c;if(t&&t.table){var f=t.table;var d=r.calculateRankingInfo(t);if(d){c=d;c.colors=r.calculateRankColors(d.values,n)}var p=f.columns.map(function(t,e){return{idx:e,col:t}}).filter(function(t){return t.col.type.dateTime}).map(function(t){return{idx:t.idx,col:t.col,calculator:i.dateTimeFormatCalculator()}});l=f.columns.filter(function(t){return!!t}).map(function(t){return t.displayName});f.rows.forEach(function(t,n){var r;var i=s&&s();if(i){var a={source:f.columns[0],values:null,identity:[f.identity[n]]};r=i.withCategory(a,0).createSelectionId()}else{r={getKey:function(){return"TableSorter_"+n}}}var l={id:r.getKey(),identity:r,equals:function(t){return t.identity.equals(r)},selected:!!o(e,function(t){return t.equals(r)})};t.forEach(function(t,e){return l[f.columns[e].displayName]=t});p.forEach(function(t){t.calculator.addToCalculation(l[t.col.displayName])});u.push(l)});p.forEach(function(t){var e=a.formatting.valueFormatter.create({format:t.col.format||t.calculator.getFormat()});u.forEach(function(n){n[t.col.displayName]=e.format(n[t.col.displayName])})})}return{data:u,cols:l,rankingInfo:c}}e.default=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();var i=this&&this.__decorate||function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)if(o=t[s])a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a;return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:true});var a=n(18);var o=n(127);var s=n(126);var u=n(128);var l=function(t){r(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(a.HasSettings);i([a.settings(o.default,{category:"Rank",enumerable:function(t,e){return o.hasRankInfo(e)}})],l.prototype,"rankSettings",void 0);i([a.settings(s.default,{category:"Presentation"})],l.prototype,"presentation",void 0);i([a.settings(u.default,{category:"Selection"})],l.prototype,"selection",void 0);i([a.textSetting({persist:false,category:"General",displayName:"Version",description:"The version of Table Sorter",compose:function(){return"2.0.2+221"}})],l.prototype,"version",void 0);e.default=l},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)if(o=t[s])a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a;return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:true});var i=n(18);var a=function(){function t(){}return t}();r([i.colorSetting({displayName:"Row Text Color",description:"The color for the text in the rows"})],a.prototype,"textColor",void 0);r([i.colorSetting({displayName:"Header Text Color",description:"The text color for the headers"})],a.prototype,"headerTextColor",void 0);r([i.setting({displayName:"Units",description:"The units to use when formatting numbers within TableSorter",config:{type:{formatting:{labelDisplayUnits:true}}},defaultValue:0})],a.prototype,"labelDisplayUnits",void 0);r([i.setting({displayName:"Precision",description:"The decimal precision to use when formatting numbers within TableSorter",config:{type:{numeric:true}}})],a.prototype,"labelPrecision",void 0);r([i.boolSetting({displayName:"Stacked",description:"If true, when columns are combined, the all columns will be displayed stacked",defaultValue:true})],a.prototype,"stacked",void 0);r([i.boolSetting({displayName:"Values",description:"If the actual values should be displayed under the bars",defaultValue:false})],a.prototype,"values",void 0);r([i.boolSetting({displayName:"Histograms",description:"Show histograms in the column headers",defaultValue:true})],a.prototype,"histograms",void 0);r([i.boolSetting({displayName:"Animation",description:"Should the grid be animated when sorting",defaultValue:true})],a.prototype,"animation",void 0);r([i.boolSetting({displayName:"Table tooltips",description:"Should the grid show tooltips on hover of a row",defaultValue:false})],a.prototype,"tooltips",void 0);e.default=a},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)if(o=t[s])a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a;return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:true});var i=n(18);var a=n(9);var o=n(25);var s=n(33);function u(t,e){"use strict";return"RANK_"+e}function l(t){"use strict";var e=a.get(t,function(t){return t.metadata.columns},[]);return e.filter(function(t){return t.roles["Rank"]}).length>0}e.hasRankInfo=l;var c=function(){function t(){}return t}();r([i.colorSetting({displayName:"Start color",description:"The start color of the gradient",defaultValue:"#bac2ff"})],c.prototype,"startColor",void 0);r([i.colorSetting({displayName:"End color",description:"The end color of the gradient",defaultValue:"#0229bf"})],c.prototype,"endColor",void 0);r([i.numberSetting({displayName:"Start Value",description:"The value to use as the start color"})],c.prototype,"startValue",void 0);r([i.numberSetting({displayName:"End Value",description:"The value to use as the end color"})],c.prototype,"endValue",void 0);e.GradientSettings=c;var f=function(){function t(){}return t}();r([i.enumSetting(o.ColorMode,{displayName:"Color Mode",defaultValue:o.ColorMode.Gradient})],f.prototype,"colorMode",void 0);r([i.boolSetting({displayName:"Reverse Columns",description:"If enabled, the order of the generated rank columns will be reversed",defaultValue:false})],f.prototype,"reverseBars",void 0);r([i.boolSetting({displayName:"Histogram",description:"If true, a histogram will be shown across the rank columns",defaultValue:false})],f.prototype,"histogram",void 0);r([i.settings(c,{enumerable:function(t){return t.colorMode===o.ColorMode.Gradient}})],f.prototype,"rankGradients",void 0);r([i.colorSetting({displayName:"Ranks",enumerable:function(t){return t.colorMode===o.ColorMode.Instance},parse:function(t,e,n,r){var o=s.calculateRankingInfo(n);if(o){return o.values.reduce(function(t,e){var n=u(o.column,e);var s=i.getObjectsForColumn(o.column,r,n);t[e]=a.get(s,function(t){return t.solid.color},"#cccccc");return t},{})}},compose:function(t,e,n,r){var a=s.calculateRankingInfo(n);if(a){return a.values.map(function(e){var n=u(a.column,e);var o=i.createObjectSelectorForColumn(a.column,n);return i.composeInstance(r,o,e+"",t[e]||"#cccccc")})}}})],f.prototype,"rankInstanceColors",void 0);e.default=f},function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)if(o=t[s])a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a;return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:true});var i=n(18);var a=function(){function t(){}return t}();r([i.boolSetting({displayName:"Multi Select",description:"If true, multiple rows can be selected",defaultValue:false,name:"multiSelect"})],a.prototype,"multiSelect",void 0);e.default=a},function(t,e,n){var r,i;(function(){var n=this;var a=n._;var o=Array.prototype,s=Object.prototype,u=Function.prototype;var l=o.push,c=o.slice,f=s.toString,d=s.hasOwnProperty;var p=Array.isArray,h=Object.keys,m=u.bind,g=Object.create;var y=function(){};var v=function(t){if(t instanceof v)return t;if(!(this instanceof v))return new v(t);this._wrapped=t};if(true){if(typeof t!=="undefined"&&t.exports){e=t.exports=v}e._=v}else{n._=v}v.VERSION="1.8.3";var A=function(t,e,n){if(e===void 0)return t;switch(n==null?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,a){return t.call(e,n,r,i,a)}}return function(){return t.apply(e,arguments)}};var b=function(t,e,n){if(t==null)return v.identity;if(v.isFunction(t))return A(t,e,n);if(v.isObject(t))return v.matcher(t);return v.property(t)};v.iteratee=function(t,e){return b(t,e,Infinity)};var x=function(t,e){return function(n){var r=arguments.length;if(r<2||n==null)return n;for(var i=1;i<r;i++){var a=arguments[i],o=t(a),s=o.length;for(var u=0;u<s;u++){var l=o[u];if(!e||n[l]===void 0)n[l]=a[l]}}return n}};var E=function(t){if(!v.isObject(t))return{};if(g)return g(t);y.prototype=t;var e=new y;y.prototype=null;return e};var T=function(t){return function(e){return e==null?void 0:e[t]}};var w=Math.pow(2,53)-1;var S=T("length");var O=function(t){var e=S(t);return typeof e=="number"&&e>=0&&e<=w};v.each=v.forEach=function(t,e,n){e=A(e,n);var r,i;if(O(t)){for(r=0,i=t.length;r<i;r++){e(t[r],r,t)}}else{var a=v.keys(t);for(r=0,i=a.length;r<i;r++){e(t[a[r]],a[r],t)}}return t};v.map=v.collect=function(t,e,n){e=b(e,n);var r=!O(t)&&v.keys(t),i=(r||t).length,a=Array(i);for(var o=0;o<i;o++){var s=r?r[o]:o;a[o]=e(t[s],s,t)}return a};function I(t){function e(e,n,r,i,a,o){for(;a>=0&&a<o;a+=t){var s=i?i[a]:a;r=n(r,e[s],s,e)}return r}return function(n,r,i,a){r=A(r,a,4);var o=!O(n)&&v.keys(n),s=(o||n).length,u=t>0?0:s-1;if(arguments.length<3){i=n[o?o[u]:u];u+=t}return e(n,r,i,o,u,s)}}v.reduce=v.foldl=v.inject=I(1);v.reduceRight=v.foldr=I(-1);v.find=v.detect=function(t,e,n){var r;if(O(t)){r=v.findIndex(t,e,n)}else{r=v.findKey(t,e,n)}if(r!==void 0&&r!==-1)return t[r]};v.filter=v.select=function(t,e,n){var r=[];e=b(e,n);v.each(t,function(t,n,i){if(e(t,n,i))r.push(t)});return r};v.reject=function(t,e,n){return v.filter(t,v.negate(b(e)),n)};v.every=v.all=function(t,e,n){e=b(e,n);var r=!O(t)&&v.keys(t),i=(r||t).length;for(var a=0;a<i;a++){var o=r?r[a]:a;if(!e(t[o],o,t))return false}return true};v.some=v.any=function(t,e,n){e=b(e,n);var r=!O(t)&&v.keys(t),i=(r||t).length;for(var a=0;a<i;a++){var o=r?r[a]:a;if(e(t[o],o,t))return true}return false};v.contains=v.includes=v.include=function(t,e,n,r){if(!O(t))t=v.values(t);if(typeof n!="number"||r)n=0;return v.indexOf(t,e,n)>=0};v.invoke=function(t,e){var n=c.call(arguments,2);var r=v.isFunction(e);return v.map(t,function(t){var i=r?e:t[e];return i==null?i:i.apply(t,n)})};v.pluck=function(t,e){return v.map(t,v.property(e))};v.where=function(t,e){return v.filter(t,v.matcher(e))};v.findWhere=function(t,e){return v.find(t,v.matcher(e))};v.max=function(t,e,n){var r=-Infinity,i=-Infinity,a,o;if(e==null&&t!=null){t=O(t)?t:v.values(t);for(var s=0,u=t.length;s<u;s++){a=t[s];if(a>r){r=a}}}else{e=b(e,n);v.each(t,function(t,n,a){o=e(t,n,a);if(o>i||o===-Infinity&&r===-Infinity){r=t;i=o}})}return r};v.min=function(t,e,n){var r=Infinity,i=Infinity,a,o;if(e==null&&t!=null){t=O(t)?t:v.values(t);for(var s=0,u=t.length;s<u;s++){a=t[s];if(a<r){r=a}}}else{e=b(e,n);v.each(t,function(t,n,a){o=e(t,n,a);if(o<i||o===Infinity&&r===Infinity){r=t;i=o}})}return r};v.shuffle=function(t){var e=O(t)?t:v.values(t);var n=e.length;var r=Array(n);for(var i=0,a;i<n;i++){a=v.random(0,i);if(a!==i)r[i]=r[a];r[a]=e[i]}return r};v.sample=function(t,e,n){if(e==null||n){if(!O(t))t=v.values(t);return t[v.random(t.length-1)]}return v.shuffle(t).slice(0,Math.max(0,e))};v.sortBy=function(t,e,n){e=b(e,n);return v.pluck(v.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria;var r=e.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return t.index-e.index}),"value")};var C=function(t){return function(e,n,r){var i={};n=b(n,r);v.each(e,function(r,a){var o=n(r,a,e);t(i,r,o)});return i}};v.groupBy=C(function(t,e,n){if(v.has(t,n))t[n].push(e);else t[n]=[e]});v.indexBy=C(function(t,e,n){t[n]=e});v.countBy=C(function(t,e,n){if(v.has(t,n))t[n]++;else t[n]=1});v.toArray=function(t){if(!t)return[];if(v.isArray(t))return c.call(t);if(O(t))return v.map(t,v.identity);return v.values(t)};v.size=function(t){if(t==null)return 0;return O(t)?t.length:v.keys(t).length};v.partition=function(t,e,n){e=b(e,n);var r=[],i=[];v.each(t,function(t,n,a){(e(t,n,a)?r:i).push(t)});return[r,i]};v.first=v.head=v.take=function(t,e,n){if(t==null)return void 0;if(e==null||n)return t[0];return v.initial(t,t.length-e)};v.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))};v.last=function(t,e,n){if(t==null)return void 0;if(e==null||n)return t[t.length-1];return v.rest(t,Math.max(0,t.length-e))};v.rest=v.tail=v.drop=function(t,e,n){return c.call(t,e==null||n?1:e)};v.compact=function(t){return v.filter(t,v.identity)};var N=function(t,e,n,r){var i=[],a=0;for(var o=r||0,s=S(t);o<s;o++){var u=t[o];if(O(u)&&(v.isArray(u)||v.isArguments(u))){if(!e)u=N(u,e,n);var l=0,c=u.length;i.length+=c;while(l<c){i[a++]=u[l++]}}else if(!n){i[a++]=u}}return i};v.flatten=function(t,e){return N(t,e,false)};v.without=function(t){return v.difference(t,c.call(arguments,1))};v.uniq=v.unique=function(t,e,n,r){if(!v.isBoolean(e)){r=n;n=e;e=false}if(n!=null)n=b(n,r);var i=[];var a=[];for(var o=0,s=S(t);o<s;o++){var u=t[o],l=n?n(u,o,t):u;if(e){if(!o||a!==l)i.push(u);a=l}else if(n){if(!v.contains(a,l)){a.push(l);i.push(u)}}else if(!v.contains(i,u)){i.push(u)}}return i};v.union=function(){return v.uniq(N(arguments,true,true))};v.intersection=function(t){var e=[];var n=arguments.length;for(var r=0,i=S(t);r<i;r++){var a=t[r];if(v.contains(e,a))continue;for(var o=1;o<n;o++){if(!v.contains(arguments[o],a))break}if(o===n)e.push(a)}return e};v.difference=function(t){var e=N(arguments,true,true,1);return v.filter(t,function(t){return!v.contains(e,t)})};v.zip=function(){return v.unzip(arguments)};v.unzip=function(t){var e=t&&v.max(t,S).length||0;var n=Array(e);for(var r=0;r<e;r++){n[r]=v.pluck(t,r)}return n};v.object=function(t,e){var n={};for(var r=0,i=S(t);r<i;r++){if(e){n[t[r]]=e[r]}else{n[t[r][0]]=t[r][1]}}return n};function R(t){return function(e,n,r){n=b(n,r);var i=S(e);var a=t>0?0:i-1;for(;a>=0&&a<i;a+=t){if(n(e[a],a,e))return a}return-1}}v.findIndex=R(1);v.findLastIndex=R(-1);v.sortedIndex=function(t,e,n,r){n=b(n,r,1);var i=n(e);var a=0,o=S(t);while(a<o){var s=Math.floor((a+o)/2);if(n(t[s])<i)a=s+1;else o=s}return a};function D(t,e,n){return function(r,i,a){var o=0,s=S(r);if(typeof a=="number"){if(t>0){o=a>=0?a:Math.max(a+s,o)}else{s=a>=0?Math.min(a+1,s):a+s+1}}else if(n&&a&&s){a=n(r,i);return r[a]===i?a:-1}if(i!==i){a=e(c.call(r,o,s),v.isNaN);return a>=0?a+o:-1}for(a=t>0?o:s-1;a>=0&&a<s;a+=t){if(r[a]===i)return a}return-1}}v.indexOf=D(1,v.findIndex,v.sortedIndex);v.lastIndexOf=D(-1,v.findLastIndex);v.range=function(t,e,n){if(e==null){e=t||0;t=0}n=n||1;var r=Math.max(Math.ceil((e-t)/n),0);var i=Array(r);for(var a=0;a<r;a++,t+=n){i[a]=t}return i};var F=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var a=E(t.prototype);var o=t.apply(a,i);if(v.isObject(o))return o;return a};v.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2);var r=function(){return F(t,r,e,this,n.concat(c.call(arguments)))};return r};v.partial=function(t){var e=c.call(arguments,1);var n=function(){var r=0,i=e.length;var a=Array(i);for(var o=0;o<i;o++){a[o]=e[o]===v?arguments[r++]:e[o]}while(r<arguments.length)a.push(arguments[r++]);return F(t,n,this,this,a)};return n};v.bindAll=function(t){var e,n=arguments.length,r;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++){r=arguments[e];t[r]=v.bind(t[r],t)}return t};v.memoize=function(t,e){var n=function(r){var i=n.cache;var a=""+(e?e.apply(this,arguments):r);if(!v.has(i,a))i[a]=t.apply(this,arguments);return i[a]};n.cache={};return n};v.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)};v.defer=v.partial(v.delay,v,1);v.throttle=function(t,e,n){var r,i,a;var o=null;var s=0;if(!n)n={};var u=function(){s=n.leading===false?0:v.now();o=null;a=t.apply(r,i);if(!o)r=i=null};return function(){var l=v.now();if(!s&&n.leading===false)s=l;var c=e-(l-s);r=this;i=arguments;if(c<=0||c>e){if(o){clearTimeout(o);o=null}s=l;a=t.apply(r,i);if(!o)r=i=null}else if(!o&&n.trailing!==false){o=setTimeout(u,c)}return a}};v.debounce=function(t,e,n){var r,i,a,o,s;var u=function(){var l=v.now()-o;if(l<e&&l>=0){r=setTimeout(u,e-l)}else{r=null;if(!n){s=t.apply(a,i);if(!r)a=i=null}}};return function(){a=this;i=arguments;o=v.now();var l=n&&!r;if(!r)r=setTimeout(u,e);if(l){s=t.apply(a,i);a=i=null}return s}};v.wrap=function(t,e){return v.partial(e,t)};v.negate=function(t){return function(){return!t.apply(this,arguments)}};v.compose=function(){var t=arguments;var e=t.length-1;return function(){var n=e;var r=t[e].apply(this,arguments);while(n--)r=t[n].call(this,r);return r}};v.after=function(t,e){return function(){if(--t<1){return e.apply(this,arguments)}}};v.before=function(t,e){var n;return function(){if(--t>0){n=e.apply(this,arguments)}if(t<=1)e=null;return n}};v.once=v.partial(v.before,2);var M=!{toString:null}.propertyIsEnumerable("toString");var _=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function P(t,e){var n=_.length;var r=t.constructor;var i=v.isFunction(r)&&r.prototype||s;var a="constructor";if(v.has(t,a)&&!v.contains(e,a))e.push(a);while(n--){a=_[n];if(a in t&&t[a]!==i[a]&&!v.contains(e,a)){e.push(a)}}}v.keys=function(t){if(!v.isObject(t))return[];if(h)return h(t);var e=[];for(var n in t)if(v.has(t,n))e.push(n);if(M)P(t,e);return e};v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var n in t)e.push(n);if(M)P(t,e);return e};v.values=function(t){var e=v.keys(t);var n=e.length;var r=Array(n);for(var i=0;i<n;i++){r[i]=t[e[i]]}return r};v.mapObject=function(t,e,n){e=b(e,n);var r=v.keys(t),i=r.length,a={},o;for(var s=0;s<i;s++){o=r[s];a[o]=e(t[o],o,t)}return a};v.pairs=function(t){var e=v.keys(t);var n=e.length;var r=Array(n);for(var i=0;i<n;i++){r[i]=[e[i],t[e[i]]]}return r};v.invert=function(t){var e={};var n=v.keys(t);for(var r=0,i=n.length;r<i;r++){e[t[n[r]]]=n[r]}return e};v.functions=v.methods=function(t){var e=[];for(var n in t){if(v.isFunction(t[n]))e.push(n)}return e.sort()};v.extend=x(v.allKeys);v.extendOwn=v.assign=x(v.keys);v.findKey=function(t,e,n){e=b(e,n);var r=v.keys(t),i;for(var a=0,o=r.length;a<o;a++){i=r[a];if(e(t[i],i,t))return i}};v.pick=function(t,e,n){var r={},i=t,a,o;if(i==null)return r;if(v.isFunction(e)){o=v.allKeys(i);a=A(e,n)}else{o=N(arguments,false,false,1);a=function(t,e,n){return e in n};i=Object(i)}for(var s=0,u=o.length;s<u;s++){var l=o[s];var c=i[l];if(a(c,l,i))r[l]=c}return r};v.omit=function(t,e,n){if(v.isFunction(e)){e=v.negate(e)}else{var r=v.map(N(arguments,false,false,1),String);e=function(t,e){return!v.contains(r,e)}}return v.pick(t,e,n)};v.defaults=x(v.allKeys,true);v.create=function(t,e){var n=E(t);if(e)v.extendOwn(n,e);return n};v.clone=function(t){if(!v.isObject(t))return t;return v.isArray(t)?t.slice():v.extend({},t)};v.tap=function(t,e){e(t);return t};v.isMatch=function(t,e){var n=v.keys(e),r=n.length;if(t==null)return!r;var i=Object(t);for(var a=0;a<r;a++){var o=n[a];if(e[o]!==i[o]||!(o in i))return false}return true};var k=function(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return t===e;if(t instanceof v)t=t._wrapped;if(e instanceof v)e=e._wrapped;var i=f.call(t);if(i!==f.call(e))return false;switch(i){case"[object RegExp]":case"[object String]":return""+t===""+e;case"[object Number]":if(+t!==+t)return+e!==+e;return+t===0?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var a=i==="[object Array]";if(!a){if(typeof t!="object"||typeof e!="object")return false;var o=t.constructor,s=e.constructor;if(o!==s&&!(v.isFunction(o)&&o instanceof o&&v.isFunction(s)&&s instanceof s)&&("constructor"in t&&"constructor"in e)){return false}}n=n||[];r=r||[];var u=n.length;while(u--){if(n[u]===t)return r[u]===e}n.push(t);r.push(e);if(a){u=t.length;if(u!==e.length)return false;while(u--){if(!k(t[u],e[u],n,r))return false}}else{var l=v.keys(t),c;u=l.length;if(v.keys(e).length!==u)return false;while(u--){c=l[u];if(!(v.has(e,c)&&k(t[c],e[c],n,r)))return false}}n.pop();r.pop();return true};v.isEqual=function(t,e){return k(t,e)};v.isEmpty=function(t){if(t==null)return true;if(O(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t)))return t.length===0;return v.keys(t).length===0};v.isElement=function(t){return!!(t&&t.nodeType===1)};v.isArray=p||function(t){return f.call(t)==="[object Array]"};v.isObject=function(t){var e=typeof t;return e==="function"||e==="object"&&!!t};v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}});if(!v.isArguments(arguments)){v.isArguments=function(t){return v.has(t,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){v.isFunction=function(t){return typeof t=="function"||false}}v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))};v.isNaN=function(t){return v.isNumber(t)&&t!==+t};v.isBoolean=function(t){return t===true||t===false||f.call(t)==="[object Boolean]"};v.isNull=function(t){return t===null};v.isUndefined=function(t){return t===void 0};v.has=function(t,e){return t!=null&&d.call(t,e)};v.noConflict=function(){n._=a;return this};v.identity=function(t){return t};v.constant=function(t){return function(){return t}};v.noop=function(){};v.property=T;v.propertyOf=function(t){return t==null?function(){}:function(e){return t[e]}};v.matcher=v.matches=function(t){t=v.extendOwn({},t);return function(e){return v.isMatch(e,t)}};v.times=function(t,e,n){var r=Array(Math.max(0,t));e=A(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r};v.random=function(t,e){if(e==null){e=t;t=0}return t+Math.floor(Math.random()*(e-t+1))};v.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var U=v.invert(L);var j=function(t){var e=function(e){return t[e]};var n="(?:"+v.keys(t).join("|")+")";var r=RegExp(n);var i=RegExp(n,"g");return function(t){t=t==null?"":""+t;return r.test(t)?t.replace(i,e):t}};v.escape=j(L);v.unescape=j(U);v.result=function(t,e,n){var r=t==null?void 0:t[e];if(r===void 0){r=n}return v.isFunction(r)?r.call(t):r};var W=0;v.uniqueId=function(t){var e=++W+"";return t?t+e:e};v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/;var H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var q=/\\|'|\r|\n|\u2028|\u2029/g;var G=function(t){return"\\"+H[t]};v.template=function(t,e,n){if(!e&&n)e=n;e=v.defaults({},e,v.templateSettings);var r=RegExp([(e.escape||B).source,(e.interpolate||B).source,(e.evaluate||B).source].join("|")+"|$","g");var i=0;var a="__p+='";t.replace(r,function(e,n,r,o,s){a+=t.slice(i,s).replace(q,G);i=s+e.length;if(n){a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"}else if(r){a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"}else if(o){a+="';\n"+o+"\n__p+='"}return e});a+="';\n";if(!e.variable)a="with(obj||{}){\n"+a+"}\n";a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(e.variable||"obj","_",a)}catch(s){s.source=a;throw s}var u=function(t){return o.call(this,t,v)};var l=e.variable||"obj";u.source="function("+l+"){\n"+a+"}";return u};v.chain=function(t){var e=v(t);e._chain=true;return e};var V=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var n=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];l.apply(t,arguments);return V(this,n.apply(v,t))}})};v.mixin(v);v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var n=this._wrapped;e.apply(n,arguments);if((t==="shift"||t==="splice")&&n.length===0)delete n[0];return V(this,n)}});v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return V(this,e.apply(this._wrapped,arguments))}});v.prototype.value=function(){return this._wrapped};v.prototype.valueOf=v.prototype.toJSON=v.prototype.value;v.prototype.toString=function(){return""+this._wrapped};if(true){!(r=[],i=function(){return v}.apply(e,r),i!==undefined&&(t.exports=i))}}).call(this)},function(t,e,n){var r=n(24);var i=r(i=Date.now)&&i;var a=i||function(){return(new Date).getTime()};t.exports=a},function(t,e,n){var r=n(6),i=n(130);var a="Expected a function";var o=Math.max;function s(t,e,n){var s,u,l,c,f,d,p,h=0,m=false,g=true;if(typeof t!="function"){throw new TypeError(a)}e=e<0?0:+e||0;if(n===true){var y=true;g=false}else if(r(n)){y=n.leading;m="maxWait"in n&&o(+n.maxWait||0,e);g="trailing"in n?n.trailing:g}function v(){if(d){clearTimeout(d)}if(u){clearTimeout(u)}u=d=p=undefined}function A(){var n=e-(i()-c);if(n<=0||n>e){if(u){clearTimeout(u)}var r=p;u=d=p=undefined;if(r){h=i();l=t.apply(f,s);if(!d&&!u){s=f=null}}}else{d=setTimeout(A,n)}}function b(){if(d){clearTimeout(d)}u=d=p=undefined;if(g||m!==e){h=i();l=t.apply(f,s);if(!d&&!u){s=f=null}}}function x(){s=arguments;c=i();f=this;p=g&&(d||!y);if(m===false){var n=y&&!d}else{if(!u&&!y){h=c}var r=m-(c-h),a=r<=0||r>m;if(a){if(u){u=clearTimeout(u)}h=c;l=t.apply(f,s)}else if(!u){u=setTimeout(b,r)}}if(a&&d){d=clearTimeout(d)}else if(!d&&e!==m){d=setTimeout(A,e)}if(n){a=true;l=t.apply(f,s)}if(a&&!d&&!u){s=f=null}return l}x.cancel=v;return x}t.exports=s},function(t,e){function n(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r){e[n]=t[n]}return e}t.exports=n},function(t,e){function n(t,e){var n=-1,r=t.length;while(++n<r){if(e(t[n],n,t)===false){break}}return t}t.exports=n},function(t,e,n){var r=n(142),i=n(143),a=n(146),o=n(36),s=n(70);function u(t,e,n){var u=typeof t;if(u=="function"){return typeof e=="undefined"?t:o(t,e,n)}if(t==null){return s}if(u=="object"){return r(t)}return typeof e=="undefined"?a(t+""):i(t+"",e)}t.exports=u},function(t,e){function n(t,e,n){if(!n){n=e;e={}}var r=-1,i=n.length;while(++r<i){var a=n[r];e[a]=t[a]}return e}t.exports=n},function(t,e,n){var r=n(67),i=n(149);var a=i(r);t.exports=a},function(t,e){function n(t,e,n,r){var i;n(t,function(t,n,a){if(e(t,n,a)){i=r?n:t;return false}});return i}t.exports=n},function(t,e){function n(t,e,n){var r=t.length,i=n?r:-1;while(n?i--:++i<r){if(e(t[i],i,t)){return i}}return-1}t.exports=n},function(t,e,n){var r=n(66),i=n(42);function a(t,e){return r(t,e,i)}t.exports=a},function(t,e,n){var r=n(152),i=n(153),a=n(154),o=n(12),s=n(40);var u="[object Arguments]",l="[object Array]",c="[object Function]",f="[object Object]";var d=Object.prototype;var p=d.hasOwnProperty;var h=d.toString;function m(t,e,n,d,m,g,y){var v=o(t),A=o(e),b=l,x=l;if(!v){b=h.call(t);if(b==u){b=f}else if(b!=f){v=s(t)}}if(!A){x=h.call(e);if(x==u){x=f}else if(x!=f){A=s(e)}}var E=b==f||m&&b==c,T=x==f||m&&x==c,w=b==x;if(w&&!(v||E)){return i(t,e,b)}if(m){if(!w&&!(E&&T)){return false}}else{var S=E&&p.call(t,"__wrapped__"),O=T&&p.call(e,"__wrapped__");if(S||O){return n(S?t.value():t,O?e.value():e,d,m,g,y)}if(!w){return false}}g||(g=[]);y||(y=[]);var I=g.length;while(I--){if(g[I]==t){return y[I]==e}}g.push(t);y.push(e);var C=(v?r:a)(t,e,n,d,m,g,y);g.pop();y.pop();return C}t.exports=m},function(t,e,n){var r=n(35);function i(t,e,n,i,a){var o=-1,s=e.length,u=!a;while(++o<s){if(u&&i[o]?n[o]!==t[e[o]]:!(e[o]in t)){return false}}o=-1;while(++o<s){var l=e[o],c=t[l],f=n[o];if(u&&i[o]){var d=typeof c!="undefined"||l in t}else{d=a?a(c,f,l):undefined;if(typeof d=="undefined"){d=r(f,c,a,true)}}if(!d){return false}}return true}t.exports=i},function(t,e,n){var r=n(141),i=n(162),a=n(38),o=n(41),s=n(23);function u(t){var e=o(t),n=e.length;if(!n){return i(true)}if(n==1){var u=e[0],l=t[u];if(a(l)){return function(t){return t!=null&&t[u]===l&&(typeof l!="undefined"||u in s(t))}}}var c=Array(n),f=Array(n);while(n--){l=t[e[n]];c[n]=l;f[n]=a(l)}return function(t){return t!=null&&r(s(t),e,c,f)}}t.exports=u},function(t,e,n){var r=n(35),i=n(38),a=n(23);function o(t,e){if(i(e)){return function(n){return n!=null&&n[t]===e&&(typeof e!="undefined"||t in a(n))}}return function(n){return n!=null&&r(e,n[t],null,true)}}t.exports=o},function(t,e,n){var r=n(133),i=n(67),a=n(145),o=n(12),s=n(2),u=n(6),l=n(11),c=n(40);function f(t,e,n,d,p){if(!u(t)){return t}var h=s(e.length)&&(o(e)||c(e));(h?r:i)(e,function(e,r,i){if(l(e)){d||(d=[]);p||(p=[]);return a(t,i,r,f,n,d,p)}var o=t[r],s=n?n(o,e,r,t,i):undefined,u=typeof s=="undefined";if(u){s=e}if((h||typeof s!="undefined")&&(u||(s===s?s!==o:o===o))){t[r]=s}});return t}t.exports=f},function(t,e,n){var r=n(132),i=n(39),a=n(12),o=n(2),s=n(159),u=n(40),l=n(160);function c(t,e,n,c,f,d,p){var h=d.length,m=e[n];while(h--){if(d[h]==m){t[n]=p[h];return}}var g=t[n],y=f?f(g,m,n,t,e):undefined,v=typeof y=="undefined";if(v){y=m;if(o(m.length)&&(a(m)||u(m))){y=a(g)?g:g&&g.length?r(g):[]}else if(s(m)||i(m)){y=i(g)?l(g):s(g)?g:{}}else{v=false}}d.push(m);p.push(y);if(v){t[n]=c(y,m,f,d,p)}else if(y===y?y!==g:g===g){t[n]=y}}t.exports=c},function(t,e){function n(t){return function(e){return e==null?undefined:e[t]}}t.exports=n},function(t,e){function n(t){if(typeof t=="string"){return t}return t==null?"":t+""}t.exports=n},function(t,e,n){var r=n(36),i=n(155);function a(t){
return function(){var e=arguments,n=e.length,a=e[0];if(n<2||a==null){return a}var o=e[n-2],s=e[n-1],u=e[3];if(n>3&&typeof o=="function"){o=r(o,s,5);n-=2}else{o=n>2&&typeof s=="function"?s:null;n-=o?1:0}if(u&&i(e[1],e[2],u)){o=n==3?null:o;n=2}var l=0;while(++l<n){var c=e[l];if(c){t(a,c,o)}}return a}}t.exports=a},function(t,e,n){var r=n(2),i=n(23);function a(t,e){return function(n,a){var o=n?n.length:0;if(!r(o)){return t(n,a)}var s=e?o:-1,u=i(n);while(e?s--:++s<o){if(a(u[s],s,u)===false){break}}return n}}t.exports=a},function(t,e,n){var r=n(23);function i(t){return function(e,n,i){var a=r(e),o=i(e),s=o.length,u=t?s:-1;while(t?u--:++u<s){var l=o[u];if(n(a[l],l,a)===false){break}}return e}}t.exports=i},function(t,e,n){var r=n(134),i=n(137),a=n(138),o=n(12);function s(t,e){return function(n,s,u){s=r(s,u,3);if(o(n)){var l=a(n,s,e);return l>-1?n[l]:undefined}return i(n,s,t)}}t.exports=s},function(t,e){function n(t,e,n,r,i,a,o){var s=-1,u=t.length,l=e.length,c=true;if(u!=l&&!(i&&l>u)){return false}while(c&&++s<u){var f=t[s],d=e[s];c=undefined;if(r){c=i?r(d,f,s):r(f,d,s)}if(typeof c=="undefined"){if(i){var p=l;while(p--){d=e[p];c=f&&f===d||n(f,d,r,i,a,o);if(c){break}}}else{c=f&&f===d||n(f,d,r,i,a,o)}}}return!!c}t.exports=n},function(t,e){var n="[object Boolean]",r="[object Date]",i="[object Error]",a="[object Number]",o="[object RegExp]",s="[object String]";function u(t,e,u){switch(u){case n:case r:return+t==+e;case i:return t.name==e.name&&t.message==e.message;case a:return t!=+t?e!=+e:t==0?1/t==1/e:t==+e;case o:case s:return t==e+""}return false}t.exports=u},function(t,e,n){var r=n(41);var i=Object.prototype;var a=i.hasOwnProperty;function o(t,e,n,i,o,s,u){var l=r(t),c=l.length,f=r(e),d=f.length;if(c!=d&&!o){return false}var p=o,h=-1;while(++h<c){var m=l[h],g=o?m in e:a.call(e,m);if(g){var y=t[m],v=e[m];g=undefined;if(i){g=o?i(v,y,m):i(y,v,m)}if(typeof g=="undefined"){g=y&&y===v||n(y,v,i,o,s,u)}}if(!g){return false}p||(p=m=="constructor")}if(!p){var A=t.constructor,b=e.constructor;if(A!=b&&("constructor"in t&&"constructor"in e)&&!(typeof A=="function"&&A instanceof A&&typeof b=="function"&&b instanceof b)){return false}}return true}t.exports=o},function(t,e,n){var r=n(37),i=n(2),a=n(6);function o(t,e,n){if(!a(n)){return false}var o=typeof e;if(o=="number"){var s=n.length,u=i(s)&&r(e,s)}else{u=o=="string"&&e in n}if(u){var l=n[e];return t===t?t===l:l!==l}return false}t.exports=o},function(t,e,n){var r=n(139),i=n(11);var a="[object Object]";var o=Object.prototype;var s=o.hasOwnProperty;var u=o.toString;function l(t){var e;if(!(i(t)&&u.call(t)==a)||!s.call(t,"constructor")&&(e=t.constructor,typeof e=="function"&&!(e instanceof e))){return false}var n;r(t,function(t,e){n=e});return typeof n=="undefined"||s.call(t,n)}t.exports=l},function(t,e,n){var r=n(39),i=n(12),a=n(37),o=n(2),s=n(42),u=n(69);var l=Object.prototype;var c=l.hasOwnProperty;function f(t){var e=s(t),n=e.length,l=n&&t.length;var f=l&&o(l)&&(i(t)||u.nonEnumArgs&&r(t));var d=-1,p=[];while(++d<n){var h=e[d];if(f&&a(h,l)||c.call(t,h)){p.push(h)}}return p}t.exports=f},function(t,e,n){var r=n(35),i=n(36),a=n(38);function o(t,e,n,o){n=typeof n=="function"&&i(n,o,3);if(!n&&a(t)&&a(e)){return t===e}var s=n?n(t,e):undefined;return typeof s=="undefined"?r(t,e,n):!!s}t.exports=o},function(t,e,n){var r=n(24),i=n(156);var a="[object Object]";var o=Object.prototype;var s=o.toString;var u=r(u=Object.getPrototypeOf)&&u;var l=!u?i:function(t){if(!(t&&s.call(t)==a)){return false}var e=t.valueOf,n=r(e)&&(n=u(e))&&u(n);return n?t==n||u(t)==n:i(t)};t.exports=l},function(t,e,n){var r=n(135),i=n(42);function a(t){return r(t,i(t))}t.exports=a},function(t,e,n){var r=n(147);var i=/[.*+?^${}()|[\]\/\\]/g,a=RegExp(i.source);function o(t){t=r(t);return t&&a.test(t)?t.replace(i,"\\$&"):t}t.exports=o},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(164);var i=n(3);var a=n(20);var o=n(165);var s=n(166);var u=n(169);var l=n(71);var c=n(99);var f=n(76);var d=n(173);var p=n(75);var h=".lineup";var m=function(){function t(t,e,n){if(n===void 0){n=100}var i=this;this.queryOptions={};this._toggleClass=d(function(){if(!i.destroyed){i.element.toggleClass("loading",i.loadingData)}},100);this._loadingData=false;this._selectedRows=[];this._settings=a.extend(true,{},l.DEFAULT_TABLESORTER_SETTINGS);this.lineUpConfig={svgLayout:{mode:"separate"},numberformat:function(t,e,n){var r=i.settings.presentation.numberFormatter||l.DEFAULT_NUMBER_FORMATTER;return r(t,e,n)},interaction:{multiselect:function(){return i.settings.selection.multiSelect}},sorting:{external:true},filtering:{external:true},histograms:{generator:function(t,e){return i.generateHistogram(t,e)}}};this.bodyUpdater=d(function(){if(i.lineupImpl&&!i.destroyed){i.lineupImpl.updateBody()}},n);this.element=a(u.default());this.element.find(".clear-selection").on("click",function(){i.lineupImpl.clearSelection();i.raiseClearSelection()});this.element.find(".add-column").on("click",function(){i.lineupImpl.addNewSingleColumnDialog()});this.element.find(".add-stacked-column").on("click",function(){i.lineupImpl.addNewStackedColumnDialog()});this._eventEmitter=new r.default;t.append(this.element);this.loadingData=true;if(e){this.dataProvider=e}}Object.defineProperty(t.prototype,"loadingData",{get:function(){return this._loadingData},set:function(t){this._loadingData=t;if(t){this.element.addClass("loading")}this._toggleClass()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"dimensions",{get:function(){return this._dimensions},set:function(t){this._dimensions=t;if(this.lineupImpl&&this.lineupImpl.$container&&t){var e=a(this.lineupImpl.$container.node()).find("div.lu-wrapper");var n=e.offset().top-this.element.offset().top;e.css({height:t.height-n-2+"px",width:"100%"})}this.bodyUpdater()},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"dataProvider",{get:function(){return this._dataProvider},set:function(t){this.loadingData=false;this.lastQuery=undefined;this.queryOptions={};this.applyConfigurationToQueryOptions(this.configuration);this._dataProvider=t;if(this._dataProvider){this.runQuery(true)}else if(this.lineupImpl){this.lineupImpl.destroy();delete this.lineupImpl}},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"data",{get:function(){return this._data&&this._data.slice(0)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"events",{get:function(){return this._eventEmitter},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"selection",{get:function(){return this._selectedRows},set:function(t){this._selectedRows=this.updateRowSelection(t);if(this.lineupImpl){this.lineupImpl.select(t)}},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"settings",{get:function(){return this._settings},set:function(t){var e=a.extend(true,{},l.DEFAULT_TABLESORTER_SETTINGS,t);e.selection.singleSelect=!e.selection.multiSelect;this.lineUpConfig["cellFormatter"]=e.presentation.cellFormatter;if(this.lineupImpl){var n=e.presentation;for(var r in n){if(n.hasOwnProperty(r)){this.lineupImpl.changeRenderingOption(r,n[r])}}this.lineupImpl.changeInteractionOption("tooltips",e.presentation.tooltips)}this.lineUpConfig["columnColors"]=e.presentation.columnColors;this.lineUpConfig["interaction"].tooltips=e.presentation.tooltips;this._settings=e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"configuration",{get:function(){return this._configuration},set:function(t){this._configuration=t;this.applyConfigurationToQueryOptions(t);this.applyConfigurationToLineup()},enumerable:true,configurable:true});t.prototype.getQueryOptions=function(){return f({},this.queryOptions)};t.prototype.rerenderValues=function(){if(this.lineupImpl){var t=this.settings.presentation.values;this.lineupImpl.changeRenderingOption("values",!t);this.lineupImpl.changeRenderingOption("values",t)}};t.prototype.destroy=function(){if(this.lineupImpl){if(this.lineupImpl.listeners){this.lineupImpl.listeners.on(h,null)}this.lineupImpl.scrolled=function(){};this.lineupImpl.destroy();delete this.lineupImpl}this.destroyed=true};t.prototype.checkLoadMoreData=function(t){if(!this.destroyed){var e=a(this.lineupImpl.$container.node()).find("div.lu-wrapper")[0];var n="Height";var r="Top";var i=e["scroll"+n];var o=e["scroll"+r];var s=i-(o+e["client"+n])<200;if(s&&!this.loadingData){return this.runQuery(false)}}};t.prototype.runQuery=function(t){var e=this;if(t&&this.loadingPromise){this.loadingPromise["cancel"]=true}if(!this.dataProvider){return}this.raiseLoadMoreData();return this.dataProvider.canQuery(this.queryOptions).then(function(t){if(t){e.loadingData=true;var n=e.loadingPromise=e.dataProvider.query(e.queryOptions).then(function(t){if((!n||!n["cancel"])&&!e.destroyed){e.loadingPromise=undefined;e.loadDataFromQueryResult(t);e.loadingData=false;setTimeout(function(){e.checkLoadMoreData(false);if(!e.loadingPromise){e.loadingData=false}},10)}},function(){return e.loadingData=false}).then(undefined,function(t){throw t});return n}else{e.loadingData=false}})};t.prototype.loadDataFromQueryResult=function(t){this._data=this._data||[];this._data=t.replace?t.results:this._data.concat(t.results);var e=this.configuration?a.extend(true,{},this.configuration):o.createConfigurationFromData(this._data);e.primaryKey="id";this.loadLineup(e);this.selection=this._data.filter(function(t){return t.selected});this.applyConfigurationToLineup();this.updateConfigurationFromLineup()};t.prototype.loadLineup=function(t){this.raiseLoadLineup(t);var e={};e.dataspec=t;delete e.dataspec.file;delete e.dataspec.separator;e.dataspec.data=this._data;e.storage=c.createLocalStorage(this._data,t.columns,t.layout,t.primaryKey);if(this.lineupImpl){this.lineupImpl.changeDataStorage(e)}else{var n=a.extend(true,this.lineUpConfig,{renderingOptions:a.extend(true,{},this.settings.presentation)});this.lineupImpl=c.create(e,i.select(this.element.find(".grid")[0]),n);this.dimensions=this.dimensions;this.attachLineupListeners();this.settings=this.settings}};t.prototype.attachLineupListeners=function(){var t=this;this.lineupImpl.listeners.on("change-sortcriteria"+h,function(e,n,r){t.onLineUpSorted(n&&n.column&&n.column.id,r)});this.lineupImpl.listeners.on("multiselected"+h,function(e){if(t.settings.selection.multiSelect){t._selectedRows=t.updateRowSelection(e);t.raiseSelectionChanged(e)}});this.lineupImpl.listeners.on("selected"+h,function(e){if(!t.settings.selection.multiSelect){t._selectedRows=t.updateRowSelection(e?[e]:[]);t.raiseSelectionChanged(t.selection)}});this.lineupImpl.listeners.on("columns-changed"+h,function(){return t.onLineUpColumnsChanged()});this.lineupImpl.listeners.on("change-filter"+h,function(e,n){return t.onLineUpFiltered(n)});var e=this.lineupImpl.scrolled;var n=this;this.lineupImpl.scrolled=function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}n.checkLoadMoreData(true);return e.apply(this,t)}};t.prototype.generateHistogram=function(t,e){var n=this.getColumnByName(t.column.column);this.dataProvider.generateHistogram(n,this.queryOptions).then(function(t){var n=1/t.length;var r=t.map(function(t,e){return{x:n*e,y:t,dx:n}});e(r)})};t.prototype.getColumnByName=function(t){return this.configuration&&this.configuration.columns&&this.configuration.columns.filter(function(e){return e.column===t})[0]};t.prototype.updateRowSelection=function(t){if(this._data){this._data.forEach(function(t){return t.selected=false})}return t&&t.length?t.filter(function(t){return t.selected=true}):[]};t.prototype.updateConfigurationFromLineup=function(t){if(!this.savingConfiguration){this.savingConfiguration=true;var e=s.convertConfiguration(this.lineupImpl,t);var n=this.configuration;if(o.hasConfigurationChanged(e,n)){this.configuration=e;this.raiseConfigurationChanged(this.configuration)}this.savingConfiguration=false}};t.prototype.applyConfigurationToQueryOptions=function(t){var e=t&&t.layout&&t.layout.primary;delete this.queryOptions.sort;delete this.queryOptions.query;if(t&&t.sort){this.queryOptions.sort=[t.sort]}if(e){this.queryOptions.query=s.convertFiltersFromLayout(e)}};t.prototype.applyConfigurationToLineup=function(){if(this.lineupImpl){var t=s.convertSort(this.lineupImpl);if(this.configuration&&this.configuration.sort&&(!t||!p(t,this.configuration.sort))){this.sortingFromConfig=true;var e=this.configuration.sort;this.lineupImpl.sortBy(e.stack?e.stack.name:e.column,e.asc);this.sortingFromConfig=false}}};t.prototype.onLineUpColumnsChanged=function(){this.updateConfigurationFromLineup()};t.prototype.onLineUpSorted=function(t,e){if(!this.sortingFromConfig){this.updateConfigurationFromLineup();this.raiseSortChanged(t,e);var n=s.convertSort(this.lineupImpl);this.queryOptions.sort=n?[n]:undefined;if(this.dataProvider&&this.dataProvider.sort){this.dataProvider.sort(n)}this.runQuery(true)}};t.prototype.onLineUpFiltered=function(t){var e=t.column&&t.column.column;var n=this.configuration.columns.filter(function(t){return t.column===e})[0];var r;if(n.type==="number"){r={column:e,value:{domain:t.scale.domain(),range:t.scale.range(),values:t.filter}}}else{r={column:e,value:t.filter||undefined}}var i=s.convertFilters(this.lineupImpl,t);if(!p(i,this.queryOptions.query)){this.updateConfigurationFromLineup(t);this.raiseFilterChanged(r);this.queryOptions.query=i;if(this.dataProvider&&this.dataProvider.filter){this.dataProvider.filter(r)}this.runQuery(true)}};t.prototype.raiseConfigurationChanged=function(e){this.events.raiseEvent(t.EVENTS.CONFIG_CHANGED,e)};t.prototype.raiseSortChanged=function(e,n){this.events.raiseEvent(t.EVENTS.SORT_CHANGED,e,n)};t.prototype.raiseFilterChanged=function(e){this.events.raiseEvent(t.EVENTS.FILTER_CHANGED,e)};t.prototype.raiseSelectionChanged=function(e){this.events.raiseEvent(t.EVENTS.SELECTION_CHANGED,e)};t.prototype.raiseLoadMoreData=function(){this.events.raiseEvent(t.EVENTS.LOAD_MORE_DATA)};t.prototype.raiseClearSelection=function(){this.events.raiseEvent(t.EVENTS.CLEAR_SELECTION)};t.prototype.raiseLoadLineup=function(e){this.events.raiseEvent(t.EVENTS.LOAD_LINEUP,e)};return t}();m.EVENTS={SORT_CHANGED:"sortChanged",FILTER_CHANGED:"filterChanged",CONFIG_CHANGED:"configurationChanged",SELECTION_CHANGED:"selectionChanged",LOAD_MORE_DATA:"loadMoreData",CLEAR_SELECTION:"clearSelection",LOAD_LINEUP:"loadLineup"};e.TableSorter=m},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(){this.listeners={}}t.prototype.on=function(t,e){var n=this;var r=this.listeners[t]=this.listeners[t]||[];r.push(e);return{destroy:function(){n.off(t,e)}}};t.prototype.off=function(t,e){var n=this.listeners[t];if(n){var r=n.indexOf(e);if(r>=0){n.splice(r,1)}}};t.prototype.raiseEvent=function(t){var e=this;var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}var i=this.listeners[t];if(i){i.forEach(function(t){t.apply(e,n)})}};return t}();e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(3);var i=n(75);var a=n(205);var o=function(t){return t-parseFloat(t)+1>=0};function s(t){"use strict";var e={selected:true,equals:true};function n(){if(t&&t.length){return Object.keys(t[0]).filter(function(t){return!e[t]})}return[]}function i(t,e){if(+e>t.max){t.max=e}else if(+e<t.min){t.min=+e}}function a(t){return t===0||t===null||t===undefined||o(t)}function s(e){var n={min:Number.MAX_VALUE,max:0};var r=t.every(function(t){return a(t[e])});if(r){t.forEach(function(t){return i(n,t[e])})}return{allNumeric:r,minMax:n}}function u(e){var n={column:e,type:"string"};var i=s(e),a=i.allNumeric,o=i.minMax;if(a){n.type="number";n.domain=[o.min,o.max]}if(n.type==="string"){var u=r.set(t.map(function(t){return t[e]}));if(u.size()<=Math.max(20,t.length*.2)){n.type="categorical";n.categories=u.values().sort()}}return n}var l=n().map(u);return{primaryKey:"id",columns:l}}e.createConfigurationFromData=s;function u(t,e){"use strict";var n=t&&t.columns;var r=t&&t.columns;if(!n&&!r){return false}else if(!n||!r){return true}else{if(n.length!==r.length){return true}var o=function(t){return a(t,["column","label","type"])};return!i(n.map(o),r.map(o))}}e.haveColumnsChanged=u;function l(t,e){"use strict";var n=function(t){return t&&t.type!=="rank"};var r=(t&&t.layout&&t.layout.primary||[]).filter(n);var a=(e&&e.layout&&e.layout.primary||[]).filter(n);return!i(r,a)}e.hasLayoutChanged=l;function c(t,e){"use strict";if(!t&&!e){return false}else if(!t||!e){return true}return!i(e.sort,t.sort)||u(e,t)||l(e,t)}e.hasConfigurationChanged=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(20);var i=n(3);var a=n(76);var o=n(171);function s(t,e){"use strict";if(t){var n=e&&e.description();var r=t.storage.getColumnLayout().map(function(t){var r=t.description();if(n&&n.column===r.column){r=n;t=e}if(t.scale){r.domain=t.scale.domain()}return r});var i=[];r.forEach(function(t){var e=l(t);if(e){i.push(e)}});return i}}e.convertFilters=s;function u(t){"use strict";if(t){var e=[];t.forEach(function(t){var n=l(t);if(n){e.push(n)}});return e}}e.convertFiltersFromLayout=u;function l(t){"use strict";if(t&&t.column){if(t.filter){if(typeof t.filter==="string"){return{column:t.column,value:t.filter||undefined}}else{return{column:t.column,value:{values:t.filter||undefined}}}}else if(t.domain){return{column:t.column,value:{domain:t.domain,range:t.range}}}}}e.convertFilterFromDesc=l;function c(t,e){"use strict";var n=t.spec.dataspec;var i=r.extend(true,{},{columns:n.columns.map(function(t){return a({},t,{})}),primaryKey:n.primaryKey});var s=t.storage.getColumnLayout().map(function(t){var n=t.description();if(e){var r=e.description();if(r.column===n.column){n=r;t=e}}var i=a({},n,{domain:t.scale?t.scale.domain():undefined});if(!i.filter){delete i.filter}return i});i.layout=o(s,function(t){return t.columnBundle||"primary"});i.sort=f(t);return i}e.convertConfiguration=c;function f(t){"use strict";if(t&&t.storage){var e=t.storage.config.columnBundles.primary;var n=e.sortedColumn;if(n){if(n.column){return{column:n.column.column,asc:e.sortingOrderAsc}}var r=i.sum(n.childrenWidths);return{stack:{name:n.label,columns:n.children.map(function(t,e){return{column:t.column.column,weight:n.childrenWidths[e]/r}})},asc:e.sortingOrderAsc}}}}e.convertSort=f},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n;(function(t){t[t["Gradient"]=1]="Gradient";t[t["Instance"]=2]="Instance"})(n=e.ColorMode||(e.ColorMode={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(170);var i=n(3);var a=n(31);var o=a("essex:widget:tablesorter:JSONDataProvider");var s=n(201);var u=function(){function t(t,e,n,r,i){if(n===void 0){n=true}if(r===void 0){r=true}if(i===void 0){i=100}this.handleSort=true;this.handleFilter=true;this.count=100;this.offset=0;this.initialQuery=true;this.data=t;this.domains=e;this.handleSort=n;this.handleFilter=r;this.count=i}t.checkStringFilter=function(t,e){return((t[e.column]||"")+"").match(new RegExp(e.value))};t.checkNumberFilter=function(t,e){var n=t[e.column];return n===null||n===undefined?false:n>=e.value.domain[0]&&n<=e.value.domain[1]};t.checkExplicitFilter=function(t,e){var n=t[e.column]||0;return(e.value.values||[]).indexOf(n)>=0};t.prototype.canQuery=function(t){var e=this;return new r.Promise(function(t){return t(e.initialQuery||e.offset<e.data.length)})};t.prototype.query=function(t){var e=this;return new r.Promise(function(n,r){e.initialQuery=false;var i;var a=e.offset===0;try{e.filteredData=e.getFilteredData(t);i=e.filteredData.slice(e.offset,e.offset+e.count);e.offset+=e.count;o("Returning "+i.length+" results from query")}catch(s){o("Error Returning: "+s);throw s}setTimeout(function(){n({results:i,replace:a})},0)})};t.prototype.sort=function(t){if(this.handleSort){this.offset=0}this.initialQuery=true};t.prototype.filter=function(t){if(this.handleFilter){this.offset=0}this.initialQuery=true};t.prototype.generateHistogram=function(t,e){var n=this;return new r.Promise(function(e){var r=n.filteredData;var a=r.map(function(e){return e[t.column]});var o=i.max(a);var u=i.min(a);var l=i.layout.histogram();l.range([u,o]);var c=l(a).map(function(t){return t.y});var f=i.max(c);e(c.map(function(t){return f===0||t===0||s(t)||s(f)?0:t/f}))})};t.prototype.getFilteredData=function(e){var n=this;var r=this.data.slice(0);if(this.handleFilter&&e.query&&e.query.length){e.query.forEach(function(e){var i=t.checkStringFilter;if(e.value&&e.column){var a=e.value&&e.value.values;var o=e.value&&e.value.domain;if(a){i=t.checkExplicitFilter}else if(o){var s=n.domains[e.column];if(o[0]!==s[0]||o[1]!==s[1]){i=t.checkNumberFilter}else{i=undefined}}r=r.filter(function(t){return!i||i(t,e)})}})}if(this.handleSort&&e.sort&&e.sort.length){var i=e.sort[0];var a=function(t,e,n){var r=n?1:-1;if(t==e){return 0}return(t>e?1:-1)*r};var o=function(t,e,n){var r=e.stack.columns;if(r){var i=r.reduce(function(e,r){var i=n[r.column].min||0;var a=n[r.column].max||i;var o=t[r.column];if(o!==null&&o!==undefined){if(a===i){o=1}else{o=(o-i)/(a-i)}return e+o*r.weight}return e},0);return i}return 0};var s;if(i.stack){s=i.stack.columns.reduce(function(t,e){var r=n.domains[e.column],i=r[0],a=r[1];t[e.column]={max:a,min:i};return t},{})}r.sort(function(t,e){if(i.stack){return a(o(t,i,s),o(e,i,s),i.asc)}return a(t[i.column],e[i.column],i.asc)})}return r};return t}();e.JSONDataProvider=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});function n(){"use strict";return'\n        <div class="lineup-component">\n            <div class="nav">\n                <ul>\n                    <li class="clear-selection" title="Clear Selection">\n                        <a>\n                            <span class="fa-stack">\n                                <i class="fa fa-check fa-stack-1x"></i>\n                                <i class="fa fa-ban fa-stack-2x"></i>\n                            </span>\n                        </a>\n                    </li>\n                    <li class="add-column" title="Add Column">\n                        <a>\n                            <span class="fa-stack">\n                                <i class="fa fa-columns fa-stack-2x"></i>\n                                <i class="fa fa-plus-circle fa-stack-1x"></i>\n                            </span>\n                        </a>\n                    </li>\n                    <li class="add-stacked-column" title="Add Stacked Column">\n                        <a>\n                            <span class="fa-stack">\n                                <i class="fa fa-bars fa-stack-2x"></i>\n                                <i class="fa fa-plus-circle fa-stack-1x"></i>\n                            </span>\n                        </a>\n                    </li>\n                </ul>\n                <hr/>\n            </div>\n            <div style="position:relative">\n                <div class="grid"></div>\n                <div class=\'load-spinner\'><div>\n            </div>\n        </div>\n    '.trim().replace(/\n/g,"")}e.default=n},function(t,e,n){var r;(function(e,i,a){(function(e,n){true?t.exports=n():typeof define==="function"&&define.amd?define(n):e.ES6Promise=n()})(this,function(){"use strict";function t(t){return typeof t==="function"||typeof t==="object"&&t!==null}function i(t){return typeof t==="function"}var o=undefined;if(!Array.isArray){o=function(t){return Object.prototype.toString.call(t)==="[object Array]"}}else{o=Array.isArray}var s=o;var u=0;var l=undefined;var c=undefined;var f=function dt(t,e){w[u]=t;w[u+1]=e;u+=2;if(u===2){if(c){c(S)}else{I()}}};function d(t){c=t}function p(t){f=t}var h=typeof window!=="undefined"?window:undefined;var m=h||{};var g=m.MutationObserver||m.WebKitMutationObserver;var y=typeof self==="undefined"&&typeof e!=="undefined"&&{}.toString.call(e)==="[object process]";var v=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function A(){return function(){return e.nextTick(S)}}function b(){return function(){l(S)}}function x(){var t=0;var e=new g(S);var n=document.createTextNode("");e.observe(n,{characterData:true});return function(){n.data=t=++t%2}}function E(){var t=new MessageChannel;t.port1.onmessage=S;return function(){return t.port2.postMessage(0)}}function T(){var t=setTimeout;return function(){return t(S,1)}}var w=new Array(1e3);function S(){for(var t=0;t<u;t+=2){var e=w[t];var n=w[t+1];e(n);w[t]=undefined;w[t+1]=undefined}u=0}function O(){try{var t=r;var e=n(79);l=e.runOnLoop||e.runOnContext;return b()}catch(i){return T()}}var I=undefined;if(y){I=A()}else if(g){I=x()}else if(v){I=E()}else if(h===undefined&&"function"==="function"){I=O()}else{I=T()}function C(t,e){var n=arguments;var r=this;var i=new this.constructor(D);if(i[R]===undefined){nt(i)}var a=r._state;if(a){(function(){var t=n[a-1];f(function(){return X(a,i,t,r._result)})})()}else{Q(r,i,t,e)}return i}function N(t){var e=this;if(t&&typeof t==="object"&&t.constructor===e){return t}var n=new e(D);q(n,t);return n}var R=Math.random().toString(36).substring(16);function D(){}var F=void 0;var M=1;var _=2;var P=new K;function k(){return new TypeError("You cannot resolve a promise with itself")}function L(){return new TypeError("A promises callback cannot return that same promise.")}function U(t){try{return t.then}catch(e){P.error=e;return P}}function j(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function W(t,e,n){f(function(t){var r=false;var i=j(n,e,function(n){if(r){return}r=true;if(e!==n){q(t,n)}else{V(t,n)}},function(e){if(r){return}r=true;Y(t,e)},"Settle: "+(t._label||" unknown promise"));if(!r&&i){r=true;Y(t,i)}},t)}function B(t,e){if(e._state===M){V(t,e._result)}else if(e._state===_){Y(t,e._result)}else{Q(e,undefined,function(e){return q(t,e)},function(e){return Y(t,e)})}}function H(t,e,n){if(e.constructor===t.constructor&&n===C&&e.constructor.resolve===N){B(t,e)}else{if(n===P){Y(t,P.error)}else if(n===undefined){V(t,e)}else if(i(n)){W(t,e,n)}else{V(t,e)}}}function q(e,n){if(e===n){Y(e,k())}else if(t(n)){H(e,n,U(n))}else{V(e,n)}}function G(t){if(t._onerror){t._onerror(t._result)}z(t)}function V(t,e){if(t._state!==F){return}t._result=e;t._state=M;if(t._subscribers.length!==0){f(z,t)}}function Y(t,e){if(t._state!==F){return}t._state=_;t._result=e;f(G,t)}function Q(t,e,n,r){var i=t._subscribers;var a=i.length;t._onerror=null;i[a]=e;i[a+M]=n;i[a+_]=r;if(a===0&&t._state){f(z,t)}}function z(t){var e=t._subscribers;var n=t._state;if(e.length===0){return}var r=undefined,i=undefined,a=t._result;for(var o=0;o<e.length;o+=3){r=e[o];i=e[o+n];if(r){X(n,r,i,a)}else{i(a)}}t._subscribers.length=0}function K(){this.error=null}var Z=new K;function $(t,e){try{return t(e)}catch(n){Z.error=n;return Z}}function X(t,e,n,r){var a=i(n),o=undefined,s=undefined,u=undefined,l=undefined;if(a){o=$(n,r);if(o===Z){l=true;s=o.error;o=null}else{u=true}if(e===o){Y(e,L());return}}else{o=r;u=true}if(e._state!==F){}else if(a&&u){q(e,o)}else if(l){Y(e,s)}else if(t===M){V(e,o)}else if(t===_){Y(e,o)}}function J(t,e){try{e(function r(e){q(t,e)},function i(e){Y(t,e)})}catch(n){Y(t,n)}}var tt=0;function et(){return tt++}function nt(t){t[R]=tt++;t._state=undefined;t._result=undefined;t._subscribers=[]}function rt(t,e){this._instanceConstructor=t;this.promise=new t(D);if(!this.promise[R]){nt(this.promise)}if(s(e)){this._input=e;this.length=e.length;this._remaining=e.length;this._result=new Array(this.length);if(this.length===0){V(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){V(this.promise,this._result)}}}else{Y(this.promise,it())}}function it(){return new Error("Array Methods must be provided an Array")}rt.prototype._enumerate=function(){var t=this.length;var e=this._input;for(var n=0;this._state===F&&n<t;n++){this._eachEntry(e[n],n)}};rt.prototype._eachEntry=function(t,e){var n=this._instanceConstructor;var r=n.resolve;if(r===N){var i=U(t);if(i===C&&t._state!==F){this._settledAt(t._state,e,t._result)}else if(typeof i!=="function"){this._remaining--;this._result[e]=t}else if(n===ct){var a=new n(D);H(a,t,i);this._willSettleAt(a,e)}else{this._willSettleAt(new n(function(e){return e(t)}),e)}}else{this._willSettleAt(r(t),e)}};rt.prototype._settledAt=function(t,e,n){var r=this.promise;if(r._state===F){this._remaining--;if(t===_){Y(r,n)}else{this._result[e]=n}}if(this._remaining===0){V(r,this._result)}};rt.prototype._willSettleAt=function(t,e){var n=this;Q(t,undefined,function(t){return n._settledAt(M,e,t)},function(t){return n._settledAt(_,e,t)})};function at(t){return new rt(this,t).promise}function ot(t){var e=this;if(!s(t)){return new e(function(t,e){return e(new TypeError("You must pass an array to race."))})}else{return new e(function(n,r){var i=t.length;for(var a=0;a<i;a++){e.resolve(t[a]).then(n,r)}})}}function st(t){var e=this;var n=new e(D);Y(n,t);return n}function ut(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function lt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ct(t){this[R]=et();this._result=this._state=undefined;this._subscribers=[];if(D!==t){typeof t!=="function"&&ut();this instanceof ct?J(this,t):lt()}}ct.all=at;ct.race=ot;ct.resolve=N;ct.reject=st;ct._setScheduler=d;ct._setAsap=p;ct._asap=f;ct.prototype={constructor:ct,then:C,"catch":function pt(t){return this.then(null,t)}};function ft(){var t=undefined;if(typeof a!=="undefined"){t=a}else if(typeof self!=="undefined"){t=self}else{try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(e){}if(r==="[object Promise]"&&!n.cast){return}}t.Promise=ct}ft();ct.polyfill=ft;ct.Promise=ct;return ct})}).call(e,n(32),n(60),function(){return this}())},function(t,e,n){var r=n(189);var i=Object.prototype;var a=i.hasOwnProperty;var o=r(function(t,e,n){if(a.call(t,n)){t[n].push(e)}else{t[n]=[e]}});t.exports=o},function(t,e,n){var r=n(28);var i=r(i=Date.now)&&i;var a=i||function(){return(new Date).getTime()};t.exports=a},function(t,e,n){var r=n(8),i=n(172);var a="Expected a function";var o=Math.max;function s(t,e,n){var s,u,l,c,f,d,p,h=0,m=false,g=true;if(typeof t!="function"){throw new TypeError(a)}e=e<0?0:+e||0;if(n===true){var y=true;g=false}else if(r(n)){y=n.leading;m="maxWait"in n&&o(+n.maxWait||0,e);g="trailing"in n?n.trailing:g}function v(){if(d){clearTimeout(d)}if(u){clearTimeout(u)}u=d=p=undefined}function A(){var n=e-(i()-c);if(n<=0||n>e){if(u){clearTimeout(u)}var r=p;u=d=p=undefined;if(r){h=i();l=t.apply(f,s);if(!d&&!u){s=f=null}}}else{d=setTimeout(A,n)}}function b(){if(d){clearTimeout(d)}u=d=p=undefined;if(g||m!==e){h=i();l=t.apply(f,s);if(!d&&!u){s=f=null}}}function x(){s=arguments;c=i();f=this;p=g&&(d||!y);if(m===false){var n=y&&!d}else{if(!u&&!y){h=c}var r=m-(c-h),a=r<=0||r>m;if(a){if(u){u=clearTimeout(u)}h=c;l=t.apply(f,s)}else if(!u){u=setTimeout(b,r)}}if(a&&d){d=clearTimeout(d)}else if(!d&&e!==m){d=setTimeout(A,e)}if(n){a=true;l=t.apply(f,s)}if(a&&!d&&!u){s=f=null}return l}x.cancel=v;return x}t.exports=s},function(t,e){var n="Expected a function";var r=Math.max;function i(t,e){if(typeof t!="function"){throw new TypeError(n)}e=r(typeof e=="undefined"?t.length-1:+e||0,0);return function(){var n=arguments,i=-1,a=r(n.length-e,0),o=Array(a);while(++i<a){o[i]=n[e+i]}switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var s=Array(e+1);i=-1;while(++i<e){s[i]=n[i]}s[e]=o;return t.apply(this,s)}}t.exports=i},function(t,e){function n(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r){e[n]=t[n]}return e}t.exports=n},function(t,e){function n(t,e){var n=-1,r=t.length;
while(++n<r){if(e(t[n],n,t)===false){break}}return t}t.exports=n},function(t,e,n){var r=n(183),i=n(184),a=n(187),o=n(26),s=n(78);function u(t,e,n){var u=typeof t;if(u=="function"){return typeof e=="undefined"?t:o(t,e,n)}if(t==null){return s}if(u=="object"){return r(t)}return typeof e=="undefined"?a(t+""):i(t+"",e)}t.exports=u},function(t,e){function n(t,e,n){if(!n){n=e;e={}}var r=-1,i=n.length;while(++r<i){var a=n[r];e[a]=t[a]}return e}t.exports=n},function(t,e,n){var r=n(74),i=n(191);var a=i(r);t.exports=a},function(t,e,n){var r=n(27),i=n(7),a=n(1),o=n(4);function s(t,e,n){var u=-1,l=t.length,c=-1,f=[];while(++u<l){var d=t[u];if(o(d)&&a(d.length)&&(i(d)||r(d))){if(e){d=s(d,e,n)}var p=-1,h=d.length;f.length+=h;while(++p<h){f[++c]=d[p]}}else if(!n){f[++c]=d}}return f}t.exports=s},function(t,e,n){var r=n(193),i=n(194),a=n(195),o=n(7),s=n(46);var u="[object Arguments]",l="[object Array]",c="[object Function]",f="[object Object]";var d=Object.prototype;var p=d.hasOwnProperty;var h=d.toString;function m(t,e,n,d,m,g,y){var v=o(t),A=o(e),b=l,x=l;if(!v){b=h.call(t);if(b==u){b=f}else if(b!=f){v=s(t)}}if(!A){x=h.call(e);if(x==u){x=f}else if(x!=f){A=s(e)}}var E=b==f||m&&b==c,T=x==f||m&&x==c,w=b==x;if(w&&!(v||E)){return i(t,e,b)}if(m){if(!w&&!(E&&T)){return false}}else{var S=E&&p.call(t,"__wrapped__"),O=T&&p.call(e,"__wrapped__");if(S||O){return n(S?t.value():t,O?e.value():e,d,m,g,y)}if(!w){return false}}g||(g=[]);y||(y=[]);var I=g.length;while(I--){if(g[I]==t){return y[I]==e}}g.push(t);y.push(e);var C=(v?r:a)(t,e,n,d,m,g,y);g.pop();y.pop();return C}t.exports=m},function(t,e,n){var r=n(43);function i(t,e,n,i,a){var o=-1,s=e.length,u=!a;while(++o<s){if(u&&i[o]?n[o]!==t[e[o]]:!(e[o]in t)){return false}}o=-1;while(++o<s){var l=e[o],c=t[l],f=n[o];if(u&&i[o]){var d=typeof c!="undefined"||l in t}else{d=a?a(c,f,l):undefined;if(typeof d=="undefined"){d=r(f,c,a,true)}}if(!d){return false}}return true}t.exports=i},function(t,e,n){var r=n(182),i=n(207),a=n(45),o=n(47),s=n(17);function u(t){var e=o(t),n=e.length;if(!n){return i(true)}if(n==1){var u=e[0],l=t[u];if(a(l)){return function(t){return t!=null&&t[u]===l&&(typeof l!="undefined"||u in s(t))}}}var c=Array(n),f=Array(n);while(n--){l=t[e[n]];c[n]=l;f[n]=a(l)}return function(t){return t!=null&&r(s(t),e,c,f)}}t.exports=u},function(t,e,n){var r=n(43),i=n(45),a=n(17);function o(t,e){if(i(e)){return function(n){return n!=null&&n[t]===e&&(typeof e!="undefined"||t in a(n))}}return function(n){return n!=null&&r(e,n[t],null,true)}}t.exports=o},function(t,e,n){var r=n(176),i=n(74),a=n(186),o=n(7),s=n(1),u=n(8),l=n(4),c=n(46);function f(t,e,n,d,p){if(!u(t)){return t}var h=s(e.length)&&(o(e)||c(e));(h?r:i)(e,function(e,r,i){if(l(e)){d||(d=[]);p||(p=[]);return a(t,i,r,f,n,d,p)}var o=t[r],s=n?n(o,e,r,t,i):undefined,u=typeof s=="undefined";if(u){s=e}if((h||typeof s!="undefined")&&(u||(s===s?s!==o:o===o))){t[r]=s}});return t}t.exports=f},function(t,e,n){var r=n(175),i=n(27),a=n(7),o=n(1),s=n(203),u=n(46),l=n(204);function c(t,e,n,c,f,d,p){var h=d.length,m=e[n];while(h--){if(d[h]==m){t[n]=p[h];return}}var g=t[n],y=f?f(g,m,n,t,e):undefined,v=typeof y=="undefined";if(v){y=m;if(o(m.length)&&(a(m)||u(m))){y=a(g)?g:g&&g.length?r(g):[]}else if(s(m)||i(m)){y=i(g)?l(g):s(g)?g:{}}else{v=false}}d.push(m);p.push(y);if(v){t[n]=c(y,m,f,d,p)}else if(y===y?y!==g:g===g){t[n]=y}}t.exports=c},function(t,e){function n(t){return function(e){return e==null?undefined:e[t]}}t.exports=n},function(t,e){function n(t){if(typeof t=="string"){return t}return t==null?"":t+""}t.exports=n},function(t,e,n){var r=n(177),i=n(179),a=n(7);function o(t,e){return function(n,o,s){var u=e?e():{};o=r(o,s,3);if(a(n)){var l=-1,c=n.length;while(++l<c){var f=n[l];t(u,f,o(f,l,n),n)}}else{i(n,function(e,n,r){t(u,e,o(e,n,r),r)})}return u}}t.exports=o},function(t,e,n){var r=n(26),i=n(196);function a(t){return function(){var e=arguments,n=e.length,a=e[0];if(n<2||a==null){return a}var o=e[n-2],s=e[n-1],u=e[3];if(n>3&&typeof o=="function"){o=r(o,s,5);n-=2}else{o=n>2&&typeof s=="function"?s:null;n-=o?1:0}if(u&&i(e[1],e[2],u)){o=n==3?null:o;n=2}var l=0;while(++l<n){var c=e[l];if(c){t(a,c,o)}}return a}}t.exports=a},function(t,e,n){var r=n(1),i=n(17);function a(t,e){return function(n,a){var o=n?n.length:0;if(!r(o)){return t(n,a)}var s=e?o:-1,u=i(n);while(e?s--:++s<o){if(a(u[s],s,u)===false){break}}return n}}t.exports=a},function(t,e,n){var r=n(17);function i(t){return function(e,n,i){var a=r(e),o=i(e),s=o.length,u=t?s:-1;while(t?u--:++u<s){var l=o[u];if(n(a[l],l,a)===false){break}}return e}}t.exports=i},function(t,e){function n(t,e,n,r,i,a,o){var s=-1,u=t.length,l=e.length,c=true;if(u!=l&&!(i&&l>u)){return false}while(c&&++s<u){var f=t[s],d=e[s];c=undefined;if(r){c=i?r(d,f,s):r(f,d,s)}if(typeof c=="undefined"){if(i){var p=l;while(p--){d=e[p];c=f&&f===d||n(f,d,r,i,a,o);if(c){break}}}else{c=f&&f===d||n(f,d,r,i,a,o)}}}return!!c}t.exports=n},function(t,e){var n="[object Boolean]",r="[object Date]",i="[object Error]",a="[object Number]",o="[object RegExp]",s="[object String]";function u(t,e,u){switch(u){case n:case r:return+t==+e;case i:return t.name==e.name&&t.message==e.message;case a:return t!=+t?e!=+e:t==0?1/t==1/e:t==+e;case o:case s:return t==e+""}return false}t.exports=u},function(t,e,n){var r=n(47);var i=Object.prototype;var a=i.hasOwnProperty;function o(t,e,n,i,o,s,u){var l=r(t),c=l.length,f=r(e),d=f.length;if(c!=d&&!o){return false}var p=o,h=-1;while(++h<c){var m=l[h],g=o?m in e:a.call(e,m);if(g){var y=t[m],v=e[m];g=undefined;if(i){g=o?i(v,y,m):i(y,v,m)}if(typeof g=="undefined"){g=y&&y===v||n(y,v,i,o,s,u)}}if(!g){return false}p||(p=m=="constructor")}if(!p){var A=t.constructor,b=e.constructor;if(A!=b&&("constructor"in t&&"constructor"in e)&&!(typeof A=="function"&&A instanceof A&&typeof b=="function"&&b instanceof b)){return false}}return true}t.exports=o},function(t,e,n){var r=n(44),i=n(1),a=n(8);function o(t,e,n){if(!a(n)){return false}var o=typeof e;if(o=="number"){var s=n.length,u=i(s)&&r(e,s)}else{u=o=="string"&&e in n}if(u){var l=n[e];return t===t?t===l:l!==l}return false}t.exports=o},function(t,e,n){var r=n(17);function i(t,e){t=r(t);var n=-1,i=e.length,a={};while(++n<i){var o=e[n];if(o in t){a[o]=t[o]}}return a}t.exports=i},function(t,e,n){var r=n(73);function i(t,e){var n={};r(t,function(t,r,i){if(e(t,r,i)){n[r]=t}});return n}t.exports=i},function(t,e,n){var r=n(73),i=n(4);var a="[object Object]";var o=Object.prototype;var s=o.hasOwnProperty;var u=o.toString;function l(t){var e;if(!(i(t)&&u.call(t)==a)||!s.call(t,"constructor")&&(e=t.constructor,typeof e=="function"&&!(e instanceof e))){return false}var n;r(t,function(t,e){n=e});return typeof n=="undefined"||s.call(t,n)}t.exports=l},function(t,e,n){var r=n(27),i=n(7),a=n(44),o=n(1),s=n(48),u=n(77);var l=Object.prototype;var c=l.hasOwnProperty;function f(t){var e=s(t),n=e.length,l=n&&t.length;var f=l&&o(l)&&(i(t)||u.nonEnumArgs&&r(t));var d=-1,p=[];while(++d<n){var h=e[d];if(f&&a(h,l)||c.call(t,h)){p.push(h)}}return p}t.exports=f},function(t,e,n){var r=n(202);function i(t){return r(t)&&t!=+t}t.exports=i},function(t,e,n){var r=n(4);var i="[object Number]";var a=Object.prototype;var o=a.toString;function s(t){return typeof t=="number"||r(t)&&o.call(t)==i}t.exports=s},function(t,e,n){var r=n(28),i=n(199);var a="[object Object]";var o=Object.prototype;var s=o.toString;var u=r(u=Object.getPrototypeOf)&&u;var l=!u?i:function(t){if(!(t&&s.call(t)==a)){return false}var e=t.valueOf,n=r(e)&&(n=u(e))&&u(n);return n?t==n||u(t)==n:i(t)};t.exports=l},function(t,e,n){var r=n(178),i=n(48);function a(t){return r(t,i(t))}t.exports=a},function(t,e,n){var r=n(180),i=n(26),a=n(197),o=n(198),s=n(174);var u=s(function(t,e){if(t==null){return{}}return typeof e[0]=="function"?o(t,i(e[0],e[1],3)):a(t,r(e))});t.exports=u},function(t,e,n){var r=n(188);var i=/[.*+?^${}()|[\]\/\\]/g,a=RegExp(i.source);function o(t){t=r(t);return t&&a.test(t)?t.replace(i,"\\$&"):t}t.exports=o},function(t,e){function n(t){return function(){return t}}t.exports=n}]);