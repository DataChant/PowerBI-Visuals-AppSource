/*! For license information please see visual.js.LICENSE.txt */
var PBI_CV_9272D058_BEA0_476A_B090_A712545F92FA;(()=>{var e={1596:(e,t,i)=>{"use strict";i.d(t,{g:()=>r});var n=i(6597),a=i(3520);class r{static id="OKVIZEditorDialog";static size={width:880,height:670};dialogHost;result;constructor(e,t){this.dialogHost=e.host,this.result={},e.element.classList.add("okviz-editor"),globalThis.thisVisual={element:e.element,host:new a.CO(t.sourceHost.colorPalette,t.sourceHost.locale),internalUpdate:!0},a.sv.instance.status=t.updateOptions.diagnostics?a.uG.Enabled:a.uG.Disabled;const i=(0,a.En)(".okviz-editor-dialog",e.element),r=(0,a.En)(".okviz-editor-tabs.tabs",i),o=(0,a.En)(".okviz-editor-tab-content",i);let s=0;for(const e of Object.keys(t.pluginsOptions))if("function"==typeof n[e]){const l=t.activePlugin?t.activePlugin===e:!s,c=new n[e](t.pluginsOptions[e],t.updateOptions);c.on("save",(t=>{this.result.changedSettings||(this.result.changedSettings={}),this.result.changedSettings[e]=t,this.dialogHost.setResult(this.result)})),c.on("download",(e=>{this.result.download=e,this.dialogHost.close(1,this.result)})),c.on("close",(e=>{this.dialogHost.close(e,this.result)}));const u=(0,a.Ok)(e),d=(0,a.En)(`#${u}.tab-content`,o,{attr:{hidden:!l}});l&&c.draw(d),(0,a.En)(".tab"+(l?".active":""),r,{data:{content:`#${u}`,plugin:e},events:{click:e=>{e.preventDefault();const t=e.currentTarget;t.classList.contains("active")||((0,a.op)(".okviz-editor-tabs .tab",i).forEach((e=>e.classList.remove("active"))),(0,a.op)(".okviz-editor-tab-content .tab-content",i).forEach((e=>e.toggle(!1))),t.classList.add("active"),(0,a.Ij)(t.dataset.content,i).toggle(!0),this.result.activePlugin=t.dataset.plugin,this.dialogHost.setResult(this.result)),c.rendered||c.draw(d)}}},c.displayName),s++}}}globalThis.dialogRegistry=globalThis.dialogRegistry||{},globalThis.dialogRegistry[r.id]=r},636:(e,t,i)=>{"use strict";i.d(t,{g:()=>a});var n=i(3520);class a extends n.es{options;pending={};get rendered(){return this._rendered}_rendered=!1;constructor(e,t){super(),this.options=e}draw(e){this._rendered=!0}save(){const e=[].concat(...Object.values(this.pending));this.trigger("save",e)}download(e){this.trigger("download",e)}close(e=1){this.trigger("close",e)}showError(e,t){n.eP.SHOW({id:"editor-error",text:e,icon:"alert",position:"top",hideAfter:10}),n.sv.ERROR(e,t)}}},6597:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Calc:()=>a.ot,ColorRulesEnumerator:()=>a.a8,ColorRulesManager:()=>a.mA,ColorScaleType:()=>a.qy,Comparison:()=>a.Og,ConditionMode:()=>a.rK,EditorPlugin:()=>n.g,Operator:()=>a.ao,TemplateManager:()=>r.WS,TemplateType:()=>r.ey,colorScaleColor:()=>a.CI,convertValue:()=>a.oX,defaultColorScale:()=>a.KG,defaultColorScaleCondition:()=>a.y,defaultCondition:()=>a.ii,defaultRule:()=>a.MB,defaultRuleBaseColor:()=>a.i$,defaultRuleLevel:()=>a.oD,extendTemplate:()=>r.qW,fixColorScaleColor:()=>a.Yv,fixColorScaleLevel:()=>a.oB,fixDomain:()=>a.KA,generalizeTemplate:()=>r.gp,generateTemplate:()=>r.S2,getColorScaleDisplayCondition:()=>a.Km,getColorScaleGradient:()=>a.IG,getColorScaleRange:()=>a.Uz,getColumnFromRuleField:()=>a.GM,getVisualObjectInstancesFromTemplate:()=>r.c5,mergeSettings:()=>r.wf,removeRuleDuplicates:()=>a.ec,ruleColorScaleIsValid:()=>a.Ux,ruleConditionsAreValid:()=>a.Qx,ruleIsValid:()=>a._E,ruleName:()=>a.Mr});var n=i(636),a=i(796),r=i(2624)},3711:(e,t,i)=>{"use strict";i.d(t,{G:()=>r});var n=i(1596),a=i(3520);class r extends a.es{options;editControl;scale=1;editMode=!1;controlDisabled=!1;controlPinned=!1;updateOptions;constructor(e){super(),this.options=e,void 0!==this.options.title&&null!==this.options.title||(this.options.title="Advanced Editor"),this.options.icon||(this.options.icon="edit")}hasPlugin(e){return(0,a.QN)(this.options.plugins,e)}get envSupported(){return thisVisual.host.hostCapabilities.allowModalDialog}update(e,t,i){this.envSupported&&Object.keys(this.options.plugins).length&&e&&e.dataViews&&e.dataViews[0]?(this.editMode=0!=e.viewMode,this.controlDisabled=(0,a.Kk)(e.dataViews[0].metadata.objects,"editor","hide",!1),this.controlPinned=this.editMode&&(0,a.Kk)(e.dataViews[0].metadata.objects,"editor","pin",!1),this.updateOptions={visualUpdateOptions:e,settings:t,diagnostics:i},a.eP.UPDATE(e),this.scale=e.viewport.scale,this.toggleControl(this.editMode),1==e.editMode&&(this.show(),thisVisual.host.switchFocusModeState(!1))):this.toggleControl(!1)}toggleControl(e){this.envSupported&&this.editMode&&(e&&!this.controlDisabled||this.controlPinned)?(this.editControl||(this.editControl=(0,a.En)(`.okviz-editor-btn.icon-${this.options.icon}.show-on-hover`,thisVisual.element,{attr:{title:this.options.title},events:{click:e=>{e.preventDefault(),this.show()}}})),this.editControl.toggleClass("pinned",this.controlPinned),this.editControl.style.transform=`scale(${1/this.scale})`):(this.editControl&&this.editControl.remove(),this.editControl=null)}show(){if(!this.envSupported)return;this.trigger("open");const e={locale:thisVisual.host.locale,colorPalette:thisVisual.host.colorPalette};thisVisual.host.openModalDialog(n.g.id,{title:this.options.title,actionButtons:[1,2],size:n.g.size},{activePlugin:this.options.activePlugin,pluginsOptions:this.options.plugins,updateOptions:this.updateOptions,sourceHost:e}).then((e=>{if(e){const t=e.resultState;if(this.trigger("close",e.actionId),t.activePlugin&&(this.options.activePlugin=t.activePlugin),1==e.actionId){if(t.changedSettings){const e=[],i="editor";for(const n of Object.keys(t.changedSettings))t.changedSettings[n].forEach((e=>{a.c8.BATCH(e,i)})),e.push(n);this.trigger("beforeChange",{changedPlugins:e,batchId:i}),a.c8.BATCH_SAVE(i,!1)}t.download&&thisVisual.host.downloadService.exportVisualsContent(t.download.content,t.download.fileName,t.download.fileType,t.download.fileDescription)}}})).catch((e=>{3==e.error&&a.eP.SHOW({id:"dialog-box-disabled-editor",icon:"alert",iconAlign:"top",title:"Dialogs are disabled",text:"It appears you have disabled dialogs in this session, so the editor cannot be displayed. Close and reopen the report to restore the previous behavior.",zIndex:99999999})}))}}},5768:(e,t,i)=>{"use strict";i.d(t,{GW:()=>n.G,WS:()=>a.TemplateManager,a8:()=>a.ColorRulesEnumerator,qW:()=>a.extendTemplate});var n=i(3711),a=i(6597)},2844:(e,t,i)=>{"use strict";i.d(t,{a:()=>o});var n=i(44),a=i(4140),r=i(3520);class o{rules=[];columnsByRole={};update(e,t){const i=e&&e.dataViews&&e.dataViews[0];i&&(this.columnsByRole=(0,r.o1)(i.metadata.columns),i.metadata.objects&&(t&&Array.isArray(t)||(t=(0,r.Kk)(i.metadata.objects,"internal","colorRules",[])))),t&&Array.isArray(this.rules)||(t=[]),this.rules=t}getColor(e,t,i,r,o=n.oD){const s="string"==typeof i;let l=s?{solid:{color:i}}:i;if(this.rules.length)for(let i=0;i<this.rules.length;i++){const s=this.rules[i];if(s.enabled&&s.property==e&&!0===(0,a._E)(s,this.columnsByRole)){let e=!1;if("colorScale"==s.mode){const i=(0,a.GM)(s.colorScales.field,this.columnsByRole);if(i)for(const n of Object.keys(t))if(n==i.queryName){const i=this.getColorScaleColor(t[n],t,s,r,o);i&&i.solid&&i.solid.color&&(l=i),e=!0;break}}else if("conditions"==s.mode){if(void 0!==o&&s.conditions.level&&s.conditions.level!=n.oD&&s.conditions.level!=o)continue;e=s.conditions.operator==n.ao.And;for(const i of Object.keys(s.conditions.conditions)){const a=this.conditionApplies(t,s.conditions.conditions[i],r);if(a&&s.conditions.operator==n.ao.Or){e=!0;break}if(!a&&s.conditions.operator==n.ao.And){e=!1;break}}e&&s.conditions.color&&(l={solid:{color:s.conditions.color}})}if(e&&s.stop)break}}return l?s?l.solid.color:l:null}getColorScaleColor(e,t,i,r,o){i.colorScales.advanced||(o=n.oD);let s=r?e.highlightValue:e.value;if(null===s){if("ignore"==i.colorScales.blank)return null;if("color"==i.colorScales.blank)return i.colorScales.blankColor?{solid:{color:i.colorScales.blankColor}}:null;"zero"==i.colorScales.blank&&(s=0)}const l=i.colorScales.scalesByLevel[o],c={};for(const e of Object.keys(t))c[e]=(0,a.KA)(t[e].domain,i);const u=(0,a.Uz)(l,i,(0,a.KA)(e.domain,i),c,this.columnsByRole);return s>u.max?{solid:{color:l.topColor}}:s<u.min?{solid:{color:l.bottomColor}}:(0,a.CI)(s,u.min,(0,a.Yv)("min",l),u.max,(0,a.Yv)("max",l),u.center,l.center.color,i.colorScales.type==n.qy.Logarithmic)}conditionApplies(e,t,i){let r=null;for(const n of Object.keys(e)){const o=(0,a.GM)(t.field,this.columnsByRole);if(o&&n==o.queryName){r=i?e[n].highlightValue:e[n].value;break}}let o=null;if(t.mode==n.rK.FieldValue||t.mode==n.rK.Calc){const r=(0,a.GM)(t.fieldValue,this.columnsByRole);if(r){for(const t of Object.keys(e))if(t==r.queryName){o=i?e[t].highlightValue:e[t].value;break}t.mode==n.rK.Calc&&(t.calc==n.ot.Minus?o-=t.value:t.calc==n.ot.Divide?o/=t.value:t.calc==n.ot.Times?o*=t.value:o+=t.value)}}else o=t.value;return t.comparison==n.Og.LessThan?r<o:t.comparison==n.Og.LessThanOrEqualTo?r<=o:t.comparison==n.Og.EqualTo?r==o:t.comparison==n.Og.DifferentFrom?r!=o:t.comparison==n.Og.GreaterThan?r>o:t.comparison==n.Og.GreaterThanOrEqualTo?r>=o:t.comparison==n.Og.Between?r>=o&&r<=t.value2:t.comparison==n.Og.Blank?null===r:t.comparison==n.Og.NotBlank&&null!==r}getLegendDataPoints(e=n.oD){const t=[];if(this.rules)for(let i=0;i<this.rules.length;i++){const n=this.rules[i];if(n.enabled&&n.legend&&!0===(0,a._E)(n,this.columnsByRole))if("colorScale"==n.mode){const i=(0,a.GM)(n.colorScales.field,this.columnsByRole);if(i){const r=thisVisual.host.createSelectionIdBuilder().withMeasure(i.queryName).createSelectionId(),o=n.colorScales.scalesByLevel[e];o.min.color&&t.push({label:o.max.color?"":n.displayName,color:o.min.color,selected:!1,identity:r}),o.center.color&&t.push({label:"",color:o.center.color,selected:!1,identity:r}),o.max.color&&t.push({label:n.displayName,color:o.max.color,selected:!1,identity:r}),o.bottomColor&&t.push({label:`${n.displayName}: < ${(0,a.Km)(o.min,i.format,this.columnsByRole)}`,color:o.bottomColor,selected:!1,identity:r}),o.topColor&&t.push({label:`${n.displayName}: > ${(0,a.Km)(o.max,i.format,this.columnsByRole)}`,color:o.topColor,selected:!1,identity:r})}}else if("conditions"==n.mode){const e=(0,a.GM)(n.conditions.conditions[0].field,this.columnsByRole);e&&t.push({label:n.displayName,color:n.conditions.color,selected:!1,identity:thisVisual.host.createSelectionIdBuilder().withMeasure(e.queryName).createSelectionId()})}}return t}}},796:(e,t,i)=>{"use strict";i.d(t,{CI:()=>c.CI,GM:()=>c.GM,IG:()=>c.IG,KA:()=>c.KA,KG:()=>l.KG,Km:()=>c.Km,MB:()=>l.MB,Mr:()=>c.Mr,Og:()=>l.Og,Qx:()=>c.Qx,Ux:()=>c.Ux,Uz:()=>c.Uz,Yv:()=>c.Yv,_E:()=>c._E,a8:()=>u.a,ao:()=>l.ao,ec:()=>c.ec,i$:()=>l.i$,ii:()=>l.ii,mA:()=>d,oB:()=>c.oB,oD:()=>l.oD,oX:()=>c.oX,ot:()=>l.ot,qy:()=>l.qy,rK:()=>l.rK,y:()=>l.y});var n=i(6648),a=i(4312),r=i.n(a),o=i(636),s=i(3520),l=i(44),c=i(4140),u=i(2844);class d extends o.g{options;updateOptions;rules=[];columnsByRole={};levels={};activeRule;activeLevel=l.oD;colorScaleSlider;ruleListElement;ruleDataElement;ruleWarningElement;baseColor=l.i$;get displayName(){return"Color Rules"}getLevelName(e){return e==l.oD?Object.keys(this.levels).length>1?this.options.defaultLevelName||"Any Level":"Color Scale":(0,s.m0)(e)}constructor(e,t){super(e,t),this.options=e,this.updateOptions=t,new s.eM(thisVisual.host.colorPalette);const i=this.updateOptions.visualUpdateOptions&&this.updateOptions.visualUpdateOptions.dataViews&&this.updateOptions.visualUpdateOptions.dataViews[0];if(i&&(this.columnsByRole=(0,s.o1)(i.metadata.columns),this.levels=this.generateLevels(i)),e.baseColorProperty&&t.settings){const[i,n]=e.baseColorProperty.split(".");(0,s.QN)(t.settings,i)&&(0,s.QN)(t.settings[i],n)&&t.settings[i][n]&&(0,s.QN)(t.settings[i][n],"solid")&&(this.baseColor=t.settings[i][n].solid.color)}this.rules=t.settings&&(0,s.QN)(t.settings,"internal")&&(0,s.QN)(t.settings.internal,"colorRules")&&Array.isArray(t.settings.internal.colorRules)?(0,c.ec)(t.settings.internal.colorRules):[]}generateLevels(e){if(this.options.levels)return this.options.levels;const t={[l.oD]:{}};return e.matrix||e.categorical&&e.categorical.values&&e.categorical.values.forEach((e=>{t[l.oD][e.source.queryName]=(0,s.m2)(e)})),t}updateColorScaleSlider(e,t){const i=(0,s.Ij)(".colorScale-slider"),n=(0,c.Ux)(e,this.columnsByRole);if(!0===n){i.toggle(!0);let o={min:0,center:50,max:100},u=o.min,d=o.max,h=null;const g=e.colorScales.scalesByLevel[t],p=(0,c.GM)(e.colorScales.field,this.columnsByRole),f=this.levels[t];if((0,s.QN)(f,p.queryName)){const t=(0,c.KA)(f[p.queryName],e);u=t.min,d=t.max,o=(0,c.Uz)(g,e,t,f,this.columnsByRole),h=[{to:i=>this.colorScaleSliderTooltips(e,"min",i,t,p)},{to:i=>this.colorScaleSliderTooltips(e,"max",i,t,p)}]}this.colorScaleSlider?this.colorScaleSlider.updateOptions({start:[o.min,o.max],range:{min:u,max:d},pips:{mode:a.PipsMode.Count,values:2,density:10,stepped:!0,format:this.colorScaleSliderPipsFormatter(u,p)},tooltips:h},!0):(this.colorScaleSlider=r().create(i,{start:[o.min,o.max],connect:[!0,!0,!0],range:{min:u,max:d},pips:{mode:a.PipsMode.Count,values:2,density:10,stepped:!0,format:this.colorScaleSliderPipsFormatter(u,p)},animate:!1,tooltips:h}),this.colorScaleSlider.on("slide",((t,i,n)=>this.slideColorScaleSlider(e,n))),this.colorScaleSlider.on("change",(()=>this.saveRules()))),i.toggleAttr("disabled",!n),(0,s.op)(".noUi-origin",i).forEach(((e,t)=>{0==t?e.toggleAttr("disabled",g.min.mode==l.rK.FieldValue||g.min.mode==l.rK.Calc):1==t&&e.toggleAttr("disabled",g.max.mode==l.rK.FieldValue||g.max.mode==l.rK.Calc)})),this.updateColorScaleSliderBands(g,u,d)}else this.colorScaleSlider&&(this.colorScaleSlider.destroy(),this.colorScaleSlider=null),i.toggle(!1)}slideColorScaleSlider(e,t){const i=(0,c.GM)(e.colorScales.field,this.columnsByRole);if(i){const n=this.levels[this.activeLevel],a=(0,c.KA)(n[i.queryName],e),r=e.colorScales.type==l.qy.Logarithmic;let o=t[0];e.colorScales.scalesByLevel[this.activeLevel].min.mode==l.rK.Percentage?o=(0,c.oX)(o,a.min,a.max,"perc",r,!0):o!=a.min&&o!=a.max&&(o=Math.round(o));let u=t[1];e.colorScales.scalesByLevel[this.activeLevel].max.mode==l.rK.Percentage?u=(0,c.oX)(u,a.min,a.max,"perc",r,!0):u!=a.min&&u!=a.max&&(u=Math.round(u)),e.colorScales.scalesByLevel[this.activeLevel].min.value=o,null!=o&&((0,s.Ij)(`#tab-content-colorScale-${this.activeLevel} .rule-colorScale-col-min .rule-field-conditions-value`).value=String(o)),e.colorScales.scalesByLevel[this.activeLevel].max.value=u,null!==u&&((0,s.Ij)(`#tab-content-colorScale-${this.activeLevel} .rule-colorScale-col-max .rule-field-conditions-value`).value=String(u)),this.updateColorScaleSliderBands(e.colorScales.scalesByLevel[this.activeLevel],a.min,a.max)}}colorScaleSliderTooltips(e,t,i,n,a){const r=(0,c.oX)(i,n.min,n.max,"perc",e.colorScales.type==l.qy.Logarithmic),o=e.colorScales.scalesByLevel[this.activeLevel][t].mode==l.rK.Percentage,s=null!==r&&a.aggregates;return`\n            <span class="abs ${o?"inactive":""}">\n                ${this.colorScaleSliderPipsFormatter(n.min,a).to(i)}\n            </span>\n            ${s?`<br>\n            <span class="perc ${o?"":"inactive"}">\n                ${r}%\n            </span>`:""}\n        `}colorScaleSliderPipsFormatter(e,t){return{to:i=>s.eo.instance.create({format:t.format,formatSingleValues:!1,value:e,precision:0,displayUnitSystemType:0,allowFormatBeautification:!0}).format(i)}}updateColorScaleSliderBands(e,t,i){(0,s.op)(".colorScale-slider .noUi-connect").forEach(((n,a)=>{0==a?n.style.background=e.bottomColor?e.bottomColor:"none":1==a?n.style.background=(0,c.IG)(e,t,i):2==a&&(n.style.background=e.topColor?e.topColor:"none")}))}updateColorScaleRelativeDomain(e){if("colorScale"==e.mode&&e.colorScales.field){const t=(0,s.Ij)(".relative-scale-switch input[type=checkbox]"),i=(0,c.GM)(e.colorScales.field,this.columnsByRole);i?i.aggregates?t.disabled=!1:(t.checked=!1,t.disabled=!0,e.colorScales.relative=!1,this.saveRules()):t.disabled=!0}}draw(e){super.draw(e),this.drawRules(e),n.cp.create(this.ruleListElement,{draggable:"li",handle:".rule-drag",filter:".unsortable",direction:"vertical",onEnd:e=>{this.rules.splice(e.newIndex,0,this.rules.splice(e.oldIndex,1)[0]),this.saveRules()}}),this.listen(),this.rules.length&&this.selectRule(this.rules[this.rules.length-1])}listen(){document.addLiveEventListener("click",".rules-list li",((e,t)=>{const i=this.rules.find((e=>e.id==t.dataset.rule));i&&this.selectRule(i)})),document.addLiveEventListener("change",".rule-data input, .rule-data select",((e,t)=>{t.classList.contains("ignore-change")||this.changeInput([t])})),s.eM.instance.on("change",(e=>this.changeColor(e))),document.addLiveEventListener("change",".rule-field-title",((e,t)=>{(0,s.Ij)(`.rules-list li[data-rule="${this.activeRule.id}"] .rule-title`).innerText=t.value})),document.addLiveEventListener("change",".rule-field-property",((e,t)=>{(0,s.Ij)(`.rules-list li[data-rule="${this.activeRule.id}"] .rule-property`).innerText=t.options[t.selectedIndex].text})),document.addLiveEventListener("change",".rule-field-mode",((e,t)=>{(0,s.op)(".rule-mode").forEach((e=>e.toggle(!1))),(0,s.Ij)(`.rule-mode-${t.value}`).toggle(!0)})),document.addLiveEventListener("change",".rule-field-enable input",((e,t)=>{this.activeRule.enabled=t.checked,this.saveRules()})),document.addLiveEventListener("click",".rule-delete",((e,t)=>{if(e.preventDefault(),t.getAttribute("disabled"))return;const i=t.closest("li").dataset.rule;this.deleteRule(i)})),document.addLiveEventListener("click",".rule-add",(e=>{e.preventDefault(),this.addRule()})),document.addLiveEventListener("change",".rule-field-colorScale-blank",((e,t)=>{(0,s.Ij)(".blank-color").toggle("color"==t.value)})),document.addLiveEventListener("change",".rule-mode-colorScale input, .rule-mode-colorScale select",(()=>{this.updateColorScaleSlider(this.activeRule,this.activeLevel)})),document.addLiveEventListener("change",".rule-field-colorScale-field",(()=>{this.updateColorScaleRelativeDomain(this.activeRule)})),document.addLiveEventListener("click",".levels-tabs .tab",((e,t)=>{e.preventDefault(),this.changeLevel(t)})),document.addLiveEventListener("change",".advanced-switch input",((e,t)=>{const i=t.checked;(0,s.op)(".levels-tabs .tab").forEach(((e,t)=>{e.toggle(0==t?!i:i),(0==t&&!i||1==t&&i)&&this.changeLevel(e)}))})),document.addLiveEventListener("click",".rule-conditions-add",(e=>{e.preventDefault(),this.addCondition()})),document.addLiveEventListener("click",".rule-condition-delete",((e,t)=>{e.preventDefault(),this.deleteCondition(t)})),document.addLiveEventListener("change",".rule-conditions-field-operator",((e,t)=>{(0,s.op)(".rule-conditions-field-operator").forEach((e=>e.value=t.value))})),document.addLiveEventListener("change",".rule-field-conditions-mode",((e,t)=>this.changeConditionMode(t))),document.addLiveEventListener("change",".rule-field-conditions-comparison",((e,t)=>this.changeConditionComparison(t)))}changeColor(e){this.updateRuleProperty(this.activeRule,e.id,e.color),this.updateRuleStatus(this.activeRule),this.saveRules(),this.updateColorScaleSlider(this.activeRule,this.activeLevel)}addCondition(){const e=(0,l.ii)(this.activeRule);this.activeRule.conditions.conditions[e.id]=e,this.drawRuleCondition(this.activeRule,e,(0,s.Ij)(".rule-mode-conditions ul")),this.updateRuleStatus(this.activeRule),this.saveRules()}deleteCondition(e){const t=e.closest("li").dataset.condition;(0,s.Ij)(`.rule-mode-conditions li[data-condition="${t}"]`).remove(),delete this.activeRule.conditions.conditions[t],this.updateRuleStatus(this.activeRule),this.saveRules()}changeConditionMode(e){const t=Number(e.value),i=t==l.rK.Value||t==l.rK.Percentage?"value":t==l.rK.FieldValue?"fieldValue":t==l.rK.Calc?"calc":"",n=e.closest("li");(0,s.op)(".rule-field-conditions-fieldValue, .rule-field-conditions-value, .rule-field-conditions-calc",n).forEach((e=>e.toggle(t==l.rK.Calc))),(0,s.Ij)(`.rule-field-conditions-${i}`,n).toggle(!0);const a=(0,c.GM)(this.activeRule.colorScales.field,this.columnsByRole),r=a?(0,c.KA)(this.levels[this.activeLevel][a.queryName],this.activeRule):null,o=r?r.min:null,u=r?r.max:null,d=this.activeRule.colorScales.type==l.qy.Logarithmic,h=(0,s.Ij)(".rule-field-conditions-value",n),g=h.value,p=Number(e.dataset.prev),f=""!=g&&r&&p!=l.rK.FieldValue&&p!=l.rK.Calc;t==l.rK.Value?(h.setAttribute("min",String(o)),h.setAttribute("max",String(u)),h.value=f?String((0,c.oX)(Number(g),o,u,"abs",d)):""):t==l.rK.Percentage?(h.setAttribute("min","0"),h.setAttribute("max","100"),h.value=f?String((0,c.oX)(Number(g),o,u,"perc",d)):""):(h.removeAttribute("min"),h.removeAttribute("max"),h.value="0"),e.dataset.prev=String(t),this.changeInput([e,h])}changeConditionComparison(e){const t=Number(e.value),i=e.closest("li");(0,s.op)(".rule-conditions-col-value, .rule-conditions-col-mode",i).forEach((e=>e.toggle(!(t==l.Og.Blank||t==l.Og.NotBlank)))),(0,s.op)(".rule-conditions-col-value2, .rule-conditions-col-between",i).forEach((e=>e.toggle(t==l.Og.Between))),t==l.Og.Between&&((0,s.Ij)(".rule-field-conditions-mode",i).value=String(l.rK.Value),(0,s.op)(".rule-field-conditions-fieldValue, .rule-field-conditions-calc, .rule-conditions-col-mode",i).forEach((e=>e.toggle(!1))),(0,s.Ij)(".rule-field-conditions-value",i).toggle(!0))}changeInput(e){let t=!1;e.forEach((e=>{if(!e.hasAttribute("name"))return;const i=e.getAttribute("name"),n=e.getAttribute("type"),a="checkbox"==n?e.checked:"number"==n?null!==e.value&&""!==e.value?parseFloat(e.value):null:e.value;this.updateRuleProperty(this.activeRule,i,a),t=!0})),t&&(this.updateRuleStatus(this.activeRule),"colorScale"==this.activeRule.mode&&this.updateColorScaleSlider(this.activeRule,this.activeLevel),this.saveRules())}changeLevel(e){e.classList.contains("active")||((0,s.op)(".levels-tabs .tab.active").forEach((e=>e.classList.remove("active"))),(0,s.op)(".levels-tabs-content .tab-content-colorScale").forEach((e=>e.toggle(!1))),e.classList.add("active"),(0,s.Ij)(e.dataset.content).toggle(!0),this.activeLevel=e.dataset.value,this.updateColorScaleSlider(this.activeRule,this.activeLevel),this.updateRuleStatus(this.activeRule))}updateRuleProperty(e,t,i){let n=e;const a=t.split(".");for(let e=0;e<a.length-1;e++)null==n[a[e]]&&(n[a[e]]={}),n=n[a[e]];const r=a.length-1;if(a[r].indexOf("|")>=0){const e=a[r].split("|"),t=String(i).split("|");for(let i=0;i<e.length;i++)n[e[i]]=(0,s.QN)(t,i)?isNaN(Number(t[i]))?t[i]:parseFloat(t[i]):""}else n[a[r]]=i}selectRule(e){(0,s.op)("li.active",this.ruleListElement).forEach((e=>e.classList.remove("active"))),(0,s.Ij)(`li[data-rule="${e.id}"]`,this.ruleListElement).classList.add("active"),this.activeRule=e;const t=Object.keys(this.levels);this.activeLevel=t[e.colorScales.advanced&&t.length>1?1:0],this.drawRuleData(e),this.toggleRuleWarning((0,c._E)(e,this.columnsByRole))}drawRules(e){const t=(0,s.En)(".dialog-flex.color-rules-manager",e,[(0,s.En)(".dialog-col.rules-list",[(0,s.En)("ul"),(0,s.En)("button.rule-add.btn.icon.icon-add","Add Rule")]),(0,s.En)(".dialog-col.rule-data")]);this.ruleListElement=(0,s.Ij)(".rules-list ul",t),this.ruleDataElement=(0,s.Ij)(".rule-data",t),this.rules.forEach((e=>this.drawRule(e))),this.drawRuleDataPlaceholder()}drawRule(e){const t=this.options.properties[e.property]||"[Invalid]";(0,s.En)("li",this.ruleListElement,{data:{rule:e.id},attr:{disabled:!e.enabled}},[(0,s.En)(".rule-drag.icon.icon-sort",{attr:{title:"Re-order",disabled:e.locked&&(e.locked.resort||e.locked.inclusive&&!1!==e.locked.resort)}}),(0,s.En)(".rule-color"),(0,s.En)("div",[(0,s.En)(".rule-title",(0,c.Mr)(e,this.columnsByRole)),(0,s.En)(".rule-property",t)]),(0,s.En)(".rule-enabler",[(0,s._6)(".rule-field-enable",null,{checked:e.enabled,disabled:e.locked&&(e.locked.enabled||e.locked.inclusive&&!1!==e.locked.enabled)}),(0,s.En)(".rule-invalid.icon.icon-alert",{attr:{title:"This rule contains errors",hidden:!0}})]),(0,s.En)("a.control.rule-delete.icon.icon-close",{attr:{title:"Delete Rule",hidden:e.locked&&(e.locked.delete||e.locked.inclusive&&!1!==e.locked.delete)}}),(0,s.En)(".rule-lock.icon.icon-lock",{attr:{title:"This rule is locked.",hidden:!(e.locked&&(e.locked.delete||e.locked.inclusive&&!1!==e.locked.delete))}})]),this.updateRuleStatus(e)}drawRuleData(e){this.emptyRuleData();const t=(0,s.En)(".rule-options",this.ruleDataElement,[(0,s.En)(".dialog-field.dialog-flex",[(0,s.En)(".dialog-col",[(0,s.En)("label","Rule Type"),(0,s.En)("select.rule-field-mode",{attr:{name:"mode",disabled:e.locked&&(e.locked.mode||e.locked.inclusive&&!1!==e.locked.mode)},list:[{value:"colorScale",text:"Color Scale",selected:"colorScale"==e.mode},{value:"conditions",text:"Conditions",selected:"conditions"==e.mode}]})]),(0,s.En)(".dialog-col.rule-col-title",[(0,s.En)("label","Rule Name"),(0,s.En)("input.rule-field-title",{attr:{type:"text",name:"displayName",maxlength:50,value:(0,c.Mr)(e,this.columnsByRole),disabled:e.locked&&(e.locked.displayName||e.locked.inclusive&&!1!==e.locked.displayName)}})]),(0,s.En)(".dialog-col",[(0,s.En)("label","Apply to"),(0,s.En)("select.rule-field-property",{attr:{name:"property",required:!0,disabled:e.locked&&(e.locked.property||e.locked.inclusive&&!1!==e.locked.property)},list:Object.keys(this.options.properties).map((t=>({value:t,text:this.options.properties[t],selected:e.property==t})))})])]),(0,s.En)(".dialog-flex",[(0,s.En)(".dialog-col",{attr:{hidden:!this.options.hasLegend}},[(0,s._6)(".rule-field-legend",null,{name:"legend",checked:e.legend,disabled:e.locked&&(e.locked.legend||e.locked.inclusive&&!1!==e.locked.legend)},"Show in Legend")]),(0,s.En)(".rule-info.rule-locked",{attr:{hidden:!e.locked}},[(0,s.En)(".icon.icon-lock"),(0,s.En)("div","This rule is partially locked.")]),(0,s.En)("div",{attr:{hidden:!!e.locked}},[(0,s._6)(".rule-field-stop",null,{name:"stop",checked:e.stop,disabled:e.locked&&(e.locked.stop||e.locked.inclusive&&!1!==e.locked.stop)},"Stop other Rules")])])]);this.drawRuleColorScale(e,t),this.drawRuleConditions(e,t),this.ruleWarningElement=(0,s.En)(".rule-info.rule-warning",t,{attr:{hidden:!0}},[(0,s.En)(".icon.icon-alert"),(0,s.En)(".message")])}drawRuleColorScale(e,t){const[i,n]=this.domRuleColorScaleTabs(e),a=Object.keys(this.levels);(0,s.En)(".rule-mode.rule-mode-colorScale",t,{attr:{hidden:"colorScale"!=e.mode}},[(0,s.En)(".dialog-field.dialog-flex",[(0,s.En)(".dialog-col",[(0,s.En)("label","Field"),(0,s.En)("select.rule-field-colorScale-field",{attr:{name:"colorScales.field.role|roleIndex",required:!0,disabled:e.locked&&(e.locked.colorScale&&e.locked.colorScale.field||e.locked.inclusive&&(!e.locked.colorScale||!1!==e.locked.colorScale.field))},list:this.domColumnOptions(e.colorScales.field)})]),(0,s.En)(".dialog-col",[(0,s.En)("label","Scale Type"),(0,s.En)("select.rule-field-colorScale-type",{attr:{name:"colorScales.type",type:"number",disabled:e.locked&&(e.locked.colorScale&&e.locked.colorScale.type||e.locked.inclusive&&(!e.locked.colorScale||!1!==e.locked.colorScale.type))},list:[{value:l.qy.Linear,text:"Linear",selected:e.colorScales.type==l.qy.Linear},{value:l.qy.Logarithmic,text:"Logarithmic",selected:e.colorScales.type==l.qy.Logarithmic}]})]),(0,s.En)(".dialog-col.rule-col-colorScale-blank",[(0,s.En)("label","Blank Values"),(0,s.En)(".dialog-flex",[(0,s.En)("select.rule-field-colorScale-blank dialog-col",{attr:{name:"colorScales.blank",disabled:e.locked&&(e.locked.colorScale&&e.locked.colorScale.blank||e.locked.inclusive&&(!e.locked.colorScale||!1!==e.locked.colorScale.blank))},list:[{value:"ignore",text:"Ignore",selected:"ignore"==e.colorScales.blank},{value:"zero",text:"Treat as Zero",selected:"zero"==e.colorScales.blank},{value:"color",text:"Set Color",selected:"color"==e.colorScales.blank}]}),(0,s.En)("span.blank-color.dialog-col",{attr:{hidden:"color"!=e.colorScales.blank}},[s.eM.DOM({id:"colorScales.blankColor",disabled:e.locked&&(e.locked.colorScale&&e.locked.colorScale.blank||e.locked.inclusive&&(!e.locked.colorScale||!1!==e.locked.colorScale.blank)),color:e.colorScales.blankColor})])])])]),(0,s.En)(a.length<2?"label":".tabs.levels-tabs",[(0,s._6)(".advanced-switch",null,{name:"colorScales.advanced",checked:e.colorScales.advanced,hidden:a.length<2,disabled:e.locked&&(e.locked.colorScale&&e.locked.colorScale.advanced||e.locked.inclusive&&(!e.locked.colorScale||!1!==e.locked.colorScale.advanced))},"Multiple Scales"),(0,s.En)("div",i)]),(0,s.En)(".dialog-field.levels-tabs-content",n),(0,s.En)(".relative-scale-switch-container",{style:{display:this.options.hideRelativeDomain?"none":null}},[(0,s._6)(".relative-scale-switch",null,{name:"colorScales.relative",checked:e.colorScales.relative,disabled:e.locked&&(e.locked.colorScale&&e.locked.colorScale.relative||e.locked.inclusive&&(!e.locked.colorScale||!1!==e.locked.colorScale.relative)),title:"Change how the start of the scale is calculated. When enabled, the first data point of the column is considered the starting point. Otherwise the scale starts from 0 if contains positive values only, or ends to 0 if contains negative values only. It cannot be used with measures."},"Relative Domain")]),(0,s.En)(".colorScale-preview-container.dialog-flex",[(0,s.En)(".colorScale-slider"),(0,s.En)(".colorScale-slider-warning.icon.icon-alert",{attr:{hidden:!0}})])]),this.colorScaleSlider&&(this.colorScaleSlider.destroy(),this.colorScaleSlider=null),this.updateColorScaleRelativeDomain(e),this.updateColorScaleSlider(e,this.activeLevel)}domRuleColorScaleTabs(e){const t=[],i=[];return Object.keys(this.levels).forEach(((n,a)=>{const r=this.activeLevel==n;(0,c.oB)(e,n,this.baseColor),t.push((0,s.En)(".tab"+(r?".active":""),{attr:{hidden:e.colorScales.advanced&&0==a||!e.colorScales.advanced&&a>0},data:{content:`#tab-content-colorScale-${n}`,value:n}},this.getLevelName(n))),i.push((0,s.En)(`ul#tab-content-colorScale-${n}.tab-content-colorScale`,{attr:{hidden:!r}},[this.domColorScaleCondition(e,n,"min"),this.domColorScaleCondition(e,n,"center"),this.domColorScaleCondition(e,n,"max")]))})),[t,i]}domColumnOptions(e){const t=[{value:"",text:"(Choose a field)"}],i=e&&e.roleIndex?e.roleIndex:0;return this.options.roles.forEach((n=>{if((0,s.QN)(this.columnsByRole,n))for(let a=0;a<this.columnsByRole[n].length;a++){const r=this.columnsByRole[n][a],o=e&&e.role==n&&i==a;t.push({value:`${n}|${a}`,text:r.displayName,selected:o})}})),t}domColorScaleCondition(e,t,i){const n=e.colorScales.scalesByLevel[t],a=e.locked&&(e.locked.colorScale&&e.locked.colorScale[i]&&e.locked.colorScale[i].color||e.locked.inclusive&&(!e.locked.colorScale||!e.locked.colorScale[i]||!1!==e.locked.colorScale[i].color)),r=e.locked&&(e.locked.colorScale&&e.locked.colorScale[i]&&e.locked.colorScale[i].mode||e.locked.inclusive&&(!e.locked.colorScale||!e.locked.colorScale[i]||!1===e.locked.colorScale[i].mode));return(0,s.En)(`li.dialog-flex.dialog-row.rule-colorScale-col-${i}`,{data:{type:i}},[(0,s.En)(".dialog-col-label","min"==i?"Minimum":"max"==i?"Maximum":"Center"),s.eM.DOM({id:`colorScales.scalesByLevel.${t}.${i}.color`,color:(0,c.Yv)(i,n),disabled:a,customColors:[thisVisual.host.colorPalette.positive.value,(0,s.Oc)(.45,thisVisual.host.colorPalette.positive.value)]}),(0,s.En)(".dialog-col.rule-conditions-col-mode",[(0,s.En)("select.rule-field-conditions-mode.ignore-change",{attr:{name:`colorScales.scalesByLevel.${t}.${i}.mode`,type:"number",disabled:r},list:[{value:l.rK.Percentage,text:"Percentage",selected:n[i].mode==l.rK.Percentage},{value:l.rK.Value,text:"Value",selected:n[i].mode==l.rK.Value},{value:l.rK.FieldValue,text:"Field",selected:n[i].mode==l.rK.FieldValue},{value:l.rK.Calc,text:"Calculation",selected:n[i].mode==l.rK.Calc}]})]),(0,s.En)(".dialog-col.dialog-flex.rule-conditions-col-value",[(0,s.En)("select.rule-field-conditions-fieldValue",{attr:{name:`colorScales.scalesByLevel.${t}.${i}.fieldValue.role|roleIndex`,required:!0,hidden:n[i].mode!=l.rK.FieldValue&&n[i].mode!=l.rK.Calc,disabled:r},list:this.domColumnOptions(n[i].fieldValue)}),(0,s.En)("select.rule-field-conditions-calc.math",{attr:{name:`colorScales.scalesByLevel.${t}.${i}.calc`,type:"number",disabled:r,hidden:n[i].mode!=l.rK.Calc},list:[{value:l.ot.Plus,text:"+",selected:n[i].calc==l.ot.Plus},{value:l.ot.Minus,text:"−",selected:n[i].calc==l.ot.Minus},{value:l.ot.Divide,text:"÷",selected:n[i].calc==l.ot.Divide},{value:l.ot.Times,text:"×",selected:n[i].calc==l.ot.Times}]}),(0,s.En)("input.rule-field-conditions-value",{attr:{name:`colorScales.scalesByLevel.${t}.${i}.value`,type:"number",placeholder:"Auto",hidden:n[i].mode!=l.rK.Value&&n[i].mode!=l.rK.Percentage&&n[i].mode!=l.rK.Calc,value:null!==n[i].value?n[i].value:"",step:1,disabled:r,min:n[i].mode==l.rK.Percentage?0:null,max:n[i].mode==l.rK.Percentage?100:null}})]),(0,s.En)(".dialog-col.dialog-flex.rule-colorScale-col-topBottom",[(0,s.En)(".dialog-col-label","min"==i?"Below":"max"==i?"Above":""),(0,s.En)(".dialog-col","center"==i?[]:[s.eM.DOM({id:"min"==i?`colorScales.scalesByLevel.${t}.bottomColor`:`colorScales.scalesByLevel.${t}.topColor`,color:"min"==i?n.bottomColor:n.topColor,customColors:[thisVisual.host.colorPalette.positive.value,(0,s.Oc)(.45,thisVisual.host.colorPalette.positive.value)]})])])])}drawRuleConditions(e,t){if(!e.conditions)return;const i=(0,s.En)("ul");for(const t of Object.keys(e.conditions.conditions))this.drawRuleCondition(e,e.conditions.conditions[t],i);(0,s.En)(".rule-mode.rule-mode-conditions",t,{attr:{hidden:"conditions"!=e.mode}},[(0,s.En)("label","Conditions"),(0,s.En)(".dialog-field.dialog-flex",[(0,s.En)(".dialog-col.rule-conditions-color",[s.eM.DOM({id:"conditions.color",color:e.conditions.color,nullable:!1,customColors:[thisVisual.host.colorPalette.positive.value,thisVisual.host.colorPalette.negative.value]})]),(0,s.En)(".dialog-col",[i,(0,s.En)("button.rule-conditions-add.btn.icon.icon-add",{attr:{hidden:e.locked&&(e.locked.conditions.add||e.locked.inclusive&&(!e.locked.conditions||!1!==e.locked.conditions.add))}},"Add Condition")])])])}drawRuleCondition(e,t,i){const n=e.locked&&(e.locked.conditions.edit||e.locked.inclusive&&(!e.locked.conditions||!1!==e.locked.conditions.edit));(0,s.En)("li",i,{data:{condition:t.id}},[...0!=t.id?[this.domRuleConditionOperator(e,t,n)]:[],...0==t.id&&Object.keys(this.levels).length>1?[this.domRuleConditionLevel(e,t,n)]:[],this.domRuleConditionComparison(e,t,n),this.domRuleConditionCalcs(e,t,n)])}domRuleConditionOperator(e,t,i){return(0,s.En)(".dialog-field.dialog-flex",[(0,s.En)("select.rule-conditions-field-operator",{attr:{name:"conditions.operator",disabled:i},list:[{value:"or",text:"Or",selected:e.conditions.operator==l.ao.Or},{value:"and",text:"And",selected:e.conditions.operator==l.ao.And}]}),(0,s.En)("a.control.rule-condition-delete.icon.icon-close",{attr:{href:"#",hidden:e.locked&&(e.locked.conditions.delete||e.locked.inclusive&&(!e.locked.conditions||!1!==e.locked.conditions.delete)),title:"Delete condition"}})])}domRuleConditionLevel(e,t,i){return(0,s.En)(".dialog-flex.rule-conditions-col-level",[(0,s.En)("select.rule-field-conditions-field",{attr:{name:"conditions.level",disabled:i},list:Object.keys(this.levels).map((t=>({value:t,text:this.getLevelName(t),selected:e.conditions.level==t})))})])}domRuleConditionComparison(e,t,i){return(0,s.En)(".dialog-flex",[(0,s.En)(".dialog-col.rule-conditions-col-if",0==t.id?"If":""),(0,s.En)(".dialog-col.rule-conditions-col-field",[(0,s.En)("select.rule-field-conditions-field",{attr:{name:`conditions.conditions.${t.id}.field.role|roleIndex`,required:!0,disabled:i},list:this.domColumnOptions(t.field)})]),(0,s.En)(".dialog-col.rule-conditions-col-comparison",[(0,s.En)("select.rule-field-conditions-comparison",{attr:{name:`conditions.conditions.${t.id}.comparison`,type:"number",disabled:i},list:[{value:l.Og.LessThan,text:"Is Less than",selected:t.comparison==l.Og.LessThan},{value:l.Og.LessThanOrEqualTo,text:"Is Less than or Equal to",selected:t.comparison==l.Og.LessThanOrEqualTo},{value:l.Og.EqualTo,text:"Is Equal to",selected:t.comparison==l.Og.EqualTo},{value:l.Og.DifferentFrom,text:"Is Different from",selected:t.comparison==l.Og.DifferentFrom},{value:l.Og.GreaterThan,text:"Is Greater than",selected:t.comparison==l.Og.GreaterThan},{value:l.Og.GreaterThanOrEqualTo,text:"Is Greater than or Equal to",selected:t.comparison==l.Og.GreaterThanOrEqualTo},{value:l.Og.Between,text:"Is Between",selected:t.comparison==l.Og.Between},{value:l.Og.Blank,text:"Is Blank",selected:t.comparison==l.Og.Blank},{value:l.Og.NotBlank,text:"Is Not Blank",selected:t.comparison==l.Og.NotBlank}]})])])}domRuleConditionCalcs(e,t,i){return(0,s.En)(".dialog-flex.dialog-field",[(0,s.En)(".dialog-col.rule-conditions-col-if"),(0,s.En)(".dialog-col.rule-conditions-col-mode",{attr:{hidden:t.comparison==l.Og.Blank||t.comparison==l.Og.NotBlank||t.comparison==l.Og.Between}},[(0,s.En)("select.rule-field-conditions-mode",{attr:{name:`conditions.conditions.${t.id}.mode`,type:"number",disabled:i},list:[{value:l.rK.Value,text:"Value",selected:t.mode==l.rK.Value},{value:l.rK.FieldValue,text:"Field",selected:t.mode==l.rK.FieldValue&&t.comparison!=l.Og.Between},{value:l.rK.Calc,text:"Calculation",selected:t.mode==l.rK.Calc&&t.comparison!=l.Og.Between}]})]),(0,s.En)(".dialog-col.dialog-flex.rule-conditions-col-value",{attr:{hidden:t.comparison==l.Og.Blank||t.comparison==l.Og.NotBlank}},[(0,s.En)("select.rule-field-conditions-fieldValue",{attr:{name:`conditions.conditions.${t.id}.fieldValue.role|roleIndex`,required:!0,hidden:!((t.mode==l.rK.FieldValue||t.mode==l.rK.Calc)&&t.comparison!=l.Og.Between),disabled:i},list:this.domColumnOptions(t.fieldValue)}),(0,s.En)("select.rule-field-conditions-calc.math",{attr:{name:`conditions.conditions.${t.id}.calc`,type:"number",hidden:!(t.mode==l.rK.Calc&&t.comparison!=l.Og.Between),disabled:i},list:[{value:l.ot.Plus,text:"+",selected:t.calc==l.ot.Plus},{value:l.ot.Minus,text:"-",selected:t.calc==l.ot.Minus},{value:l.ot.Divide,text:"÷",selected:t.calc==l.ot.Divide},{value:l.ot.Times,text:"×",selected:t.calc==l.ot.Times}]}),(0,s.En)("input.rule-field-conditions-value",{attr:{name:`conditions.conditions.${t.id}.value`,type:"number",hidden:!(t.mode==l.rK.Value||t.mode==l.rK.Calc||t.comparison==l.Og.Between),required:!0,step:1,value:`${t.value?t.value:""}`,disabled:i,placeholder:"Enter a value"}})]),(0,s.En)(".dialog-col.dialog-flex.rule-conditions-col-between",{attr:{hidden:t.comparison!=l.Og.Between}},"And"),(0,s.En)(".dialog-col.rule-conditions-col-value2",{attr:{hidden:t.comparison!=l.Og.Between}},[(0,s.En)("input.rule-field-conditions-value2",{attr:{name:`conditions.conditions.${t.id}.value2`,type:"number",placeholder:"Enter a value",step:1,value:`${t.value2?t.value2:""}`,required:!0,disabled:i}})])])}drawRuleDataPlaceholder(){this.emptyRuleData(),(0,s.En)(".dialog-placeholder",this.ruleDataElement,"Select a rule to modify")}emptyRuleData(){this.ruleWarningElement=null,this.ruleDataElement.innerText=""}updateRuleStatus(e){const t=(0,s.Ij)(`li[data-rule="${e.id}"]`,this.ruleListElement),i=(0,c._E)(e,this.columnsByRole);(0,s.Ij)(".rule-enabler .rule-invalid",t).toggle(!0!==i),(0,s.Ij)(".rule-enabler .rule-field-enable",t).toggle(!0===i);let n="#fff";if("colorScale"==e.mode){let t=Object.keys(this.levels)[e.colorScales.advanced?1:0];t||(t=this.activeLevel),n=(0,c.IG)(e.colorScales.scalesByLevel[t])}else"conditions"==e.mode&&(n=e.conditions.color);(0,s.Ij)(".rule-color",t).style.background=n,this.toggleRuleWarning(i)}toggleRuleWarning(e){this.ruleWarningElement&&(this.ruleWarningElement.toggle(!0!==e),!0!==e&&((0,s.Ij)(".message",this.ruleWarningElement).innerText=String(e)))}saveRules(){this.pending.internal=[{objectName:"internal",properties:{colorRules:this.rules},selector:null}],this.save()}addRule(){const e=(0,l.MB)(this.rules.length,Object.keys(this.options.properties)[0],this.levels,this.baseColor);this.rules.push(e),this.drawRule(e),this.selectRule(e),this.saveRules()}deleteRule(e){let t=!1;for(let i=0;i<this.rules.length;i++)if(this.rules[i].id==e){(!this.rules[i].locked||this.rules[i].locked.inclusive&&!1===this.rules[i].locked.delete||!this.rules[i].locked.inclusive&&!1!==this.rules[i].locked.delete)&&((0,s.Ij)(`li[data-rule="${e}"]`,this.ruleListElement).remove(),this.rules.splice(i,1),t=!0);break}t&&(this.activeRule&&this.activeRule.id==e&&(this.rules.length?this.selectRule(this.rules[this.rules.length-1]):this.drawRuleDataPlaceholder()),this.saveRules())}}},4140:(e,t,i)=>{"use strict";i.d(t,{CI:()=>d,GM:()=>u,IG:()=>f,KA:()=>v,Km:()=>m,Mr:()=>c,Qx:()=>l,Ux:()=>s,Uz:()=>p,Yv:()=>h,_E:()=>o,ec:()=>b,oB:()=>g,oX:()=>y});var n=i(3520),a=i(44),r=i(7884);function o(e,t){return"colorScale"==e.mode?s(e,t):"conditions"!=e.mode||l(e,t)}function s(e,t){const i="Not all comparison fields have been selected or are valid.";if(!e.colorScales||!e.colorScales.scalesByLevel)return"This rule is not valid.";const r=u(e.colorScales.field,t);if(!r)return"The main field has not been selected or is invalid.";const o=Object.keys(e.colorScales.scalesByLevel).filter((t=>e.colorScales.advanced?t!=a.oD:t==a.oD));for(const s of o){const o=e.colorScales.scalesByLevel[s],l=["min","max"];o.center.color&&l.push("center");for(let e=0;e<l.length;e++){const s=o[l[e]];if(!s)return"Some conditions are invalid.";if(s.mode==a.rK.FieldValue||s.mode==a.rK.Calc){if(!(0,n.QN)(s,"fieldValue"))return i;const e=u(s.fieldValue,t);if(!e)return i;if(e.queryName==r.queryName)return i}}if(!e.colorScales.advanced)break}return!0}function l(e,t){const i="Not all comparison fields have been selected or are valid.",r="Not all comparison values have been set.";if(!e.conditions||!e.conditions.conditions)return"Some conditions are invalid.";for(const o of Object.keys(e.conditions.conditions)){const s=e.conditions.conditions[o],l=u(s.field,t);if(!l)return"The main field has not been selected or is invalid.";if(s.comparison==a.Og.Between){if(!(0,n.QN)(s,"value")||null===s.value||isNaN(s.value)||!(0,n.QN)(s,"value2")||null===s.value2||isNaN(s.value2))return r}else if(s.comparison==a.Og.Blank||s.comparison==a.Og.NotBlank);else{if(!(s.mode!=a.rK.Value&&s.mode!=a.rK.Calc||(0,n.QN)(s,"value")&&null!==s.value))return r;if(s.mode==a.rK.FieldValue||s.mode==a.rK.Calc){if(!(0,n.QN)(s,"fieldValue"))return i;const e=u(s.fieldValue,t);if(!e)return i;if(e.queryName==l.queryName)return i}}}return!0}function c(e,t){let i=e.displayName;if(i.indexOf("{field}")>=0){let n="missing field";if("colorScale"==e.mode){const i=u(e.colorScales.field,t);i&&(n=i.displayName)}i=i.replace("{field}",n)}return(0,n.m0)(i)}function u(e,t){if(e){const i=e.roleIndex?e.roleIndex:0;if((0,n.QN)(t,e.role)&&(0,n.QN)(t[e.role],i))return t[e.role][i]}return null}function d(e,t,i,n,a,o,s,l){const c=[];c.push(t),s&&c.push(o),c.push(n);const u=[];u.push(i),s&&u.push(s),u.push(a);const d=l?r.kzl():r.M89();l&&d.base(Math.E),d.domain(c),d.range(u).clamp(!0);const h=d(e);return h?{solid:{color:h.toString()}}:null}function h(e,t){let i=t[e]?t[e].color:null;const a="min"==e||"max"==e?t["min"==e?"max":"min"].color:null;return!i&&a&&(i=(0,n.Oc)("min"==e?.9:-.9,a)),i||""}function g(e,t,i){const n=e.colorScales.scalesByLevel[t],r=(0,a.KG)(i);n?["max","min","center"].forEach((e=>{n[e]&&!n[e].color&&(n[e].color=r[e].color)})):e.colorScales.scalesByLevel[t]=r}function p(e,t,i,n,r){const o={min:i.min,max:i.max,center:(i.min+i.max)/2};for(const s of Object.keys(o)){const l=e[s];let c=null;if(l.mode==a.rK.FieldValue||l.mode==a.rK.Calc){const e=u(l.fieldValue,r);if(e){for(const i of Object.keys(n))if(i==e.queryName){const e=v(n[i],t);"min"==s?c=e.min:"max"==s?c=e.max:"center"==s&&(c=(e.max+e.min)/2);break}l.mode==a.rK.Calc&&(l.calc==a.ot.Minus?c-=l.value:l.calc==a.ot.Divide?c/=l.value:l.calc==a.ot.Times?c*=l.value:c+=l.value)}}else c=l.value;null==c||isNaN(c)||(l.mode==a.rK.Percentage&&(c=y(l.value,i.min,i.max,"abs",t.colorScales.type==a.qy.Logarithmic)),o[s]=c)}return o}function f(e,t,i){let r="linear-gradient(to right, ";if(r+=h("min",e)+" 0%, ",e.center.color){let o=50;if(void 0!==t&&void 0!==i&&(0,n.QN)(e.center,"value")&&null!==e.center.value&&!isNaN(e.center.value)){let r=t;(0,n.QN)(e.min,"value")&&null!==e.min.value&&!isNaN(e.min.value)&&(e.min.mode==a.rK.Value?r=e.min.value:e.min.mode==a.rK.Percentage&&(r=y(e.min.value,t,i,"abs")));let s=i;(0,n.QN)(e.max,"value")&&null!==e.max.value&&!isNaN(e.max.value)&&(e.max.mode==a.rK.Value?s=e.max.value:e.max.mode==a.rK.Percentage&&(s=y(e.max.value,t,i,"abs")));let l=(i-t)/2+t;e.center.mode==a.rK.Value?l=e.center.value:e.center.mode==a.rK.Percentage&&(l=y(e.center.value,t,i,"abs")),o=y(l,r,s,"perc")}r+=e.center.color+" "+o+"%, "}return r+=h("max",e)+" 100%",r+=")",r}function m(e,t,i){if(e.mode==a.rK.FieldValue)return u(e.fieldValue,i).displayName;if(null!=e.value){const r=e.mode==a.rK.Calc||a.rK.Value?n.eo.instance.create({format:t,formatSingleValues:!1,value:e.value,precision:0,displayUnitSystemType:0,allowFormatBeautification:!0}):null;if(e.mode==a.rK.Value)return r.format(e.value);if(e.mode==a.rK.Percentage)return`${e.value}%`;if(e.mode==a.rK.Calc){const t=u(e.fieldValue,i),n=["+","-","÷","×"][e.calc||0];return`${t.displayName} ${n} ${r.format(e.value)}`}}return""}function y(e,t,i,n,a=!1,r=!0){if(null===e)return null;if(null===t&&(t=0),t==i)return null;let o=0;return"perc"==n?(o=a?(Math.max(0,Math.log(e))-Math.max(0,Math.log(t)))/(Math.max(0,Math.log(i))-Math.max(0,Math.log(t)))*100:(e-t)/(i-t)*100,o=Math.max(0,o)):"abs"==n&&(0==e?(o=t,r=!1):100==e?(o=i,r=!1):o=a?Math.exp(e*(Math.max(0,Math.log(i))-Math.max(0,Math.log(t)))/100+Math.max(0,Math.log(t))):e*(i-t)/100+t),r?Math.round(o):o}function v(e,t,i=!1){return"colorScale"!=t.mode||t.colorScales.relative&&!i?e:(0,n.IY)(e)}function b(e){const t=e.map((e=>e.id));return e.filter(((e,i)=>!t.includes(e.id,i+1)))}},44:(e,t,i)=>{"use strict";i.d(t,{KG:()=>p,MB:()=>d,Og:()=>l,ao:()=>c,i$:()=>r,ii:()=>h,oD:()=>a,ot:()=>s,qy:()=>u,rK:()=>o,y:()=>g});var n=i(3520);const a="default",r="#3CB44A";var o,s,l,c,u;function d(e,t,i,r){const o={};for(const e of Object.keys(i))o[e]=p(r);return{id:(0,n.uq)(),displayName:`Rule ${e+1}`,automatic:!1,locked:null,enabled:!0,stop:!1,legend:!0,property:t,mode:"colorScale",conditions:{color:r,operator:c.And,conditions:{0:h()},level:a},colorScales:{field:{role:""},blank:"ignore",blankColor:"#e6e6e6",type:u.Linear,relative:!1,scalesByLevel:o}}}function h(e){let t=0;if(e){const i=Object.keys(e.conditions.conditions);t=parseInt(i[i.length-1])+1}return{id:t,field:{role:""},comparison:l.EqualTo,mode:o.Value,value:null}}function g(e){return{mode:o.Percentage,value:null,color:e}}function p(e){return{min:g((0,n.Oc)(.8,e)),max:g(e),center:g(null),topColor:null,bottomColor:null}}!function(e){e[e.Percentage=0]="Percentage",e[e.Value=1]="Value",e[e.FieldValue=2]="FieldValue",e[e.Calc=3]="Calc"}(o||(o={})),function(e){e[e.Plus=0]="Plus",e[e.Minus=1]="Minus",e[e.Divide=2]="Divide",e[e.Times=3]="Times"}(s||(s={})),function(e){e[e.LessThan=0]="LessThan",e[e.LessThanOrEqualTo=1]="LessThanOrEqualTo",e[e.EqualTo=2]="EqualTo",e[e.GreaterThan=3]="GreaterThan",e[e.GreaterThanOrEqualTo=4]="GreaterThanOrEqualTo",e[e.DifferentFrom=5]="DifferentFrom",e[e.Between=6]="Between",e[e.Blank=7]="Blank",e[e.NotBlank=8]="NotBlank"}(l||(l={})),function(e){e[e.And=0]="And",e[e.Or=1]="Or"}(c||(c={})),function(e){e[e.Linear=0]="Linear",e[e.Logarithmic=1]="Logarithmic"}(u||(u={}))},2624:(e,t,i)=>{"use strict";i.d(t,{S2:()=>o.S2,WS:()=>s,c5:()=>o.c5,ey:()=>o.ey,gp:()=>o.gp,qW:()=>o.qW,wf:()=>o.wf});var n=i(636),a=i(3520),r=i(1596),o=i(9400);class s extends n.g{options;updateOptions;templates;internalSettings;settings;container;toolbar;gallery;get displayName(){return"Templates"}constructor(e,t){super(e,t),this.options=e,this.updateOptions=t,this.settings=t.settings,this.loadInternalSettings(),this.options.protectedProperties||(this.options.protectedProperties=[]),this.options.itemsPerRow||(this.options.itemsPerRow=3),this.templates=[...this.options.showCurrent?[(0,o.S2)(this.settings,this.options.protectedProperties,!0,o.ey.Current,this.options.currentName||"Current")]:[],...this.options.templates,...this.internalSettings.userTemplates]}loadInternalSettings(){let e={userTemplates:[],useDummyData:!0,category:""};const t=this.updateOptions.visualUpdateOptions&&this.updateOptions.visualUpdateOptions.dataViews&&this.updateOptions.visualUpdateOptions.dataViews[0];t&&t.metadata.objects&&(e=(0,a.Kk)(t.metadata.objects,"internal","templates",e)),this.internalSettings=e}saveInternalSettings(){this.pending.internal=[{objectName:"internal",properties:{templates:this.internalSettings},selector:null}],this.save()}loadUserTemplate(e){const t=this.validateTemplate(e);if(!0===t){const t=(0,o.gp)(e,this.settings,this.options.protectedProperties);return this.templates.push(t),this.internalSettings.userTemplates.push(t),this.saveInternalSettings(),t}return this.showError(t.toString()),null}unloadUserTemplate(e){const t=this.templates.findIndex((t=>t.id==e));if(t>=0){const e=this.templates[t];if(e&&e.type==o.ey.User){const i=this.internalSettings.userTemplates.findIndex((t=>t.id==e.id));i>=0&&(this.internalSettings.userTemplates.splice(i,1),this.saveInternalSettings()),this.templates.splice(t,1)}}}applyTemplate(e){this.pending.template=[];const t=null!==e&&this.templates.find((t=>t.id==e));t&&t.type!=o.ey.Current&&(this.pending.template=(0,o.c5)((0,o.qW)(t,this.settings),this.updateOptions.visualUpdateOptions)),this.save()}select(e){(0,a.op)(".template",this.gallery).forEach((t=>{t.dataset.template==e?t.classList.add("active"):t.classList.remove("active")})),this.applyTemplate(e)}deselect(){(0,a.op)(".template.active",this.gallery).forEach((e=>e.classList.remove("active"))),this.applyTemplate(null)}draw(e){super.draw(e);const t=(0,a.En)(".dialog-flex.template-manager",e);this.container=(0,a.En)(".dialog-col.templates",t),this.drawToolbar();const i=(0,a.En)(".templates-content",this.container);this.gallery=(0,a.En)(".gallery.dialog-flex",i),this.drawTemplates(),this.gallery.addEventListener("click",(e=>{const t=e.target,i=t.closest(".template");if(i){e.preventDefault(),e.stopPropagation();const n=i.dataset.template;t.classList.contains("content")?i.classList.contains("disabled")||this.select(n):t.classList.contains("actions-menu")&&new a.SM({width:150,items:[{label:"Remove",enabled:!0,onClick:()=>{const e=i.classList.contains("active");i.remove(),this.unloadUserTemplate(n),this.drawCategories(),e&&this.templates.length&&this.select(this.templates[this.templates.length-1].id)}}]},e)}else a.SM.CLOSE()}))}drawToolbar(){(this.options.showCategories||this.options.canImport||this.options.canExport&&1!=this.options.canExport&&2!=this.options.canExport)&&(this.toolbar||(this.toolbar=(0,a.En)(".templates-toolbar",this.container)),this.drawCategories(),this.drawPreviewYourData(),(0,a.En)(".spacer",this.toolbar),this.drawExportButton(),this.drawImportButton())}drawCategories(){if(!this.toolbar||!this.options.showCategories)return;(0,a.Ij)(".categories",this.toolbar).remove();const e=[{value:"",text:"All Categories"}];if(this.templates.forEach((t=>{if(t.category){const i=e.find((e=>e.value==t.category));i?i.data++:e.push({value:t.category,text:t.category,selected:this.internalSettings.category==t.category,data:1})}})),e.length>1){const t=(0,a.En)("select.categories",{list:e.map((e=>(e.data&&(e.text=`${e.text} (${e.data})`),e))),events:{change:e=>{this.internalSettings.category=e.currentTarget.value,this.saveInternalSettings(),this.drawTemplates()}}});this.toolbar.prepend(t)}}drawPreviewYourData(){this.toolbar&&this.options.allowDummyData&&(0,a._6)(".template-data-switch",this.toolbar,{checked:!this.internalSettings.useDummyData,change:(e,t)=>{this.internalSettings.useDummyData=!t,this.saveInternalSettings(),this.drawTemplates()}},"Preview Your Data")}drawImportButton(){if(!this.toolbar||!this.options.canImport)return;const e=(0,a.En)("input#load-template-file.file-hidden",this.toolbar,{attr:{multiple:!0,type:"file",accept:".json"},events:{click:e=>{e.currentTarget.value=null},change:e=>{const t=e.currentTarget.files;if(t&&t.length)for(let e=0;e<t.length;e++){const i=t[e];if(i.type.indexOf("json")>=0){const e=new FileReader;e.readAsText(i),e.onload=()=>{try{const t=JSON.parse(e.result);t.description||(t.description=i.name);const n=this.loadUserTemplate(t);n&&(this.drawCategories(),this.drawTemplate(n)&&this.select(n.id))}catch(e){this.showError("Unable to import the template file.",e)}}}else this.showError("Only JSON template files are allowed.")}}}});(0,a.En)("button.load-template.btn",this.toolbar,{events:{click:t=>{t.preventDefault(),e.dispatchEvent(new MouseEvent("click"))}}},"Load Template")}drawExportButton(){if(!this.toolbar||1==this.options.canExport||2==this.options.canExport)return;const e=3==this.options.canExport;(0,a.En)("a.save-template.control.icon-save",this.toolbar,{attr:{disabled:e,title:e?"Export has been disabled by your administrator.":""},events:{click:(e,t)=>{e.preventDefault(),t.getAttribute("disabled")||this.askForTemplateOptions()}}},"Save Current as Template")}askForTemplateOptions(){new a.Yd({title:"Save as Template",buttons:[{name:"OK",action:"ok",disabled:!0,key:"Enter"},{name:"Cancel",action:"cancel",className:"alt2"}],size:{width:350,height:0},middleware:(e,t)=>{const i=()=>{const i=(0,a.Ij)("input#name",e),n=i.isNull?"Template":i.value,r=(0,a.Ij)(".data-bound-switch .switch-input",e),o=!!r.isNull||r.checked;t.data={name:n,dataBound:o,dataView:!1,palette:!1}};(0,a.En)(".dialog-field",e,[(0,a.En)("label","Template name"),(0,a.En)("input#name",{attr:{type:"text",value:"",required:!0,placeholder:"Insert a value"},events:{keyup:e=>{const i=e.target.value;t.enableButton("OK",""!=i)},change:()=>{i()}}})]),(0,a._6)(".data-bound-switch",e,{checked:!0,title:"If enabled, specific data points settings will be included in the template. E.g.: the color assigned to each category of the current dataview.",change:()=>i()},"Include data bound properties"),i(),window.setTimeout((()=>{(0,a.Ij)("input#name",e).focus()}),300)}}).show().then((e=>{if("ok"==e.action){const t=(0,o.S2)(this.settings,this.options.protectedProperties,e.data.dataBound,o.ey.User,e.data.name);delete t.type,delete t.dataIndex,this.download({content:JSON.stringify(t),fileName:`${(0,a.Ok)(e.data.name)}.json`,fileType:".json",fileDescription:"Template JSON file"})}}))}validateTemplate(e){return(0,a.QN)(e,"id")&&(0,a.QN)(e,"settings")?!this.templates.find((t=>t.id==e.id))||(this.select(e.id),`Another template with the same id (${e.id}) already exists in the gallery.`):"You provided an invalid template."}checkTemplateRequirements(e,t){let i=!0;const n=this.updateOptions.visualUpdateOptions&&this.updateOptions.visualUpdateOptions.dataViews&&this.updateOptions.visualUpdateOptions.dataViews[0];if(n){const r=(0,a.o1)(n.metadata.columns);e.required.forEach((e=>{let n="";(0,a.QN)(r,e.role)?e.multiple?r[e.role].length<2&&(n=`two or more columns are in "${e.displayName}"`):0==r[e.role].length&&(n=`at least one column is in "${e.displayName}"`):n=`"${e.displayName}" is not empty`,n&&((0,a.En)(".warning.icon-"+(e.strict?"error":"alert"),t,{attr:{title:`The template ${e.strict?"can be applied only if":"works better when"} ${n}.`}},e.displayName),e.strict&&t.closest(".template").classList.add("disabled"),i=!1)}))}return i}drawTemplates(){this.gallery.textContent="",this.templates.forEach(((e,t)=>this.drawTemplate(e,this.options.showCurrent&&0==t)))}drawTemplate(e,t=!1){if((e.type==o.ey.Builtin||e.type==o.ey.User)&&this.options.showCategories&&this.internalSettings.category&&e.category!=this.internalSettings.category)return!1;const i=this.options.templateSize?this.options.templateSize:{width:1==this.options.itemsPerRow?r.g.size.width:r.g.size.width/this.options.itemsPerRow-10*this.options.itemsPerRow,height:120},n=(0,a.En)(".template"+(t?".active":""),this.gallery,{attr:{title:e.description?e.description:null},style:{width:`${i.width}px`},data:{template:e.id}});e.type==o.ey.User&&(0,a.En)("a.actions-menu.control.solo.icon-ellipsis",n,{attr:{href:"#",title:"Actions"}}),(0,a.En)(".title",n,{attr:{title:e.name}},e.name);const s=(0,a.En)(".content",n);let l=!0;const c=this.internalSettings.useDummyData&&this.options.allowDummyData&&(e.type==o.ey.Builtin||e.type==o.ey.User),u={width:3*(i.width-12),height:3*(i.height-12)},d=(0,a.En)(".wrapper",s,{style:{transform:"scale(0.33, 0.33)",marginTop:2,marginLeft:2,width:u.width,height:u.height}}),h=this.preview(d,u,(0,o.gp)(e,this.settings,this.options.protectedProperties),c?null:this.updateOptions.visualUpdateOptions),g=(0,a.En)(".warning-container",s);return h?e.required.length&&!c&&(l=this.checkTemplateRequirements(e,g)):(0,a.En)(".warning.icon-error",g,"Preview not available"),l}preview(e,t,i,n){return!1}}},9400:(e,t,i)=>{"use strict";i.d(t,{S2:()=>c,c5:()=>l,ey:()=>r,gp:()=>o,qW:()=>s,wf:()=>u});var n=i(3520);const a=["about"];var r;function o(e,t,i=[],o=!0){const s={id:e.id||(0,n.uq)(),type:r.User,name:e.name?e.name.substring(0,80):"Untitled",description:e.description?e.description.substring(0,500):"",required:Array.isArray(e.required)?e.required:[],premium:!!e.premium,category:e.category||"",dataIndex:e.dataIndex||0,settings:u(t,e.settings),dataSettings:e.dataSettings||{}},l=[...a,...i];for(const e of Object.keys(s.settings))if(l.find((t=>t==e)))delete s.settings[e];else for(const t of Object.keys(s.settings[e]))l.find((i=>i==`${e}.${t}`))&&delete s.settings[e][t];for(const e of Object.keys(s.settings))for(const t of Object.keys(s.settings[e])){const i=(0,n.mO)(s.settings[e][t]);if(i){if(o&&(!(0,n.QN)(s.dataSettings,e)||!(0,n.QN)(s.dataSettings[e],t))){const a=(0,n.ct)(s.settings[e][t]);for(let e=0;e<a.values.length;e++)delete a.values[e].displayName,i==n.q2.Measure&&delete a.values[e].selector;(0,n.QN)(s.dataSettings,e)||(s.dataSettings[e]={}),s.dataSettings[e][t]=a}delete s.settings[e][t]}}return s}function s(e,t){const i=(0,n.ct)(e);if(i.settings=u(t,i.settings),i.dataSettings){for(const e of Object.keys(i.dataSettings))for(const t of Object.keys(i.dataSettings[e]))if((0,n.QN)(i.settings,e)&&(0,n.QN)(i.settings[e],t)&&(0,n.mO)(i.settings[e][t]))for(let a=0;a<i.settings[e][t].values.length;a++)(0,n.QN)(i.dataSettings[e][t],"values")&&i.dataSettings[e][t].values[a]&&(i.settings[e][t].values[a].value=i.dataSettings[e][t].values[a].value);delete i.dataSettings}return i}function l(e,t){const i=t&&t.dataViews&&t.dataViews[0],a=[];for(const t of Object.keys(e.settings)){const r={objectName:t,properties:{},selector:null};for(const o of Object.keys(e.settings[t])){const s=(0,n.mO)(e.settings[t][o]);if(s){if(i&&i.categorical){const r=e.settings[t][o];s==n.q2.Measure?i.categorical.values&&(0,n.S8)(i.categorical.values,r.columnRole).forEach(((e,i)=>{a.push({objectName:t,properties:{[o]:r.values[i].value},selector:{metadata:e.source.queryName}})})):s==n.q2.Category&&i.categorical.categories&&r.values.forEach((e=>{a.push({objectName:t,properties:{[o]:e.value},selector:e.selector})}))}}else r.properties[o]=e.settings[t][o]}(0,n.t7)(r.properties)||a.push(r)}return a}function c(e,t=[],i=!0,a=r.User,s){const l=o({id:(0,n.uq)(!1),name:s?s.substring(0,80):"Untitled",settings:e},e,t,i);return l.type=a,l}function u(e,t){const i=(0,n.ct)(e),a=(0,n.ct)(t);for(const e of Object.keys(i))if((0,n.QN)(a,e))for(const t of Object.keys(i[e]))(0,n.QN)(a[e],t)||(a[e][t]=i[e][t]);else a[e]=i[e];return a}!function(e){e[e.Builtin=0]="Builtin",e[e.User=1]="User",e[e.Current=2]="Current"}(r||(r={}))},4808:(e,t,i)=>{"use strict";i.d(t,{E3:()=>l,Ej:()=>r});var n,a,r,o=i(3520),s=i(9940);!function(e){e[e.SegmentsAggregation=0]="SegmentsAggregation",e[e.SegmentsAggregationStartEnd=1]="SegmentsAggregationStartEnd",e[e.IncrementalUpdate=2]="IncrementalUpdate"}(n||(n={})),function(e){e[e.NoDataToFetch=0]="NoDataToFetch",e[e.UserLimitReached=1]="UserLimitReached",e[e.MemoryLimitReached=2]="MemoryLimitReached",e[e.OneMillionLimitReached=3]="OneMillionLimitReached",e[e.LastPageFetched=4]="LastPageFetched",e[e.Fetching=5]="Fetching"}(a||(a={})),function(e){e[e.None=0]="None",e[e.DataChunk=1]="DataChunk",e[e.PartialData=2]="PartialData",e[e.DataComplete=3]="DataComplete",e[e.Interface=4]="Interface",e[e.Internal=5]="Internal",e[e.SameHash=6]="SameHash"}(r||(r={}));class l{mode;lastFetchingStatus=a.NoDataToFetch;lastHash=[];get segmentIndex(){return this._segmentIndex}_segmentIndex=0;get retrievedRowsCount(){return this._retrievedRowsCount}_retrievedRowsCount=0;constructor(e=n.IncrementalUpdate){this.mode=e}update(e,t=0,i=!0,l=!1){const c={type:r.None,rowsCount:0,startIndex:0,resetModel:!1,updateModel:!1,hasMoreData:!1},u=e&&e.dataViews&&e.dataViews[0];if(u&&(u.categorical||u.matrix||u.table||u.tree||u.single))if(thisVisual.internalUpdate)c.type=r.Internal,globalThis.thisVisual.internalUpdate=!1;else{if(!(4&(d=e.type)||32&d||16&d||8&d)||function(e){return 2&e}(e.type)){c.hasMoreData=!!e.dataViews[0].metadata.segment,1==e.operationKind?(c.type=r.PartialData,this.mode==n.SegmentsAggregation&&(c.resetModel=!0,c.updateModel=!0)):2==e.operationKind?(c.type=r.DataChunk,c.updateModel=!0):(this.mode==n.SegmentsAggregation||this.mode==n.SegmentsAggregationStartEnd?c.type=r.PartialData:c.type=i?r.DataChunk:r.DataComplete,c.updateModel=!0,c.resetModel=!0,this.resetStatus());let d=0;this.mode==n.IncrementalUpdate&&(u.categorical?(0,o.QN)(u.categorical,"lastMergeIndex")&&(d=u.categorical.lastMergeIndex+1):u.table?(0,o.QN)(u.table,"lastMergeIndex")&&(d=u.table.lastMergeIndex+1):u.matrix&&0!=e.operationKind&&(d+=1)),c.startIndex=d;let h=(0,o.mc)(u)[0];h-=d,this._retrievedRowsCount+=h,c.rowsCount=h;const g=this._segmentIndex;if(i){const i=this.fetchMoreData(e,t);i!=a.LastPageFetched&&i!=a.MemoryLimitReached&&i!=a.OneMillionLimitReached&&i!=a.UserLimitReached||(c.type=r.DataComplete,c.updateModel=!0,this.mode!=n.SegmentsAggregation&&this.mode!=n.SegmentsAggregationStartEnd||(c.resetModel=!0))}else this._segmentIndex=0;if(l&&c.updateModel){const e=function(e,t=!1){return s(e,{algorithm:t?"sha1":"passthrough",excludeKeys:e=>["expr","childIdentityFields","identity","identityExprs","valueSources","format","formatString"].indexOf(e)>=0,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1})}(u);this.lastHash&&this.lastHash.length>g&&this.lastHash[g]===e?c.type=r.SameHash:this.lastHash[g]=e}return c}c.type=r.Interface}var d;return c}fetchMoreData(e,t){let i=a.NoDataToFetch;return i=e.dataViews[0].metadata.segment?t&&this.retrievedRowsCount>=t?a.UserLimitReached:this.retrievedRowsCount>=1048576?a.OneMillionLimitReached:thisVisual.host.fetchMoreData(this.mode==n.SegmentsAggregation||this.mode==n.SegmentsAggregationStartEnd)?a.Fetching:a.MemoryLimitReached:this.lastFetchingStatus==a.Fetching?a.LastPageFetched:a.NoDataToFetch,this.lastFetchingStatus=i,this._segmentIndex=i==a.Fetching?this._segmentIndex+1:0,i}resetStatus(){this.lastFetchingStatus=a.NoDataToFetch,this._retrievedRowsCount=0,this._segmentIndex=0}}},656:(e,t,i)=>{"use strict";i.d(t,{E3:()=>n.E3,Ej:()=>n.Ej});var n=i(4808)},3960:(e,t,i)=>{"use strict";i.d(t,{Qr:()=>a.Q,Qz:()=>n.Qz,s$:()=>n.s$});var n=i(1404),a=i(6120)},1404:(e,t,i)=>{"use strict";var n,a,r;i.d(t,{GQ:()=>r,Qz:()=>n,s$:()=>a}),function(e){e[e.Main=0]="Main",e[e.Feature=1]="Feature"}(n||(n={})),function(e){e[e.None=0]="None",e[e.Silent=1]="Silent",e[e.Message=2]="Message"}(a||(a={})),function(e){e[e.None=0]="None",e[e.Icon=1]="Icon",e[e.FeatureBanner=2]="FeatureBanner",e[e.BlockingOverlay=3]="BlockingOverlay",e[e.UsupportedOverlay=4]="UsupportedOverlay"}(r||(r={}))},6120:(e,t,i)=>{"use strict";i.d(t,{Q:()=>o});var n=i(3520),a=i(2144),r=i(1404);class o extends n.es{meta;groups;static MaxPollingDurationSeconds=1200;static PollingSeconds=180;static DefaultFeatureTooltip="This feature is available with a premium license only.";static FeatureSettingsResetSeconds=60;static AlertId="licman";initTime;pollingTimeout;revertFeatureNotificationTimeout;resetFeatureSettingsTimeout;options;settingsToReset;availablePlans;currentNotification=r.GQ.None;lastUpdateOptions;currentServiceIndex=0;services;get service(){return this.services[this.currentServiceIndex]}get canSimulate(){return thisVisual.element.getAttribute("class").indexOf("_DEBUG")>=0}unsupported=!1;offline=!1;loaded=!1;get available(){return!(!this.loaded||this.offline&&this.pollingEnabled||this.unsupported&&this.options.canRunOnUnsuppEnv||this.meta.expiry)}get status(){return{available:this.available,offline:this.offline,unsupported:this.unsupported,plans:this.availablePlans}}get pollingEnabled(){return((new Date).getTime()-this.initTime)/1e3<this.options.maxOfflineSeconds}constructor(e,t,i={},n){super(),this.meta=e,this.groups=t,this.initTime=(new Date).getTime();const a={canRunOnUnsuppEnv:!0,maxOfflineSeconds:o.MaxPollingDurationSeconds,blockIfReadingView:!0,featureSettingsReset:r.s$.Message,simulate:null};this.options={...a,...i},this.availablePlans=this.extractPlans(this.groups),this.services=n||[thisVisual.host.licenseManager],this.getServicePlans()}extractPlans(e){const t=[];return e.forEach((e=>{e.planIds.forEach((i=>{t.push({id:i,groupId:e.id,state:4,type:e.type})}))})),t}getServicePlans(){this.unscheduleGetServicePlans(),this.service.getAvailableServicePlans().then((e=>{this.options.simulate&&this.canSimulate&&(e=this.options.simulate),(0,n.Yz)(this.meta.shortName,"Licensing",(0,n.ct)(e)),this.unsupported=e.isLicenseUnsupportedEnv,this.offline=!this.unsupported&&!e.isLicenseInfoAvailable,this.offline||this.unsupported||e.plans&&e.plans.length&&(e.plans.forEach((e=>{const t=this.availablePlans.find((t=>t.id==e.spIdentifier||"*"==e.spIdentifier));t&&1!==t.state&&(t.state=e.state)})),this.availablePlans.sort(((e,t)=>e.state-t.state))),(this.unsupported||!this.offline)&&!this.availablePlans.find((e=>s(e.state)))&&this.currentServiceIndex<this.services.length-1&&(this.currentServiceIndex++,this.unsupported=!1,this.offline=!0,window.setTimeout((()=>this.getServicePlans()),1e3))})).catch((e=>{n.sv.ERROR(this.meta.shortName,"Licensing Error",e),this.offline=!0})).finally((()=>{this.loaded=!0,this.update(this.lastUpdateOptions),this.trigger("plansLoad")}))}scheduleGetServicePlans(){this.pollingTimeout||(this.pollingTimeout=window.setTimeout((()=>{this.getServicePlans()}),1e3*o.PollingSeconds))}unscheduleGetServicePlans(){window.clearTimeout(this.pollingTimeout),this.pollingTimeout=null}update(e){this.check(),e&&(n.eP.UPDATE(e),e.dataViews&&e.dataViews[0]&&e.dataViews[0].metadata.objects&&(this.checkFeatureSettingsToReset(e.dataViews[0].metadata.objects,e.viewMode),this.checkFeatureRoles(e.dataViews[0]))),this.lastUpdateOptions=e}checkFeatureSettingsToReset(e,t){if(!this.available)return;if(this.options.featureSettingsReset==r.s$.None)return window.clearTimeout(this.resetFeatureSettingsTimeout),void(this.settingsToReset=[]);const i={};for(let t=0;t<this.groups.length;t++){const o=this.groups[t];if(o.type==r.Qz.Feature&&o.featureSettings){const t=this.checkFeature(o.id);for(let r=0;r<o.featureSettings.length;r++){const s=o.featureSettings[r];if(t)i[s.property]=null;else{if(s.property in i)continue;const t=s.defaultValue,[r,o]=s.property.split("."),l=(0,n.Kk)(e,r,o,t);t==l||a(t,l)||(i[s.property]=s)}}}}if(this.settingsToReset=Object.values(i).filter((e=>null!==e)),window.clearTimeout(this.resetFeatureSettingsTimeout),this.settingsToReset.length){const e="licman",i=this.options.featureSettingsReset==r.s$.Message&&0!=t&&!this.unsupported,a=1==this.settingsToReset.length;this.resetFeatureSettingsTimeout=window.setTimeout((()=>{this.settingsToReset.forEach((t=>{const[i,a]=t.property.split(".");n.c8.BATCH({objectName:i,properties:{[a]:t.defaultValue},selector:null},e)})),n.c8.BATCH_SAVE(e,!1),i&&n.eP.SHOW({id:o.AlertId,icon:"certificate",iconAlign:"top",mustBeContained:!0,title:`Feature${a?"":"s"} reset`,text:`The feature${a?"":"s"} "${this.settingsToReset.map((e=>e.displayName)).join('", "')}" ${a?"has":"have"} been reset to ${a?"its":"their"} default value since require${a?"s":""} a premium license to be used.`}),this.settingsToReset=[]}),1e3*o.FeatureSettingsResetSeconds),n.eP.HIDE(o.AlertId),this.showFeatureNotification(`"${this.settingsToReset.map((e=>e.displayName)).join('", "')}" ${a?"is":"are"} available with a premium license only.`)}}checkFeatureRoles(e){if(!this.available)return;const t=[];for(let i=0;i<this.groups.length;i++){const n=this.groups[i];if(n.type==r.Qz.Feature&&n.featureRoles&&!this.checkFeature(n.id))for(let i=0;i<n.featureRoles.length;i++){const a=n.featureRoles[i],r=e.metadata.columns.find((e=>e.roles[a]));r&&t.push(r.displayName)}}t.length&&this.showFeatureNotification(`"${t.join('", "')}" cannot be displayed without a premium license.`)}check(){this.offline&&this.pollingEnabled?this.scheduleGetServicePlans():this.checkMainGroup(!0)}checkMainGroup(e=!1){if(!this.available)return 4;if(!this.availablePlans.find((e=>e.type==r.Qz.Main)))return 4;let t=0,i=0;if(this.unsupported)i=1;else for(let e=0;e<this.availablePlans.length;e++){const n=this.availablePlans[e];if(n.type==r.Qz.Main){if(s(n.state))return this.currentNotification!=r.GQ.FeatureBanner&&this.clearNotifications(),n.state;3==n.state&&(i=2,t=n.state)}}return e&&this.showMainNotification(i),t}checkMain(e=!1){return!this.available||s(this.checkMainGroup(e))}mainStatus(){const e=this.checkMainGroup();let t="Not Available";return 1==e?t="Active":2==e?t="Active (Grace Period)":0==e?t="Inactive":3==e&&(t="Suspended"),{displayStatus:t,status:e}}checkFeature(e,t,i=!1){return!this.available||s(e?this.checkFeatureGroup(e,i):this.checkFeaturePlan(t,i))}featureStatus(e,t){const i=e?this.checkFeatureGroup(e):this.checkFeaturePlan(t);let n="Not Available";return 1==i?n="Premium":2==i?n="Premium (Grace Period)":0==i?n="Free":3==i&&(n="Free (Premium Suspended)"),{displayStatus:n,status:i}}checkFeaturePlan(e,t=!1){if(!this.available)return 4;const i=this.availablePlans.find((t=>t.id==e));if(i){if(!s(i.state)&&t&&i.type==r.Qz.Feature){const e=this.groups.find((e=>e.id==i.groupId));this.showFeatureNotification(e.tooltip)}return i.state}return 0}checkFeatureGroup(e,t=!1){if(!this.available)return 4;let i=0;const n=this.groups.find((t=>t.id==e));if(n){for(let e=0;e<n.planIds.length;e++){const t=n.planIds[e],a=this.checkFeaturePlan(t);if(s(a))return a;3==a&&(i=a)}t&&n.type==r.Qz.Feature&&this.showFeatureNotification(n.tooltip)}return i}showMainNotification(e){this.service.notifyLicenseRequired(e).then((t=>{t?(this.currentNotification=0==e?r.GQ.Icon:1==e?r.GQ.UsupportedOverlay:r.GQ.Icon,this.trigger("mainNotify")):this.options.blockIfReadingView&&2!=e&&this.showMainNotification(2)})).catch((()=>{}))}showFeatureNotification(e=o.DefaultFeatureTooltip){this.currentNotification>r.GQ.FeatureBanner||(this.unsupported?n.eP.SHOW({id:o.AlertId,icon:"certificate",iconAlign:"top",title:"Unsupported Environment",text:"Premium features cannot be enabled in your environment because is unsupported.",callToAction:{text:"Contact Us",url:this.meta.contactUrl||this.meta.url,button:!0},hideAfter:o.FeatureSettingsResetSeconds}):this.service.notifyFeatureBlocked(e).then((e=>{e&&(this.currentNotification=r.GQ.FeatureBanner,window.clearTimeout(this.revertFeatureNotificationTimeout),this.revertFeatureNotificationTimeout=window.setTimeout((()=>{this.currentNotification==r.GQ.FeatureBanner&&(this.currentNotification=r.GQ.None)}),1e4),this.trigger("featureNotify"))})).catch((()=>{})))}clearNotifications(){this.currentNotification=r.GQ.None,this.service.clearLicenseNotification(),this.trigger("notificationsClear")}}function s(e){return 1==e||2==e}},920:(e,t,i)=>{"use strict";i.d(t,{e:()=>o});var n=i(4920),a=i(1020),r=i(3824);class o{static enabled=!0;previousAlerts={};current;viewMode;static _instance;static get instance(){return o._instance||(o._instance=new this),o._instance}constructor(){if(o._instance)return o._instance;o._instance=this}static UPDATE(e){this.instance.update(e)}update(e){this.viewMode=e.viewMode}static SHOW(e){this.instance.show(e)}show(e){if(e={id:(0,a.uq)(),element:thisVisual.element,titleColor:"#333",textColor:"#333",fontSize:13,backgroundColor:"#f4f4f4",icon:"info",iconAlign:"middle",position:"bottom",requiredHeight:0,mustBeContained:!1,uncloseable:!1,closeButton:!0,hideOnClick:!0,important:!1,fullSize:!1,force:!1,hideAfter:0,reshowEvery:0,allowOnce:!1,...e},!o.enabled&&!e.force)return;if(this.current&&this.current.id==e.id)return;const t=e.element.getBoundingClientRect().height;if(!(e.requiredHeight&&t<e.requiredHeight||e.limitToMode&&e.limitToMode!=this.viewMode)){if(this.current){if(!e.important)return;this.hide()}e.allowOnce&&this.previousAlerts[e.id]||(this.previousAlerts[e.id]=!0,this.current=new s(e),!e.fullSize&&e.mustBeContained&&t<this.current.height?(this.current.destroy(),this.current=null):(this.current.show(),this.current.on("close",(e=>this.hide(e)))))}}static HIDE(e){this.instance.hide(e)}hide(e){!this.current||e&&this.current.id!=e||(this.current.hide(),this.current=null)}}class s extends r.e{options;element;reshowTimeout;showTimeout;hideTimeout;_id;get id(){return this._id}get height(){return this.element?this.element.getBoundingClientRect().height+20:0}constructor(e){super(),this.options=e,this._id=e.id,this.element=this.create()}show(){this.element&&(window.clearTimeout(this.showTimeout),window.clearTimeout(this.hideTimeout),window.clearTimeout(this.reshowTimeout),this.options.hideAfter&&(this.hideTimeout=window.setTimeout((()=>{this.hide()}),1e3*this.options.hideAfter+300)),this.showTimeout=window.setTimeout((()=>{this.options.element.appendChild(this.element),this.options.fullSize||this.reveal()}),300))}hide(){window.clearTimeout(this.showTimeout),window.clearTimeout(this.hideTimeout),this.conceal()}destroy(){this.element&&(this.element.remove(),this.element=null)}create(){const e=thisVisual.host.colorPalette,t=e&&e.isHighContrast,i=(0,n.En)(`#${this.id}.slide-alert${this.options.uncloseable?".fixed":""}${this.options.fullSize?".fit":""}`,{style:{width:"100%",background:t?e.background.value:this.options.backgroundColor,zIndex:this.options.zIndex?this.options.zIndex.toString():this.options.fullSize?"10001":"9980",...this.options.fullSize?{height:"100%"}:{borderTop:t?`1px solid ${e.foreground.value}`:"none"}}});if(this.options.uncloseable||this.options.fullSize||!this.options.hideOnClick||(i.style.cursor="pointer",i.addEventListener("click",(()=>{this.hide()}))),this.options.customRender)this.options.customRender(i);else{if(this.options.icon&&(0,n.En)(`.alert-icon.item.icon.icon-${this.options.icon}`,i,{style:{color:t?e.foreground.value:this.options.iconColor,alignSelf:"top"==this.options.iconAlign?"flex-start":"bottom"==this.options.iconAlign?"flex-end":"center"}}),this.options.title||this.options.text){const a=(0,n.En)(".alert-text",i);this.options.title&&(0,n.En)(".alert-title",a,{style:{fontSize:`${Math.ceil(1.2*this.options.fontSize)}px`,color:t?e.foreground.value:this.options.titleColor}},this.options.title),this.options.text&&(0,n.En)(".alert-message",a,{style:{fontSize:`${this.options.fontSize}px`,color:t?e.foreground.value:this.options.textColor}},this.options.text)}this.options.callToAction&&(0,n.En)(this.options.callToAction.button?".btn.alert-cta":"a.alert-cta",i,{style:{fontSize:`${this.options.fontSize}px`,color:this.options.callToAction.button?"#222":e.hyperlink.value},...this.options.callToAction.button?{}:{attr:{href:this.options.callToAction.url||"#",target:"_blank"}},events:{click:e=>{e.stopPropagation(),e.preventDefault(),this.options.callToAction.onClick?this.options.callToAction.onClick(e):thisVisual.host.launchUrl(this.options.callToAction.url)}}},this.options.callToAction.text)}return!this.options.uncloseable&&this.options.closeButton&&(0,n.En)("a.alert-close.icon.icon-close.control",i,{style:{color:t?e.foreground.value:this.options.titleColor},events:{click:e=>{e.preventDefault(),this.hide()}}}),i}reveal(e=400){this.element&&this.element.animate([{[this.options.position]:"-100%"},{[this.options.position]:0}],{duration:e,iterations:1,easing:"ease-in-out",fill:"forwards"})}conceal(e=400){this.element&&this.element.animate([{[this.options.position]:"-100%"}],{duration:this.element.classList.contains("fit")?0:e,iterations:1,easing:"ease-in-out",fill:"forwards"}).addEventListener("finish",(()=>{this.options.reshowEvery?this.reshowTimeout=window.setTimeout((()=>this.reveal()),1e3*this.options.reshowEvery):(this.destroy(),this.trigger("close",this.id))}))}}},5144:(e,t,i)=>{"use strict";i(4083)},3968:(e,t,i)=>{"use strict";i.d(t,{e:()=>s});var n=i(4920),a=i(3824),r=i(1020),o=i(8140);class s extends a.e{scale=1;customColorDialogIsVisible=!1;colorPalette;dialog;dialogContent;static _instance;static get instance(){return s._instance||(s._instance=new this),s._instance}constructor(e){if(super(),s._instance)return s._instance;s._instance=this,e||(e=thisVisual.host.colorPalette),this.colorPalette=e,this.listen()}listen(){document.addLiveEventListener("click",".color-picker",((e,t)=>{e.preventDefault();const i=t.parentElement;i.getAttribute("disabled")||s.SHOW(t,JSON.parse(i.dataset.options))})),document.addLiveEventListener("click",".color-picker-dialog .color-cell",((e,t)=>{e.preventDefault(),e.stopPropagation(),this.changeColor(t,t.dataset.color),s.HIDE()})),document.addLiveEventListener("change",".color-picker-dialog .custom-color-cell",((e,t)=>{e.stopPropagation(),this.changeColor(t,t.value),s.HIDE()})),document.addLiveEventListener("click",".color-picker-dialog .custom-color-cell",((e,t)=>{e.stopPropagation();const i=t.closest(".color-picker-dialog");(0,n.op)(".selected",i).forEach((e=>e.classList.remove("selected"))),t.classList.add("selected"),this.customColorDialogIsVisible=!0})),document.addLiveEventListener("click",".color-picker-dialog .content",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),document.addLiveEventListener("click",".color-picker-dialog",(()=>{this.customColorDialogIsVisible||s.HIDE()}))}changeColor(e,t){const i=e.closest(".color-picker-dialog"),a=i.dataset.id;(0,n.op)(".selected",i).forEach((e=>e.classList.remove("selected"))),e.classList.add("selected"),s.UPDATE_COLOR(a,t),this.trigger("change",{id:a,color:t})}static DOM(e,t){return this.instance.dom(e,t)}dom(e,t){(e={nullable:!0,customColors:[],colorWheel:!0,title:"Choose a color",color:"",disabled:!1,hiddenField:!0,id:"default",...e}).color||(e.color="");const i=(0,n.En)(`#${(0,r.Ok)(e.id)}.color-picker-container`,{attr:{disabled:e.disabled},data:{options:e}},[(0,n.En)("button.color-picker",[(0,n.En)(".color-cell"+(e.color?"":".empty"),{style:{background:e.color||"none"}}),(0,n.En)(".dropdown.icon-bottom")])]);return e.hiddenField&&(0,n.En)("input.color-field",i,{attr:{type:"hidden",name:e.id,value:e.color}}),t&&t.appendChild(i),i}static UPDATE(e){this.instance.update(e)}update(e){this.scale=e.viewport.scale}static UPDATE_COLOR(e,t){const i=(0,r.Ok)(e),a=(0,n.Ij)(`#${i}`);if(!a.isNull){const e=JSON.parse(a.dataset.options);e.color=t,a.dataset.options=JSON.stringify(e);const i=(0,n.Ij)(".color-cell",a);t?(i.classList.remove("empty"),i.style.background=t):(i.classList.add("empty"),i.style.background="none");const r=(0,n.Ij)("input.color-field",a);r.isNull||(r.value=t,r.dispatchEvent(new Event("change")))}}static SHOW(e,t){this.instance.showDialog(e,t)}showDialog(e,t){if(this.dialog&&this.dialog.dataset.id==t.id)return;this.hideDialog(),this.dialog=(0,n.En)(".color-picker-dialog",e.parentElement,{style:{transform:`scale(${1/this.scale})`},data:{id:t.id}}),this.dialogContent=(0,n.En)(".content",this.dialog);const i=(0,n.En)(".theme-colors",this.dialogContent);(0,n.En)("h1",i,t.title);const a=(0,n.En)("table.colors",i),r=this.dialogColors(t.customColors),o=(e,t=1)=>{const i=(0,n.En)("tr",e),a=(0,n.En)("td",i,{attr:{colspan:t}});(0,n.En)("hr",a)},s=(e,t,i=!1,a,r=1)=>{const o=(0,n.En)("td",e,{attr:{colspan:r}}),s=(0,n.En)(".color-tile",o);(0,n.En)(`.color-cell${t?"":".empty"}${i?".selected":""}`,s,{style:{background:t},attr:{title:t},data:{color:t}}),a&&(0,n.En)("span",s,a)},l=(e,t,i=!1,a=1)=>{const r=(0,n.En)("td",e,{attr:{colspan:a}}),o=(0,n.En)(".color-tile",r);(0,n.En)("input.custom-color-cell"+(i?".selected":""),o,{attr:{type:"color",value:t||"#ffffff"},events:{blur:()=>this.customColorDialogIsVisible=!1,input:e=>{const t=e.target;this.changeColor(t,t.value)}}}),(0,n.En)("span",o,"Custom color")},c=10;let u=!1;for(let e=0;e<6;e++){const i=(0,n.En)("tr",a);for(let n=0;n<c;n++){const a=r[n][e],o=t.color?t.color.toLowerCase()==a.toLowerCase():!a;o&&(u=!0),s(i,a,o)}0==e&&o(a,c)}t.nullable&&(o(a,c),s((0,n.En)("tr",a),"",!t.color,"No fill",c)),t.colorWheel&&(o(a,c),l((0,n.En)("tr",a),t.color,!(u||!t.color),c)),this.positionDialog(e)}dialogColors(e){const t=[["#ffffff","#E6E6E6","#CCCCCC","#B3B3B3","#808080","#666666"],["#000000","#999999","#666666","#333333","#1A1A1A","#000000"]];if(e)for(let i=0;i<e.length;i++){const n=e[i];t.push([n,(0,o.Oc)(.45,n),(0,o.Oc)(.25,n),(0,o.Oc)(.1,n),(0,o.Oc)(3*-.15,n),(0,o.Oc)(-.6,n),(0,o.Oc)(-.75,n)])}const i=Math.max(0,10-t.length);if(i&&this.colorPalette)for(let e=0;e<i;e++){const i=this.colorPalette.colors[e].value;t.push([i,(0,o.Oc)(.45,i),(0,o.Oc)(.25,i),(0,o.Oc)(.1,i),(0,o.Oc)(3*-.15,i),(0,o.Oc)(-.6,i),(0,o.Oc)(-.75,i)])}return t}positionDialog(e){const t=Math.max(0,e.offsetLeft+this.dialogContent.offsetWidth>window.innerWidth?e.offsetLeft-this.dialogContent.offsetWidth+e.offsetWidth:e.offsetLeft),i=Math.max(0,e.offsetTop+e.offsetHeight+this.dialogContent.offsetHeight>window.innerHeight?e.offsetTop-this.dialogContent.offsetHeight-3:e.offsetTop+e.offsetHeight+3);this.dialogContent.style.left=`${t}px`,this.dialogContent.style.top=`${i}px`}static HIDE(){this.instance.hideDialog()}hideDialog(){this.dialog&&(this.dialog.remove(),this.dialog=null),this.customColorDialogIsVisible=!1}}},9292:(e,t,i)=>{"use strict";var n;i.d(t,{Yz:()=>r,mS:()=>o,sv:()=>a,uG:()=>n}),function(e){e[e.Auto=0]="Auto",e[e.Enabled=1]="Enabled",e[e.Disabled=2]="Disabled"}(n||(n={}));class a{static _instance;static get instance(){return a._instance||(a._instance=new this),a._instance}constructor(){if(a._instance)return a._instance;a._instance=this}get devEnvironment(){return thisVisual.element.getAttribute("class").indexOf("_DEBUG")>=0}status=n.Auto;get enabled(){return this.status==n.Enabled||this.status==n.Auto&&this.devEnvironment}static MESSAGE(e,...t){this.instance.enabled&&window.console[e](...t)}static GROUP(...e){this.MESSAGE("group",...e)}static GROUP_END(...e){this.MESSAGE("groupEnd",...e)}static LOG(...e){this.MESSAGE("log",...e)}static ERROR(...e){this.MESSAGE("error",...e)}}function r(...e){a.LOG(...e)}function o(){return function(e,t,i){return{value:function(...e){try{return i.value.apply(this,e)}catch(e){throw a.ERROR(e),e}}}}}},9856:(e,t,i)=>{"use strict";i.d(t,{SM:()=>o});var n,a=i(4920),r=i(4083);!function(e){e[e.separator=0]="separator",e[e.label=1]="label",e[e.normal=2]="normal",e[e.custom=3]="custom"}(n||(n={}));class o{position;scrollbar;menuControl;constructor(e,t){o.CLOSE(),this.position=null!=e.isSticky&&e.isSticky,this.scrollbar=null!=e.scrollbar&&e.scrollbar,this.menuControl=(0,a.En)(`ul.contextualJs.contextualMenu${e.hasIcons?".hasIcons":""}${e.hasTips?".hasTips":""}`),"auto"!=e.width&&(this.menuControl.style.width=`${e.width||200}px`),e.scale&&this.update(e.scale),e.items.forEach((e=>{const t=new s(e);this.menuControl.appendChild(t.element)})),t&&(t.stopPropagation(),document.body.appendChild(this.menuControl),o.PLACE(this.position,t,this.menuControl,this.scrollbar)),o.TOGGLE_LISTENERS(!0)}static TOGGLE_LISTENERS(e){["click","contextmenu"].forEach((t=>{e?document.addEventListener(t,o.CLEAR_LISTENER):document.removeEventListener(t,o.CLEAR_LISTENER)}))}static CLEAR_LISTENER(e){e.target.classList.contains("contextualJs")||o.CLOSE()}get isVisible(){return this.menuControl.parentElement==document.body}add(e){this.menuControl.appendChild(e.element)}show(e){e.stopPropagation(),document.body.appendChild(this.menuControl),o.PLACE(this.position,e,this.menuControl,this.scrollbar)}hide(){o.CLOSE()}toggle(e){e.stopPropagation(),this.isVisible?o.CLOSE():(o.CLOSE(),document.body.appendChild(this.menuControl),o.PLACE(this.position,e,this.menuControl,this.scrollbar),o.TOGGLE_LISTENERS(!0))}update(e){this.menuControl.style.transformOrigin="left top",this.menuControl.style.transform=`scale(${1/e})`}static CLOSE(){(0,a.op)(".contextualMenu:not(.contextualMenuHidden)").forEach((e=>e.remove())),o.TOGGLE_LISTENERS(!1)}static PLACE(e,t,i,n=!1){const a=i.getBoundingClientRect(),r=e?t.target.getBoundingClientRect():new DOMRect(t.clientX,t.clientY,0,0),o=r.left+a.width>=window.innerWidth&&r.left>a.width+10?r.left-a.width+r.width:r.left,s=r.top+a.height>=window.innerHeight&&r.top>a.height?r.top-a.height:r.top+r.height;i.style.top=`${s}px`,i.style.left=`${o}px`,n&&s+a.height+10>window.innerHeight?(i.style.height=window.innerHeight-s-10+"px",i.style.overflow="auto"):(i.style.height=null,i.style.overflow="hidden")}}class s{element;constructor(e){let t=!0;switch(void 0!==e.enabled&&(t="boolean"==typeof e.enabled?e.enabled:e.enabled()),e.type){case n.separator:this.separator();break;case n.label:this.label(e.label,e.icon);break;case n.custom:void 0!==e.render&&((0,r.mg)(e.render)?this.element=e.render():this.element=e.render);break;case n.normal:default:this.button(e.label,e.onClick,e.key,e.shortcut,e.icon,t)}e.className&&this.element.classList.add(e.className)}label(e,t){this.element=(0,a.En)("li.contextualJs.contextualMenuItemOuter",[(0,a.En)(".contextualJs.contextualMenuItem.static",[(0,a.En)(".contextualJs.contextualMenuItemIcon"+(t?`.icon.icon-${t}`:"")),(0,a.En)("span.contextualJs.contextualMenuItemTitle",e)])])}button(e,t,i,n,r,s=!0){this.element=(0,a.En)("li.contextualJs.contextualMenuItemOuter",{events:{click:e=>{s&&(e.stopPropagation(),o.CLOSE(),t&&window.setTimeout((()=>{t(e,i)}),100))}}},[(0,a.En)(".contextualJs.contextualMenuItem"+(s?"":".disabled"),[(0,a.En)(".contextualJs.contextualMenuItemIcon"+(r?`.icon.icon-${r}`:"")),(0,a.En)("span.contextualJs.contextualMenuItemTitle",e),(0,a.En)("span.contextualJs.contextualMenuItemTip",n||"")])])}separator(){this.element=(0,a.En)("li.contextualJs.contextualMenuSeparator",[(0,a.En)("span")])}}},3824:(e,t,i)=>{"use strict";i.d(t,{e:()=>r});var n=i(4083),a=i(1020);class r{listeners={};get solo(){return(0,n.t7)(this.listeners)}on(e,t,i){i||(i=(0,a.uq)()),(Array.isArray(e)?e:[e]).forEach((e=>{this.listeners[`${i}_${e}`]={event:e,callback:t}}))}off(e,t){e||t?(Array.isArray(e)?e:[e]).forEach((e=>{delete this.listeners[`${t}_${e}`]})):this.listeners={}}trigger(e,t){for(const i of Object.values(this.listeners))i.event==e&&(0,n.mg)(i.callback)&&i.callback(t,e)}destroy(){this.off()}}},4920:(e,t,i)=>{"use strict";i.d(t,{En:()=>r,Ij:()=>l,_6:()=>s,op:()=>c});var n=i(4083);function a(e){const t=["style","attr","data","list","middleware","events"];if(e)for(let i=0;i<t.length;i++)if((0,n.QN)(e,t[i]))return!0;return!1}function r(e,t,i,r,s){return function(e,t,i,a,r){const s=function(e){const t=e.trim().replace(" ",".").split(/([.#])/),i=[];let n="";for(let e=1;e<t.length;e+=2)switch(t[e]){case".":i.push(t[e+1]);break;case"#":n=t[e+1]}return{tagName:(t[0]||"div").toLowerCase(),classNames:i,id:n}}(e),l=document.createElement(s.tagName);if(s.id&&(l.id=s.id),s.classNames.length&&l.classList.add(...s.classNames),r&&(l.innerText=r),i){if(i.style)for(const e of Object.keys(i.style))if(e&&e in l.style){null==i.style[e]?l.style.removeProperty(e):l.style[e]=o(e,i.style[e])}if(i.attr)for(const e of Object.keys(i.attr))if(e){const t=i.attr[e];null==t||!1===t?l.removeAttribute(e):l.setAttribute(e,t.toString())}if(i.data)for(const e of Object.keys(i.data))if(e){null==i.data[e]?delete l.dataset[e]:l.dataset[e]=(0,n.L7)(i.data[e])?i.data[e]:JSON.stringify(i.data[e])}if(i.list&&"select"==s.tagName&&i.list.forEach((e=>{const t=document.createElement("option");t.value=e.value.toString(),t.text=void 0===e.text?t.value:e.text,e.selected&&(t.selected=!0),void 0!==e.data&&(t.dataset.data=e.data),l.appendChild(t)})),i.events)for(const e of Object.keys(i.events))l.addEventListener(e,(t=>i.events[e](t,t.target)));i.middleware&&i.middleware(l)}return a&&a.forEach((e=>l.appendChild(e))),t&&t.appendChild(l),l}(e,t instanceof HTMLElement?t:void 0,a(t)?t:a(i)?i:void 0,Array.isArray(t)?t:Array.isArray(i)?i:Array.isArray(r)?r:void 0,"string"==typeof t?t:"string"==typeof i?i:"string"==typeof r?r:s)}function o(e,t){return"number"==typeof t&&0!=t&&["fontSize","width","minWidth","maxWidth","height","minHeight","maxHeight","margin","marginTop","marginRight","marginBottom","marginLeft","padding","paddingTop","paddingRight","paddingBottom","paddingRight","top","right","bottom","left","borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"].indexOf(e)>=0?`${t}px`:t.toString()}function s(e,t,i,n){const a=r(`label.switch-container${e&&e.startsWith(".")?e.trim().replace(" ","."):""}${i&&i.title?".icon.icon-help-super":""}`,{attr:{hidden:i&&i.hidden,title:i&&i.title}},[r("span.switch",[r("input.switch-input",{attr:{type:"checkbox",name:i&&i.name,checked:i&&i.checked,disabled:i&&i.disabled},events:{change:e=>{if(i&&i.change){const t=e.currentTarget.checked;i.change(e,t),e.stopPropagation()}}}}),r("span.slider")])]);return n&&r("span.label",a,n),t&&t.appendChild(a),a}function l(e,t=document){let i=t.querySelector(e);return i||(i=document.createElement("null"),i.isNull=!0),i}function c(e,t=document){return Array.from(t.querySelectorAll(e))}Node.prototype.addLiveEventListener=function(e,t,i){this.addEventListener(e,(e=>{const n=e.target;if(n){const a=n.closest(t);a&&i&&i(e,a)}}))},HTMLElement.prototype.toggleClass=function(e,t){null==t&&(t=!this.classList.contains(e)),t?this.classList.add(e):this.classList.remove(e)},HTMLElement.prototype.toggleAttr=function(e,t,i=""){null==t&&(t=!this.hasAttribute(e)),t?this.setAttribute(e,i):this.removeAttribute(e)},HTMLElement.prototype.isVisible=function(){return!("none"===window.getComputedStyle(this).display)},HTMLElement.prototype.toggle=function(e){this.toggleAttr("hidden",!e)}},4472:(e,t,i)=>{"use strict";i.d(t,{CO:()=>n});class n{locale;colorPalette;selectionManager;persistProperties;applyJsonFilter;tooltipService;telemetry;authenticationService;hostCapabilities;launchUrl;fetchMoreData;openModalDialog;instanceId;refreshHostData;createLocalizationManager;storageService;downloadService;eventService;switchFocusModeState;hostEnv;displayWarningIcon;licenseManager;webAccessService;drill;applyCustomSort;acquireAADTokenService;setCanDrill;constructor(e,t){this.locale=t||"en-US",e?(this.colorPalette=new s(e?e.colors:null),this.colorPalette.isHighContrast=e.isHighContrast,this.colorPalette.foreground=e.foreground,this.colorPalette.foregroundLight=e.foregroundLight,this.colorPalette.foregroundDark=e.foregroundDark,this.colorPalette.foregroundNeutralLight=e.foregroundNeutralLight,this.colorPalette.foregroundNeutralDark=e.foregroundNeutralDark,this.colorPalette.foregroundNeutralSecondary=e.foregroundNeutralSecondary,this.colorPalette.foregroundNeutralSecondaryAlt=e.foregroundNeutralSecondaryAlt,this.colorPalette.foregroundNeutralSecondaryAlt2=e.foregroundNeutralSecondaryAlt2,this.colorPalette.foregroundNeutralTertiary=e.foregroundNeutralTertiary,this.colorPalette.foregroundNeutralTertiaryAlt=e.foregroundNeutralTertiaryAlt,this.colorPalette.foregroundSelected=e.foregroundSelected,this.colorPalette.foregroundButton=e.foregroundButton,this.colorPalette.background=e.background,this.colorPalette.backgroundLight=e.backgroundLight,this.colorPalette.backgroundNeutral=e.backgroundNeutral,this.colorPalette.backgroundDark=e.backgroundDark,this.colorPalette.hyperlink=e.hyperlink,this.colorPalette.visitedHyperlink=e.visitedHyperlink,this.colorPalette.mapPushpin=e.mapPushpin,this.colorPalette.shapeStroke=e.shapeStroke,this.colorPalette.selection=e.selection,this.colorPalette.separator=e.separator,this.colorPalette.negative=e.negative,this.colorPalette.neutral=e.neutral,this.colorPalette.positive=e.positive):this.colorPalette=new s}createSelectionIdBuilder(){return new a}createSelectionManager(){return this.selectionManager}}class a{withCategory(e,t){return this}withSeries(e,t){return this}withMeasure(e){return this}createSelectionId(e=""){return new o(e)}withMatrixNode(e,t){return this}withTable(e,t){return this}}let r=0;class o{key;measures;constructor(e){this.measures=[r++],this.key=e}compareMeasures=(e,t)=>e===t;equals(e){return this===e}includes(e,t){return this===e}getKey(){return this.key}getSelector(){return{}}getSelectorsByColumn(){return{}}hasIdentity(){return!0}}class s{static DefaultColors=[{value:"#01B8AA"},{value:"#374649"},{value:"#FD625E"},{value:"#F2C80F"},{value:"#5F6B6D"},{value:"#8AD4EB"},{value:"#FE9666"},{value:"#A66999"},{value:"#3599B8"},{value:"#DFBFBF"},{value:"#4AC5BB"},{value:"#5F6B6D"},{value:"#FB8281"},{value:"#F4D25A"},{value:"#7F898A"},{value:"#A4DDEE"},{value:"#FDAB89"},{value:"#B687AC"},{value:"#28738A"},{value:"#A78F8F"},{value:"#168980"},{value:"#293537"},{value:"#BB4A4A"},{value:"#B59525"},{value:"#475052"},{value:"#6A9FB0"},{value:"#BD7150"},{value:"#7B4F71"},{value:"#1B4D5C"},{value:"#706060"},{value:"#0F5C55"},{value:"#1C2325"},{value:"#7D3231"},{value:"#796419"},{value:"#303637"},{value:"#476A75"},{value:"#7E4B36"},{value:"#52354C"},{value:"#0D262E"},{value:"#544848"}];colors;colorIndex=0;constructor(e=[]){this.colors=e}getColor(e){let t=this.colors[e];if(t)return t;const i=s.DefaultColors;return t=this.colors[e]=i[this.colorIndex++],this.colorIndex>=i.length&&(this.colorIndex=0),t}isHighContrast;foreground;foregroundLight;foregroundDark;foregroundNeutralLight;foregroundNeutralDark;foregroundNeutralSecondary;foregroundNeutralSecondaryAlt;foregroundNeutralSecondaryAlt2;foregroundNeutralTertiary;foregroundNeutralTertiaryAlt;foregroundSelected;foregroundButton;background;backgroundLight;backgroundNeutral;backgroundDark;hyperlink;visitedHyperlink;mapPushpin;shapeStroke;selection;separator;negative;neutral;positive;reset(){return this}}},824:(e,t,i)=>{"use strict";i.d(t,{e:()=>o,u:()=>s});var n=i(7656),a=i(4083),r=i(1020);class o{static _instance;static get instance(){return o._instance||(o._instance=new this),o._instance}constructor(){if(o._instance)return o._instance;o._instance=this}formatters={};create(e){e.value=0==e.displayUnitSystemType?this.getThresholdValue(e.value):e.displayUnitSystemType;const t=(0,r.m)(JSON.stringify(e));if((0,a.QN)(this.formatters,t))return this.formatters[t];const i=n.IY.create(e);return this.formatters[t]=i,i}getThresholdValue(e){if(!isNaN(e)){const t=[1,1e3,1e6,1e9,1e12];for(let i=t.length-1;i>0;i--)if(e>=t[i])return t[i]}return e}}function s(e){if(e&&e.indexOf("%")<0){const t=/([(-]?)(?:[^#,.\n]*?)([#\d])([,.]?)(.*?)(;|$|\);?)/gm;e=e.replace(t,"$1$2$3$4%$5")}return e}},3520:(e,t,i)=>{"use strict";i.d(t,{AR:()=>d.AR,CO:()=>v.CO,CW:()=>b.CW,En:()=>o.En,G4:()=>d.G4,I$:()=>n.I$,I7:()=>n.I7,IY:()=>a.IY,Ij:()=>o.Ij,KD:()=>r.KD,K_:()=>a.K_,Kk:()=>d.Kk,Oc:()=>s.Oc,Ok:()=>r.Ok,Q1:()=>a.Q1,QH:()=>s.QH,QN:()=>n.QN,Qr:()=>b.Qr,S8:()=>a.S8,SM:()=>f.SM,U1:()=>r.U1,Uh:()=>b.Uh,Ul:()=>r.Ul,Yd:()=>y.Yd,Yj:()=>r.Yj,Yz:()=>c.Yz,_6:()=>o._6,c8:()=>h.c,ct:()=>n.ct,eM:()=>m.e,eP:()=>g.e,eo:()=>u.e,es:()=>l.e,kz:()=>a.kz,m0:()=>r.m0,m2:()=>a.m2,mO:()=>d.mO,mS:()=>c.mS,mU:()=>p.m,mc:()=>a.mc,mm:()=>d.mm,o1:()=>a.o1,op:()=>o.op,q2:()=>d.q2,sv:()=>c.sv,t7:()=>n.t7,uG:()=>c.uG,uY:()=>u.u,uq:()=>r.uq,yk:()=>r.QH});var n=i(4083),a=i(6936),r=i(1020),o=i(4920),s=(i(5144),i(5440),i(8140)),l=i(3824),c=i(9292),u=i(824),d=i(7496),h=i(2232),g=i(920),p=i(8504),f=i(9856),m=i(3968),y=i(2488),v=i(4472),b=i(8972)},2488:(e,t,i)=>{"use strict";i.d(t,{Yd:()=>o});var n=i(3824),a=i(4920),r=i(1020);class o extends n.e{data;element;options;constructor(e){super(),this.options={title:null,size:null,modal:!0,scale:1,buttons:[],middleware:null,...e};const t=e=>{if("Escape"==e.key)this.trigger("action","cancel"),e.stopPropagation();else if(this.options.buttons)for(let t=0;t<this.options.buttons.length;t++){const i=this.options.buttons[t];if(i.key&&e.key==i.key){this.trigger("action",i.action),e.stopPropagation();break}}};this.element=(0,a.En)(".inline-dialog",{events:{click:()=>{this.options.modal||this.trigger("action","cancel")},keydown:e=>t(e)}});const i=(0,a.En)(".content",this.element,{style:{transform:`scale(${1/this.options.scale})`},events:{click:e=>e.stopPropagation()}});this.options.size&&(this.options.size.width&&(i.style.width=`${this.options.size.width}px`),this.options.size.height&&(i.style.height=`${this.options.size.height}px`));const n=(0,a.En)("header",i);this.options.title&&(0,a.En)("h1.title",n,this.options.title),(0,a.En)("a.close.control.icon-close.solo",n,{attr:{href:"#"},events:{click:e=>{e.preventDefault(),this.trigger("action","cancel")}}}),(0,a.En)(".body",i,{middleware:e=>this.options.middleware(e,this)}),(0,a.En)("footer",i,{middleware:e=>{this.options.buttons&&this.options.buttons.forEach((t=>{(0,a.En)(`#${(0,r.Ok)(t.name)}.btn${t.className?`.${t.className}`:""}${t.disabled?".disabled":""}`,e,{data:{action:t.action},events:{click:e=>{e.preventDefault();const t=e.target;t.classList.contains("disabled")||this.trigger("action",t.dataset.action)}}},t.name)}))}})}show(){return document.body.appendChild(this.element),new Promise(((e,t)=>{this.on("action",(i=>{this.onAction(i,e,t)}))}))}hide(){this.element.classList.add("out")}destroy(){this.hide(),window.setTimeout((()=>{document.body.removeChild(this.element),this.element=null,super.destroy()}),300)}enableButton(e,t){if(this.options.buttons){const i=(0,r.Ok)(e),n=(0,a.Ij)(`#${i}`,this.element);n.isNull||(t?n.classList.remove("disabled"):n.classList.add("disabled"))}}onAction(e,t,i){this.destroy(),t({action:e,data:this.data})}}},7496:(e,t,i)=>{"use strict";i.d(t,{AR:()=>c,G4:()=>s,Kk:()=>l,mO:()=>d,mm:()=>u,q2:()=>n});var n,a=i(9280),r=i(4083),o=i(6936);!function(e){e[e.Static=0]="Static",e[e.Category=1]="Category",e[e.Measure=2]="Measure"}(n||(n={}));class s{legacyMap;maxEnumerableDataBoundValues;constructor(e=[],t=100){this.legacyMap=e,this.maxEnumerableDataBoundValues=t}enumerate(e,t,i){if(i&&(0,r.QN)(t,e)){const n=t[e];return this.enumerateObjectInstances(e,n,i)}return[]}enumerateObjectInstances(e,t,i){let n=[];for(let a=0;a<t.length;a++){const o=t[a];let s=!0;if((0,r.I7)(o.if)&&(0,r.mg)(o.if)&&(s=o.if(),s&&(0,r.I7)(o.then)))n=n.concat(this.enumerateObjectInstances(e,o.then,i));else if(s&&(0,r.I7)(o.name)){const t=(0,r.I7)(o.displayName,!1)?o.displayName:"";if(o.dataBound)(0,r.QN)(i,e)&&(0,r.QN)(i[e],o.name)&&(0,r.QN)(i[e][o.name],"values")&&i[e][o.name].values.forEach(((i,a)=>{if(a>=this.maxEnumerableDataBoundValues)return;const r=i.value,s=t?t.replace("{field}",i.displayName).replace("{index}",(a+1).toString()):i.displayName;o.displayName=s,o.selector=i.selector,n.push(this.getObjectInstance(e,o,r))}));else{let t;(0,r.QN)(i,e)&&(0,r.QN)(i[e],o.name)&&(t=i[e][o.name]),n.push(this.getObjectInstance(e,o,t))}}}return n}getObjectInstance(e,t,i){const n={objectName:e,properties:{},selector:null};return n.properties[t.name]=(0,r.I7)(t.value,!0)?t.value:i,t.conditional?(n.selector=a.createDataViewWildcardSelector(0),void 0!==t.selector&&(n.altConstantValueSelector=t.selector),void 0===n.propertyInstanceKind&&(n.propertyInstanceKind={}),n.propertyInstanceKind[t.name]=3):(0,r.I7)(t.selector)&&(n.selector=t.selector),(0,r.I7)(t.displayName)&&(n.displayName=t.displayName),(0,r.I7)(t.range)&&(n.validValues={},n.validValues[t.name]={numberRange:{min:t.range[0],max:t.range[1]}}),n}parseSettings(e,t){const i=(0,r.ct)(t),a=e&&e.dataViews&&e.dataViews[0];if(a)for(const e of Object.keys(i))if(i[e])for(const t of Object.keys(i[e])){const r=d(i[e][t]);if(r){if(r==n.Measure){if(a.categorical){const n=i[e][t];let r=[];a.categorical.categories&&(r=r.concat((0,o._m)(a.categorical.categories,n.columnRole))),a.categorical.values&&(r=r.concat((0,o.S8)(a.categorical.values,n.columnRole))),r.forEach(((i,r)=>{const o=n.values[r].value,s=i&&i.source&&i.source.objects;n.values[r].value=l(s,e,t,o,this.legacyMap,a.metadata.objects)}))}}else if(r==n.Category&&a.categorical&&a.categorical.categories){const n=i[e][t],r=(0,o._m)(a.categorical.categories,n.columnRole,o.K_.Last);r&&r.objects&&r.objects.forEach(((i,r)=>{const o=n.values[r].value;n.values[r].value=l(i,e,t,o,this.legacyMap,a.metadata.objects)}))}}else if(a.metadata&&a.metadata.objects){const n=i[e][t];i[e][t]=l(a.metadata.objects,e,t,n,this.legacyMap)}}return i}}function l(e,t,i,n,a=[],r){let o;if(e){const n=e[t];if(n){const e=n[i];if(void 0!==e&&(o=e,"string"==typeof o))try{o=JSON.parse(o)}catch(e){}}}if(void 0===o&&a.length)for(let n=0;n<a.length;n++){const s=a[n].map((e=>{const t=e.split(".");return{groupName:t[0],propertyName:t[1]}})),c=s[0],u=s[1];if(t==u.groupName&&i==u.propertyName&&(o=l(e,c.groupName,c.propertyName),void 0===o&&r&&(o=l(r,c.groupName,c.propertyName)),null!=o))break}return void 0===o&&(o=n),o}function c(e,t,i){const a={dataBoundType:n.Category,columnRole:e,values:[]},r=t&&t.dataViews&&t.dataViews[0];if(r&&r.categorical&&r.categorical.categories){const t=(0,o._m)(r.categorical.categories,e,o.K_.Last);t&&t.values&&t.values.forEach(((e,n)=>{const r=null==e?"(Blank)":e.toString();let o;"value"==i.kind?o=e:"color"==i.kind?o={solid:{color:i.palette.getColor(r).value}}:"static"==i.kind?o=i.value:"list"==i.kind&&(o=i.list[n%i.list.length]);const s=thisVisual.host.createSelectionIdBuilder().withCategory(t,n).createSelectionId();a.values.push({value:o,selector:s.getSelector(),displayName:r})}))}return a}function u(e,t,i){const a={dataBoundType:n.Measure,columnRole:e,values:[]},r=t&&t.dataViews&&t.dataViews[0];if(r&&r.categorical){let t=[];r.categorical.categories&&(t=t.concat((0,o._m)(r.categorical.categories,e))),r.categorical.values&&(t=t.concat((0,o.S8)(r.categorical.values,e))),t.forEach(((e,t)=>{let n;"value"==i.kind?n=e.source.displayName:"color"==i.kind?n={solid:{color:i.palette.getColor(e.source.displayName).value}}:"static"==i.kind?n=i.value:"list"==i.kind&&(n=i.list[t%i.list.length]);const r=thisVisual.host.createSelectionIdBuilder().withMeasure(e.source.queryName).createSelectionId();a.values.push({value:n,selector:r.getSelector(),displayName:e.source.displayName})}))}return a}function d(e){return e&&(0,r.QN)(e,"dataBoundType")?e.dataBoundType:n.Static}},2232:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(4083);class a{static defaultQueue="default";queue={};static _instance;static get instance(){return a._instance||(a._instance=new this),a._instance}constructor(){if(a._instance)return a._instance;a._instance=this}sanitizeValues(e){const t=(0,n.ct)(e);for(const e of Object.keys(t)){let i=t[e];null!==i&&(0,n.Y9)(i)&&(i=(0,n.QN)(i,"solid")?i.solid.color:JSON.stringify(i)),t[e]=i}return t}updateParsedSettings(e,t){e.forEach((e=>{if((0,n.QN)(t,e.objectName))for(const i of Object.keys(e.properties))if((0,n.QN)(t[e.objectName],i)){let n=e.properties[i];if(void 0!==n&&"string"==typeof n)try{n=JSON.parse(n)}catch(e){}t[e.objectName][i]=n}}))}static SAVE(e,t=!0,i){this.BATCH(e),this.BATCH_SAVE(a.defaultQueue,t,i)}static BATCH(e,t=a.defaultQueue){const i=this.instance;i.queue[t]||(i.queue[t]=[]),e.properties=i.sanitizeValues(e.properties),i.queue[t].push(e)}static BATCH_SAVE(e,t,i){let n="string"==typeof e?e:"string"==typeof t?t:void 0;void 0===n&&(n=a.defaultQueue);let r="boolean"==typeof e?e:"boolean"==typeof t?t:void 0;void 0===r&&(r=!0);const o="object"==typeof e?e:"object"==typeof t?t:i,s=this.instance;s.queue[n]&&s.queue[n].length&&(r&&(globalThis.thisVisual.internalUpdate=!0),thisVisual.host.persistProperties({merge:s.queue[n]}),o&&s.updateParsedSettings(s.queue[n],o),s.queue[n].find((e=>null!=e.selector))&&thisVisual.host.refreshHostData(),this.CLEAR(n))}static CLEAR(e){const t=this.instance;e?delete t.queue[e]:t.queue={}}}},8140:(e,t,i)=>{"use strict";function n(e,t=1){if(!e)return"#000";const i="rgb"==e.slice(0,3)?function(e){const[t,i,n,a]=e.split(",");return{r:parseInt("a"==t[3]?t.slice(5):t.slice(4)),g:parseInt(i),b:parseInt(n),a:a?parseInt(a):1}}(e):function(e,t=1){const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(function(e){return"#"!==e.substring(0,1)&&(e="#"+e),4==e.length&&(e+=e.substring(1,3)),e.toLowerCase()}(e));return{r:i?parseInt(i[1],16):0,g:i?parseInt(i[2],16):0,b:i?parseInt(i[3],16):0,a:t}}(e);return a(t*(Math.round((299*i.r+587*i.g+114*i.b)/1e3)>140?-1:1),e)}function a(e,t,i=null,n=!1){let a,r,o,s,l,c,u;const d=parseInt,h=Math.round;let g=Number("string"==typeof i);if("number"!=typeof e||e<-1||e>1||"string"!=typeof t||"r"!=t[0]&&"#"!=t[0]||i&&!g)return null;const p=e=>{let t=e.length;const i={};if(t>9){if([a,r,o,g]=e=e.split(","),t=e.length,t<3||t>4)return null;i.r=d("a"==a[3]?a.slice(5):a.slice(4)),i.g=d(r),i.b=d(o),i.a=g||-1}else{if(8==t||6==t||t<4)return null;t<6&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+(t>4?e[4]+e[4]:"")),e=d(e.slice(1),16),9==t||5==t?(i.r=e>>24&255,i.g=e>>16&255,i.b=e>>8&255,i.a=h((255&e)/.255)/1e3):(i.r=e>>16,i.g=e>>8&255,i.b=255&e,i.a=-1)}return i};return u=t.length>9,u=g?i.length>9||"c"==i&&!u:u,l=p(t),s=e<0,c=i&&"c"!=i?p(i):s?{r:0,g:0,b:0,a:-1}:{r:255,g:255,b:255,a:-1},s=1-(e=s?-1*e:e),l&&c?(n?(a=h(s*l.r+e*c.r),r=h(s*l.g+e*c.g),o=h(s*l.b+e*c.b)):(a=h((s*l.r**2+e*c.r**2)**.5),r=h((s*l.g**2+e*c.g**2)**.5),o=h((s*l.b**2+e*c.b**2)**.5)),g=l.a,c=c.a,l=g>=0||c>=0,g=l?g<0?c:c<0?g:g*s+c*e:0,u?"rgb"+(l?"a(":"(")+a+","+r+","+o+(l?","+h(1e3*g)/1e3:"")+")":"#"+(4294967296+16777216*a+65536*r+256*o+(l?h(255*g):0)).toString(16).slice(1,l?void 0:-2)):null}i.d(t,{Oc:()=>a,QH:()=>n})},6936:(e,t,i)=>{"use strict";i.d(t,{IY:()=>d,K_:()=>n,Q1:()=>s,S8:()=>r,_m:()=>o,kz:()=>c,m2:()=>u,mc:()=>h,o1:()=>l});var n,a=i(4083);function r(e,t){const i=[];if(e)for(let n=0;n<e.length;n++){const r=e[n];(0,a.QN)(r.source.roles,t)&&i.push(r)}return i}function o(e,t,i=n.All){const r=[];if(e){for(let o=0;o<e.length;o++){const s=e[o];if((0,a.QN)(s.source.roles,t)){if(i==n.First)return s;r.push(s)}}if(i==n.Last&&r.length)return r[r.length-1]}return i==n.All?r:null}function s(e,t,i=n.All){const r=[];if(e&&e.length){for(let o=0;o<e.length;o++){const s=e[o],l=(0,a.QN)(s,"source")?s.source.roles:s.roles;if((0,a.QN)(l,t)){if(i==n.First)return s;r.push(s)}}if(i==n.Last&&r.length)return r[r.length-1]}return i==n.All?r:null}function l(e,t=!0){const i={};if(e)for(let n=0;n<e.length;n++){const r=(0,a.QN)(e[n],"source")?e[n].source:e[n];for(const o of Object.keys(r.roles))(0,a.QN)(i,o)||(i[o]=[]),t?(0,a.QN)(r,"rolesIndex")&&(0,a.QN)(r.rolesIndex,o)&&r.rolesIndex[o].forEach((t=>i[o][t]=e[n])):i[o].push(e[n])}return i}function c(e,t=0){return e.source.format?e.source.format:(0,a.QN)(e.source,"formatSource")&&e.objects&&e.objects[t]&&e.objects[t].general&&(0,a.I7)(e.objects[t].general.formatString)?e.objects[t].general.formatString:e.source.type.numeric?"0":""}function u(e){const t={min:null,max:null};return e&&((0,a.QN)(e,"minLocal")&&null!==e.minLocal&&!isNaN(Number(e.minLocal))&&(0,a.QN)(e,"maxLocal")&&null!==e.maxLocal&&!isNaN(Number(e.maxLocal))?(t.min=Number(e.minLocal),t.max=Number(e.maxLocal)):e.values.forEach((e=>{t.min=null===t.min?e:Math.min(t.min,e),t.max=null===t.max?e:Math.max(t.max,e)})),(null===t.min||isNaN(t.min))&&(t.min=0),(null===t.max||isNaN(t.max)||t.min>t.max)&&(t.max=t.min)),t}function d(e){return{min:Math.min(0,e.min),max:Math.max(0,e.max)}}function h(e){let t=0,i=0;if(e)if(e.categorical)if(e.categorical.categories?t=e.categorical.categories[0].values.length:e.categorical.values&&(t=1),e.categorical.values&&e.categorical.values.length){if(i=e.categorical.values.length,void 0!==e.categorical.values[0].source.groupName){const t={};e.metadata.columns.forEach((e=>{if(void 0!==e.groupName){const i=(e.groupName||"(Blank)").toString();t[i]=!0}})),i=Object.keys(t).length}}else i=0;else if(e.table)t=e.table.rows.length,i=e.table.columns.length;else if(e.matrix){const n=e=>{if(e.length){let t=0;return e.forEach((e=>{e.children?t+=n(e.children):t++})),t}return e.length};e.matrix.rows.root.children&&(t=n(e.matrix.rows.root.children)),e.matrix.columns.root.children&&(i=n(e.matrix.columns.root.children))}return[t,i]}!function(e){e[e.All=0]="All",e[e.First=1]="First",e[e.Last=2]="Last"}(n||(n={}))},4083:(e,t,i)=>{"use strict";i.d(t,{I$:()=>d,I7:()=>a,L7:()=>c,QN:()=>u,Y9:()=>s,ct:()=>h,mg:()=>l,t7:()=>r});var n=i(2144);function a(e,t=!1){return void 0!==e&&(t||null!==e)}function r(e,t=!0){if(t){for(const t of Object.values(e))if(null!==t)return!1;return!0}return 0==Object.keys(e).length}function o(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function s(e){return"object"==typeof e}function l(e){return o(e,"Function")||o(e,"AsyncFunction")}function c(e){return o(e,"String")}function u(e,t){return!(!e||!s(e))&&Object.prototype.hasOwnProperty.call(e,t)}function d(e,t,i){e.find((e=>{if(void 0!==i){let a=0;for(let r=0;r<i.length;r++){const o=i[r];u(e,o)&&u(t,o)&&n(e[o],t[o])&&a++}return a==i.length}return n(e,t)}))||e.push(t)}function h(e,t="json"){if("object"!=typeof e||null===e)return e;if(o(e,"Date"))return new Date(e).getTime();if("json"==t)return JSON.parse(JSON.stringify(e));if("json-fix-date"==t)return JSON.parse(JSON.stringify(e),g);{const i=Object.assign({},e);if("assign"==t)for(const n of Object.keys(i))i[n]="object"==typeof e[n]?h(e[n],t):e[n];return Array.isArray(e)?(i.length=e.length,Array.from(i)):i}}function g(e,t){const i=/^\/Date\((d|-|.*)\)[/|\\]$/;if("string"==typeof t){let e=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/.exec(t);if(e)return new Date(t);if(e=i.exec(t),e){const t=e[1].split(/[-+,.]/);return new Date(t[0]?+t[0]:0-+t[1])}}return t}},5440:(e,t,i)=>{"use strict";i(4083)},1020:(e,t,i)=>{"use strict";i.d(t,{KD:()=>n,Ok:()=>o,QH:()=>g,U1:()=>d,Ul:()=>a,Yj:()=>h,m:()=>s,m0:()=>r,uq:()=>l});const n="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",a="wf_standard-font, helvetica, arial, sans-serif";function r(e){return e.substring(0,1).toLocaleUpperCase()+e.substring(1).toLocaleLowerCase()}function o(e){return e.replace(/(^-\d-|^\d|^-\d|^--)/,"a$1").replace(/[\W]/g,"-").toLowerCase()}function s(e){const t="0123456789abcdef";function i(e){let i,n="";for(i=0;i<=3;i++)n+=t.charAt(e>>8*i+4&15)+t.charAt(e>>8*i&15);return n}function n(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function a(e,t,i,a,r,o){return n(function(e,t){return e<<t|e>>>32-t}(n(n(t,e),n(a,o)),r),i)}function r(e,t,i,n,r,o,s){return a(t&i|~t&n,e,t,r,o,s)}function o(e,t,i,n,r,o,s){return a(t&n|i&~n,e,t,r,o,s)}function s(e,t,i,n,r,o,s){return a(t^i^n,e,t,r,o,s)}function l(e,t,i,n,r,o,s){return a(i^(t|~n),e,t,r,o,s)}let c;const u=function(e){let t;const i=1+(e.length+8>>6),n=[];for(t=0;t<16*i;t++)n[t]=0;for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<t%4*8;return n[t>>2]|=128<<t%4*8,n[16*i-2]=8*e.length,n}(e);let d,h,g,p,f=1732584193,m=-271733879,y=-1732584194,v=271733878;for(c=0;c<u.length;c+=16)d=f,h=m,g=y,p=v,f=r(f,m,y,v,u[c+0],7,-680876936),v=r(v,f,m,y,u[c+1],12,-389564586),y=r(y,v,f,m,u[c+2],17,606105819),m=r(m,y,v,f,u[c+3],22,-1044525330),f=r(f,m,y,v,u[c+4],7,-176418897),v=r(v,f,m,y,u[c+5],12,1200080426),y=r(y,v,f,m,u[c+6],17,-1473231341),m=r(m,y,v,f,u[c+7],22,-45705983),f=r(f,m,y,v,u[c+8],7,1770035416),v=r(v,f,m,y,u[c+9],12,-1958414417),y=r(y,v,f,m,u[c+10],17,-42063),m=r(m,y,v,f,u[c+11],22,-1990404162),f=r(f,m,y,v,u[c+12],7,1804603682),v=r(v,f,m,y,u[c+13],12,-40341101),y=r(y,v,f,m,u[c+14],17,-1502002290),m=r(m,y,v,f,u[c+15],22,1236535329),f=o(f,m,y,v,u[c+1],5,-165796510),v=o(v,f,m,y,u[c+6],9,-1069501632),y=o(y,v,f,m,u[c+11],14,643717713),m=o(m,y,v,f,u[c+0],20,-373897302),f=o(f,m,y,v,u[c+5],5,-701558691),v=o(v,f,m,y,u[c+10],9,38016083),y=o(y,v,f,m,u[c+15],14,-660478335),m=o(m,y,v,f,u[c+4],20,-405537848),f=o(f,m,y,v,u[c+9],5,568446438),v=o(v,f,m,y,u[c+14],9,-1019803690),y=o(y,v,f,m,u[c+3],14,-187363961),m=o(m,y,v,f,u[c+8],20,1163531501),f=o(f,m,y,v,u[c+13],5,-1444681467),v=o(v,f,m,y,u[c+2],9,-51403784),y=o(y,v,f,m,u[c+7],14,1735328473),m=o(m,y,v,f,u[c+12],20,-1926607734),f=s(f,m,y,v,u[c+5],4,-378558),v=s(v,f,m,y,u[c+8],11,-2022574463),y=s(y,v,f,m,u[c+11],16,1839030562),m=s(m,y,v,f,u[c+14],23,-35309556),f=s(f,m,y,v,u[c+1],4,-1530992060),v=s(v,f,m,y,u[c+4],11,1272893353),y=s(y,v,f,m,u[c+7],16,-155497632),m=s(m,y,v,f,u[c+10],23,-1094730640),f=s(f,m,y,v,u[c+13],4,681279174),v=s(v,f,m,y,u[c+0],11,-358537222),y=s(y,v,f,m,u[c+3],16,-722521979),m=s(m,y,v,f,u[c+6],23,76029189),f=s(f,m,y,v,u[c+9],4,-640364487),v=s(v,f,m,y,u[c+12],11,-421815835),y=s(y,v,f,m,u[c+15],16,530742520),m=s(m,y,v,f,u[c+2],23,-995338651),f=l(f,m,y,v,u[c+0],6,-198630844),v=l(v,f,m,y,u[c+7],10,1126891415),y=l(y,v,f,m,u[c+14],15,-1416354905),m=l(m,y,v,f,u[c+5],21,-57434055),f=l(f,m,y,v,u[c+12],6,1700485571),v=l(v,f,m,y,u[c+3],10,-1894986606),y=l(y,v,f,m,u[c+10],15,-1051523),m=l(m,y,v,f,u[c+1],21,-2054922799),f=l(f,m,y,v,u[c+8],6,1873313359),v=l(v,f,m,y,u[c+15],10,-30611744),y=l(y,v,f,m,u[c+6],15,-1560198380),m=l(m,y,v,f,u[c+13],21,1309151649),f=l(f,m,y,v,u[c+4],6,-145523070),v=l(v,f,m,y,u[c+11],10,-1120210379),y=l(y,v,f,m,u[c+2],15,718787259),m=l(m,y,v,f,u[c+9],21,-343485551),f=n(f,d),m=n(m,h),y=n(y,g),v=n(v,p);return i(f)+i(m)+i(y)+i(v)}function l(e=!0){const t=e=>{let t=e.toString(16);for(;t.length<4;)t="0"+t;return t},i=new Uint16Array(8);window.crypto.getRandomValues(i);let n=t(i[0])+t(i[1])+"-"+t(i[2])+"-"+t(i[3])+"-"+t(i[4])+"-"+t(i[5])+t(i[6])+t(i[7]);return e&&(isNaN(Number(n.substring(0,1)))||(n="_"+n)),n}let c;function u(){if(c)return;const e=document.createElement("canvas");c=e.getContext("2d")}function d(e){return u(),c.font=(e.fontStyle||"")+" "+(e.fontVariant||"")+" "+(e.fontWeight||"")+" "+e.fontSize+" "+e.fontFamily,c.measureText(e.text).width}function h(e){u(),c.font=(e.fontStyle||"")+" "+(e.fontVariant||"")+" "+(e.fontWeight||"")+" "+e.fontSize+" "+e.fontFamily;const t=c.measureText(e.text);return{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent}}function g(e,t){if(u(),0===e.text.length)return e.text;let i=d(e);if(i<t)return e.text;const n=Object.create(e),a=n.text="..."+n.text;let r=1,o=a.length,s=3;for(;r<=o;)if(s=(r+o)/2|0,n.text=a.substring(0,s),i=d(n),t>i)r=s+1;else{if(!(t<i))break;o=s-1}return n.text=a.substring(0,s),i=d(n),i>t&&s--,a.substring(3,s)+"..."}},8504:(e,t,i)=>{"use strict";i.d(t,{m:()=>r});var n=i(1020),a=i(920);class r{name;version;released;guid;url;upgradeUrl;contactUrl;icon;get private(){return!thisVisual.element.classList.contains(`visual-${this.guid}`)&&!thisVisual.element.classList.contains(`visual-${this.guid}_DEBUG`)}get expiry(){let e=0;return this.private&&thisVisual.element.classList.forEach((t=>{const i=t.indexOf("___");if(i>=0){const n=t.substring(i+3);let a=parseInt(n);isNaN(a)||(a<new Date(1970,1,1).getTime()&&(a*=1e3),e=a)}})),e}get expired(){const e=this.expiry;return!!e&&(new Date).getTime()>e}get dev(){return thisVisual.element.getAttribute("class").indexOf("_DEBUG")>=0}get orgStore(){return thisVisual.element.getAttribute("class").indexOf("_OrgStore")>=0}gaID;packed;displayName;get versionDisplayName(){let e=this.version;this.dev&&(e+="-dev"),this.private&&(e+="-priv"),this.orgStore&&(e+="-org");const t=this.expiry;return t&&(e+=` (${(new Date).getTime()>t?"Expired":`Expires ${new Date(t).toLocaleDateString(thisVisual.host.locale,{day:"2-digit",month:"2-digit",year:"numeric"})}`})`),e}get shortName(){return this.displayName.replace(/by OKVIZ/gi,"").trim()}logMe(){this.update(),console.info(`%c${this.displayName}`,`font-family: ${n.KD}; font-size:20px; font-weight:600`),console.info(`%cVersion: ${this.versionDisplayName}`,"font-weight:bold")}update(){this.expired&&a.e.SHOW({id:"expired-visual",zIndex:9999999999,icon:"error",force:!0,fullSize:!0,uncloseable:!0,title:"Visual Expired",text:`You are using an expired private version of ${this.shortName}. Replace it with the latest version available on AppSource.`,callToAction:{text:"Contact Us",url:this.contactUrl,button:!0}})}}},5992:(e,t,i)=>{"use strict";i.d(t,{U:()=>l});var n=i(352),a=i(4472),r=i(4920),o=i(9292),s=i(4083);class l{static id="OKVizWizardDialog";static size={width:600,height:410};dialogHost;result;container;settings;showProgress;steps;stepIndex=0;constructor(e,t){this.dialogHost=e.host,this.result={},this.showProgress=t.showProgress,this.steps=t.steps,this.settings=(0,s.ct)(t.settings),globalThis.thisVisual={element:e.element,host:new a.CO(t.sourceHost.colorPalette,t.sourceHost.locale),internalUpdate:!0},o.sv.instance.status=t.diagnostics?o.uG.Enabled:o.uG.Disabled,e.element.classList.add("okviz-wizard"),this.container=(0,r.En)(".steps",e.element),this.draw(!1)}get isFirst(){return 0==this.stepIndex}get isLast(){return this.stepIndex==this.steps.length-1}next(){this.stepIndex<this.steps.length-1&&(this.stepIndex++,this.draw(!1))}prev(){this.stepIndex>0&&(this.stepIndex--,this.draw(!0))}draw(e){const t=this.steps[this.stepIndex];if(!t)return;let i=(0,r.Ij)(`#step-${this.stepIndex}`,this.container);if(!i.isNull&&e||(i.remove(),i=null),!i){let e,n;i=(0,r.En)(`#step-${this.stepIndex}.step`,this.container,[(0,r.En)(".step-title",{middleware:t=>e=t}),(0,r.En)(".step-content",{middleware:e=>n=e}),(0,r.En)(".step-controls",[...this.showProgress?[(0,r.En)(".progress",[(0,r.En)("span",`Step ${this.stepIndex+1}`),(0,r.En)("strong",` / ${this.steps.length}`)])]:[],(0,r.En)(".right",[...this.isFirst?[]:[(0,r.En)("a.btn.prev.alt",{attr:{href:"#"},events:{click:e=>{e.preventDefault(),this.prev()}}},"Previous")],...this.isLast?[(0,r.En)("a.btn.done",{attr:{href:"#"},events:{click:e=>{e.preventDefault(),this.dialogHost.close(1,this.result)}}},"Done")]:[(0,r.En)("a.btn.next",{attr:{href:"#"},events:{click:e=>{e.preventDefault(),this.next()}}},"Next")]])])]);const a=this.getStepInstance(n,t,this.settings);a&&(a.on("save",(e=>{this.result.changedSettings||(this.result.changedSettings={}),this.result.changedSettings[t.id]=e,this.result.settings=a.settings,this.dialogHost.setResult(this.result)})),a.on("close",(e=>{this.dialogHost.close(e,this.result)})),e.innerText=a.title,e.toggle(""!=a.title),a.draw())}(0,r.op)(".step").forEach((e=>e.classList.add("hidden"))),i.classList.remove("hidden")}getStepInstance(e,t,i){return new n.q(e,t,i)}}globalThis.dialogRegistry=globalThis.dialogRegistry||{},globalThis.dialogRegistry[l.id]=l},352:(e,t,i)=>{"use strict";i.d(t,{Q:()=>a,q:()=>r});var n=i(3824);class a extends n.e{element;data;settings;pending={};constructor(e,t,i){super(),this.element=e,this.data=t,this.settings=i}save(){const e=[].concat(...Object.values(this.pending));this.trigger("save",e)}close(e=1){this.trigger("close",e)}}class r extends a{get title(){return"Step"}draw(){return null}}},8972:(e,t,i)=>{"use strict";i.d(t,{CW:()=>l,Qr:()=>s.Q,Uh:()=>o.U});var n=i(920),a=i(3824),r=i(2232),o=i(5992),s=i(352);class l extends a.e{options;constructor(e){super(),this.options=e}show(){const e={locale:thisVisual.host.locale,colorPalette:thisVisual.host.colorPalette};thisVisual.host.openModalDialog(o.U.id,{title:this.options.title||"",actionButtons:[],size:this.options.size||o.U.size},{...this.options,sourceHost:e}).then((e=>{if(e){const t=e.resultState;if(1==e.actionId){if(t.changedSettings){const e="wizard";for(const i of Object.keys(t.changedSettings))t.changedSettings[i].forEach((t=>{r.c.BATCH(t,e)}));r.c.BATCH_SAVE(e,!1)}this.trigger("done",t.settings)}this.trigger("close",e.actionId)}})).catch((e=>{3==e.error&&n.e.SHOW({id:"dialog-box-disabled-editor",icon:"alert",iconAlign:"top",title:"Dialogs are disabled",text:"It appears you have disabled dialogs in this session, so the wizard cannot be displayed. Close and reopen the report to restore the previous behavior.",zIndex:99999999})}))}}},2144:e=>{"use strict";e.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var n,a,r;if(Array.isArray(t)){if((n=t.length)!=i.length)return!1;for(a=n;0!=a--;)if(!e(t[a],i[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((n=(r=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(a=n;0!=a--;)if(!Object.prototype.hasOwnProperty.call(i,r[a]))return!1;for(a=n;0!=a--;){var o=r[a];if(!e(t[o],i[o]))return!1}return!0}return t!=t&&i!=i}},4312:function(e,t){!function(e){"use strict";function t(e){return"object"==typeof e&&"function"==typeof e.to}function i(e){e.parentElement.removeChild(e)}function n(e){return null!=e}function a(e){e.preventDefault()}function r(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function o(e,t,i){i>0&&(u(e,t),setTimeout((function(){d(e,t)}),i))}function s(e){return Math.max(Math.min(e,100),0)}function l(e){return Array.isArray(e)?e:[e]}function c(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function u(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function d(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function h(e){var t=void 0!==window.pageXOffset,i="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:i?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:i?e.documentElement.scrollTop:e.body.scrollTop}}function g(e,t){return 100/(t-e)}function p(e,t,i){return 100*t/(e[i+1]-e[i])}function f(e,t){for(var i=1;e>=t[i];)i+=1;return i}function m(e,t,i){if(i>=e.slice(-1)[0])return 100;var n=f(i,e),a=e[n-1],r=e[n],o=t[n-1],s=t[n];return o+function(e,t){return p(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}([a,r],i)/g(o,s)}function y(e,t,i,n){if(100===n)return n;var a=f(n,e),r=e[a-1],o=e[a];return i?n-r>(o-r)/2?o:r:t[a-1]?e[a-1]+function(e,t){return Math.round(e/t)*t}(n-e[a-1],t[a-1]):n}var v,b;e.PipsMode=void 0,(b=e.PipsMode||(e.PipsMode={})).Range="range",b.Steps="steps",b.Positions="positions",b.Count="count",b.Values="values",e.PipsType=void 0,(v=e.PipsType||(e.PipsType={}))[v.None=-1]="None",v[v.NoValue=0]="NoValue",v[v.LargeValue=1]="LargeValue",v[v.SmallValue=2]="SmallValue";var S=function(){function e(e,t,i){var n;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=t;var a=[];for(Object.keys(e).forEach((function(t){a.push([l(e[t]),t])})),a.sort((function(e,t){return e[0][0]-t[0][0]})),n=0;n<a.length;n++)this.handleEntryPoint(a[n][1],a[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}return e.prototype.getDistance=function(e){for(var t=[],i=0;i<this.xNumSteps.length-1;i++)t[i]=p(this.xVal,e,i);return t},e.prototype.getAbsoluteDistance=function(e,t,i){var n,a=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[a+1];)a++;else e===this.xPct[this.xPct.length-1]&&(a=this.xPct.length-2);i||e!==this.xPct[a+1]||a++,null===t&&(t=[]);var r=1,o=t[a],s=0,l=0,c=0,u=0;for(n=i?(e-this.xPct[a])/(this.xPct[a+1]-this.xPct[a]):(this.xPct[a+1]-e)/(this.xPct[a+1]-this.xPct[a]);o>0;)s=this.xPct[a+1+u]-this.xPct[a+u],t[a+u]*r+100-100*n>100?(l=s*n,r=(o-100*n)/t[a+u],n=1):(l=t[a+u]*s/100*r,r=0),i?(c-=l,this.xPct.length+u>=1&&u--):(c+=l,this.xPct.length-u>=1&&u++),o=t[a+u]*r;return e+c},e.prototype.toStepping=function(e){return m(this.xVal,this.xPct,e)},e.prototype.fromStepping=function(e){return function(e,t,i){if(i>=100)return e.slice(-1)[0];var n=f(i,t),a=e[n-1],r=e[n],o=t[n-1];return function(e,t){return t*(e[1]-e[0])/100+e[0]}([a,r],(i-o)*g(o,t[n]))}(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return y(this.xPct,this.xSteps,this.snap,e)},e.prototype.getDefaultStep=function(e,t,i){var n=f(e,this.xPct);return(100===e||t&&e===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/i},e.prototype.getNearbySteps=function(e){var t=f(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(c);return Math.max.apply(null,e)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var i;if(!r(i="min"===e?0:"max"===e?100:parseFloat(e))||!r(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(i),this.xVal.push(t[0]);var n=Number(t[1]);i?this.xSteps.push(!isNaN(n)&&n):isNaN(n)||(this.xSteps[0]=n),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=p([this.xVal[e],this.xVal[e+1]],t,0)/g(this.xPct[e],this.xPct[e+1]);var i=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],n=Math.ceil(Number(i.toFixed(3))-1),a=this.xVal[e]+this.xNumSteps[e]*n;this.xHighestCompleteStep[e]=a}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),x={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},w={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},k={tooltips:".__tooltips",aria:".__aria"};function C(e,t){if(!r(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function T(e,t){if(!r(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function M(e,t){if(!r(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function E(e,t){if(!r(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function _(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new S(t,e.snap||!1,e.singleStep)}function D(e,t){if(t=l(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function N(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function L(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function A(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function P(e,t){var i,n=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(i=1;i<e.handles;i++)n.push(t);n.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");n=t}e.connect=n}function I(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function O(e,t){if(!r(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function V(e,t){if(!r(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function F(e,t){var i;if(!r(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!r(t[0])&&!r(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],i=0;i<e.spectrum.xNumSteps.length-1;i++)if(e.padding[0][i]<0||e.padding[1][i]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var n=t[0]+t[1],a=e.spectrum.xVal[0];if(n/(e.spectrum.xVal[e.spectrum.xVal.length-1]-a)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function R(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function z(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=t.indexOf("tap")>=0,n=t.indexOf("drag")>=0,a=t.indexOf("fixed")>=0,r=t.indexOf("snap")>=0,o=t.indexOf("hover")>=0,s=t.indexOf("unconstrained")>=0,l=t.indexOf("drag-all")>=0,c=t.indexOf("smooth-steps")>=0;if(a){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");O(e,e.start[1]-e.start[0])}if(s&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:i||r,drag:n,dragAll:l,smoothSteps:c,fixed:a,snap:r,hover:o,unconstrained:s}}function B(e,i){if(!1!==i)if(!0===i||t(i)){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(i)}else{if((i=l(i)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");i.forEach((function(e){if("boolean"!=typeof e&&!t(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=i}}function U(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function $(e,i){if(!t(i))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=i}function j(e,i){if(!function(e){return t(e)&&"function"==typeof e.from}(i))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=i}function q(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function H(e,t){e.documentElement=t}function G(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function W(e,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(i){e.cssClasses[i]=e.cssPrefix+t[i]}))):e.cssClasses=t}function Q(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:x,format:x},i={step:{r:!1,t:C},keyboardPageMultiplier:{r:!1,t:T},keyboardMultiplier:{r:!1,t:M},keyboardDefaultStep:{r:!1,t:E},start:{r:!0,t:D},connect:{r:!0,t:P},direction:{r:!0,t:R},snap:{r:!1,t:N},animate:{r:!1,t:L},animationDuration:{r:!1,t:A},range:{r:!0,t:_},orientation:{r:!1,t:I},margin:{r:!1,t:O},limit:{r:!1,t:V},padding:{r:!1,t:F},behaviour:{r:!0,t:z},ariaFormat:{r:!1,t:$},format:{r:!1,t:j},tooltips:{r:!1,t:B},keyboardSupport:{r:!0,t:q},documentElement:{r:!1,t:H},cssPrefix:{r:!0,t:G},cssClasses:{r:!0,t:W},handleAttributes:{r:!1,t:U}},a={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:w,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(i).forEach((function(r){if(n(e[r])||void 0!==a[r])i[r].t(t,n(e[r])?e[r]:a[r]);else if(i[r].r)throw new Error("noUiSlider: '"+r+"' is required.")})),t.pips=e.pips;var r=document.createElement("div"),o=void 0!==r.style.msTransform,s=void 0!==r.style.transform;t.transformRule=s?"transform":o?"msTransform":"webkitTransform";return t.style=[["left","top"],["right","bottom"]][t.dir][t.ort],t}function Y(t,r,c){var g,p,f,m,y,v,b,S=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},x=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),w=t,C=r.spectrum,T=[],M=[],E=[],_=0,D={},N=t.ownerDocument,L=r.documentElement||N.documentElement,A=N.body,P="rtl"===N.dir||1===r.ort?0:100;function I(e,t){var i=N.createElement("div");return t&&u(i,t),e.appendChild(i),i}function O(e,t){var i=I(e,r.cssClasses.origin),n=I(i,r.cssClasses.handle);if(I(n,r.cssClasses.touchArea),n.setAttribute("data-handle",String(t)),r.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",(function(e){return function(e,t){if(R()||z(t))return!1;var i=["Left","Right"],n=["Down","Up"],a=["PageDown","PageUp"],o=["Home","End"];r.dir&&!r.ort?i.reverse():r.ort&&!r.dir&&(n.reverse(),a.reverse());var s,l=e.key.replace("Arrow",""),c=l===a[0],u=l===a[1],d=l===n[0]||l===i[0]||c,h=l===n[1]||l===i[1]||u,g=l===o[0],p=l===o[1];if(!(d||h||g||p))return!0;if(e.preventDefault(),h||d){var f=d?0:1,m=me(t)[f];if(null===m)return!1;!1===m&&(m=C.getDefaultStep(M[t],d,r.keyboardDefaultStep)),m*=u||c?r.keyboardPageMultiplier:r.keyboardMultiplier,m=Math.max(m,1e-7),m*=d?-1:1,s=T[t]+m}else s=p?r.spectrum.xVal[r.spectrum.xVal.length-1]:r.spectrum.xVal[0];return de(t,C.toStepping(s),!0,!0),re("slide",t),re("update",t),re("change",t),re("set",t),!1}(e,t)}))),void 0!==r.handleAttributes){var a=r.handleAttributes[t];Object.keys(a).forEach((function(e){n.setAttribute(e,a[e])}))}return n.setAttribute("role","slider"),n.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===t?u(n,r.cssClasses.handleLower):t===r.handles-1&&u(n,r.cssClasses.handleUpper),i}function V(e,t){return!!t&&I(e,r.cssClasses.connect)}function F(e,t){return!(!r.tooltips||!r.tooltips[t])&&I(e.firstChild,r.cssClasses.tooltip)}function R(){return w.hasAttribute("disabled")}function z(e){return p[e].hasAttribute("disabled")}function B(){y&&(ae("update"+k.tooltips),y.forEach((function(e){e&&i(e)})),y=null)}function U(){B(),y=p.map(F),ne("update"+k.tooltips,(function(e,t,i){if(y&&r.tooltips&&!1!==y[t]){var n=e[t];!0!==r.tooltips[t]&&(n=r.tooltips[t].to(i[t])),y[t].innerHTML=n}}))}function $(e,t){return e.map((function(e){return C.fromStepping(t?C.getStep(e):e)}))}function j(t){var i,n=function(t){if(t.mode===e.PipsMode.Range||t.mode===e.PipsMode.Steps)return C.xVal;if(t.mode===e.PipsMode.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var i=t.values-1,n=100/i,a=[];i--;)a[i]=i*n;return a.push(100),$(a,t.stepped)}return t.mode===e.PipsMode.Positions?$(t.values,t.stepped):t.mode===e.PipsMode.Values?t.stepped?t.values.map((function(e){return C.fromStepping(C.getStep(C.toStepping(e)))})):t.values:[]}(t),a={},r=C.xVal[0],o=C.xVal[C.xVal.length-1],s=!1,l=!1,c=0;return(i=n.slice().sort((function(e,t){return e-t})),n=i.filter((function(e){return!this[e]&&(this[e]=!0)}),{}))[0]!==r&&(n.unshift(r),s=!0),n[n.length-1]!==o&&(n.push(o),l=!0),n.forEach((function(i,r){var o,u,d,h,g,p,f,m,y,v,b=i,S=n[r+1],x=t.mode===e.PipsMode.Steps;for(x&&(o=C.xNumSteps[r]),o||(o=S-b),void 0===S&&(S=b),o=Math.max(o,1e-7),u=b;u<=S;u=Number((u+o).toFixed(7))){for(m=(g=(h=C.toStepping(u))-c)/(t.density||1),v=g/(y=Math.round(m)),d=1;d<=y;d+=1)a[(p=c+d*v).toFixed(5)]=[C.fromStepping(p),0];f=n.indexOf(u)>-1?e.PipsType.LargeValue:x?e.PipsType.SmallValue:e.PipsType.NoValue,!r&&s&&u!==S&&(f=0),u===S&&l||(a[h.toFixed(5)]=[u,f]),c=h}})),a}function q(t,i,n){var a,o,s=N.createElement("div"),l=((a={})[e.PipsType.None]="",a[e.PipsType.NoValue]=r.cssClasses.valueNormal,a[e.PipsType.LargeValue]=r.cssClasses.valueLarge,a[e.PipsType.SmallValue]=r.cssClasses.valueSub,a),c=((o={})[e.PipsType.None]="",o[e.PipsType.NoValue]=r.cssClasses.markerNormal,o[e.PipsType.LargeValue]=r.cssClasses.markerLarge,o[e.PipsType.SmallValue]=r.cssClasses.markerSub,o),d=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],h=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];function g(e,t){var i=t===r.cssClasses.value,n=i?l:c;return t+" "+(i?d:h)[r.ort]+" "+n[e]}return u(s,r.cssClasses.pips),u(s,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(t).forEach((function(a){!function(t,a,o){if((o=i?i(a,o):o)!==e.PipsType.None){var l=I(s,!1);l.className=g(o,r.cssClasses.marker),l.style[r.style]=t+"%",o>e.PipsType.NoValue&&((l=I(s,!1)).className=g(o,r.cssClasses.value),l.setAttribute("data-value",String(a)),l.style[r.style]=t+"%",l.innerHTML=String(n.to(a)))}}(a,t[a][0],t[a][1])})),s}function H(){m&&(i(m),m=null)}function G(e){H();var t=j(e),i=e.filter,n=e.format||{to:function(e){return String(Math.round(e))}};return m=w.appendChild(q(t,i,n))}function W(){var e=g.getBoundingClientRect(),t="offset"+["Width","Height"][r.ort];return 0===r.ort?e.width||g[t]:e.height||g[t]}function Y(e,t,i,n){var a=function(a){var o,s,l=function(e,t,i){var n=0===e.type.indexOf("touch"),a=0===e.type.indexOf("mouse"),r=0===e.type.indexOf("pointer"),o=0,s=0;if(0===e.type.indexOf("MSPointer")&&(r=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(n){var l=function(t){var n=t.target;return n===i||i.contains(n)||e.composed&&e.composedPath().shift()===i};if("touchstart"===e.type){var c=Array.prototype.filter.call(e.touches,l);if(c.length>1)return!1;o=c[0].pageX,s=c[0].pageY}else{var u=Array.prototype.find.call(e.changedTouches,l);if(!u)return!1;o=u.pageX,s=u.pageY}}return t=t||h(N),(a||r)&&(o=e.clientX+t.x,s=e.clientY+t.y),e.pageOffset=t,e.points=[o,s],e.cursor=a||r,e}(a,n.pageOffset,n.target||t);return!!l&&!(R()&&!n.doNotReject)&&(o=w,s=r.cssClasses.tap,!((o.classList?o.classList.contains(s):new RegExp("\\b"+s+"\\b").test(o.className))&&!n.doNotReject))&&!(e===S.start&&void 0!==l.buttons&&l.buttons>1)&&(!n.hover||!l.buttons)&&(x||l.preventDefault(),l.calcPoint=l.points[r.ort],void i(l,n))},o=[];return e.split(" ").forEach((function(e){t.addEventListener(e,a,!!x&&{passive:!0}),o.push([e,a])})),o}function K(e){var t,i,n,a,o,l,c=100*(e-(t=g,i=r.ort,n=t.getBoundingClientRect(),a=t.ownerDocument,o=a.documentElement,l=h(a),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),i?n.top+l.y-o.clientTop:n.left+l.x-o.clientLeft))/W();return c=s(c),r.dir?100-c:c}function X(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&Z(e,t)}function J(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return Z(e,t);var i=(r.dir?-1:1)*(e.calcPoint-t.startCalcPoint);le(i>0,100*i/t.baseSize,t.locations,t.handleNumbers,t.connect)}function Z(e,t){t.handle&&(d(t.handle,r.cssClasses.active),_-=1),t.listeners.forEach((function(e){L.removeEventListener(e[0],e[1])})),0===_&&(d(w,r.cssClasses.drag),ue(),e.cursor&&(A.style.cursor="",A.removeEventListener("selectstart",a))),r.events.smoothSteps&&(t.handleNumbers.forEach((function(e){de(e,M[e],!0,!0,!1,!1)})),t.handleNumbers.forEach((function(e){re("update",e)}))),t.handleNumbers.forEach((function(e){re("change",e),re("set",e),re("end",e)}))}function ee(e,t){if(!t.handleNumbers.some(z)){var i;1===t.handleNumbers.length&&(i=p[t.handleNumbers[0]].children[0],_+=1,u(i,r.cssClasses.active)),e.stopPropagation();var n=[],o=Y(S.move,L,J,{target:e.target,handle:i,connect:t.connect,listeners:n,startCalcPoint:e.calcPoint,baseSize:W(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:M.slice()}),s=Y(S.end,L,Z,{target:e.target,handle:i,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers}),l=Y("mouseout",L,X,{target:e.target,handle:i,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers});n.push.apply(n,o.concat(s,l)),e.cursor&&(A.style.cursor=getComputedStyle(e.target).cursor,p.length>1&&u(w,r.cssClasses.drag),A.addEventListener("selectstart",a,!1)),t.handleNumbers.forEach((function(e){re("start",e)}))}}function te(e){e.stopPropagation();var t=K(e.calcPoint),i=function(e){var t=100,i=!1;return p.forEach((function(n,a){if(!z(a)){var r=M[a],o=Math.abs(r-e);(o<t||o<=t&&e>r||100===o&&100===t)&&(i=a,t=o)}})),i}(t);!1!==i&&(r.events.snap||o(w,r.cssClasses.tap,r.animationDuration),de(i,t,!0,!0),ue(),re("slide",i,!0),re("update",i,!0),r.events.snap?ee(e,{handleNumbers:[i]}):(re("change",i,!0),re("set",i,!0)))}function ie(e){var t=K(e.calcPoint),i=C.getStep(t),n=C.fromStepping(i);Object.keys(D).forEach((function(e){"hover"===e.split(".")[0]&&D[e].forEach((function(e){e.call(ye,n)}))}))}function ne(e,t){D[e]=D[e]||[],D[e].push(t),"update"===e.split(".")[0]&&p.forEach((function(e,t){re("update",t)}))}function ae(e){var t=e&&e.split(".")[0],i=t?e.substring(t.length):e;Object.keys(D).forEach((function(e){var n=e.split(".")[0],a=e.substring(n.length);t&&t!==n||i&&i!==a||function(e){return e===k.aria||e===k.tooltips}(a)&&i!==a||delete D[e]}))}function re(e,t,i){Object.keys(D).forEach((function(n){var a=n.split(".")[0];e===a&&D[n].forEach((function(e){e.call(ye,T.map(r.format.to),t,T.slice(),i||!1,M.slice(),ye)}))}))}function oe(e,t,i,n,a,o,l){var c;return p.length>1&&!r.events.unconstrained&&(n&&t>0&&(c=C.getAbsoluteDistance(e[t-1],r.margin,!1),i=Math.max(i,c)),a&&t<p.length-1&&(c=C.getAbsoluteDistance(e[t+1],r.margin,!0),i=Math.min(i,c))),p.length>1&&r.limit&&(n&&t>0&&(c=C.getAbsoluteDistance(e[t-1],r.limit,!1),i=Math.min(i,c)),a&&t<p.length-1&&(c=C.getAbsoluteDistance(e[t+1],r.limit,!0),i=Math.max(i,c))),r.padding&&(0===t&&(c=C.getAbsoluteDistance(0,r.padding[0],!1),i=Math.max(i,c)),t===p.length-1&&(c=C.getAbsoluteDistance(100,r.padding[1],!0),i=Math.min(i,c))),l||(i=C.getStep(i)),!((i=s(i))===e[t]&&!o)&&i}function se(e,t){var i=r.ort;return(i?t:e)+", "+(i?e:t)}function le(e,t,i,n,a){var o=i.slice(),s=n[0],l=r.events.smoothSteps,c=[!e,e],u=[e,!e];n=n.slice(),e&&n.reverse(),n.length>1?n.forEach((function(e,i){var n=oe(o,e,o[e]+t,c[i],u[i],!1,l);!1===n?t=0:(t=n-o[e],o[e]=n)})):c=u=[!0];var d=!1;n.forEach((function(e,n){d=de(e,i[e]+t,c[n],u[n],!1,l)||d})),d&&(n.forEach((function(e){re("update",e),re("slide",e)})),null!=a&&re("drag",s))}function ce(e,t){return r.dir?100-e-t:e}function ue(){E.forEach((function(e){var t=M[e]>50?-1:1,i=3+(p.length+t*e);p[e].style.zIndex=String(i)}))}function de(e,t,i,n,a,o){return a||(t=oe(M,e,t,i,n,!1,o)),!1!==t&&(function(e,t){M[e]=t,T[e]=C.fromStepping(t);var i="translate("+se(ce(t,0)-P+"%","0")+")";p[e].style[r.transformRule]=i,he(e),he(e+1)}(e,t),!0)}function he(e){if(f[e]){var t=0,i=100;0!==e&&(t=M[e-1]),e!==f.length-1&&(i=M[e]);var n=i-t,a="translate("+se(ce(t,n)+"%","0")+")",o="scale("+se(n/100,"1")+")";f[e].style[r.transformRule]=a+" "+o}}function ge(e,t){return null===e||!1===e||void 0===e?M[t]:("number"==typeof e&&(e=String(e)),!1!==(e=r.format.from(e))&&(e=C.toStepping(e)),!1===e||isNaN(e)?M[t]:e)}function pe(e,t,i){var n=l(e),a=void 0===M[0];t=void 0===t||t,r.animate&&!a&&o(w,r.cssClasses.tap,r.animationDuration),E.forEach((function(e){de(e,ge(n[e],e),!0,!1,i)}));var s=1===E.length?0:1;if(a&&C.hasNoSize()&&(i=!0,M[0]=0,E.length>1)){var c=100/(E.length-1);E.forEach((function(e){M[e]=e*c}))}for(;s<E.length;++s)E.forEach((function(e){de(e,M[e],!0,!0,i)}));ue(),E.forEach((function(e){re("update",e),null!==n[e]&&t&&re("set",e)}))}function fe(e){if(void 0===e&&(e=!1),e)return 1===T.length?T[0]:T.slice(0);var t=T.map(r.format.to);return 1===t.length?t[0]:t}function me(e){var t=M[e],i=C.getNearbySteps(t),n=T[e],a=i.thisStep.step,o=null;if(r.snap)return[n-i.stepBefore.startValue||null,i.stepAfter.startValue-n||null];!1!==a&&n+a>i.stepAfter.startValue&&(a=i.stepAfter.startValue-n),o=n>i.thisStep.startValue?i.thisStep.step:!1!==i.stepBefore.step&&n-i.stepBefore.highestStep,100===t?a=null:0===t&&(o=null);var s=C.countStepDecimals();return null!==a&&!1!==a&&(a=Number(a.toFixed(s))),null!==o&&!1!==o&&(o=Number(o.toFixed(s))),[o,a]}u(b=w,r.cssClasses.target),0===r.dir?u(b,r.cssClasses.ltr):u(b,r.cssClasses.rtl),0===r.ort?u(b,r.cssClasses.horizontal):u(b,r.cssClasses.vertical),u(b,"rtl"===getComputedStyle(b).direction?r.cssClasses.textDirectionRtl:r.cssClasses.textDirectionLtr),g=I(b,r.cssClasses.base),function(e,t){var i=I(t,r.cssClasses.connects);p=[],(f=[]).push(V(i,e[0]));for(var n=0;n<r.handles;n++)p.push(O(t,n)),E[n]=n,f.push(V(i,e[n+1]))}(r.connect,g),(v=r.events).fixed||p.forEach((function(e,t){Y(S.start,e.children[0],ee,{handleNumbers:[t]})})),v.tap&&Y(S.start,g,te,{}),v.hover&&Y(S.move,g,ie,{hover:!0}),v.drag&&f.forEach((function(e,t){if(!1!==e&&0!==t&&t!==f.length-1){var i=p[t-1],n=p[t],a=[e],o=[i,n],s=[t-1,t];u(e,r.cssClasses.draggable),v.fixed&&(a.push(i.children[0]),a.push(n.children[0])),v.dragAll&&(o=p,s=E),a.forEach((function(t){Y(S.start,t,ee,{handles:o,handleNumbers:s,connect:e})}))}})),pe(r.start),r.pips&&G(r.pips),r.tooltips&&U(),ae("update"+k.aria),ne("update"+k.aria,(function(e,t,i,n,a){E.forEach((function(e){var t=p[e],n=oe(M,e,0,!0,!0,!0),o=oe(M,e,100,!0,!0,!0),s=a[e],l=String(r.ariaFormat.to(i[e]));n=C.fromStepping(n).toFixed(1),o=C.fromStepping(o).toFixed(1),s=C.fromStepping(s).toFixed(1),t.children[0].setAttribute("aria-valuemin",n),t.children[0].setAttribute("aria-valuemax",o),t.children[0].setAttribute("aria-valuenow",s),t.children[0].setAttribute("aria-valuetext",l)}))}));var ye={destroy:function(){for(ae(k.aria),ae(k.tooltips),Object.keys(r.cssClasses).forEach((function(e){d(w,r.cssClasses[e])}));w.firstChild;)w.removeChild(w.firstChild);delete w.noUiSlider},steps:function(){return E.map(me)},on:ne,off:ae,get:fe,set:pe,setHandle:function(e,t,i,n){if(!((e=Number(e))>=0&&e<E.length))throw new Error("noUiSlider: invalid handle number, got: "+e);de(e,ge(t,e),!0,!0,n),re("update",e),i&&re("set",e)},reset:function(e){pe(r.start,e)},__moveHandles:function(e,t,i){le(e,t,M,i)},options:c,updateOptions:function(e,t){var i=fe(),a=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];a.forEach((function(t){void 0!==e[t]&&(c[t]=e[t])}));var o=Q(c);a.forEach((function(t){void 0!==e[t]&&(r[t]=o[t])})),C=o.spectrum,r.margin=o.margin,r.limit=o.limit,r.padding=o.padding,r.pips?G(r.pips):H(),r.tooltips?U():B(),M=[],pe(n(e.start)?e.start:i,t)},target:w,removePips:H,removeTooltips:B,getPositions:function(){return M.slice()},getTooltips:function(){return y},getOrigins:function(){return p},pips:G};return ye}function K(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var i=Y(e,Q(t),t);return e.noUiSlider=i,i}var X={__spectrum:S,cssClasses:w,create:K};e.create=K,e.cssClasses=w,e.default=X,Object.defineProperty(e,"__esModule",{value:!0})}(t)},9940:e=>{e.exports=function e(t,i,n){function a(o,s){if(!i[o]){if(!t[o]){if(r)return r(o,!0);throw new Error("Cannot find module '"+o+"'")}s=i[o]={exports:{}},t[o][0].call(s.exports,(function(e){return a(t[o][1][e]||e)}),s,s.exports,e,t,i,n)}return i[o].exports}for(var r=void 0,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,i){(function(n,a,r,o,s,l,c,u,d){"use strict";var h=e("crypto");function g(e,t){var i;return void 0===(i="passthrough"!==(t=m(e,t)).algorithm?h.createHash(t.algorithm):new b).write&&(i.write=i.update,i.end=i.update),v(t,i).dispatch(e),i.update||i.end(""),i.digest?i.digest("buffer"===t.encoding?void 0:t.encoding):(e=i.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(i=t.exports=g).sha1=function(e){return g(e)},i.keys=function(e){return g(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},i.MD5=function(e){return g(e,{algorithm:"md5",encoding:"hex"})},i.keysMD5=function(e){return g(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=h.getHashes?h.getHashes().slice():["sha1","md5"],f=(p.push("passthrough"),["buffer","hex","binary","base64"]);function m(e,t){var i={};if(i.algorithm=(t=t||{}).algorithm||"sha1",i.encoding=t.encoding||"hex",i.excludeValues=!!t.excludeValues,i.algorithm=i.algorithm.toLowerCase(),i.encoding=i.encoding.toLowerCase(),i.ignoreUnknown=!0===t.ignoreUnknown,i.respectType=!1!==t.respectType,i.respectFunctionNames=!1!==t.respectFunctionNames,i.respectFunctionProperties=!1!==t.respectFunctionProperties,i.unorderedArrays=!0===t.unorderedArrays,i.unorderedSets=!1!==t.unorderedSets,i.unorderedObjects=!1!==t.unorderedObjects,i.replacer=t.replacer||void 0,i.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var n=0;n<p.length;++n)p[n].toLowerCase()===i.algorithm.toLowerCase()&&(i.algorithm=p[n]);if(-1===p.indexOf(i.algorithm))throw new Error('Algorithm "'+i.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===f.indexOf(i.encoding)&&"passthrough"!==i.algorithm)throw new Error('Encoding "'+i.encoding+'"  not supported. supported values: '+f.join(", "));return i}function y(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function v(e,t,i){function n(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return i=i||[],{dispatch:function(t){return this["_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},_object:function(t){var a,o=Object.prototype.toString.call(t),s=/\[object (.*)\]/i.exec(o);if(s=(s=s?s[1]:"unknown:["+o+"]").toLowerCase(),0<=(o=i.indexOf(t)))return this.dispatch("[CIRCULAR:"+o+"]");if(i.push(t),void 0!==r&&r.isBuffer&&r.isBuffer(t))return n("buffer:"),n(t);if("object"===s||"function"===s||"asyncfunction"===s)return o=Object.keys(t),e.unorderedObjects&&(o=o.sort()),!1===e.respectType||y(t)||o.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(o=o.filter((function(t){return!e.excludeKeys(t)}))),n("object:"+o.length+":"),a=this,o.forEach((function(i){a.dispatch(i),n(":"),e.excludeValues||a.dispatch(t[i]),n(",")}));if(!this["_"+s]){if(e.ignoreUnknown)return n("["+s+"]");throw new Error('Unknown object type "'+s+'"')}this["_"+s](t)},_array:function(t,a){a=void 0!==a?a:!1!==e.unorderedArrays;var r=this;if(n("array:"+t.length+":"),!a||t.length<=1)return t.forEach((function(e){return r.dispatch(e)}));var o=[];return a=t.map((function(t){var n=new b,a=i.slice();return v(e,n,a).dispatch(t),o=o.concat(a.slice(i.length)),n.read().toString()})),i=i.concat(o),a.sort(),this._array(a,!1)},_date:function(e){return n("date:"+e.toJSON())},_symbol:function(e){return n("symbol:"+e.toString())},_error:function(e){return n("error:"+e.toString())},_boolean:function(e){return n("bool:"+e.toString())},_string:function(e){n("string:"+e.length+":"),n(e.toString())},_function:function(t){n("fn:"),y(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return n("number:"+e.toString())},_xml:function(e){return n("xml:"+e.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(e){return n("regex:"+e.toString())},_uint8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return n("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return n("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return n("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return n("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return n("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return n("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return n("url:"+e.toString())},_map:function(t){return n("map:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_set:function(t){return n("set:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_file:function(e){return n("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return n("domwindow")},_bigint:function(e){return n("bigint:"+e.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function b(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}i.writeToStream=function(e,t,i){return void 0===i&&(i=t,t={}),v(t=m(e,t),i).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,i){(function(e,t,n,a,r,o,s,l,c){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,i="+".charCodeAt(0),n="/".charCodeAt(0),a="0".charCodeAt(0),r="a".charCodeAt(0),o="A".charCodeAt(0),s="-".charCodeAt(0),l="_".charCodeAt(0);function c(e){return(e=e.charCodeAt(0))===i||e===s?62:e===n||e===l?63:e<a?-1:e<a+10?e-a+26+26:e<o+26?e-o:e<r+26?e-r+26:void 0}e.toByteArray=function(e){var i,n;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var a=e.length,r=(a="="===e.charAt(a-2)?2:"="===e.charAt(a-1)?1:0,new t(3*e.length/4-a)),o=0<a?e.length-4:e.length,s=0;function l(e){r[s++]=e}for(i=0;i<o;i+=4,0)l((16711680&(n=c(e.charAt(i))<<18|c(e.charAt(i+1))<<12|c(e.charAt(i+2))<<6|c(e.charAt(i+3))))>>16),l((65280&n)>>8),l(255&n);return 2==a?l(255&(n=c(e.charAt(i))<<2|c(e.charAt(i+1))>>4)):1==a&&(l((n=c(e.charAt(i))<<10|c(e.charAt(i+1))<<4|c(e.charAt(i+2))>>2)>>8&255),l(255&n)),r},e.fromByteArray=function(e){var t,i,n,a,r=e.length%3,o="";function s(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,n=e.length-r;t<n;t+=3)o+=s((a=i=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+s(a>>12&63)+s(a>>6&63)+s(63&a);switch(r){case 1:o=(o+=s((i=e[e.length-1])>>2))+s(i<<4&63)+"==";break;case 2:o=(o=(o+=s((i=(e[e.length-2]<<8)+e[e.length-1])>>10))+s(i>>4&63))+s(i<<2&63)+"="}return o}}(void 0===i?this.base64js={}:i)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,i){(function(t,n,a,r,o,s,l,c,u){var d=e("base64-js"),h=e("ieee754");function a(e,t,i){if(!(this instanceof a))return new a(e,t,i);var n,r,o,s,l=typeof e;if("base64"===t&&"string"==l)for(e=(s=e).trim?s.trim():s.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==l)n=E(e);else if("string"==l)n=a.byteLength(e,t);else{if("object"!=l)throw new Error("First argument needs to be a number, array or string.");n=E(e.length)}if(a._useTypedArrays?r=a._augment(new Uint8Array(n)):((r=this).length=n,r._isBuffer=!0),a._useTypedArrays&&"number"==typeof e.byteLength)r._set(e);else if(_(s=e)||a.isBuffer(s)||s&&"object"==typeof s&&"number"==typeof s.length)for(o=0;o<n;o++)a.isBuffer(e)?r[o]=e.readUInt8(o):r[o]=e[o];else if("string"==l)r.write(e,0,t);else if("number"==l&&!a._useTypedArrays&&!i)for(o=0;o<n;o++)r[o]=0;return r}function g(e,t,i,n){var a;if(n||(F("boolean"==typeof i,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+1<e.length,"Trying to read beyond buffer length")),!((n=e.length)<=t))return i?(a=e[t],t+1<n&&(a|=e[t+1]<<8)):(a=e[t]<<8,t+1<n&&(a|=e[t+1])),a}function p(e,t,i,n){var a;if(n||(F("boolean"==typeof i,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+3<e.length,"Trying to read beyond buffer length")),!((n=e.length)<=t))return i?(t+2<n&&(a=e[t+2]<<16),t+1<n&&(a|=e[t+1]<<8),a|=e[t],t+3<n&&(a+=e[t+3]<<24>>>0)):(t+1<n&&(a=e[t+1]<<16),t+2<n&&(a|=e[t+2]<<8),t+3<n&&(a|=e[t+3]),a+=e[t]<<24>>>0),a}function f(e,t,i,n){if(n||(F("boolean"==typeof i,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(n=g(e,t,i,!0))?-1*(65535-n+1):n}function m(e,t,i,n){if(n||(F("boolean"==typeof i,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(n=p(e,t,i,!0))?-1*(4294967295-n+1):n}function y(e,t,i,n){return n||(F("boolean"==typeof i,"missing or invalid endian"),F(t+3<e.length,"Trying to read beyond buffer length")),h.read(e,t,i,23,4)}function v(e,t,i,n){return n||(F("boolean"==typeof i,"missing or invalid endian"),F(t+7<e.length,"Trying to read beyond buffer length")),h.read(e,t,i,52,8)}function b(e,t,i,n,a){if(a||(F(null!=t,"missing value"),F("boolean"==typeof n,"missing or invalid endian"),F(null!=i,"missing offset"),F(i+1<e.length,"trying to write beyond buffer length"),I(t,65535)),!((a=e.length)<=i))for(var r=0,o=Math.min(a-i,2);r<o;r++)e[i+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function S(e,t,i,n,a){if(a||(F(null!=t,"missing value"),F("boolean"==typeof n,"missing or invalid endian"),F(null!=i,"missing offset"),F(i+3<e.length,"trying to write beyond buffer length"),I(t,4294967295)),!((a=e.length)<=i))for(var r=0,o=Math.min(a-i,4);r<o;r++)e[i+r]=t>>>8*(n?r:3-r)&255}function x(e,t,i,n,a){a||(F(null!=t,"missing value"),F("boolean"==typeof n,"missing or invalid endian"),F(null!=i,"missing offset"),F(i+1<e.length,"Trying to write beyond buffer length"),O(t,32767,-32768)),e.length<=i||b(e,0<=t?t:65535+t+1,i,n,a)}function w(e,t,i,n,a){a||(F(null!=t,"missing value"),F("boolean"==typeof n,"missing or invalid endian"),F(null!=i,"missing offset"),F(i+3<e.length,"Trying to write beyond buffer length"),O(t,2147483647,-2147483648)),e.length<=i||S(e,0<=t?t:4294967295+t+1,i,n,a)}function k(e,t,i,n,a){a||(F(null!=t,"missing value"),F("boolean"==typeof n,"missing or invalid endian"),F(null!=i,"missing offset"),F(i+3<e.length,"Trying to write beyond buffer length"),V(t,34028234663852886e22,-34028234663852886e22)),e.length<=i||h.write(e,t,i,n,23,4)}function C(e,t,i,n,a){a||(F(null!=t,"missing value"),F("boolean"==typeof n,"missing or invalid endian"),F(null!=i,"missing offset"),F(i+7<e.length,"Trying to write beyond buffer length"),V(t,17976931348623157e292,-17976931348623157e292)),e.length<=i||h.write(e,t,i,n,52,8)}i.Buffer=a,i.SlowBuffer=a,i.INSPECT_MAX_BYTES=50,a.poolSize=8192,a._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.byteLength=function(e,t){var i;switch(e+="",t||"utf8"){case"hex":i=e.length/2;break;case"utf8":case"utf-8":i=N(e).length;break;case"ascii":case"binary":case"raw":i=e.length;break;case"base64":i=L(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=2*e.length;break;default:throw new Error("Unknown encoding")}return i},a.concat=function(e,t){if(F(_(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new a(0);if(1===e.length)return e[0];if("number"!=typeof t)for(r=t=0;r<e.length;r++)t+=e[r].length;for(var i=new a(t),n=0,r=0;r<e.length;r++){var o=e[r];o.copy(i,n),n+=o.length}return i},a.prototype.write=function(e,t,i,n){isFinite(t)?isFinite(i)||(n=i,i=void 0):(c=n,n=t,t=i,i=c),t=Number(t)||0;var r,o,s,l,c=this.length-t;switch((!i||c<(i=Number(i)))&&(i=c),n=String(n||"utf8").toLowerCase()){case"hex":r=function(e,t,i,n){i=Number(i)||0;var r=e.length-i;(!n||r<(n=Number(n)))&&(n=r),F((r=t.length)%2==0,"Invalid hex string"),r/2<n&&(n=r/2);for(var o=0;o<n;o++){var s=parseInt(t.substr(2*o,2),16);F(!isNaN(s),"Invalid hex string"),e[i+o]=s}return a._charsWritten=2*o,o}(this,e,t,i);break;case"utf8":case"utf-8":o=this,s=t,l=i,r=a._charsWritten=A(N(e),o,s,l);break;case"ascii":case"binary":r=function(e,t,i,n){return a._charsWritten=A(function(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}(this,e,t,i);break;case"base64":o=this,s=t,l=i,r=a._charsWritten=A(L(e),o,s,l);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,i,n){return a._charsWritten=A(function(e){for(var t,i,n=[],a=0;a<e.length;a++)t=(i=e.charCodeAt(a))>>8,i%=256,n.push(i),n.push(t);return n}(t),e,i,n)}(this,e,t,i);break;default:throw new Error("Unknown encoding")}return r},a.prototype.toString=function(e,t,i){var n,a,r,o,s=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(i=void 0!==i?Number(i):s.length)===t)return"";switch(e){case"hex":n=function(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||n<i)&&(i=n);for(var a="",r=t;r<i;r++)a+=D(e[r]);return a}(s,t,i);break;case"utf8":case"utf-8":n=function(e,t,i){var n="",a="";i=Math.min(e.length,i);for(var r=t;r<i;r++)e[r]<=127?(n+=P(a)+String.fromCharCode(e[r]),a=""):a+="%"+e[r].toString(16);return n+P(a)}(s,t,i);break;case"ascii":case"binary":n=function(e,t,i){var n="";i=Math.min(e.length,i);for(var a=t;a<i;a++)n+=String.fromCharCode(e[a]);return n}(s,t,i);break;case"base64":a=s,o=i,n=0===(r=t)&&o===a.length?d.fromByteArray(a):d.fromByteArray(a.slice(r,o));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=function(e,t,i){for(var n=e.slice(t,i),a="",r=0;r<n.length;r+=2)a+=String.fromCharCode(n[r]+256*n[r+1]);return a}(s,t,i);break;default:throw new Error("Unknown encoding")}return n},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.copy=function(e,t,i,n){if(t=t||0,(n=n||0===n?n:this.length)!==(i=i||0)&&0!==e.length&&0!==this.length){F(i<=n,"sourceEnd < sourceStart"),F(0<=t&&t<e.length,"targetStart out of bounds"),F(0<=i&&i<this.length,"sourceStart out of bounds"),F(0<=n&&n<=this.length,"sourceEnd out of bounds"),n>this.length&&(n=this.length);var r=(n=e.length-t<n-i?e.length-t+i:n)-i;if(r<100||!a._useTypedArrays)for(var o=0;o<r;o++)e[o+t]=this[o+i];else e._set(this.subarray(i,i+r),t)}},a.prototype.slice=function(e,t){var i=this.length;if(e=M(e,i,0),t=M(t,i,i),a._useTypedArrays)return a._augment(this.subarray(e,t));for(var n=t-e,r=new a(n,void 0,!0),o=0;o<n;o++)r[o]=this[o+e];return r},a.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},a.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},a.prototype.readUInt8=function(e,t){if(t||(F(null!=e,"missing offset"),F(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},a.prototype.readUInt16LE=function(e,t){return g(this,e,!0,t)},a.prototype.readUInt16BE=function(e,t){return g(this,e,!1,t)},a.prototype.readUInt32LE=function(e,t){return p(this,e,!0,t)},a.prototype.readUInt32BE=function(e,t){return p(this,e,!1,t)},a.prototype.readInt8=function(e,t){if(t||(F(null!=e,"missing offset"),F(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){return f(this,e,!0,t)},a.prototype.readInt16BE=function(e,t){return f(this,e,!1,t)},a.prototype.readInt32LE=function(e,t){return m(this,e,!0,t)},a.prototype.readInt32BE=function(e,t){return m(this,e,!1,t)},a.prototype.readFloatLE=function(e,t){return y(this,e,!0,t)},a.prototype.readFloatBE=function(e,t){return y(this,e,!1,t)},a.prototype.readDoubleLE=function(e,t){return v(this,e,!0,t)},a.prototype.readDoubleBE=function(e,t){return v(this,e,!1,t)},a.prototype.writeUInt8=function(e,t,i){i||(F(null!=e,"missing value"),F(null!=t,"missing offset"),F(t<this.length,"trying to write beyond buffer length"),I(e,255)),t>=this.length||(this[t]=e)},a.prototype.writeUInt16LE=function(e,t,i){b(this,e,t,!0,i)},a.prototype.writeUInt16BE=function(e,t,i){b(this,e,t,!1,i)},a.prototype.writeUInt32LE=function(e,t,i){S(this,e,t,!0,i)},a.prototype.writeUInt32BE=function(e,t,i){S(this,e,t,!1,i)},a.prototype.writeInt8=function(e,t,i){i||(F(null!=e,"missing value"),F(null!=t,"missing offset"),F(t<this.length,"Trying to write beyond buffer length"),O(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,i):this.writeUInt8(255+e+1,t,i))},a.prototype.writeInt16LE=function(e,t,i){x(this,e,t,!0,i)},a.prototype.writeInt16BE=function(e,t,i){x(this,e,t,!1,i)},a.prototype.writeInt32LE=function(e,t,i){w(this,e,t,!0,i)},a.prototype.writeInt32BE=function(e,t,i){w(this,e,t,!1,i)},a.prototype.writeFloatLE=function(e,t,i){k(this,e,t,!0,i)},a.prototype.writeFloatBE=function(e,t,i){k(this,e,t,!1,i)},a.prototype.writeDoubleLE=function(e,t,i){C(this,e,t,!0,i)},a.prototype.writeDoubleBE=function(e,t,i){C(this,e,t,!1,i)},a.prototype.fill=function(e,t,i){if(t=t||0,i=i||this.length,F("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),F(t<=i,"end < start"),i!==t&&0!==this.length){F(0<=t&&t<this.length,"start out of bounds"),F(0<=i&&i<=this.length,"end out of bounds");for(var n=t;n<i;n++)this[n]=e}},a.prototype.inspect=function(){for(var e=[],t=this.length,n=0;n<t;n++)if(e[n]=D(this[n]),n===i.INSPECT_MAX_BYTES){e[n+1]="...";break}return"<Buffer "+e.join(" ")+">"},a.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(a._useTypedArrays)return new a(this).buffer;for(var e=new Uint8Array(this.length),t=0,i=e.length;t<i;t+=1)e[t]=this[t];return e.buffer};var T=a.prototype;function M(e,t,i){return"number"!=typeof e?i:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function E(e){return(e=~~Math.ceil(+e))<0?0:e}function _(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e){for(var t=[],i=0;i<e.length;i++){var n=e.charCodeAt(i);if(n<=127)t.push(e.charCodeAt(i));else for(var a=i,r=(55296<=n&&n<=57343&&i++,encodeURIComponent(e.slice(a,i+1)).substr(1).split("%")),o=0;o<r.length;o++)t.push(parseInt(r[o],16))}return t}function L(e){return d.toByteArray(e)}function A(e,t,i,n){for(var a=0;a<n&&!(a+i>=t.length||a>=e.length);a++)t[a+i]=e[a];return a}function P(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function I(e,t){F("number"==typeof e,"cannot write a non-number as a number"),F(0<=e,"specified a negative value for writing an unsigned value"),F(e<=t,"value is larger than maximum value for type"),F(Math.floor(e)===e,"value has a fractional component")}function O(e,t,i){F("number"==typeof e,"cannot write a non-number as a number"),F(e<=t,"value larger than maximum allowed value"),F(i<=e,"value smaller than minimum allowed value"),F(Math.floor(e)===e,"value has a fractional component")}function V(e,t,i){F("number"==typeof e,"cannot write a non-number as a number"),F(e<=t,"value larger than maximum allowed value"),F(i<=e,"value smaller than minimum allowed value")}function F(e,t){if(!e)throw new Error(t||"Failed assertion")}a._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=T.get,e.set=T.set,e.write=T.write,e.toString=T.toString,e.toLocaleString=T.toString,e.toJSON=T.toJSON,e.copy=T.copy,e.slice=T.slice,e.readUInt8=T.readUInt8,e.readUInt16LE=T.readUInt16LE,e.readUInt16BE=T.readUInt16BE,e.readUInt32LE=T.readUInt32LE,e.readUInt32BE=T.readUInt32BE,e.readInt8=T.readInt8,e.readInt16LE=T.readInt16LE,e.readInt16BE=T.readInt16BE,e.readInt32LE=T.readInt32LE,e.readInt32BE=T.readInt32BE,e.readFloatLE=T.readFloatLE,e.readFloatBE=T.readFloatBE,e.readDoubleLE=T.readDoubleLE,e.readDoubleBE=T.readDoubleBE,e.writeUInt8=T.writeUInt8,e.writeUInt16LE=T.writeUInt16LE,e.writeUInt16BE=T.writeUInt16BE,e.writeUInt32LE=T.writeUInt32LE,e.writeUInt32BE=T.writeUInt32BE,e.writeInt8=T.writeInt8,e.writeInt16LE=T.writeInt16LE,e.writeInt16BE=T.writeInt16BE,e.writeInt32LE=T.writeInt32LE,e.writeInt32BE=T.writeInt32BE,e.writeFloatLE=T.writeFloatLE,e.writeFloatBE=T.writeFloatBE,e.writeDoubleLE=T.writeDoubleLE,e.writeDoubleBE=T.writeDoubleBE,e.fill=T.fill,e.inspect=T.inspect,e.toArrayBuffer=T.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,i){(function(i,n,a,r,o,s,l,c,u){a=e("buffer").Buffer;var d=new a(4);d.fill(0),t.exports={hash:function(e,t,i,n){for(var r=t(function(e,t){e.length%4!=0&&(i=e.length+(4-e.length%4),e=a.concat([e,d],i));for(var i,n=[],r=t?e.readInt32BE:e.readInt32LE,o=0;o<e.length;o+=4)n.push(r.call(e,o));return n}(e=a.isBuffer(e)?e:new a(e),n),8*e.length),o=(t=n,new a(i)),s=t?o.writeInt32BE:o.writeInt32LE,l=0;l<r.length;l++)s.call(o,r[l],4*l,!0);return o}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,i){(function(t,n,a,r,o,s,l,c,u){a=e("buffer").Buffer;var d=e("./sha"),h=e("./sha256"),g=e("./rng"),p={sha1:d,sha256:h,md5:e("./md5")},f=64,m=new a(f);function y(e,t){var i=p[e=e||"sha1"],n=[];return i||v("algorithm:",e,"is not yet supported"),{update:function(e){return a.isBuffer(e)||(e=new a(e)),n.push(e),e.length,this},digest:function(e){var r=a.concat(n);return r=t?function(e,t,i){a.isBuffer(t)||(t=new a(t)),a.isBuffer(i)||(i=new a(i)),t.length>f?t=e(t):t.length<f&&(t=a.concat([t,m],f));for(var n=new a(f),r=new a(f),o=0;o<f;o++)n[o]=54^t[o],r[o]=92^t[o];return i=e(a.concat([n,i])),e(a.concat([r,i]))}(i,t,r):i(r),n=null,e?r.toString(e):r}}}function v(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}m.fill(0),i.createHash=function(e){return y(e)},i.createHmac=y,i.randomBytes=function(e,t){if(!t||!t.call)return new a(g(e));try{t.call(this,void 0,new a(g(e)))}catch(e){t(e)}};var b,S=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],x=function(e){i[e]=function(){v("sorry,",e,"is not implemented yet")}};for(b in S)x(S[b])}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,i){(function(i,n,a,r,o,s,l,c,u){var d=e("./helpers");function h(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var i=1732584193,n=-271733879,a=-1732584194,r=271733878,o=0;o<e.length;o+=16){var s=i,l=n,c=a,u=r;i=p(i,n,a,r,e[o+0],7,-680876936),r=p(r,i,n,a,e[o+1],12,-389564586),a=p(a,r,i,n,e[o+2],17,606105819),n=p(n,a,r,i,e[o+3],22,-1044525330),i=p(i,n,a,r,e[o+4],7,-176418897),r=p(r,i,n,a,e[o+5],12,1200080426),a=p(a,r,i,n,e[o+6],17,-1473231341),n=p(n,a,r,i,e[o+7],22,-45705983),i=p(i,n,a,r,e[o+8],7,1770035416),r=p(r,i,n,a,e[o+9],12,-1958414417),a=p(a,r,i,n,e[o+10],17,-42063),n=p(n,a,r,i,e[o+11],22,-1990404162),i=p(i,n,a,r,e[o+12],7,1804603682),r=p(r,i,n,a,e[o+13],12,-40341101),a=p(a,r,i,n,e[o+14],17,-1502002290),i=f(i,n=p(n,a,r,i,e[o+15],22,1236535329),a,r,e[o+1],5,-165796510),r=f(r,i,n,a,e[o+6],9,-1069501632),a=f(a,r,i,n,e[o+11],14,643717713),n=f(n,a,r,i,e[o+0],20,-373897302),i=f(i,n,a,r,e[o+5],5,-701558691),r=f(r,i,n,a,e[o+10],9,38016083),a=f(a,r,i,n,e[o+15],14,-660478335),n=f(n,a,r,i,e[o+4],20,-405537848),i=f(i,n,a,r,e[o+9],5,568446438),r=f(r,i,n,a,e[o+14],9,-1019803690),a=f(a,r,i,n,e[o+3],14,-187363961),n=f(n,a,r,i,e[o+8],20,1163531501),i=f(i,n,a,r,e[o+13],5,-1444681467),r=f(r,i,n,a,e[o+2],9,-51403784),a=f(a,r,i,n,e[o+7],14,1735328473),i=m(i,n=f(n,a,r,i,e[o+12],20,-1926607734),a,r,e[o+5],4,-378558),r=m(r,i,n,a,e[o+8],11,-2022574463),a=m(a,r,i,n,e[o+11],16,1839030562),n=m(n,a,r,i,e[o+14],23,-35309556),i=m(i,n,a,r,e[o+1],4,-1530992060),r=m(r,i,n,a,e[o+4],11,1272893353),a=m(a,r,i,n,e[o+7],16,-155497632),n=m(n,a,r,i,e[o+10],23,-1094730640),i=m(i,n,a,r,e[o+13],4,681279174),r=m(r,i,n,a,e[o+0],11,-358537222),a=m(a,r,i,n,e[o+3],16,-722521979),n=m(n,a,r,i,e[o+6],23,76029189),i=m(i,n,a,r,e[o+9],4,-640364487),r=m(r,i,n,a,e[o+12],11,-421815835),a=m(a,r,i,n,e[o+15],16,530742520),i=y(i,n=m(n,a,r,i,e[o+2],23,-995338651),a,r,e[o+0],6,-198630844),r=y(r,i,n,a,e[o+7],10,1126891415),a=y(a,r,i,n,e[o+14],15,-1416354905),n=y(n,a,r,i,e[o+5],21,-57434055),i=y(i,n,a,r,e[o+12],6,1700485571),r=y(r,i,n,a,e[o+3],10,-1894986606),a=y(a,r,i,n,e[o+10],15,-1051523),n=y(n,a,r,i,e[o+1],21,-2054922799),i=y(i,n,a,r,e[o+8],6,1873313359),r=y(r,i,n,a,e[o+15],10,-30611744),a=y(a,r,i,n,e[o+6],15,-1560198380),n=y(n,a,r,i,e[o+13],21,1309151649),i=y(i,n,a,r,e[o+4],6,-145523070),r=y(r,i,n,a,e[o+11],10,-1120210379),a=y(a,r,i,n,e[o+2],15,718787259),n=y(n,a,r,i,e[o+9],21,-343485551),i=v(i,s),n=v(n,l),a=v(a,c),r=v(r,u)}return Array(i,n,a,r)}function g(e,t,i,n,a,r){return v((t=v(v(t,e),v(n,r)))<<a|t>>>32-a,i)}function p(e,t,i,n,a,r,o){return g(t&i|~t&n,e,t,a,r,o)}function f(e,t,i,n,a,r,o){return g(t&n|i&~n,e,t,a,r,o)}function m(e,t,i,n,a,r,o){return g(t^i^n,e,t,a,r,o)}function y(e,t,i,n,a,r,o){return g(i^(t|~n),e,t,a,r,o)}function v(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}t.exports=function(e){return d.hash(e,h,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,i){(function(e,i,n,a,r,o,s,l,c){t.exports=function(e){for(var t,i=new Array(e),n=0;n<e;n++)0==(3&n)&&(t=4294967296*Math.random()),i[n]=t>>>((3&n)<<3)&255;return i}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,i){(function(i,n,a,r,o,s,l,c,u){var d=e("./helpers");function h(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var i,n,a,r=Array(80),o=1732584193,s=-271733879,l=-1732584194,c=271733878,u=-1009589776,d=0;d<e.length;d+=16){for(var h=o,f=s,m=l,y=c,v=u,b=0;b<80;b++){r[b]=b<16?e[d+b]:p(r[b-3]^r[b-8]^r[b-14]^r[b-16],1);var S=g(g(p(o,5),(S=s,n=l,a=c,(i=b)<20?S&n|~S&a:!(i<40)&&i<60?S&n|S&a|n&a:S^n^a)),g(g(u,r[b]),(i=b)<20?1518500249:i<40?1859775393:i<60?-1894007588:-899497514));u=c,c=l,l=p(s,30),s=o,o=S}o=g(o,h),s=g(s,f),l=g(l,m),c=g(c,y),u=g(u,v)}return Array(o,s,l,c,u)}function g(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,h,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,i){(function(i,n,a,r,o,s,l,c,u){function d(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function h(e,t){var i,n=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),a=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),r=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var o,s,l=0;l<e.length;l+=16){for(var c=a[0],u=a[1],h=a[2],g=a[3],m=a[4],y=a[5],v=a[6],b=a[7],S=0;S<64;S++)r[S]=S<16?e[S+l]:d(d(d((s=r[S-2],p(s,17)^p(s,19)^f(s,10)),r[S-7]),(s=r[S-15],p(s,7)^p(s,18)^f(s,3))),r[S-16]),i=d(d(d(d(b,p(s=m,6)^p(s,11)^p(s,25)),m&y^~m&v),n[S]),r[S]),o=d(p(o=c,2)^p(o,13)^p(o,22),c&u^c&h^u&h),b=v,v=y,y=m,m=d(g,i),g=h,h=u,u=c,c=d(i,o);a[0]=d(c,a[0]),a[1]=d(u,a[1]),a[2]=d(h,a[2]),a[3]=d(g,a[3]),a[4]=d(m,a[4]),a[5]=d(y,a[5]),a[6]=d(v,a[6]),a[7]=d(b,a[7])}return a}var g=e("./helpers"),p=function(e,t){return e>>>t|e<<32-t},f=function(e,t){return e>>>t};t.exports=function(e){return g.hash(e,h,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,i){(function(e,t,n,a,r,o,s,l,c){i.read=function(e,t,i,n,a){var r,o,s=8*a-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=i?a-1:0,h=i?-1:1;for(a=e[t+d],d+=h,r=a&(1<<-u)-1,a>>=-u,u+=s;0<u;r=256*r+e[t+d],d+=h,u-=8);for(o=r&(1<<-u)-1,r>>=-u,u+=n;0<u;o=256*o+e[t+d],d+=h,u-=8);if(0===r)r=1-c;else{if(r===l)return o?NaN:1/0*(a?-1:1);o+=Math.pow(2,n),r-=c}return(a?-1:1)*o*Math.pow(2,r-n)},i.write=function(e,t,i,n,a,r){var o,s,l=8*r-a-1,c=(1<<l)-1,u=c>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:r-1,g=n?1:-1;for(r=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-o))<1&&(o--,n*=2),2<=(t+=1<=o+u?d/n:d*Math.pow(2,1-u))*n&&(o++,n/=2),c<=o+u?(s=0,o=c):1<=o+u?(s=(t*n-1)*Math.pow(2,a),o+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,a),o=0));8<=a;e[i+h]=255&s,h+=g,s/=256,a-=8);for(o=o<<a|s,l+=a;0<l;e[i+h]=255&o,h+=g,o/=256,l-=8);e[i+h-g]|=128*r}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,i){(function(e,i,n,a,r,o,s,l,c){var u,d,h;function g(){}(e=t.exports={}).nextTick=(d="undefined"!=typeof window&&window.setImmediate,h="undefined"!=typeof window&&window.postMessage&&window.addEventListener,d?function(e){return window.setImmediate(e)}:h?(u=[],window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<u.length&&u.shift()())}),!0),function(e){u.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=g,e.addListener=g,e.once=g,e.off=g,e.removeListener=g,e.removeAllListeners=g,e.emit=g,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},716:(e,t,i)=>{"use strict";i.d(t,{a:()=>a});var n=i(6092);class a{bindEvents(e,t){const i=e.legendItems;this.legendIcons=e.legendIcons;const a=e.clearCatcher;n.uE(i,t),a.on("click",(()=>{t.handleClearSelection()}))}renderSelection(e){e?this.legendIcons.style("fill",(e=>e.selected?e.color:a.dimmedLegendColor)):this.legendIcons.style("fill",(e=>e.color))}}a.dimmedLegendColor="#A6A6A6"},6136:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(3291),a=i(7656),r=i(7988);class o{constructor(e){this.legendContainerParent=(0,n.c)(e)}getMargins(){return{height:o.LegendHeight,width:0}}drawLegend(e){const t=e.dataPoints;if(t.length<1)return;let i=this.legendContainerParent.select(o.LegendContainerSelector);if(i.empty()){if(!t.length)return;i=this.legendContainerParent.insert("div",":first-child").style("height",this.getMargins().height).classed(o.LegendContainerClass,!0)}this.legendContainerDiv=i,this.drawTitle(t),this.drawLegendItems(t)}reset(){this.legendContainerDiv&&(this.legendContainerDiv.remove(),this.legendContainerDiv=null)}isVisible(){return!0}changeOrientation(e){}getOrientation(){return r.qv.Top}drawTitle(e){const t=this.legendContainerDiv.selectAll(`div.${o.LegendTitleClass}`).data([e[0]]),i=t.enter(),n=i.append("div").attr("class",o.LegendTitleClass);n.filter((e=>e.iconOnlyOnLabel)).append("span").attr("class",o.legendIconClass).html(o.legendPlaceSelector),n.append("span"),t.filter((e=>e.iconOnlyOnLabel)).merge(i).select("span."+o.legendIconClass).style(o.legendColorCss,(e=>e.color)),t.merge(i).select("span:last-child").text((e=>e.category))}drawLegendItems(e){this.ensureLegendTableCreated();const t=[e],i=this.legendContainerDiv.select("tbody").selectAll("tr").data(t),n=i.enter(),r=n.append("tr").selectAll("td").data((e=>e),(e=>e.label)).enter().append("td").attr("class",o.LegendItem).append("span");r.filter((e=>!e.iconOnlyOnLabel)).append("span").html(o.legendPlaceSelector).attr("class",o.legendIconClass).attr("white-space","nowrap").style("font-size","20px").style("margin-bottom","7px"),r.append("span").attr("class",o.legendItemNameClass),r.append("span").attr("class",o.legendItemMeasureClass);const s=i.merge(n).selectAll("td").data((e=>e),(e=>e.label));s.merge(n).select(`span.${o.legendItemNameClass}`).html((e=>a.qC.removeBreakingSpaces(e.label))),s.merge(n).select(`span.${o.legendItemMeasureClass}`).html((e=>`&nbsp;${e.measure}`)),s.merge(n).select("span."+o.legendIconClass).style("color",(e=>e.color)),s.exit().remove()}ensureLegendTableCreated(){this.legendContainerDiv.select("div table").empty()&&this.legendContainerDiv.append("div").append("table").style("table-layout","fixed").append("tbody")}setPanGestureOnLegend(e){throw"Not implemented"}}o.LegendHeight=70,o.LegendContainerClass="interactive-legend",o.LegendContainerSelector=".interactive-legend",o.LegendTitleClass="title",o.LegendItem="item",o.legendPlaceSelector="●",o.legendIconClass="icon",o.legendColorCss="color",o.legendItemNameClass="itemName",o.legendItemMeasureClass="itemMeasure"},1976:(e,t,i)=>{"use strict";i.d(t,{ct:()=>o});var n=i(7988),a=i(6136),r=i(4632);function o(e,t,i,o=!1,s=n.qv.Top,l){return t?new a.c(e):new r.q(e,s,i,o,l)}},7988:(e,t,i)=>{"use strict";var n,a,r;i.d(t,{At:()=>r,oP:()=>a,qv:()=>n}),function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Right=2]="Right",e[e.Left=3]="Left",e[e.None=4]="None",e[e.TopCenter=5]="TopCenter",e[e.BottomCenter=6]="BottomCenter",e[e.RightCenter=7]="RightCenter",e[e.LeftCenter=8]="LeftCenter"}(n||(n={})),function(e){e.circle="circle",e.square="square",e.longDash="longDash"}(a||(a={})),function(e){e.dashed="dashed",e.solid="solid",e.dotted="dotted",e.dotdash="dotdash",e.dashdot="dashdot"}(r||(r={}))},8184:(e,t,i)=>{"use strict";i.d(t,{O0:()=>d,QL:()=>a,SQ:()=>h,aQ:()=>r});var n=i(7988);const a=5,r=31,o="M 0 0 m -5 0 a 5 5 0 1 0 10 0 a 5 5 0 1 0 -10 0",s="M 0 0 m -5 -5 l 10 0 l 0 10 l -10 0 z",l="M -"+r/2+" 0 L "+r/2+" 0",c=0,u=2;function d(e){switch(e){case n.oP.circle:return o;case n.oP.square:return s;case n.oP.longDash:return l;default:return}}function h(e){switch(e){case n.oP.longDash:return u;case n.oP.circle:case n.oP.square:default:return c}}},4632:(e,t,i)=>{"use strict";i.d(t,{q:()=>m});var n=i(3291),a=i(7656),r=i(172),o=i(7464),s=i(3756),l=i(8472),c=i(7988),u=i(716),d=i(840),h=i(8184),g=s.kn,p=d.YH,f=d.cv;class m{constructor(e,t,i,a,r){this.legendDataStartIndex=0,this.arrowPosWindow=1,this.lastCalculatedWidth=0,this.visibleLegendWidth=0,this.visibleLegendHeight=0,this.legendFontSizeMarginDifference=0,this.legendFontSizeMarginValue=0,this.svg=(0,n.c)(e).append("svg").style("position","absolute"),this.svg.style("display","inherit"),this.svg.classed("legend",!0),i&&(this.clearCatcher=p(this.svg)),this.group=this.svg.append("g").attr("id","legendGroup"),this.interactiveBehavior=r||new u.a,this.interactivityService=i,this.isScrollable=a,this.element=e,this.changeOrientation(t),this.parentViewport={height:0,width:0},this.calculateViewport(),this.updateLayout()}updateLayout(){const e=this.viewport,t=this.orientation;this.svg.attr("height",e.height||(t===c.qv.None?0:this.parentViewport.height)),this.svg.attr("width",e.width||(t===c.qv.None?0:this.parentViewport.width));const i=t===c.qv.Right||t===c.qv.RightCenter,n=t===c.qv.Bottom||t===c.qv.BottomCenter;this.svg.style("margin-left",i?this.parentViewport.width-e.width+"px":null),this.svg.style("margin-top",n?this.parentViewport.height-e.height+"px":null)}calculateViewport(){switch(this.orientation){case c.qv.Top:case c.qv.Bottom:case c.qv.TopCenter:case c.qv.BottomCenter:const e=r.fromPointToPixel(this.data&&this.data.fontSize?this.data.fontSize:m.DefaultFontSizeInPt),t=m.TopLegendHeight+(e-m.DefaultFontSizeInPt);return void(this.viewport={height:t,width:0});case c.qv.Right:case c.qv.Left:case c.qv.RightCenter:case c.qv.LeftCenter:const i=this.lastCalculatedWidth?this.lastCalculatedWidth:this.parentViewport.width*m.LegendMaxWidthFactor;return void(this.viewport={height:0,width:i});case c.qv.None:this.viewport={height:0,width:0}}}getMargins(){return this.viewport}isVisible(){return this.orientation!==c.qv.None}changeOrientation(e){this.orientation=e||c.qv.Top,this.svg.attr("orientation",e)}getOrientation(){return this.orientation}drawLegend(e,t){const i=o.inherit(e),n=[];for(const t of e.dataPoints)n.push(o.inherit(t));i.dataPoints=n,this.setTooltipToLegendItems(i),this.drawLegendInternal(i,t,!0)}drawLegendInternal(e,t,i){this.parentViewport=t,this.data=e,this.interactivityService&&this.interactivityService.applySelectionStateToData(e.dataPoints),0===e.dataPoints.length&&this.changeOrientation(c.qv.None),this.getOrientation()===c.qv.None&&(e.dataPoints=[]);const n=this.element.getElementsByClassName("mapControl");if(n.length>0&&!this.isTopOrBottom(this.orientation))for(let e=0;e<n.length;++e)n[e].style.display="inline-block";this.calculateViewport();const a=this.calculateLayout(e,i),o=a.title,s=o?[o]:[],u=this.interactivityService&&f(e.dataPoints),d=this.group;if(this.isCentered(this.orientation)){let e=0;this.isTopOrBottom(this.orientation)?(e=Math.max(0,(this.parentViewport.width-this.visibleLegendWidth)/2),d.attr("transform",l.GS(e,0))):(e=Math.max((this.parentViewport.height-this.visibleLegendHeight)/2),d.attr("transform",l.GS(0,e)))}else d.attr("transform",null);const g=d.selectAll(m.LegendTitle.selectorName).data(s),p=g.enter().append("text").classed(m.LegendTitle.className,!0);g.merge(p).style("fill",e.labelColor).style("font-size",r.fromPoint(e.fontSize)).style("font-family",e.fontFamily).text((e=>e.text)).attr("x",(e=>e.x)).attr("y",(e=>e.y)).append("title").text(e.title),g.exit().remove();const y=e.dataPoints.slice(this.legendDataStartIndex,this.legendDataStartIndex+a.numberOfItems),v=d.selectAll(m.LegendItem.selectorName).data(y,(e=>e.identity.getKey()+(null!=e.layerNumber?e.layerNumber:""))),b=v.enter().append("g").classed(m.LegendItem.className,!0);b.append("path").classed(m.LegendIcon.className,!0),b.append("text").classed(m.LegendText.className,!0),b.append("title").text((e=>e.tooltip));const S=v.merge(b).select(m.LegendIcon.selectorName).attr("transform",(e=>l.UF(e.glyphPosition.x,e.glyphPosition.y,this.getIconScale(e.markerShape)))).attr("d",(e=>h.O0(e.markerShape||c.oP.circle))).attr("stroke-width",(e=>e.lineStyle?2:h.SQ(e.markerShape||c.oP.circle))).style("fill",(e=>e.lineStyle?null:e.color)).style("stroke",(e=>e.color)).style("stroke-dasharray",(e=>e.lineStyle?m.getStrokeDashArrayForLegend(e.lineStyle):null)).style("stroke-linejoin","round");v.merge(b).select("title").text((e=>e.tooltip));const x=v.merge(b);if(x.select(m.LegendText.selectorName).attr("x",(e=>e.textPosition.x)).attr("y",(e=>e.textPosition.y)).text((e=>e.label)).style("fill",e.labelColor).style("font-size",r.fromPoint(e.fontSize)).style("font-family",e.fontFamily),this.interactivityService){const t={legendItems:x,legendIcons:S,clearCatcher:this.clearCatcher,dataPoints:e.dataPoints,behavior:this.interactiveBehavior,interactivityServiceOptions:{isLegend:!0}};this.interactivityService.bind(t),this.interactiveBehavior.renderSelection(u)}v.exit().remove(),this.drawNavigationArrows(a.navigationArrows),this.updateLayout()}static getStrokeDashArrayForLegend(e){switch(e){case c.At.dashed:return"7,5";case c.At.dotted:return"2.5,3.1";case c.At.dotdash:return"2.5,3.1,7,3.1";case c.At.dashdot:return"7,3.1,2.5,3.1";case c.At.solid:return null}}normalizePosition(e){this.legendDataStartIndex>=e.length&&(this.legendDataStartIndex=e.length-1),this.legendDataStartIndex<0&&(this.legendDataStartIndex=0)}calculateTitleLayout(e){let t=0;if(e){const i=this.isTopOrBottom(this.orientation),n=m.getTextProperties(e,this.data.fontSize,this.data.fontFamily);let r=e;return t=a.sX.measureSvgTextWidth(n),i?t+=m.TitlePadding:r=a.sX.getTailoredTextOrDefault(n,this.viewport.width),{text:r,width:t,x:0,y:0,height:a.sX.estimateSvgTextHeight(n)}}return null}calculateLayout(e,t){let i=e.dataPoints;if(0===e.dataPoints.length)return{numberOfItems:0,title:null,navigationArrows:[]};this.legendFontSizeMarginValue=r.fromPointToPixel(this.data&&void 0!==this.data.fontSize?this.data.fontSize:m.DefaultFontSizeInPt),this.legendFontSizeMarginDifference=this.legendFontSizeMarginValue-m.DefaultTextMargin,this.normalizePosition(i),this.legendDataStartIndex<i.length&&(i=i.slice(this.legendDataStartIndex));const n=this.calculateTitleLayout(e.title);let a,o;return this.isTopOrBottom(this.orientation)?(a=this.isScrollable?this.calculateHorizontalNavigationArrowsLayout(n):[],o=this.calculateHorizontalLayout(i,n,a)):(a=this.isScrollable?this.calculateVerticalNavigationArrowsLayout(n):[],o=this.calculateVerticalLayout(i,n,a,t)),{numberOfItems:o,title:n,navigationArrows:a}}updateNavigationArrowLayout(e,t,i){0===this.legendDataStartIndex&&e.shift();const n=this.arrowPosWindow;this.arrowPosWindow=i,e&&e.length>0&&this.arrowPosWindow===t&&(this.arrowPosWindow=n,e.length=e.length-1)}calculateHorizontalNavigationArrowsLayout(e){const t=m.LegendArrowHeight,i=m.LegendArrowWidth,n=this.viewport.height/2-t/2,a=[],r=e?e.x+e.width:0,o=l.jH(i,t,180),s=l.jH(i,t,0);return a.push({x:r,y:n,path:o.path,rotateTransform:o.transform,dataType:1}),a.push({x:this.parentViewport.width-i,y:n,path:s.path,rotateTransform:s.transform,dataType:0}),a}calculateVerticalNavigationArrowsLayout(e){const t=m.LegendArrowHeight,i=m.LegendArrowWidth,n=[],a=this.viewport.height/2+t/2,r=l.jH(i,t,270),o=l.jH(i,t,90),s=e?e.height:0;return n.push({x:a,y:i+s,path:r.path,rotateTransform:r.transform,dataType:1}),n.push({x:a,y:this.parentViewport.height-t,path:o.path,rotateTransform:o.transform,dataType:0}),n}static calculateHorizontalLegendItemsWidths(e,t,i,n,r){const o=e.length;let s=o>0?t/o|0:0,l=s-i;l<m.MaxTextLength&&(l=m.MaxTextLength,s=l+i),s>t&&(s=t,l=s-i);let c=0;const u=[];for(const o of e){const e=m.getTextProperties(o.label,n,r),l=a.sX.measureSvgTextWidth(e)+i,d=l>s,h=d?s:l;if(c+=h,c>=t){0===u.length?(u.push({dataPoint:o,textProperties:e,desiredWidth:l,desiredOverMaxWidth:!0,width:l}),c=t):c-=h;break}u.push({dataPoint:o,textProperties:e,desiredWidth:l,desiredOverMaxWidth:d,width:l})}const d=u.filter((e=>e.desiredOverMaxWidth));let h=d.length;if(h>0){let e=t-c;for(const t of d){const i=s+e/h;let n;t.desiredWidth<=i?(t.desiredOverMaxWidth=!1,n=t.desiredWidth-s):(t.width=i,n=i-s),e-=n,h--}}return u}calculateHorizontalLayout(e,t,i){const n=this.legendFontSizeMarginDifference>0?m.TextAndIconPadding+this.legendFontSizeMarginDifference:m.TextAndIconPadding;let r=0;const o=e&&e[0]&&e[0].markerShape,s=this.getMarkerShapeWidth(o)+1.5*n;let l=e.length;const c=m.getTextProperties("",this.data.fontSize,this.data.fontFamily),u=this.viewport.height/2,d=u+a.sX.estimateSvgTextHeight(c)/2-a.sX.estimateSvgTextBaselineDelta(c);t&&(r+=t.width,t.y=u+t.height/2-a.sX.estimateSvgTextBaselineDelta(m.getTextProperties(t.text,this.data.fontSize,this.data.fontFamily))),this.legendDataStartIndex>0&&(r+=m.LegendArrowOffset);const h=e.length;let g=this.parentViewport.width-r,p=m.calculateHorizontalLegendItemsWidths(e,g,s,this.data.fontSize,this.data.fontFamily);l=p.length,l!==h&&(g-=m.LegendArrowOffset,p=m.calculateHorizontalLegendItemsWidths(e,g,s,this.data.fontSize,this.data.fontFamily),l=p.length);for(const e of p){const{dataPoint:t}=e,i=this.getMarkerShapeWidth(t.markerShape);t.glyphPosition={x:r+i/2+this.legendFontSizeMarginDifference/this.getLegendIconFactor(t.markerShape),y:this.viewport.height*m.LegendIconYRatio};const o=n/(this.getLegendIconFactor(t.markerShape)/2)+i;if(t.textPosition={x:r+o,y:d},e.desiredOverMaxWidth){const i=e.width-s;t.label=a.sX.getTailoredTextOrDefault(e.textProperties,i)}r+=e.width}return this.visibleLegendWidth=r,this.updateNavigationArrowLayout(i,h,l),l}getMarkerShapeWidth(e){return e===c.oP.longDash?h.aQ:2*m.LegendIconRadius}getLegendIconFactor(e){switch(e){case c.oP.circle:case c.oP.square:return 5;default:return 6}}getIconScale(e){switch(e){case c.oP.circle:case c.oP.square:return m.LegendIconRadius/h.QL;default:return 1}}calculateVerticalLayout(e,t,i,n){const r=this.legendFontSizeMarginDifference>0?this.legendFontSizeMarginDifference:0,o=20+r,s=15+r,l=4+r;let c=o;const u=e&&e[0]&&e[0].markerShape,d=m.TextAndIconPadding+this.getMarkerShapeWidth(u)/2+this.legendFontSizeMarginDifference,h=2*d,g=n?this.parentViewport.width*m.LegendMaxWidthFactor-h-m.LegendEdgeMariginWidth:this.lastCalculatedWidth-h-m.LegendEdgeMariginWidth;let p=e.length,f=0;const y=this.parentViewport.height;t&&(c+=s,t.x=m.TextAndIconPadding,t.y=s,f=t.width||0),this.legendDataStartIndex>0&&(c+=m.LegendArrowOffset);const v=e.length;for(let t=0;t<v;t++){const i=e[t],n=m.getTextProperties(i.label,this.data.fontSize,this.data.fontFamily);i.glyphPosition={x:d,y:c+l-a.sX.estimateSvgTextBaselineDelta(n)},i.textPosition={x:h,y:c+l};const r=a.sX.measureSvgTextWidth(n);if(r>f&&(f=r),r>g){const e=a.sX.getTailoredTextOrDefault(n,g);i.label=e}if(c+=o,c>y){p=t;break}}return n?this.lastCalculatedWidth=this.viewport.width=f<g?Math.ceil(f+h+m.LegendEdgeMariginWidth):Math.ceil(this.parentViewport.width*m.LegendMaxWidthFactor):this.viewport.width=this.lastCalculatedWidth,this.visibleLegendHeight=c,i.forEach((e=>e.x=this.lastCalculatedWidth/2)),this.updateNavigationArrowLayout(i,v,p),p}drawNavigationArrows(e){let t=this.group.selectAll(m.NavigationArrow.selectorName).data(e);t.exit().remove(),t=t.merge(t.enter().append("g").classed(m.NavigationArrow.className,!0)).on("click",((e,t)=>{const i=this.legendDataStartIndex;this.legendDataStartIndex=0===t.dataType?i+this.arrowPosWindow:i-this.arrowPosWindow,this.drawLegendInternal(this.data,this.parentViewport,!1)})).attr("transform",(e=>l.GS(e.x,e.y)));let i=t.selectAll("path").data((e=>[e]));i.exit().remove(),i=i.enter().append("path").merge(i),i.attr("d",(e=>e.path)).attr("transform",(e=>e.rotateTransform))}isTopOrBottom(e){switch(e){case c.qv.Top:case c.qv.Bottom:case c.qv.BottomCenter:case c.qv.TopCenter:return!0;default:return!1}}isCentered(e){switch(e){case c.qv.BottomCenter:case c.qv.LeftCenter:case c.qv.RightCenter:case c.qv.TopCenter:return!0;default:return!1}}reset(){}static getTextProperties(e,t,i){return{fontFamily:i,fontSize:r.fromPoint(t||m.DefaultFontSizeInPt),text:e}}setTooltipToLegendItems(e){for(const t of e.dataPoints)t.tooltip=t.label}}m.DefaultFontSizeInPt=8,m.LegendIconRadius=5,m.MaxTextLength=60,m.TextAndIconPadding=5,m.TitlePadding=15,m.LegendEdgeMariginWidth=10,m.LegendMaxWidthFactor=.3,m.TopLegendHeight=24,m.DefaultTextMargin=r.fromPointToPixel(m.DefaultFontSizeInPt),m.LegendIconYRatio=.52,m.LegendArrowOffset=10,m.LegendArrowHeight=15,m.LegendArrowWidth=7.5,m.LegendItem=g("legendItem"),m.LegendText=g("legendText"),m.LegendIcon=g("legendIcon"),m.LegendTitle=g("legendTitle"),m.NavigationArrow=g("navArrow")},8780:(e,t,i)=>{"use strict";i.r(t),i.d(t,{categoryIsAlsoSeriesRole:()=>a,getMiscellaneousTypeDescriptor:()=>l,getSeriesName:()=>r,hasImageUrlColumn:()=>c,isImageUrlColumn:()=>o,isWebUrlColumn:()=>s});var n=i(940);function a(e,t,i){if(e.categories&&e.categories.length>0){const a=e.categories[0];return a.source&&n.hasRole(a.source,t)&&n.hasRole(a.source,i)}return!1}function r(e){return void 0!==e.groupName?e.groupName:e.queryName}function o(e){const t=l(e);return null!=t&&!0===t.imageUrl}function s(e){const t=l(e);return null!=t&&!0===t.webUrl}function l(e){return e&&e.type&&e.type.misc}function c(e){return!!(e&&e.metadata&&e.metadata.columns&&e.metadata.columns.length)&&e.metadata.columns.some((e=>!0===o(e)))}},940:(e,t,i)=>{"use strict";function n(e,t){if(!e||!e.length)return-1;const i=e[0];if(i.values&&i.values.length>0)for(let e=0,n=i.values.length;e<n;++e){const n=i.values[e];if(n&&n.source&&r(n.source,t))return e}return-1}function a(e,t){if(e&&e.length)for(let i=0,n=e.length;i<n;i++)if(r(e[i].source,t))return i;return-1}function r(e,t){const i=e.roles;return i&&i[t]}function o(e,t){return null!=e&&null!=e.metadata&&e.metadata.columns&&e.metadata.columns.some((e=>e.roles&&void 0!==e.roles[t]))}function s(e,t){return e&&e.source&&e.source.roles&&!0===e.source.roles[t]}i.r(t),i.d(t,{getCategoryIndexOfRole:()=>a,getMeasureIndexOfRole:()=>n,hasRole:()=>r,hasRoleInDataView:()=>o,hasRoleInValueColumn:()=>s})},5836:(e,t,i)=>{"use strict";function n(e,t,i){if(!e)return i;const n=e[t];return void 0===n?i:n}function a(e,t,i){const a=n(e,t);return a&&a.solid?a.solid.color:i}i.r(t),i.d(t,{getFillColorByPropertyName:()=>a,getValue:()=>n})},4301:(e,t,i)=>{"use strict";i.r(t),i.d(t,{getCommonValue:()=>s,getFillColor:()=>o,getObject:()=>r,getValue:()=>a});var n=i(5836);function a(e,t,i){return e?n.getValue(e[t.objectName],t.propertyName,i):i}function r(e,t,i){return e&&e[t]?e[t]:i}function o(e,t,i){const n=a(e,t);return n&&n.solid?n.solid.color:i}function s(e,t,i){const n=a(e,t,i);return n&&n.solid?n.solid.color:null==n||"object"==typeof n&&!n.solid?i:n}},7221:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DataViewObjectsParser:()=>a});var n=i(4301);class a{static getDefault(){return new this}static createPropertyIdentifier(e,t){return{objectName:e,propertyName:t}}static parse(e){const t=this.getDefault();if(!e||!e.metadata||!e.metadata.objects)return t;const i=t.getProperties();for(const a in i)for(const r in i[a]){const o=t[a][r];t[a][r]=n.getCommonValue(e.metadata.objects,i[a][r],o)}return t}static isPropertyEnumerable(e){return!a.InnumerablePropertyPrefix.test(e)}static enumerateObjectInstances(e,t){const i=e&&e[t.objectName];if(!i)return[];const n={objectName:t.objectName,selector:null,properties:{}};for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n.properties[e]=i[e]);return{instances:[n]}}getProperties(){const e={};return Object.keys(this).forEach((t=>{if(a.isPropertyEnumerable(t)){const i=Object.keys(this[t]);e[t]={},i.forEach((i=>{a.isPropertyEnumerable(t)&&(e[t][i]=a.createPropertyIdentifier(t,i))}))}})),e}}a.InnumerablePropertyPrefix=/^_/},680:(e,t,i)=>{"use strict";function n(e=[],t,i){const n=e;return a(n),t&&(n.identityFields=t),i&&(n.source=i),n}function a(e,t){e.grouped=t?()=>t:()=>r(e)}function r(e){const t=[];let i;for(let n=0,a=e.length;n<a;n++){const a=e[n];if(!i||i.identity!==a.identity){if(i={values:[]},a.identity){i.identity=a.identity;const e=a.source;void 0!==e.groupName?i.name=e.groupName:e.displayName&&(i.name=e.displayName)}t.push(i)}i.values.push(a)}return t}i.r(t),i.d(t,{createValueColumns:()=>n,groupValues:()=>r,setGrouped:()=>a})},9280:(e,t,i)=>{"use strict";function n(e){return null==e&&(e=0),{data:[{dataViewWildcard:{matchingOption:e}}]}}i.r(t),i.d(t,{createDataViewWildcardSelector:()=>n})},9624:(e,t,i)=>{"use strict";i.r(t),i.d(t,{converterHelper:()=>n,dataRoleHelper:()=>a,dataViewObject:()=>r,dataViewObjects:()=>o,dataViewObjectsParser:()=>s,dataViewTransform:()=>l,dataViewWildcard:()=>c,validationHelper:()=>u});var n=i(8780),a=i(940),r=i(5836),o=i(4301),s=i(7221),l=i(680),c=i(9280),u=i(4936)},4936:(e,t,i)=>{"use strict";function n(e){return/^https?:\/\/.+\.(gif|jpg|png|svg)$/i.test(e)||/^data:image\/(gif|jpeg|png|svg\+xml);base64,/i.test(e)}function a(e,t){const i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState!==this.HEADERS_RECEIVED)return;const e=i.getResponseHeader("Content-Type");return["image/png","image/jpeg","image/gif","image/svg+xml"].indexOf(e)>-1?t(!0,e):t(!1,e)},i.open("HEAD",e,!0),i.send()}i.r(t),i.d(t,{isFileImage:()=>a,isImageUrlAllowed:()=>n})},7248:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1224);t.default=function(e){Object.keys(n.locales).forEach((function(t){return e.addCultureInfo.apply(e,n.locales[t])}))}},7944:(e,t)=>{"use strict";var i,n,a,r,o,s,l,c;Object.defineProperty(t,"__esModule",{value:!0}),t.parseNegativePattern=t.parseExact=t.getEraYear=t.getEra=t.getTokenRegExp=t.formatNumber=t.formatDate=t.expandFormat=t.appendPreOrPostMatch=t.zeroPad=t.trim=t.startsWith=t.isObject=t.isFunction=t.isArray=t.extend=t.endsWith=t.arrayIndexOf=t.regexTrim=t.regexParseFloat=t.regexInfinity=t.regexHex=t.Globalize=void 0,t.Globalize=function(e){return new t.Globalize.prototype.init(e)},t.Globalize.cultures={},t.Globalize.prototype={constructor:t.Globalize,init:function(e){return this.cultures=t.Globalize.cultures,this.cultureSelector=e,this}},t.Globalize.prototype.init.prototype=t.Globalize.prototype,t.Globalize.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},t.Globalize.cultures.default.calendar=t.Globalize.cultures.default.calendars.standard,t.Globalize.cultures.en=t.Globalize.cultures.default,t.Globalize.cultureSelector="en",t.regexHex=/^0x[a-f0-9]+$/i,t.regexInfinity=/^[+-]?infinity$/i,t.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,t.regexTrim=/^\s+|\s+$/g,t.arrayIndexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},t.endsWith=function(e,t){return e.substring(e.length-t.length)===t},t.extend=function(e){var i,n,a,r,o,s,l=arguments[0]||{},c=1,u=arguments.length;for(e=!1,"boolean"==typeof l&&(e=l,l=arguments[1]||{},c=2),"object"==typeof l||(0,t.isFunction)(l)||(l={});c<u;c++)if(null!=(i=arguments[c]))for(n in i)a=l[n],l!==(r=i[n])&&(e&&r&&((0,t.isObject)(r)||(o=(0,t.isArray)(r)))?(o?(o=!1,s=a&&(0,t.isArray)(a)?a:[]):s=a&&(0,t.isObject)(a)?a:{},l[n]=(0,t.extend)(e,s,r)):void 0!==r&&(l[n]=r));return l},t.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.startsWith=function(e,t){return 0===e.indexOf(t)},t.trim=function(e){return(e+"").replace(t.regexTrim,"")},t.zeroPad=function(e,t,i){var n;for(n=e.length;n<t;n+=1)e=i?"0"+e:e+"0";return e},t.appendPreOrPostMatch=function(e,t){for(var i=0,n=!1,a=0,r=e.length;a<r;a++){var o=e.charAt(a);switch(o){case"'":n?t.push("'"):i++,n=!1;break;case"\\":n&&t.push("\\"),n=!n;break;default:t.push(o),n=!1}}return i},t.expandFormat=function(e,t){t=t||"F";var i,n=e.patterns,a=t.length;if(1===a){if(!(i=n[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===a&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},t.formatDate=function(e,i,n){var a=n.calendar,r=a.convert;if(!i||!i.length||"i"===i){var o;if(n&&n.name.length)if(r)o=(0,t.formatDate)(e,a.patterns.F,n);else{var s=new Date(e.getTime()),l=(0,t.getEra)(e,a.eras);s.setFullYear((0,t.getEraYear)(e,a,l)),o=s.toLocaleString()}else o=e.toString();return o}var c=a.eras,u="s"===i;i=(0,t.expandFormat)(a,i),o=[];var d,h,g,p,f=["0","00","000"],m=/([^d]|^)(d|dd)([^d]|$)/g,y=0,v=(0,t.getTokenRegExp)();function b(e,t){var i,n=e+"";return t>1&&n.length<t?(i=f[t-2]+n).substring(i.length-t,i.length):i=n}function S(e,t){if(p)return p[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(!u&&r&&(p=r.fromGregorian(e));;){var x=v.lastIndex,w=v.exec(i),k=i.slice(x,w?w.index:i.length);if(y+=(0,t.appendPreOrPostMatch)(k,o),!w)break;if(y%2)o.push(w[0]);else{var C=w[0],T=C.length;switch(C){case"ddd":case"dddd":var M=3===T?a.days.namesAbbr:a.days.names;o.push(M[e.getDay()]);break;case"d":case"dd":h=!0,o.push(b(S(e,2),T));break;case"MMM":case"MMMM":var E=S(e,1);o.push(a.monthsGenitive&&(h||g||(h=m.test(i),g=!0),h)?a.monthsGenitive[3===T?"namesAbbr":"names"][E]:a.months[3===T?"namesAbbr":"names"][E]);break;case"M":case"MM":o.push(b(S(e,1)+1,T));break;case"y":case"yy":case"yyyy":E=p?p[0]:(0,t.getEraYear)(e,a,(0,t.getEra)(e,c),u),T<4&&(E%=100),o.push(b(E,T));break;case"h":case"hh":0==(d=e.getHours()%12)&&(d=12),o.push(b(d,T));break;case"H":case"HH":o.push(b(e.getHours(),T));break;case"m":case"mm":o.push(b(e.getMinutes(),T));break;case"s":case"ss":o.push(b(e.getSeconds(),T));break;case"t":case"tt":E=e.getHours()<12?a.AM?a.AM[0]:" ":a.PM?a.PM[0]:" ",o.push(1===T?E.charAt(0):E);break;case"f":case"ff":case"fff":o.push(b(e.getMilliseconds(),3).substring(0,T));break;case"z":case"zz":d=e.getTimezoneOffset()/60,o.push((d<=0?"+":"-")+b(Math.floor(Math.abs(d)),T));break;case"zzz":d=e.getTimezoneOffset()/60,o.push((d<=0?"+":"-")+b(Math.floor(Math.abs(d)),2)+":"+b(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":a.eras&&o.push(a.eras[(0,t.getEra)(e,c)].name);break;case"/":o.push(a["/"]);break;default:throw"Invalid date format pattern '"+C+"'."}}}return o.join("")},i=function(e,i,n){var a=n.groupSizes,r=a[0],o=1,s=Math.pow(10,i),l=Math.round(e*s)/s;isFinite(l)||(l=e);var c=(e=l)+"",u="",d=c.split(/e/i),h=d.length>1?parseInt(d[1],10):0;d=(c=d[0]).split("."),c=d[0],u=d.length>1?d[1]:"",h>0?(c+=(u=(0,t.zeroPad)(u,h,!1)).slice(0,h),u=u.substring(h)):h<0&&(h=-h,u=(c=(0,t.zeroPad)(c,h+1)).slice(-h,c.length)+u,c=c.slice(0,-h)),u=i>0?n["."]+(u.length>i?u.slice(0,i):(0,t.zeroPad)(u,i)):"";for(var g=c.length-1,p=n[","],f="";g>=0;){if(0===r||r>g)return c.slice(0,g+1)+(f.length?p+f+u:u);f=c.slice(g-r+1,g+1)+(f.length?p+f:""),g-=r,o<a.length&&(r=a[o],o++)}return c.slice(0,g+1)+p+f+u},t.formatNumber=function(e,n,a){if(!n||"i"===n)return a.name.length?e.toLocaleString():e.toString();n=n||"D";var r,o=a.numberFormat,s=Math.abs(e),l=-1;n.length>1&&(l=parseInt(n.slice(1),10));var c,u=n.charAt(0).toUpperCase();switch(u){case"D":r="n",-1!==l&&(s=(0,t.zeroPad)(""+s,l,!0)),e<0&&(s=-s);break;case"N":c=o;case"C":c=c||o.currency;case"P":c=c||o.percent,r=e<0?c.pattern[0]:c.pattern[1]||"n",-1===l&&(l=c.decimals),s=i(s*("P"===u?100:1),l,c);break;default:throw"Bad number format specifier: "+u}for(var d=/n|\$|-|%/g,h="";;){var g=d.lastIndex,p=d.exec(r);if(h+=r.slice(g,p?p.index:r.length),!p)break;switch(p[0]){case"n":h+=s;break;case"$":h+=o.currency.symbol;break;case"-":/[1-9]/.test(s.toString())&&(h+=o["-"]);break;case"%":h+=o.percent.symbol}}return h},t.getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},t.getEra=function(e,t){if(!t)return 0;for(var i,n=e.getTime(),a=0,r=t.length;a<r;a++)if(null===(i=t[a].start)||n>=i)return a;return 0},t.getEraYear=function(e,t,i,n){var a=e.getFullYear();return!n&&t.eras&&(a-=t.eras[i].offset),a},n=function(e,i){var n=new Date,a=(0,t.getEra)(n);if(i<100){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var o=(0,t.getEraYear)(n,e,a);(i+=o-o%100)>r&&(i-=100)}return i},a=function(e,i,n){var a,r=e.days,o=e._upperDays;return o||(e._upperDays=o=[c(r.names),c(r.namesAbbr),c(r.namesShort)]),i=l(i),n?-1===(a=(0,t.arrayIndexOf)(o[1],i))&&(a=(0,t.arrayIndexOf)(o[2],i)):a=(0,t.arrayIndexOf)(o[0],i),a},r=function(e,i,n){var a=e.months,r=e.monthsGenitive||e.months,o=e._upperMonths,s=e._upperMonthsGen;o||(e._upperMonths=o=[c(a.names),c(a.namesAbbr)],e._upperMonthsGen=s=[c(r.names),c(r.namesAbbr)]),i=l(i);var u=(0,t.arrayIndexOf)(n?o[1]:o[0],i);return u<0&&(u=(0,t.arrayIndexOf)(n?s[1]:s[0],i)),u},o=function(e,i){var n=e._parseRegExp;if(n){var a=n[i];if(a)return a}else e._parseRegExp=n={};for(var r,o=(0,t.expandFormat)(e,i).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],l=[],c=0,u=0,d=(0,t.getTokenRegExp)();null!==(r=d.exec(o));){var h=o.slice(c,r.index);if(c=d.lastIndex,(u+=(0,t.appendPreOrPostMatch)(h,s))%2)s.push(r[0]);else{var g,p=r[0],f=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":g="(\\D+)";break;case"tt":case"t":g="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":g="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":g="(\\d\\d?)";break;case"zzz":g="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":g="([+-]?\\d\\d?)";break;case"/":g="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}g&&s.push(g),l.push(r[0])}}(0,t.appendPreOrPostMatch)(o.slice(c),s),s.push("$");var m={regExp:s.join("").replace(/\s+/g,"\\s+"),groups:l};return n[i]=m},s=function(e,t,i){return e<t||e>i},l=function(e){return e.split(" ").join(" ").toUpperCase()},c=function(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=l(e[i]);return t},t.parseExact=function(e,i,l){e=(0,t.trim)(e);var c=l.calendar,u=o(c,i),d=new RegExp(u.regExp).exec(e);if(null===d)return null;for(var h,g=u.groups,p=null,f=null,m=null,y=null,v=null,b=0,S=0,x=0,w=0,k=null,C=!1,T=0,M=g.length;T<M;T++){var E=d[T+1];if(E){var _=g[T],D=_.length,N=parseInt(E,10);switch(_){case"dd":case"d":if(s(y=N,1,31))return null;break;case"MMM":case"MMMM":if(m=r(c,E,3===D),s(m,0,11))return null;break;case"M":case"MM":if(s(m=N-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(f=D<4?n(c,N):N,s(f,0,9999))return null;break;case"h":case"hh":if(12===(b=N)&&(b=0),s(b,0,11))return null;break;case"H":case"HH":if(s(b=N,0,23))return null;break;case"m":case"mm":if(s(S=N,0,59))return null;break;case"s":case"ss":if(s(x=N,0,59))return null;break;case"tt":case"t":if(!(C=c.PM&&(E===c.PM[0]||E===c.PM[1]||E===c.PM[2]))&&(!c.AM||E!==c.AM[0]&&E!==c.AM[1]&&E!==c.AM[2]))return null;break;case"f":case"ff":case"fff":if(w=N*Math.pow(10,3-D),s(w,0,999))return null;break;case"ddd":case"dddd":if(v=a(c,E,3===D),s(v,0,6))return null;break;case"zzz":var L=E.split(/:/);if(2!==L.length)return null;if(h=parseInt(L[0],10),s(h,-12,13))return null;var A=parseInt(L[1],10);if(s(A,0,59))return null;k=60*h+((0,t.startsWith)(E,"-")?-A:A);break;case"z":case"zz":if(s(h=N,-12,13))return null;k=60*h;break;case"g":case"gg":var P=E;if(!P||!c.eras)return null;P=(0,t.trim)(P.toLowerCase());for(var I=0,O=c.eras.length;I<O;I++)if(P===c.eras[I].name.toLowerCase()){p=I;break}if(null===p)return null}}}var V,F=new Date,R=c.convert;if(V=R?R.fromGregorian(F)[0]:F.getFullYear(),null===f?f=V:c.eras&&(f+=c.eras[p||0].offset),null===m&&(m=0),null===y&&(y=1),R){if(null===(F=R.toGregorian(f,m,y)))return null}else{if(F.setFullYear(f,m,y),F.getDate()!==y)return null;if(null!==v&&F.getDay()!==v)return null}if(C&&b<12&&(b+=12),F.setHours(b,S,x,w),null!==k){var z=F.getMinutes()-(k+F.getTimezoneOffset());F.setHours(F.getHours()+parseInt((z/60).toString(),10),z%60)}return F},t.parseNegativePattern=function(e,i,n){var a,r=i["-"],o=i["+"];switch(n){case"n -":r=" "+r,o=" "+o;case"n-":(0,t.endsWith)(e,r)?a=["-",e.substring(0,e.length-r.length)]:(0,t.endsWith)(e,o)&&(a=["+",e.substring(0,e.length-o.length)]);break;case"- n":r+=" ",o+=" ";case"-n":(0,t.startsWith)(e,r)?a=["-",e.substring(r.length)]:(0,t.startsWith)(e,o)&&(a=["+",e.substring(o.length)]);break;case"(n)":(0,t.startsWith)(e,"(")&&(0,t.endsWith)(e,")")&&(a=["-",e.substring(1,e.length-1)])}return a||["",e]},t.Globalize.prototype.findClosestCulture=function(e){return t.Globalize.findClosestCulture.call(this,e)},t.Globalize.prototype.format=function(e,i,n){return t.Globalize.format.call(this,e,i,n)},t.Globalize.prototype.localize=function(e,i){return t.Globalize.localize.call(this,e,i)},t.Globalize.prototype.parseInt=function(e,i,n){return t.Globalize.parseInt.call(this,e,i,n)},t.Globalize.prototype.parseFloat=function(e,i,n){return t.Globalize.parseFloat.call(this,e,i,n)},t.Globalize.prototype.culture=function(e){return t.Globalize.culture.call(this,e)},t.Globalize.addCultureInfo=function(e,i,n){var a={},r=!1;"string"!=typeof e?(n=e,e=this.culture().name,a=this.cultures[e]):"string"!=typeof i?(n=i,r=null==this.cultures[e],a=this.cultures[e]||this.cultures.default):(r=!0,a=this.cultures[i]),this.cultures[e]=(0,t.extend)(!0,{},a,n),r&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},t.Globalize.findClosestCulture=function(e){var i;if(!e)return this.cultures[this.cultureSelector]||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),(0,t.isArray)(e)){var n,a,r=this.cultures,o=e,s=o.length,l=[];for(a=0;a<s;a++){var c,u=(e=(0,t.trim)(o[a])).split(";");n=(0,t.trim)(u[0]),1===u.length?c=1:0===(e=(0,t.trim)(u[1])).indexOf("q=")?(e=e.substring(2),c=parseFloat(e),c=isNaN(c)?0:c):c=1,l.push({lang:n,pri:c})}for(l.sort((function(e,t){return e.pri<t.pri?1:-1})),a=0;a<s;a++)if(i=r[n=l[a].lang])return i;for(a=0;a<s;a++)for(n=l[a].lang;;){var d=n.lastIndexOf("-");if(-1===d)break;if(i=r[n=n.substring(0,d)])return i}for(a=0;a<s;a++)for(var h in n=l[a].lang,r){var g=r[h];if(g.language==n)return g}}else if("object"==typeof e)return e;return i||null},t.Globalize.format=function(e,i,n){var a=this.findClosestCulture(n);return e instanceof Date?e=(0,t.formatDate)(e,i,a):"number"==typeof e&&(e=(0,t.formatNumber)(e,i,a)),e},t.Globalize.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages.key},t.Globalize.parseDate=function(e,i,n){var a,r,o;if(n=this.findClosestCulture(n),i){if("string"==typeof i&&(i=[i]),i.length)for(var s=0,l=i.length;s<l;s++){var c=i[s];if(c&&(a=(0,t.parseExact)(e,c,n)))break}}else for(r in o=n.calendar.patterns)if(a=(0,t.parseExact)(e,o[r],n))break;return a||null},t.Globalize.parseInt=function(e,i,n){return Math.floor(t.Globalize.parseFloat(e,i,n))},t.Globalize.parseFloat=function(e,i,n){"number"!=typeof i&&(n=i,i=10);var a=this.findClosestCulture(n),r=NaN,o=a.numberFormat;if(e.indexOf(a.numberFormat.currency.symbol)>-1&&(e=(e=e.replace(a.numberFormat.currency.symbol,"")).replace(a.numberFormat.currency["."],a.numberFormat["."])),e=(0,t.trim)(e),t.regexInfinity.test(e))r=parseFloat(e);else if(!i&&t.regexHex.test(e))r=parseInt(e,16);else{var s=(0,t.parseNegativePattern)(e,o,o.pattern[0]),l=s[0],c=s[1];""===l&&"-n"!==o.pattern[0]&&(l=(s=(0,t.parseNegativePattern)(e,o,"-n"))[0],c=s[1]),l=l||"+";var u,d,h=c.indexOf("e");h<0&&(h=c.indexOf("E")),h<0?(d=c,u=null):(d=c.substring(0,h),u=c.substring(h+1));var g,p,f=o["."],m=d.indexOf(f);m<0?(g=d,p=null):(g=d.substring(0,m),p=d.substring(m+f.length));var y=o[","];g=g.split(y).join("");var v=y.replace(/\u00A0/g," ");y!==v&&(g=g.split(v).join(""));var b=l+g;if(null!==p&&(b+="."+p),null!==u){var S=(0,t.parseNegativePattern)(u,o,"-n");b+="e"+(S[0]||"+")+S[1]}t.regexParseFloat.test(b)&&(r=parseFloat(b))}return r},t.Globalize.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.culture.default}},9204:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeSequence=void 0;var n=i(504),a=i(7472),r=a.numericSequence.NumericSequence,o=a.numericSequenceRange.NumericSequenceRange,s=i(8604),l=function(){function e(e){this.unit=e,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999"),this.max=new Date("0001-01-01T00:00:00.000")}return e.prototype.add=function(e){e<this.min&&(this.min=e),e>this.max&&(this.max=e),this.sequence.push(e)},e.prototype.extendToCover=function(t,i){for(var n=this.min;t<n;)n=e.ADD_INTERVAL(n,-this.interval,this.unit),this.sequence.splice(0,0,n);for(this.min=n,n=this.max;n<i;)n=e.ADD_INTERVAL(n,this.interval,this.unit),this.sequence.push(n);this.max=n},e.prototype.moveToCover=function(t,i){var n=e.getDelta(t,i,this.unit),a=Math.floor(n/this.interval);for(this.min=e.ADD_INTERVAL(this.min,a*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<i;)this.max=e.ADD_INTERVAL(this.max,this.interval,this.unit),this.sequence.push(this.max)},e.CALCULATE=function(t,i,n,a){switch(a||(a=e.GET_INTERVAL_UNIT(t,i,n)),a){case s.DateTimeUnit.Year:return e.CALCULATE_YEARS(t,i,n);case s.DateTimeUnit.Month:return e.CALCULATE_MONTHS(t,i,n);case s.DateTimeUnit.Week:return e.CALCULATE_WEEKS(t,i,n);case s.DateTimeUnit.Day:return e.CALCULATE_DAYS(t,i,n);case s.DateTimeUnit.Hour:return e.CALCULATE_HOURS(t,i,n);case s.DateTimeUnit.Minute:return e.CALCULATE_MINUTES(t,i,n);case s.DateTimeUnit.Second:return e.CALCULATE_SECONDS(t,i,n);case s.DateTimeUnit.Millisecond:return e.CALCULATE_MILLISECONDS(t,i,n)}},e.CALCULATE_YEARS=function(t,i,n){var a=o.calculateDataRange(t.getFullYear(),i.getFullYear(),!1),l=r.calculate(o.calculate(0,a.max-a.min),n,0,null,null,[1,2,5]),c=Math.floor(a.min/l.interval)*l.interval,u=new Date(c,0,1);return e.fromNumericSequence(u,l,s.DateTimeUnit.Year)},e.CALCULATE_MONTHS=function(t,i,n){var a=t.getFullYear(),o=i.getFullYear(),l=t.getMonth(),c=12*(o-a)+i.getMonth(),u=new Date(a,0,1),d=r.calculateUnits(l,c,n,[1,2,3,6,12]);return e.fromNumericSequence(u,d,s.DateTimeUnit.Month)},e.CALCULATE_WEEKS=function(t,i,n){var o=(t.getDay()-0+7)%7,l=t.getDate()-o,c=new Date(t.getFullYear(),t.getMonth(),l),u=a.double.ceilWithPrecision(e.getDelta(c,i,s.DateTimeUnit.Week)),d=r.calculateUnits(0,u,n,[1,2,4,8]);return e.fromNumericSequence(c,d,s.DateTimeUnit.Week)},e.CALCULATE_DAYS=function(t,i,n){var o=new Date(t.getFullYear(),t.getMonth(),t.getDate()),l=a.double.ceilWithPrecision(e.getDelta(t,i,s.DateTimeUnit.Day)),c=r.calculateUnits(0,l,n,[1,2,7,14]);return e.fromNumericSequence(o,c,s.DateTimeUnit.Day)},e.CALCULATE_HOURS=function(t,i,n){var o=new Date(t.getFullYear(),t.getMonth(),t.getDate()),l=a.double.floorWithPrecision(e.getDelta(o,t,s.DateTimeUnit.Hour)),c=a.double.ceilWithPrecision(e.getDelta(o,i,s.DateTimeUnit.Hour)),u=r.calculateUnits(l,c,n,[1,2,3,6,12,24]);return e.fromNumericSequence(o,u,s.DateTimeUnit.Hour)},e.CALCULATE_MINUTES=function(t,i,n){var o=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()),l=a.double.floorWithPrecision(e.getDelta(o,t,s.DateTimeUnit.Minute)),c=a.double.ceilWithPrecision(e.getDelta(o,i,s.DateTimeUnit.Minute)),u=r.calculateUnits(l,c,n,[1,2,5,10,15,30,60,120,180,360,720,1440]);return e.fromNumericSequence(o,u,s.DateTimeUnit.Minute)},e.CALCULATE_SECONDS=function(t,i,n){var o=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()),l=a.double.floorWithPrecision(e.getDelta(o,t,s.DateTimeUnit.Second)),c=a.double.ceilWithPrecision(e.getDelta(o,i,s.DateTimeUnit.Second)),u=r.calculateUnits(l,c,n,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return e.fromNumericSequence(o,u,s.DateTimeUnit.Second)},e.CALCULATE_MILLISECONDS=function(t,i,n){var a=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),l=e.getDelta(a,t,s.DateTimeUnit.Millisecond),c=e.getDelta(a,i,s.DateTimeUnit.Millisecond),u=r.calculate(o.calculate(l,c),n,0);return e.fromNumericSequence(a,u,s.DateTimeUnit.Millisecond)},e.ADD_INTERVAL=function(e,t,i){switch(t=Math.round(t),i){case s.DateTimeUnit.Year:return n.addYears(e,t);case s.DateTimeUnit.Month:return n.addMonths(e,t);case s.DateTimeUnit.Week:return n.addWeeks(e,t);case s.DateTimeUnit.Day:return n.addDays(e,t);case s.DateTimeUnit.Hour:return n.addHours(e,t);case s.DateTimeUnit.Minute:return n.addMinutes(e,t);case s.DateTimeUnit.Second:return n.addSeconds(e,t);case s.DateTimeUnit.Millisecond:return n.addMilliseconds(e,t)}},e.fromNumericSequence=function(t,i,n){for(var a=new e(n),r=0;r<i.sequence.length;r++){var o=i.sequence[r],s=e.ADD_INTERVAL(t,o,n);a.add(s)}return a.interval=i.interval,a.intervalOffset=i.intervalOffset,a},e.getDelta=function(e,t,i){var n=0;switch(i){case s.DateTimeUnit.Year:n=t.getFullYear()-e.getFullYear();break;case s.DateTimeUnit.Month:n=12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth();break;case s.DateTimeUnit.Week:n=(t.getTime()-e.getTime())/6048e5;break;case s.DateTimeUnit.Day:n=(t.getTime()-e.getTime())/864e5;break;case s.DateTimeUnit.Hour:n=(t.getTime()-e.getTime())/36e5;break;case s.DateTimeUnit.Minute:n=(t.getTime()-e.getTime())/6e4;break;case s.DateTimeUnit.Second:n=(t.getTime()-e.getTime())/1e3;break;case s.DateTimeUnit.Millisecond:n=t.getTime()-e.getTime()}return n},e.GET_INTERVAL_UNIT=function(t,i,n){n=Math.max(n,2);var a=e.getDelta(t,i,s.DateTimeUnit.Day);if(a>356&&a>=180*n)return s.DateTimeUnit.Year;if(a>60&&a>7*n)return s.DateTimeUnit.Month;if(a>14&&a>2*n)return s.DateTimeUnit.Week;var r=e.getDelta(t,i,s.DateTimeUnit.Hour);if(a>2&&r>12*n)return s.DateTimeUnit.Day;if(r>=24&&r>=n)return s.DateTimeUnit.Hour;var o=e.getDelta(t,i,s.DateTimeUnit.Minute);if(o>2&&o>=n)return s.DateTimeUnit.Minute;var l=e.getDelta(t,i,s.DateTimeUnit.Second);if(l>2&&l>=.8*n)return s.DateTimeUnit.Second;if(e.getDelta(t,i,s.DateTimeUnit.Millisecond)>0)return s.DateTimeUnit.Millisecond;var c=t;return 0!==c.getMilliseconds()?s.DateTimeUnit.Millisecond:0!==c.getSeconds()?s.DateTimeUnit.Second:0!==c.getMinutes()?s.DateTimeUnit.Minute:0!==c.getHours()?s.DateTimeUnit.Hour:1!==c.getDate()?s.DateTimeUnit.Day:0!==c.getMonth()?s.DateTimeUnit.Month:s.DateTimeUnit.Year},e.MIN_COUNT=1,e.MAX_COUNT=1e3,e}();t.DateTimeSequence=l},504:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addMilliseconds=t.addSeconds=t.addMinutes=t.addHours=t.addDays=t.addWeeks=t.addMonths=t.addYears=void 0;var i=[31,28,31,30,31,30,31,31,30,31,30,31],n=[31,29,31,30,31,30,31,31,30,31,30,31];function a(e){return e%4==0&&e%100!=0||e%400==0}function r(e,t){var i=e.getFullYear(),n=e.getMonth(),a=e.getDate(),r=new Date(e.getTime());return r.setFullYear(i,n,a+t),r}t.addYears=function(e,t){var i=e.getFullYear(),n=e.getMonth(),r=e.getDate(),o=2===n&&29===r,s=new Date(e.getTime());return i+=t,o&&!a(i)&&(r=28),s.setFullYear(i,n,r),s},t.addMonths=function(e,t){var r=e.getFullYear(),o=e.getMonth(),s=e.getDate(),l=new Date(e.getTime());return r+=(t-t%12)/12,(o+=t%12)>11&&(o%=12,r++),s=Math.min(s,function(e,t){return a(e)?n[t]:i[t]}(r,o)),l.setFullYear(r,o,s),l},t.addWeeks=function(e,t){return r(e,7*t)},t.addDays=r,t.addHours=function(e,t){return new Date(e.getTime()+36e5*t)},t.addMinutes=function(e,t){return new Date(e.getTime()+6e4*t)},t.addSeconds=function(e,t){return new Date(e.getTime()+1e3*t)},t.addMilliseconds=function(e,t){return new Date(e.getTime()+t)}},772:function(e,t,i){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.DataLabelsDisplayUnitSystem=t.WholeUnitsDisplayUnitSystem=t.DefaultDisplayUnitSystem=t.NoDisplayUnitSystem=t.DisplayUnitSystem=t.DisplayUnit=void 0;var r=i(7759),o=i(7472),s=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i,l=function(){function e(){}return e.prototype.project=function(e){return this.value?o.double.removeDecimalNoise(e/this.value):e},e.prototype.reverseProject=function(e){return this.value?e*this.value:e},e.prototype.isApplicableTo=function(e){e=Math.abs(e);var t=o.double.getPrecision(e,3);return o.double.greaterOrEqualWithPrecision(e,this.applicableRangeMin,t)&&o.double.lessWithPrecision(e,this.applicableRangeMax,t)},e.prototype.isScaling=function(){return this.value>1},e}();t.DisplayUnit=l;var c=function(){function e(e){this.units=e||[]}return Object.defineProperty(e.prototype,"title",{get:function(){return this.displayUnit?this.displayUnit.title:void 0},enumerable:!1,configurable:!0}),e.prototype.update=function(e){void 0!==e&&(this.unitBaseValue=e,this.displayUnit=this.findApplicableDisplayUnit(e))},e.prototype.findApplicableDisplayUnit=function(e){for(var t=0,i=this.units;t<i.length;t++){var n=i[t];if(n.isApplicableTo(e))return n}},e.prototype.format=function(e,t,i,n,a){i=this.getNumberOfDecimalsForFormatting(t,i);var r="";return this.isFormatSupported(t)&&!this.hasScientitifcFormat(t)&&this.isScalingUnit()&&this.shouldRespectScalingUnit(t)&&(e=this.displayUnit.project(e),r=this.displayUnit.labelFormat),this.formatHelper({value:e,nonScientificFormat:r,format:t,decimals:i,trailingZeros:n,cultureSelector:a})},e.prototype.isFormatSupported=function(t){return!e.UNSUPPORTED_FORMATS.test(t)},e.prototype.isPercentageFormat=function(e){return e&&e.indexOf("%")>=0},e.prototype.shouldRespectScalingUnit=function(e){return!0},e.prototype.getNumberOfDecimalsForFormatting=function(e,t){return t},e.prototype.isScalingUnit=function(){return this.displayUnit&&this.displayUnit.isScaling()},e.prototype.formatHelper=function(e){var t=e.value,i=e.cultureSelector,n=e.decimals,a=e.trailingZeros,o=e.nonScientificFormat,s=e.format;if("g"!==s&&"G"!==s||null==n||(s="#,0.00"),(s=r.numberFormat.addDecimalsToFormat(s,n,a))&&!r.formattingService.isStandardNumberFormat(s))return r.formattingService.formatNumberWithCustomOverride(t,s,o,i);s||(s="G"),o||(o="{0}");var l=r.formattingService.formatValue(t,s,i);return r.formattingService.format(o,[l])},e.prototype.formatSingleValue=function(e,t,i,n,a){return this.update(this.shouldUseValuePrecision(e)?o.double.getPrecision(e,8):e),this.format(e,t,i,n,a)},e.prototype.shouldUseValuePrecision=function(e){if(0===this.units.length)return!0;for(var t=0,i=0;i<this.units.length;i++)if(this.units[i].isScaling()){t=this.units[i].applicableRangeMin;break}return Math.abs(e)<t},e.prototype.isScientific=function(e){return e<-1e15||e>1e15||-1e-4<e&&e<1e-4&&0!==e},e.prototype.hasScientitifcFormat=function(e){return e&&-1!==e.toUpperCase().indexOf("E")},e.prototype.supportsScientificFormat=function(e){return!e||s.test(e)},e.prototype.shouldFallbackToScientific=function(e,t){return!this.hasScientitifcFormat(t)&&this.supportsScientificFormat(t)&&this.isScientific(e)},e.prototype.getScientificFormat=function(e,t,i,n){if(this.isFormatSupported(t)&&this.shouldFallbackToScientific(e,t)){var a=r.numberFormat.getNumericFormat(e,t);return i&&(a=r.numberFormat.addDecimalsToFormat(a||"0",Math.abs(i),n)),a?a+"E+0":"0.##E+0"}return t},e.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i,e}();t.DisplayUnitSystem=c;var u=function(e){function t(){return e.call(this,[])||this}return a(t,e),t}(c);t.NoDisplayUnitSystem=u;var d=function(e){function t(i){return e.call(this,t.getUnits(i))||this}return a(t,e),t.prototype.format=function(t,i,n,a,r){return i=this.getScientificFormat(t,i,n,a),e.prototype.format.call(this,t,i,n,a,r)},t.RESET=function(){t.units=null},t.getUnits=function(e){return t.units||(t.units=p(e,(function(e,t,i){return e-t>=1e3?e/10:i})),t.units[t.units.length-1].applicableRangeMax=1/0),t.units},t}(c);t.DefaultDisplayUnitSystem=d;var h=function(e){function t(i){return e.call(this,t.getUnits(i))||this}return a(t,e),t.RESET=function(){t.units=null},t.getUnits=function(e){return t.units||(t.units=p(e),t.units[t.units.length-1].applicableRangeMax=1/0),t.units},t.prototype.format=function(t,i,n,a,r){return i=this.getScientificFormat(t,i,n,a),e.prototype.format.call(this,t,i,n,a,r)},t}(c);t.WholeUnitsDisplayUnitSystem=h;var g=function(e){function t(i){return e.call(this,t.getUnits(i))||this}return a(t,e),t.prototype.isFormatSupported=function(e){return!t.UNSUPPORTED_FORMATS.test(e)},t.getUnits=function(e){if(!t.units){var i=[],n=function(e,t,i){return-1===e&&e-t>=1e3?e/10:i},a=e(-1);f(i,t.AUTO_DISPLAYUNIT_VALUE,a.title,a.format,n),a=e(0),f(i,t.NONE_DISPLAYUNIT_VALUE,a.title,a.format,n),t.units=i.concat(p(e,n)),t.units[t.units.length-1].applicableRangeMax=1/0}return t.units},t.prototype.format=function(t,i,n,a,r){return i=this.getScientificFormat(t,i,n,a),e.prototype.format.call(this,t,i,n,a,r)},t.AUTO_DISPLAYUNIT_VALUE=0,t.NONE_DISPLAYUNIT_VALUE=1,t.UNSUPPORTED_FORMATS=/^(e\d*)$/i,t}(c);function p(e,t){for(var i=[],n=3;n<24;n++){var a=e(n);a&&f(i,o.double.pow10(n),a.title,a.format,t)}return i}function f(e,t,i,n,a){if(i||n){var r=t;if(e.length>0){var o=e[e.length-1];a&&(r=a(t,o.value,r)),o.applicableRangeMax=r}var s=new l;s.value=t,s.applicableRangeMin=r,s.applicableRangeMax=1e3*r,s.title=i,s.labelFormat=n,e.push(s)}}t.DataLabelsDisplayUnitSystem=g},68:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayUnitSystemType=void 0,(i=t.DisplayUnitSystemType||(t.DisplayUnitSystemType={}))[i.Default=0]="Default",i[i.Verbose=1]="Verbose",i[i.WholeUnits=2]="WholeUnits",i[i.DataLabels=3]="DataLabels"},3388:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Family=t.fallbackFonts=void 0;var n=i(3188);t.fallbackFonts=["helvetica","arial","sans-serif"],t.Family={light:new n.FamilyInfo(t.fallbackFonts),semilight:new n.FamilyInfo(t.fallbackFonts),regular:new n.FamilyInfo(t.fallbackFonts),semibold:new n.FamilyInfo(t.fallbackFonts),bold:new n.FamilyInfo(t.fallbackFonts),lightSecondary:new n.FamilyInfo(t.fallbackFonts),regularSecondary:new n.FamilyInfo(t.fallbackFonts),boldSecondary:new n.FamilyInfo(t.fallbackFonts)}},3188:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FamilyInfo=void 0;var i=function(){function e(e){this.families=e}return Object.defineProperty(e.prototype,"family",{get:function(){return this.getFamily()},enumerable:!1,configurable:!0}),e.prototype.getFamily=function(e){if(void 0===e&&(e=/^wf_/),!this.families)return null;if(e)for(var t=0,i=this.families;t<i.length;t++){var n=i[t];if(e.test(n))return n}return this.families[0]},Object.defineProperty(e.prototype,"css",{get:function(){return this.getCSS()},enumerable:!1,configurable:!0}),e.prototype.getCSS=function(){return this.families?this.families.map((function(e){return e.indexOf(" ")>0?"'"+e+"'":e})).join(", "):null},e}();t.FamilyInfo=i},3776:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.fixDateTimeFormat=t.findDateFormat=void 0,t.findDateFormat=function(e,t,i){switch(t){case"m":t="M";break;case"O":case"o":t="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":t="S";break;case"u":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="F";break;case"y":case"Y":switch(i){case"default":case"en":case"en-US":t="MMMM, yyyy";break;default:t="Y"}}return{value:e,format:t}},t.fixDateTimeFormat=function(e){if(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),i||(i=["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map((function(e){return{r:new RegExp("%"+e+"(?!"+e+")","g"),s:e}}))),-1!==e.indexOf("%")&&e.length>2)for(var t=0;t<i.length;t++)e=e.replace(i[t].r,i[t].s);return e}},3400:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.format=t.canFormat=void 0;var n,a,r=i(3776),o=i(560),s=i(1888),l=i(7944);function c(e,t,i){var n=i.calendar.patterns;!function(e){var t=e.patterns;void 0===t.g&&(t.g=t.f.replace(t.D,t.d),t.G=t.F.replace(t.D,t.d))}(i.calendar);var a=(0,r.findDateFormat)(e,t,i.name);return t=1===a.format.length?n[a.format]:a.format,i||(i=this.getCurrentCulture()),l.Globalize.format(a.value,t,i)}t.canFormat=function(e){return e instanceof Date},t.format=function(e,t,i){var u=1===(t=t||"G").length;try{return u?c(e,t,i):function(e,t,i){var c,u=[];if((t=o.preserveLiterals(t,u)).indexOf("F")>-1){t=s.replaceAll(t,"FFFF","FFF");var d=e.getMilliseconds();if(d%10>=1&&(t=s.replaceAll(t,"FFF","fff")),t=s.replaceAll(t,"FFF","FF"),d%100/10>=1&&(t=s.replaceAll(t,"FF","ff")),t=s.replaceAll(t,"FF","F"),d%1e3/100>=1&&(t=s.replaceAll(t,"F","f")),""===(t=s.replaceAll(t,"F",""))||"%"===t)return""}return t=function(e){return e===n?a:(n=e,e=(0,r.fixDateTimeFormat)(e),a=e,e)}(t),c=function(e,t){var i=t[":"];if(":"===i)return e;for(var n="",a=e.length,r=0;r<a;r++){var o=e.charAt(r);n+=":"===o?i:o}return n}(c=l.Globalize.format(e,t,i),i.calendar),o.restoreLiterals(c,u,!1)}(e,t,i)}catch(t){return c(e,"G",i)}}},560:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restoreLiterals=t.preserveLiterals=t.removeLiterals=void 0;var i=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g");t.removeLiterals=function(e){return i.lastIndex=0,e.replace(i,"")},t.preserveLiterals=function(e,t){for(i.lastIndex=0;;){var n=i.exec(e);if(!n)break;var a=n[0],r=i.lastIndex-a.length,o=String.fromCharCode(57600+t.length);t.push(a),e=e.substring(0,r)+o+e.substring(i.lastIndex),i.lastIndex=r+1}return e},t.restoreLiterals=function(e,t,i){void 0===i&&(i=!0);for(var n=t.length,a=0;a<n;a++){var r=String.fromCharCode(57600+a),o=t[a];if(!i){var s=o[0];o="\\"===s||1===o.length||o[o.length-1]!==s?o.substring(1):o.substring(1,o.length-1)}e=e.replace(r,o)}return e}},7759:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formattingEncoder=t.dateTimeFormat=t.numberFormat=t.formattingService=t.FormattingService=void 0;var n=i(7944);(0,i(7248).default)(n.Globalize);var a=i(3400);t.dateTimeFormat=a;var r=i(1867);t.numberFormat=r;var o=i(560);t.formattingEncoder=o;var s=i(8604),l=/({{)|(}})|{(\d+[^}]*)}/g,c=function(){function e(){}return e.prototype.formatValue=function(e,t,i){if(null==e)return"";var n=this.getCulture(i);return a.canFormat(e)?a.format(e,t,n):r.canFormat(e)?r.format(e,t,n):e.toString()},e.prototype.format=function(e,t,i){var n=this;return e?e.replace(l,(function(e,a,r,o){if(a)return"{";if(r)return"}";var s=o.split(":"),l=parseInt(s[0],10),c=s[1];return n.formatValue(t[l],c,i)})):""},e.prototype.isStandardNumberFormat=function(e){return r.isStandardFormat(e)},e.prototype.formatNumberWithCustomOverride=function(e,t,i,n){var a=this.getCulture(n);return r.formatWithCustomOverride(e,t,i,a)},e.prototype.dateFormatString=function(e){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(e)},e.prototype.setCurrentCulture=function(e){this._currentCultureSelector!==e&&(this._currentCulture=this.getCulture(e),this._currentCultureSelector=e,this._dateTimeScaleFormatInfo=new u(this._currentCulture))},e.prototype.getCulture=function(e){if(null==e)return null==this._currentCulture&&this.initialize(),this._currentCulture;var t=n.Globalize.findClosestCulture(e);return t||(t=n.Globalize.culture("en-US")),t},e.prototype.initialize=function(){var e=this.getCurrentCulture();this.setCurrentCulture(e);var t=this.getUrlParam("calendar");if(t){var i=this._currentCulture,n=i.calendars[t];n&&(i.calendar=n)}},e.prototype.getCurrentCulture=function(){return(null===window||void 0===window?void 0:window.navigator)?window.navigator.userLanguage||window.navigator.language:"en-US"},e.prototype.getUrlParam=function(e){var t=window.location.search.match(RegExp("[?&]"+e+"=([^&]*)"));return t?t[1]:void 0},e}();t.FormattingService=c;var u=function(){function e(e){var t=e.calendar,i=t.patterns,n=t.months.namesAbbr,a=n&&n[0],r=i.Y,o=i.M,s=i.f,l=i.T,c=i.t,u=s.indexOf(",")>-1?", ":" ",d=0===r.indexOf("yyyy'")&&r.length>6&&"'"===r[6];this.YearPattern=d?r.substring(0,7):"yyyy";var h=s.indexOf("yy"),g=s.indexOf("MMMM");this.MonthPattern=a&&g>-1?h>g?"MMM yyyy":"yyyy MMM":r,this.DayPattern=a?o.replace("MMMM","MMM"):o;var p=s.indexOf("mm"),f=s.indexOf("tt")>-1?c.replace(":mm ",""):c;this.HourPattern=h<p?this.DayPattern+u+f:f+u+this.DayPattern,this.MinutePattern=c,this.SecondPattern=l,this.MillisecondPattern=l.replace("ss","ss.fff"),"fi-FI"===e.name&&(this.DayPattern=this.DayPattern.replace("'ta'",""),this.HourPattern=this.HourPattern.replace("'ta'",""))}return e.prototype.getFormatString=function(e){switch(e){case s.DateTimeUnit.Year:return this.YearPattern;case s.DateTimeUnit.Month:return this.MonthPattern;case s.DateTimeUnit.Week:case s.DateTimeUnit.Day:return this.DayPattern;case s.DateTimeUnit.Hour:return this.HourPattern;case s.DateTimeUnit.Minute:return this.MinutePattern;case s.DateTimeUnit.Second:return this.SecondPattern;case s.DateTimeUnit.Millisecond:return this.MillisecondPattern}},e}(),d=new c;t.formattingService=d},8604:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeUnit=void 0,(i=t.DateTimeUnit||(t.DateTimeUnit={}))[i.Year=0]="Year",i[i.Month=1]="Month",i[i.Week=2]="Week",i[i.Day=3]="Day",i[i.Hour=4]="Hour",i[i.Minute=5]="Minute",i[i.Second=6]="Second",i[i.Millisecond=7]="Millisecond"},1867:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomFormatMetadata=t.formatWithCustomOverride=t.format=t.isStandardFormat=t.canFormat=t.getComponents=t.hasFormatComponents=t.addDecimalsToFormat=t.getNumericFormat=t.NumberFormatComponentsDelimeter=void 0;var n,a=i(7944),r=i(7472),o=i(1888),s=i(560),l=i(7759),c=/\{.+\}/,u=/e[+-]*[0#]+/i,d=/^[a-z]\d{0,2}$/i,h=/0+$/,g=/\.([0#]*)/g,p=/[0#,\.]+[0,#]*/g,f=/([0#])(?=[^0#]*$)/,m="0",y="#",v="E",b=new RegExp([m,y].join("|"),"g");function S(e,t){if(null==t)return t;if(k(t)){var i=C(t),n=i.positive,a=i.negative,r=i.zero;return x(0,e>0?n:0===e?r:a)}return x(0,t)}function x(e,t){var i=r.regExpExtensions.run(p,t);return i?i[0]:t}function w(e,t,i){if((t=Math.abs(t))>=0){var n=[];e=s.preserveLiterals(e,n);var a=i?m:y,l=o.repeat(a,Math.abs(t)),c=r.regExpExtensions.run(g,e);if(c){var u=e.substring(0,c.index),d=e.substring(c.index+1,c[1].length+c.index+1),h=e.substring(c.index+c[0].length);if(i)d=l;else{var p=l.length-d.length;p>0?d+=l.slice(-p):p<0&&(d=d.slice(0,p))}d.length>0&&(d="."+d),e=u+d+h}else l.length>0&&(e=e.replace(f,"$1."+l));0!==n.length&&(e=s.restoreLiterals(e,n))}return e}function k(e){return-1!==s.removeLiterals(e).indexOf(t.NumberFormatComponentsDelimeter)}function C(e){var i={hasNegative:!1,positive:e,negative:e,zero:e},n=[],a=(e=s.preserveLiterals(e,n)).split(t.NumberFormatComponentsDelimeter),r=a.length;return r>1&&(0!==n.length&&(a=a.map((function(e){return s.restoreLiterals(e,n)}))),i.hasNegative=!0,i.positive=i.zero=a[0],i.negative=a[1],r>2&&(i.zero=a[2])),i}function T(e){return d.test(e)}function M(e,t,i,o){var c,d=i.numberFormat;if(!isFinite(e))return a.Globalize.format(e,void 0);var h=C(t);t=e>0?h.positive:0===e?h.zero:h.negative,h.hasNegative&&(e=Math.abs(e));var g=_(t,!0),p=[];if(g.hasLiterals&&(t=s.preserveLiterals(t,p)),g.hasE&&!o){var f=r.regExpExtensions.run(u,t);if(f){var m=t.substring(0,f.index),y=t.substring(f.index+2),v=D(m,g);if(1!==(N=L(m,g))&&(e*=N),"number"!=typeof e)return String(e);var b=e.toExponential(v),x=b.indexOf("e"),w=b.substring(0,x),k=b.substring(x+1),T=A(w,m,d),M=A(k,y,d);"+"===M.charAt(0)&&"+"!==f[0].charAt(1)&&(M=M.substring(1)),c=T+f[0].charAt(0)+M}}if(void 0===c){var N,P=void 0,I=!1;if(v=D(t,g),1!==(N=L(t,g))&&(e*=N),e=parseFloat(E(e,v)),!isFinite(e))return a.Globalize.format(e,void 0);o?(o=function(e,t){if(!t||void 0===e)return e;var i="{0:"+t+"}";return e.replace("{0}",i)}(o,S(e,t)),P=l.formattingService.format(o,[e],i.name),I=!0):P=E(e,v),c=A(P,t,d,o,I)}return g.hasLiterals&&(c=s.restoreLiterals(c,p,!1)),n=g,c}function E(e,t){var i="",n=0;t>16&&(n=t-16,t=16);var a=r.double.log10(Math.abs(e));if(a<16){if(a>0){var s=16-a;t>s&&(n+=t-s,t=s)}i=e.toFixed(t)}else if(16===a)i=e.toFixed(0),(n+=t)>0&&(i+=".");else{if("number"!=typeof e)return String(e);var l=(i=e.toExponential(15)).indexOf("e");if(l>0){var c=i.indexOf("."),u=i.substring(0,l),d=i.substring(l+1),h=parseInt(d,10)-(u.length-c-1);i=u.replace(".","")+o.repeat("0",h),t>0&&(i=i+"."+o.repeat("0",t))}}return n>0&&(i+=o.repeat("0",n)),i}function _(e,t,i,a){if(void 0!==n&&e===n.format)return n;for(var r=[],o=s.preserveLiterals(e,r),l={format:e,hasLiterals:0!==r.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,scale:void 0,partsPerScale:void 0},c=0,u=o.length;c<u;c++)switch(o.charAt(c)){case"e":case"E":l.hasE=!0;break;case",":l.hasCommas=!0;break;case".":l.hasDots=!0;break;case"%":l.hasPercent=!0;break;case"‰":l.hasPermile=!0}var d=C(e);return t&&(l.precision=D(d.positive,l)),a&&(l.partsPerScale=N(d.positive,l)),i&&(l.scale=L(d.positive,l)),l}function D(e,t){if(t.precision>-1)return t.precision;var i=0;if(t.hasDots){t.hasLiterals&&(e=s.removeLiterals(e));var n=e.indexOf(".");if(n>-1){for(var a=e.length,r=n;r<a;r++){var o=e.charAt(r);if(o.match(b)&&i++,o===v)break}i=Math.min(19,i)}}return t.precision=i,i}function N(e,t){if(null!=t.partsPerScale)return t.partsPerScale;var i=1;return t.hasPercent&&e.indexOf("%")>-1&&(i*=100),t.hasPermile&&e.indexOf("‰")>-1&&(i*=1e3),t.partsPerScale=i,i}function L(e,t){if(t.scale>-1)return t.scale;var i=N(e,t);if(t.hasCommas){var n=e.indexOf(".");-1===n&&(n=e.length);for(var a=n-1;a>-1&&","===e.charAt(a);a--)i/=1e3}return t.scale=i,i}function A(e,t,i,n,a){var r=!!n,o=t.split(".",2);if(2===o.length){var s=o[0],l=o[1],u="";n&&(u=n.replace(c,""),e=e.replace(u,""));var d=i["."],g=a?d:".",p=e.split(g,2),f=1===p.length?p[0]+u:p[0],v=2===p.length?p[1]+u:"";v=v.replace(h,"");var S=P(f,s,i,r),x=function(e,t,i){var n=t.length,a=e.length;if(i){var r=t.charAt(n-1);return r.match(b)?{value:e,fmtOnly:""===e}:{value:e+r,fmtOnly:""===e}}for(var o="",s=!0,l=0,c=0;c<n;c++){var u=t.charAt(c);if(l<a)switch(u){case m:case y:o+=e[l++],s=!1;break;default:o+=u}else u!==y&&(o+=u,s=s&&u!==m)}return{value:o,fmtOnly:s}}(v,l,r);return x.fmtOnly||""===x.value?S+x.value:S+d+x.value}return P(e,t,i,r)}function P(e,t,i,n){var a=t.indexOf(","),r=a>-1&&a<Math.max(t.lastIndexOf("0"),t.lastIndexOf("#"))&&i[","],o=0,s=0,l=i.groupSizes||[3],c=l[0],u=i[","],d="",h=e.charAt(0);"+"!==h&&"-"!==h||(d=i[h],e=e.substring(1));for(var g="0"===e,p="",f="",v=e.length-1,b=!0,S=t.length-1;S>-1;S--){var x=t.charAt(S);switch(x){case m:case y:b=!1,""!==f&&(p=f+p,f=""),n||((v>-1||x===m)&&r&&(o===c?(p=u+p,++s<l.length&&(c=l[s]),o=1):o++),v>-1?(g&&x===y||(p=e.charAt(v)+p),v--):x!==y&&(p=x+p));break;case",":break;default:f=x+f}}if(!n){if(v>-1&&""!==p)if(r)for(;v>-1;)o===c?(p=u+p,++s<l.length&&(c=l[s]),o=1):o++,p=e.charAt(v)+p,v--;else p=e.substring(0,v+1)+p;return d+f+p}return b?d+f+p:d+f+e+p}function I(e,t){var i=t["+"],n=t["-"],a=t["."],r=t[","];if("+"===i&&"-"===n&&"."===a&&","===r)return e;for(var o=e.length,s="",l=0;l<o;l++){var c=e.charAt(l);switch(c){case"+":s+=i;break;case"-":s+=n;break;case".":s+=a;break;case",":s+=r;break;default:s+=c}}return s}t.NumberFormatComponentsDelimeter=";",t.getNumericFormat=S,t.addDecimalsToFormat=function(e,i,n){if(null==i)return e;if(null==e&&(e=m),k(e)){for(var a=C(e),r=[a.positive,a.negative,a.zero],o=0;o<r.length;o++)r[o]=w(r[o],i,n);return r.join(t.NumberFormatComponentsDelimeter)}return w(e,i,n)},t.hasFormatComponents=k,t.getComponents=C,t.canFormat=function(e){return"number"==typeof e},t.isStandardFormat=T,t.format=function(e,t,i){t=t||"G";try{return T(t)?function(e,t,i){var n,r=t.length>1?parseInt(t.substring(1,t.length),10):void 0,s=i.numberFormat,l=t.charAt(0),c=Math.abs(e);switch(l){case"e":case"E":void 0===r&&(r=6),n=M(e,t="0."+o.repeat("0",r)+l+"+000",i);break;case"f":case"F":n=I(n=void 0!==r?e.toFixed(r):e.toFixed(s.decimals),s);break;case"g":case"G":if(0===c||1e-4<=c&&c<1e15)n=void 0!==r?e.toPrecision(r):e.toString();else{if("number"!=typeof e)return String(e);n=(n=void 0!==r?e.toExponential(r):e.toExponential()).replace("e","E")}n=I(n,s);break;case"r":case"R":n=I(n=e.toString(),s);break;case"x":case"X":if(n=e.toString(16),"X"===l&&(n=n.toUpperCase()),void 0!==r){var u=n.length,d=e<0;d&&u--;var h=r-u,g=void 0;h>0&&(g=o.repeat("0",h)),n=d?"-"+g+n.substring(1):g+n}n=I(n,s);break;default:n=a.Globalize.format(e,t,i)}return n}(e,t,i):M(e,t,i)}catch(t){return a.Globalize.format(e,void 0,i)}},t.formatWithCustomOverride=function(e,t,i,n){return M(e,t,n,i)},t.getCustomFormatMetadata=_},7656:(e,t,i)=>{"use strict";t.qC=t.sX=t.IY=void 0,i(3776);var n=i(9608);t.IY=n,i(1888);var a=i(6464);t.sX=a,i(9996),i(3388),i(3188);var r=i(3532);t.qC=r,i(504),i(9204),i(772),i(68),i(7759),i(3484)},9996:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ephemeralStorageService=t.EphemeralStorageService=void 0;var i=function(){function e(t){this.cache={},this.clearCacheInterval=null!=t?t:e.defaultClearCacheInterval,this.clearCache()}return e.prototype.getData=function(e){return this.cache[e]},e.prototype.setData=function(e,t){var i=this;this.cache[e]=t,null==this.clearCacheTimerId&&(this.clearCacheTimerId=setTimeout((function(){return i.clearCache()}),this.clearCacheInterval))},e.prototype.clearCache=function(){this.cache={},this.clearCacheTimerId=void 0},e.defaultClearCacheInterval=864e5,e}();t.EphemeralStorageService=i,t.ephemeralStorageService=new i},1888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stripTagDelimiters=t.deriveClsCompliantName=t.stringifyAsPrettyJSON=t.normalizeFileName=t.escapeStringForRegex=t.constructNameFromList=t.findUniqueName=t.ensureUniqueNames=t.replaceAll=t.repeat=t.getLengthDifference=t.trimWhitespace=t.trimTrailingWhitespace=t.isWhitespace=t.containsWhitespace=t.isNullOrUndefinedOrWhiteSpaceString=t.isNullOrEmpty=t.stringToArrayBuffer=t.normalizeCase=t.containsIgnoreCase=t.contains=t.startsWith=t.startsWithIgnoreCase=t.equalIgnoreCase=t.format=t.endsWith=void 0;var i=new RegExp("[<>]","g");function n(e,t){return null!=e&&-1!==e.indexOf(t)}function a(e){return e.toUpperCase()}function r(e){return null==e||0===e.length}function o(e){return r(e)||r(e.trim())}function s(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}t.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},t.format=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0];if(o(i))return i;for(var n=0;n<e.length-1;n++){var a=new RegExp("\\{"+n+"\\}","gm");i=i.replace(a,e[n+1])}return i},t.equalIgnoreCase=function(e,t){return a(e)===a(t)},t.startsWithIgnoreCase=function(e,t){var i=a(t);return 0===a(e).indexOf(i)},t.startsWith=function(e,t){return 0===e.indexOf(t)},t.contains=n,t.containsIgnoreCase=function(e,t){return null!=e&&n(a(e),a(t))},t.normalizeCase=a,t.stringToArrayBuffer=function(e){if(r(e))return null;for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),n=0,a=e.length;n<a;n++)i[n]=e.charCodeAt(n);return i},t.isNullOrEmpty=r,t.isNullOrUndefinedOrWhiteSpaceString=o,t.containsWhitespace=function(e){return/\s/.test(e)},t.isWhitespace=function(e){return""===e.trim()},t.trimTrailingWhitespace=function(e){return e.replace(/\s+$/,"")},t.trimWhitespace=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},t.getLengthDifference=function(e,t){return Math.abs(e.length-t.length)},t.repeat=function(e,t){for(var i="",n=0;n<t;n++)i+=e;return i},t.replaceAll=function(e,t,i){if(!t)return e;var n=s(t);return e.replace(new RegExp(n,"gi"),i)},t.ensureUniqueNames=function(e){for(var t={},i=0,n=e;i<n.length;i++)t[n[i]]=!1;for(var a=[],r=0,o=e;r<o.length;r++){var s=o[r],l=s;if(t[l])for(var c=0;void 0!==t[l];)l=s+"."+ ++c;a.push(l),t[l]=!0}return a},t.findUniqueName=function(e,t){for(var i=0,n=t;e[n];)n=t+ ++i;return n},t.constructNameFromList=function(e,t,i){for(var n,a=[],r=0,o=0,s=e;o<s.length;o++){var l=s[o];if(r+l.length>i&&a.length>0){n=!0;break}a.push(l),r+=l.length}var c=" "+t+" ",u=a.join(c);return n&&(u+=c+"..."),u},t.escapeStringForRegex=s,t.normalizeFileName=function(e){return e.replace(/[\<\>\:"\/\\\|\?*]/g,"")},t.stringifyAsPrettyJSON=function(e){return JSON.stringify(e)},t.deriveClsCompliantName=function(e,t){var i=e.replace(/^[^A-Za-z]*/g,"").replace(/[ :\.\/\\\-\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]/g,"_").replace(/[\W]/g,"");return i.length>0?i:t},t.stripTagDelimiters=function(e){return e.replace(i,"")}},6464:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wordBreakOverflowingText=t.wordBreak=t.svgEllipsis=t.getTailoredTextOrDefault=t.getDivElementWidth=t.getSvgMeasurementProperties=t.getMeasurementProperties=t.measureSvgTextElementWidth=t.estimateSvgTextHeight=t.estimateSvgTextBaselineDelta=t.measureSvgTextHeight=t.measureSvgTextRect=t.measureSvgTextWidth=t.removeSpanElement=void 0;var n,a,r,o,s=i(7472),l=i(3484),c=i(1704),u="...";function d(){if(!n){n=document.createElement("span"),document.body.appendChild(n);var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("height","0"),e.setAttribute("width","0"),e.setAttribute("position","absolute"),e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.height="0px",e.style.width="0px",a=document.createElementNS("http://www.w3.org/2000/svg","text"),e.appendChild(a),document.body.appendChild(e);var t=document.createElement("canvas");r=t.getContext("2d");var i=window.getComputedStyle(a);o=i?i.fontFamily:""}}function h(e,t){return d(),r.font=(e.fontStyle||"")+" "+(e.fontVariant||"")+" "+(e.fontWeight||"")+" "+e.fontSize+" "+(e.fontFamily||o),r.measureText(t||e.text).width}function g(e,t){for(d();a.firstChild;)a.removeChild(a.firstChild);return a.setAttribute("style",null),a.style.visibility="hidden",a.style.fontFamily=e.fontFamily||o,a.style.fontVariant=e.fontVariant,a.style.fontSize=e.fontSize,a.style.fontWeight=e.fontWeight,a.style.fontStyle=e.fontStyle,a.style.whiteSpace=e.whiteSpace||"nowrap",a.appendChild(document.createTextNode(t||e.text)),a.getBBox()}function p(e){var i=e.fontFamily+e.fontSize,n=c.ephemeralStorageService.getData(i);if(null==n){var a={fontFamily:e.fontFamily,fontSize:e.fontSize,text:"M"};(n=t.measureSvgTextRect(a)).height>0&&c.ephemeralStorageService.setData(i,n)}return n}function f(e,t){void 0===t&&(t=!1);var i=p(e).height;return t&&(i*=.7),i}function m(e){var t=window.getComputedStyle(e);return t?{text:e.textContent,fontFamily:t.fontFamily,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontVariant:t.fontVariant,whiteSpace:t.whiteSpace}:{text:e.textContent,fontFamily:"",fontSize:"0"}}function y(e,t){if(d(),0===e.text.length)return e.text;var i=h(e);if(i<t)return e.text;if(h(e,u)>=i)return e.text;for(var n=s.prototype.inherit(e),a=n.text=u+n.text,r=1,o=a.length,l=3;r<=o;)if(l=(r+o)/2|0,n.text=a.substring(0,l),t>(i=h(n)))r=l+1;else{if(!(t<i))break;o=l-1}return n.text=a.substring(0,l),(i=h(n))>t&&l--,e.text.substring(0,l-3)+u}t.removeSpanElement=function(){n&&n.remove&&n.remove(),n=null},t.measureSvgTextWidth=h,t.measureSvgTextRect=g,t.measureSvgTextHeight=function(e,t){return g(e,t).height},t.estimateSvgTextBaselineDelta=function(e){var t=p(e);return t.y+t.height},t.estimateSvgTextHeight=f,t.measureSvgTextElementWidth=function(e){return h(m(e))},t.getMeasurementProperties=function(e){var t=window.getComputedStyle(e);return{text:e.value||e.textContent,fontFamily:t.fontFamily,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontVariant:t.fontVariant,whiteSpace:t.whiteSpace}},t.getSvgMeasurementProperties=m,t.getDivElementWidth=function(e){var t=window.getComputedStyle(e);return t?t.width:"0"},t.getTailoredTextOrDefault=y,t.svgEllipsis=function(e,t){var i=m(e),n=i.text,a=y(i,t);n!==a&&(e.textContent=a)},t.wordBreak=function(e,t,i,n){void 0===n&&(n=0);var a=m(e),r=f(a)+n,o=Math.max(1,Math.floor(i/r)),s=e?e.getAttribute("y"):null,c=e?e.textContent:null;e.textContent=null;for(var u=l.splitByWidth(c,a,h,t,o),d=document.createDocumentFragment(),g=0,p=u.length;g<p;g++){var v=0===g?s:r;a.text=u[g];var b=document.createElementNS("http://www.w3.org/2000/svg","tspan");b.setAttribute("x","0"),b.setAttribute("dy",v?v.toString():null),b.appendChild(document.createTextNode(y(a,t))),d.appendChild(b)}e.appendChild(d)},t.wordBreakOverflowingText=function(e,t,i,n){void 0===n&&(n=0);var a=m(e),r=f(a)+n,o=Math.max(1,Math.floor(i/r)),c=e.textContent;e.textContent=null;for(var u=l.splitByWidth(c,a,h,t,o),d=document.createDocumentFragment(),g=0;g<u.length;g++){var p=document.createElement("span");p.style.overflow="hidden",p.style.whiteSpace="nowrap",p.style.textOverflow="ellipsis",p.style.display="block",p.style.width=s.pixelConverter.toString(t),p.appendChild(document.createTextNode(u[g])),p.appendChild(document.createTextNode(y(a,t))),d.appendChild(p)}e.appendChild(d)}},3532:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceSpaceWithNBSP=t.removeEllipses=t.removeBreakingSpaces=void 0,t.removeBreakingSpaces=function(e){return e.toString().replace(new RegExp(" ","g"),"&nbsp")},t.removeEllipses=function(e){return e.replace(/(…)|(\.\.\.)/g,"")},t.replaceSpaceWithNBSP=function(e){if(null!=e)return e.replace(/ /g," ")}},9608:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateExactDigitsPrecision=t.getDisplayUnits=t.formatListOr=t.formatListAnd=t.getFormatStringByColumn=t.getFormatString=t.createDisplayUnitSystem=t.formatVariantMeasureValue=t.format=t.create=t.checkValueInBounds=t.createDefaultFormatter=t.setLocaleOptions=t.getFormatMetadata=t.getLocalizedString=t.DefaultDateFormat=t.DefaultNumericFormat=t.DefaultIntegerFormat=void 0;var n=i(772),a=i(68),r=i(1888),o=i(7759),s=i(9204),l=i(7472),c=i(9624),u=l.valueType.ValueType,d=l.valueType.PrimitiveType,h=r,g={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"};t.DefaultIntegerFormat="g",t.DefaultNumericFormat="#,0.00",t.DefaultDateFormat="d";var p={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"};t.getLocalizedString=function(e){return p[e]};var f={nullValue:p.NullValue,trueValue:p.BooleanTrue,falseValue:p.BooleanFalse,NaN:p.NaNValue,infinity:p.InfinityValue,negativeInfinity:p.NegativeInfinityValue,beautify:function(e){return function(e){var t=g[e];return t&&p[t]||e}(e)},describe:function(e){return function(e){var t=-1===e?"Auto":e.toString(),i=p["DisplayUnitSystem_E"+t+"_Title"],n=e<=0?"{0}":p["DisplayUnitSystem_E"+t+"_LabelFormat"];if(i||n)return{title:i,format:n}}(e)},restatementComma:p.RestatementComma,restatementCompoundAnd:p.RestatementCompoundAnd,restatementCompoundOr:p.RestatementCompoundOr},m={displayName:"",type:u.fromPrimitiveTypeAndCategory(d.DateTime)};function y(e,t,i){var n=t?f.beautify(e):e;return{format:function(e){return null==e?f.nullValue:x({value:e,cultureSelector:i,format:n})}}}function v(e){if(null==e)return new n.DefaultDisplayUnitSystem(f.describe);switch(e){case a.DisplayUnitSystemType.Default:return new n.DefaultDisplayUnitSystem(f.describe);case a.DisplayUnitSystemType.WholeUnits:return new n.WholeUnitsDisplayUnitSystem(f.describe);case a.DisplayUnitSystemType.Verbose:return new n.NoDisplayUnitSystem;case a.DisplayUnitSystemType.DataLabels:return new n.DataLabelsDisplayUnitSystem(f.describe);default:return new n.DefaultDisplayUnitSystem(f.describe)}}function b(e,i,n){if(e){if(i){var a=c.dataViewObjects.getValue(e.objects,i);if(a)return a}if(!n){var r=e.type;if(r){if(r.dateTime)return t.DefaultDateFormat;if(r.integer)return r.temporal&&r.temporal.year?"0":t.DefaultIntegerFormat;if(r.numeric)return t.DefaultNumericFormat}}}}function S(e,t){var i;if(!e)return null;var n=e.length;if(n>0){i=e[0];for(var a=n-1,r=1,o=a;r<o;r++){var s=e[r];i=h.format(f.restatementComma,i,s)}n>1&&(s=e[a],i=h.format(t,i,s))}else i=null;return i}function x(e){var t=e.value,i=e.format,n=e.nullsAreBlank,a=e.cultureSelector,r=w(t,n||!1);return h.isNullOrUndefinedOrWhiteSpaceString(r)?o.formattingService.formatValue(t,i,a):r}function w(e,t){return null==e&&t?f.nullValue:!0===e?f.trueValue:!1===e?f.falseValue:"number"==typeof e&&isNaN(e)?f.NaN:e===Number.NEGATIVE_INFINITY?f.negativeInfinity:e===Number.POSITIVE_INFINITY?f.infinity:""}t.getFormatMetadata=function(e){return o.numberFormat.getCustomFormatMetadata(e)},t.setLocaleOptions=function(e){f=e,n.DefaultDisplayUnitSystem.RESET(),n.WholeUnitsDisplayUnitSystem.RESET()},t.createDefaultFormatter=y,t.checkValueInBounds=function(e,t,i,n,a){return void 0===n&&(n=t),void 0===a&&(a=i),null!=i&&(e=e<=i?e:a),null!=t&&(e=e>t?e:n),e},t.create=function(e){var t,i,n,a=e.allowFormatBeautification?f.beautify(e.format):e.format,r=e.cultureSelector;if(function(e){var t=e.value,i=e.value2,n=e.format;if(e.formatSingleValues&&n&&Math.abs(t)<1e4)if(o.numberFormat.isStandardFormat(n)){if(l.double.isInteger(t))return!1}else if(o.numberFormat.getCustomFormatMetadata(n,!0).precision<2)return!1;if("number"==typeof t||"number"==typeof i)return!0}(e)){var c=v(e.displayUnitSystemType),u=!!e.formatSingleValues;c.update(Math.max(Math.abs(e.value||0),Math.abs(e.value2||0)));var d,g=null!=e.precision;return g?d=-e.precision:c.displayUnit&&c.displayUnit.value>1&&(d=-2),{format:function(e){var t=w(e,!0);return h.isNullOrUndefinedOrWhiteSpaceString(t)?(e&&!c.isScalingUnit()&&Math.abs(e)<1e3&&!g&&(e=l.double.roundToPrecision(e)),u?c.formatSingleValue(e,a,d,g,r):c.format(e,a,d,g,r)):t},displayUnit:c.displayUnit,options:e}}if(t=e.value,i=e.value2,n=e.tickCount,t instanceof Date&&i instanceof Date&&null!=n){var p=s.DateTimeSequence.GET_INTERVAL_UNIT(e.value,e.value2,e.tickCount);return{format:function(e){if(null==e)return f.nullValue;var t=o.formattingService.dateFormatString(p);return x({value:e,cultureSelector:r,format:t})},options:e}}return y(a,!1,r)},t.format=function(e,t,i,n){return null==e?f.nullValue:x({value:e,cultureSelector:n,format:i?f.beautify(t):t})},t.formatVariantMeasureValue=function(e,t,i,n,a){return!(t&&t.type&&t.type.dateTime)&&e instanceof Date?x({value:e,nullsAreBlank:n,cultureSelector:a,format:b(m,null,!1)}):x({value:e,nullsAreBlank:n,cultureSelector:a,format:b(t,i)})},t.createDisplayUnitSystem=v,t.getFormatString=b,t.getFormatStringByColumn=function(e,i){if(e){if(e.format)return e.format;if(!i){var n=e.type;if(n){if(n.dateTime)return t.DefaultDateFormat;if(n.integer)return n.temporal&&n.temporal.year?"0":t.DefaultIntegerFormat;if(n.numeric)return t.DefaultNumericFormat}}}},t.formatListAnd=function(e){return S(e,f.restatementCompoundAnd)},t.formatListOr=function(e){return S(e,f.restatementCompoundOr)},t.getDisplayUnits=function(e){return v(e).units},t.calculateExactDigitsPrecision=function(e,t,i,n){if(!e&&0!==e)return 0;var a=t&&-1!==t.indexOf("%"),r=a?100*e:e;r=i>0?r/i:r;var o=parseInt(r).toString().length;if((a||i>0)&&o>=n)return 0;if(0===i){var s=Math.floor(o/3);s=o%3==0?s-1:s;var l=Math.pow(1e3,s);l>0&&(r/=l)}var c=(o=parseInt(r).toString().length)%n;return 0===c?0:n-c}},3484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitByWidth=t.getMaxWordWidth=t.wordCount=t.hasBreakers=t.find=void 0;var i=/[\s\n]+/g;function n(e,t,i){if(i){for(var n=e-1;n>-1;n--)if(a(t[n]))return n+1}else{n=e;for(var r=t.length;n<r;n++)if(a(t[n]))return n}return i?0:t.length}function a(e){return i.lastIndex=0,i.test(e)}function r(e){return e.split(i)}function o(e,t,i){return t.text=e,i(t)}function s(e,t,i,n){return t.text=e,i(t,n)}t.find=function(e,t){var i={start:0,end:0};return 0===t.length||(i.start=n(e,t,!0),i.end=n(e,t,!1)),i},t.hasBreakers=a,t.wordCount=function(e){var t=1;for(i.lastIndex=0,i.exec(e);0!==i.lastIndex;)t++,i.exec(e);return t},t.getMaxWordWidth=function(e,t,i){for(var n=0,a=0,o=r(e);a<o.length;a++){var s=o[a];i.text=s,n=Math.max(n,t(i))}return n},t.splitByWidth=function(e,t,i,n,a,l){l=l||function(e,t){return e.text};for(var c=[],u=0,d=[],h=0,g=r(e);h<g.length;h++){var p=g[h];if(a>0&&c.length>=a-1)d.push(p);else{var f=0===d.length?o(p,t,i):o(" "+p,t,i);if(u+f>n){if(0===d.length){c.push(s(p,t,l,n)),u=0,d=[];continue}c.push(s(d.join(" "),t,l,n)),u=0,d=[]}d.push(p),u+=f}}return d&&d.length&&c.push(s(d.join(" "),t,l,n)),c}},840:(e,t,i)=>{"use strict";var n;function a(e){return e.append("rect").classed("clearCatcher",!0).attr("width","100%").attr("height","100%")}function r(e){for(let t=0,i=e.length;t<i;t++)if(e[t].selected)return!0;return!1}i.d(t,{YH:()=>a,cv:()=>r}),function(e){e[e.merge=0]="merge",e[e.remove=1]="remove"}(n||(n={}))},6092:(e,t,i)=>{"use strict";i.d(t,{uE:()=>a});var n=i(7924);function a(e,t){(0,n.c)(e.nodes()).on("click",((e,i)=>{t.handleSelection(i,e.ctrlKey)}))}},3756:(e,t,i)=>{"use strict";function n(e){return{className:e,selectorName:"."+e}}i.d(t,{kn:()=>n})},8472:(e,t,i)=>{"use strict";function n(e,t){return"translate("+e+","+t+")"}function a(e,t,i){return"translate("+e+","+t+") scale("+i+")"}function r(e,t,i){let n="M0 0";return n+="L0 "+t,n+="L"+e+" "+t/2+" Z",{path:n,transform:"rotate("+i+" "+e/2+" "+t/2+")"}}i.d(t,{GS:()=>n,UF:()=>a,jH:()=>r})},3288:(e,t,i)=>{"use strict";i.d(t,{c:()=>n});const n=500},4580:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r});var n=i(7924),a=i(3288);function r(e,t,i=a.c){return new o({tooltipService:e,handleTouchDelay:i})}class o{constructor(e){this.visualHostTooltipService=e.tooltipService,this.handleTouchDelay=e.handleTouchDelay}addTooltip(e,t,i,a){if(!e||!this.visualHostTooltipService.enabled())return;const r=(0,n.c)(e.nodes()),o=(e,t,i,n)=>{const a=[t.clientX,t.clientY];e.call(this.visualHostTooltipService,{coordinates:a,isTouchEvent:"touch"===t.pointerType,dataItems:i,identities:n})};r.on("pointerover",((e,n)=>{const a=t(n);if(null==a)return;const r=i?[i(n)]:[];"mouse"===e.pointerType&&o(this.visualHostTooltipService.show,e,a,r),"touch"===e.pointerType&&(this.handleTouchTimeoutId=window.setTimeout((()=>{o(this.visualHostTooltipService.show,e,a,r),this.handleTouchTimeoutId=void 0}),this.handleTouchDelay))})),r.on("pointerout",(e=>{"mouse"===e.pointerType&&this.visualHostTooltipService.hide({isTouchEvent:!1,immediately:!1}),"touch"===e.pointerType&&this.cancelTouchTimeoutEvents()})),r.on("pointermove",((e,n)=>{if("mouse"===e.pointerType){let r;if(a&&(r=t(n),null==r))return;const s=i?[i(n)]:[];o(this.visualHostTooltipService.move,e,r,s)}}))}cancelTouchTimeoutEvents(){this.handleTouchTimeoutId&&clearTimeout(this.handleTouchTimeoutId)}hide(){this.visualHostTooltipService.hide({immediately:!0,isTouchEvent:!1})}}},1984:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DEFAULT_PRECISION:()=>l,DEFAULT_PRECISION_IN_DECIMAL_DIGITS:()=>c,EPSILON:()=>s,LOG_E_10:()=>u,MAX_EXP:()=>o,MAX_VALUE:()=>a,MIN_EXP:()=>r,MIN_VALUE:()=>n,NEGATIVE_POWERS:()=>h,POSITIVE_POWERS:()=>d,ceilToPrecision:()=>C,ceilWithPrecision:()=>w,detectPrecision:()=>A,ensureInRange:()=>M,equalWithPrecision:()=>m,floorToPrecision:()=>k,floorWithPrecision:()=>x,getPrecision:()=>f,greaterOrEqualWithPrecision:()=>S,greaterWithPrecision:()=>b,isInteger:()=>N,lessOrEqualWithPrecision:()=>v,lessWithPrecision:()=>y,log10:()=>p,pow10:()=>g,project:()=>_,removeDecimalNoise:()=>D,round:()=>E,roundToPrecision:()=>T,toIncrement:()=>L});const n=-Number.MAX_VALUE,a=Number.MAX_VALUE,r=-308,o=308,s=1e-323,l=1e-4,c=12,u=Math.log(10),d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],h=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0];function g(e){return e>=0?e<d.length?d[e]:1/0:(e=-e)>0&&e<h.length?h[e]:0}function p(e){return e>1&&e<1e16?e<1e8?e<1e4?e<100?e<10?0:1:e<1e3?2:3:e<1e6?e<1e5?4:5:e<1e7?6:7:e<1e12?e<1e10?e<1e9?8:9:e<1e11?10:11:e<1e14?e<1e13?12:13:e<1e15?14:15:e>1e-16&&e<1?e<1e-8?e<1e-12?e<1e-14?e<1e-15?-16:-15:e<1e-13?-14:-13:e<1e-10?e<1e-11?-12:-11:e<1e-9?-10:-9:e<1e-4?e<1e-6?e<1e-7?-8:-7:e<1e-5?-6:-5:e<.01?e<.001?-4:-3:e<.1?-2:-1:x(Math.log(e)/u)}function f(e,t){if(void 0===t&&(t=c),!e||!isFinite(e))return;const i=p(Math.abs(e));return i<r?0:g(Math.max(i-t,1-h.length))}function m(e,t,i){return i=A(i,e,t),e===t||Math.abs(e-t)<i}function y(e,t,i){return i=A(i,e,t),e<t&&Math.abs(e-t)>i}function v(e,t,i){return i=A(i,e,t),e<t||Math.abs(e-t)<i}function b(e,t,i){return i=A(i,e,t),e>t&&Math.abs(e-t)>i}function S(e,t,i){return i=A(i,e,t),e>t||Math.abs(e-t)<i}function x(e,t){t=null!=t?t:l;const i=Math.round(e);return Math.abs(e-i)<t?i:Math.floor(e)}function w(e,t){t=A(t,l);const i=Math.round(e);return Math.abs(e-i)<t?i:Math.ceil(e)}function k(e,t){return 0===(t=A(t,l))||0===e?e:Math.floor(e/t)*t}function C(e,t){return 0===(t=A(t,l))||0===e?e:Math.ceil(e/t)*t}function T(e,t){if(0===(t=A(t,l))||0===e)return e;let i=Math.round(e/t)*t;const n=Math.round(p(Math.abs(e))-p(t))+1;return n>0&&n<16&&(i=parseFloat(i.toPrecision(n))),i}function M(e,t,i){return null==e?e:e<t?t:e>i?i:e}function E(e){return.5+e<<0}function _(e,t,i,n,a){return 0===i||0===a?t<=e&&e<=t+i?n:NaN:n+(e-t)/i*a}function D(e){return T(e,f(e))}function N(e){return null!==e&&e%1==0}function L(e,t){return Math.round(e/t)*t}function A(e,t,i){if(void 0!==e)return e;let n;return n=f(i?t?Math.min(Math.abs(t),Math.abs(i)):i:t),n||l}},5376:(e,t,i)=>{"use strict";function n(e,t){const i=[];for(let n=e.length-1;n>=0;--n)-1!==t.indexOf(e[n])&&i.push(e[n]);return i}function a(e,t){const i=[];for(let n=e.length-1;n>=0;--n){const a=e[n];-1===t.indexOf(a)&&i.push(a)}return i}function r(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];-1===t.indexOf(n)&&t.push(n)}return t}function o(e,t){for(let i=0,n=t.length;i<n;++i)s(e,t[i])}function s(e,t){e.indexOf(t)<0&&e.push(t)}function l(e,t,i){const n=[];for(let a=t;a<=i;++a)n.push(e[a]);return n}function c(e,t){const i=[];for(let n=0;n<t;++n)i.push(e[n]);return i}function u(e){return c(e,e.length)}function d(e,t,i){if(e||(e=null),t||(t=null),e===t)return!0;if(!!e!=!!t)return!1;const n=e.length;if(n!==t.length)return!1;let a=0;for(;a<n&&i(e[a],t[a]);)++a;return a===n}function h(e){return e&&0===e.length?null:e}function g(e,t){for(let i=0,n=e.length;i<n;++i)if(t(e[i]))return i;return-1}function p(e,t){if(0===t)return e.slice();const i=e.slice(t);return Array.prototype.push.apply(i,e.slice(0,t)),i}function f(){return m([])}function m(e){const t=e;return t.withId=v,t}function y(e,t){for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.id===t)return n}}function v(e){return y(this,e)}function b(){return S([])}function S(e){const t=e;return t.withName=T,t}function x(e,t){const i=w(e,t);if(i>=0)return e[i]}function w(e,t){for(let i=0,n=e.length;i<n;i++)if(e[i].name===t)return i;return-1}function k(e,t){for(let i=e.length-1;i>=0;i--){const n=e[i]-t;if(0===n)return!1;if(!(n>0))return e.splice(i+1,0,t),!0}return e.unshift(t),!0}function C(e,t){const i=e.indexOf(t);return!(i<0||(e.splice(i,1),0))}function T(e){return x(this,e)}function M(e){if(e)for(;e.length>0;)e.pop()}function E(e){return!e||0===e.length}function _(e,t,i){const n=e[t];e[t]=e[i],e[i]=n}function D(e,t,i){return e.some((e=>i(e,t)))}function N(e){let t=e;for(;null!=t;){if(Array.isArray(t))return!0;t=Object.getPrototypeOf(t)}return!1}function L(e,t){const i=e.length;if(i>=2)for(let n=1;n<i;n++)if(t(e[n-1],e[n])>0)return!1;return!0}function A(e,t){return L(e,t?(e,t)=>t-e:(e,t)=>e-t)}function P(e){return Array.isArray(e)?e:[e]}i.r(t),i.d(t,{clear:()=>M,copy:()=>u,createWithId:()=>f,createWithName:()=>b,diff:()=>a,distinct:()=>r,emptyToNull:()=>h,ensureArray:()=>P,extendWithId:()=>m,extendWithName:()=>S,findItemWithName:()=>x,findWithId:()=>y,indexOf:()=>g,indexWithName:()=>w,insertSorted:()=>k,intersect:()=>n,isArrayOrInheritedArray:()=>N,isInArray:()=>D,isSorted:()=>L,isSortedNumeric:()=>A,isUndefinedOrEmpty:()=>E,range:()=>l,removeFirst:()=>C,rotate:()=>p,sequenceEqual:()=>d,swap:()=>_,take:()=>c,union:()=>o,unionSingle:()=>s})},2068:(e,t,i)=>{"use strict";i.r(t),i.d(t,{getBitCount:()=>l,hasFlag:()=>a,resetFlag:()=>o,setFlag:()=>r,toString:()=>s});var n=i(1984);function a(e,t){return(e&t)===t}function r(e,t){return e|t}function o(e,t){return e&~t}function s(e,t){return e[t]}function l(e){if(!(0,n.isInteger)(e))return 0;let t=0,i=e;for(;0!==i;)1==(1&i)&&t++,i>>>=1;return t}},6160:(e,t,i)=>{"use strict";function n(e,t){return(e||t)&&!(e&&t)}i.r(t),i.d(t,{XOR:()=>n})},1900:(e,t,i)=>{"use strict";function n(e,t,i){return e.lastIndex=i||0,e.exec(t)}i.r(t),i.d(t,{run:()=>n})},3684:(e,t,i)=>{"use strict";function n(e,t){return-1!==e.indexOf(t,e.length-t.length)}i.r(t),i.d(t,{endsWith:()=>n})},7472:(e,t,i)=>{"use strict";i.r(t),i.d(t,{arrayExtensions:()=>n,double:()=>u,enumExtensions:()=>a,jsonComparer:()=>d,logicExtensions:()=>r,numericSequence:()=>l,numericSequenceRange:()=>c,pixelConverter:()=>h,prototype:()=>g,regExpExtensions:()=>o,stringExtensions:()=>s,textSizeDefaults:()=>p,valueType:()=>f});var n=i(5376),a=i(2068),r=i(6160),o=i(1900),s=i(3684),l=i(5147),c=i(516),u=i(1984),d=i(5077),h=i(172),g=i(7464),p=i(6368),f=i(1636)},5077:(e,t,i)=>{"use strict";function n(e,t){return e===t||JSON.stringify(e)===JSON.stringify(t)}i.r(t),i.d(t,{equals:()=>n})},5147:(e,t,i)=>{"use strict";i.r(t),i.d(t,{NumericSequence:()=>r});var n=i(1984),a=i(516);class r{static calculate(e,t,i,o,s,l){const c=new r;if(t=void 0===t?10:n.ensureInRange(t,r.MIN_COUNT,r.MAX_COUNT),void 0===o&&(o=n.MIN_EXP),void 0===s&&(s=!1),void 0===i&&(i=1),void 0===l&&(l=[1,2,5]),e.forcedSingleStop)return c.interval=e.getSize(),c.intervalOffset=c.interval-(e.forcedSingleStop-e.min),c.min=e.min,c.max=e.max,c.sequence=[e.forcedSingleStop],c;let u=0,d=0,h=9;const g=i>0&&!e.hasFixedMin,p=i>0&&!e.hasFixedMax,f=e.getSize();let m=n.log10(f);const y=n.log10(l[0]);let v;if(m-=y,m-=n.log10(t),m=Math.max(m,o-y+1),0!==u){const t=n.pow10(m),i=n.floorToPrecision(e.min,t),r=n.ceilToPrecision(e.max,t),o=a.NumericSequenceRange.calculateFixedRange(i,r);o.shrinkByStep(e,u),d=o.min,h=o.max,v=Math.floor(o.getSize()/u)}else{let r;for(r=0;r<3;r++){const o=m+r,c=n.pow10(o),f=n.floorToPrecision(e.min,c),y=n.ceilToPrecision(e.max,c),b=l.length,S=n.pow10(o-1);for(let o=0;o<b;o++){const c=l[o]*S,m=a.NumericSequenceRange.calculateFixedRange(f,y,s);if(m.shrinkByStep(e,c),g&&e.min===m.min&&i>=1&&(m.min-=c),p&&e.max===m.max&&i>=1&&(m.max+=c),v=n.ceilWithPrecision(m.getSize()/c,n.DEFAULT_PRECISION),v<=t||2===r&&o===b-1||1===t&&2===v&&(c>e.getSize()||e.min<0&&e.max>0&&2*c>=e.getSize())){u=c,d=m.min,h=m.max;break}}if(0!==u)break}}(v>32*t||v>r.MAX_COUNT)&&(v=Math.min(32*t,r.MAX_COUNT),u=(h-d)/v),c.min=d,c.max=h,c.interval=u,c.intervalOffset=d-e.min,c.maxAllowedMargin=i,c.canExtendMin=g,c.canExtendMax=p;const b=n.getPrecision(u,0);c.precision=b;const S=[];let x=n.roundToPrecision(d,b);S.push(x);for(let e=0;e<v;e++)x=n.roundToPrecision(x+u,b),S.push(x);return c.sequence=S,c.trimMinMax(e.min,e.max),c}static calculateUnits(e,t,i,a){i=n.ensureInRange(i,r.MIN_COUNT,r.MAX_COUNT),e===t&&(t=e+1);let o=0,s=0;for(let r=0;r<a.length&&(s=a[r],o=n.ceilWithPrecision(t/s)-n.floorWithPrecision(e/s),!(o<=i));r++);let l=-e;l%=s;const c=new r;c.sequence=[];for(let i=e+l;c.sequence.push(i),!(i>=t);i+=s);return c.interval=s,c.intervalOffset=l,c.min=c.sequence[0],c.max=c.sequence[c.sequence.length-1],c}trimMinMax(e,t){const i=(e-this.min)/this.interval,n=(this.max-t)/this.interval;(!this.canExtendMin||i>this.maxAllowedMargin&&i>.001)&&(this.min=e),(!this.canExtendMax||n>this.maxAllowedMargin&&n>.001)&&(this.max=t)}}r.MIN_COUNT=1,r.MAX_COUNT=1e3},516:(e,t,i)=>{"use strict";i.r(t),i.d(t,{NumericSequenceRange:()=>a,hasValue:()=>r});var n=i(1984);class a{_ensureIncludeZero(){this.includeZero&&(this.min>0&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))}_ensureNotEmpty(){if(this.min===this.max)if(this.min){const e=this.min,t=n.log10(Math.abs(e));let i;t>=0&&t<4?(i=.5,this.forcedSingleStop=e):(i=n.pow10(t)/2,this.forcedSingleStop=null),this.min=e-i,this.max=e+i}else this.min=0,this.max=a.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0}_ensureDirection(){if(this.min>this.max){const e=this.min;this.min=this.max,this.max=e}}getSize(){return this.max-this.min}shrinkByStep(e,t){let i=this.min/t,n=e.min/t,a=Math.floor(n-i);this.min+=a*t,i=this.max/t,n=e.max/t,a=Math.ceil(n-i),this.max+=a*t}static calculate(e,t,i,o,s){const l=new a;return l.includeZero=!!s,l.hasDataRange=r(e)&&r(t),l.hasFixedMin=r(i),l.hasFixedMax=r(o),e=n.ensureInRange(e,a.MIN_SUPPORTED_DOUBLE,a.MAX_SUPPORTED_DOUBLE),t=n.ensureInRange(t,a.MIN_SUPPORTED_DOUBLE,a.MAX_SUPPORTED_DOUBLE),l.hasFixedMin&&l.hasFixedMax?(l.min=i,l.max=o):l.hasFixedMin?(l.min=i,l.max=t>i?t:i):l.hasFixedMax?(l.min=e<o?e:o,l.max=o):l.hasDataRange?(l.min=e,l.max=t):(l.min=0,l.max=0),l._ensureIncludeZero(),l._ensureNotEmpty(),l._ensureDirection(),0===l.min?l.hasFixedMin=!0:0===l.max&&(l.hasFixedMax=!0),l}static calculateDataRange(e,t,i){return r(e)&&r(t)?a.calculate(e,t,null,null,i):a.calculateFixedRange(0,a.DEFAULT_MAX)}static calculateFixedRange(e,t,i){const n=new a;return n.hasDataRange=!1,n.includeZero=i,n.min=e,n.max=t,n._ensureIncludeZero(),n._ensureNotEmpty(),n._ensureDirection(),n.hasFixedMin=!0,n.hasFixedMax=!0,n}}function r(e){return null!=e}a.DEFAULT_MAX=10,a.MIN_SUPPORTED_DOUBLE=-1e307,a.MAX_SUPPORTED_DOUBLE=1e307},172:(e,t,i)=>{"use strict";i.r(t),i.d(t,{fromPoint:()=>o,fromPointToPixel:()=>s,toPoint:()=>l,toString:()=>r});const n=4/3,a="px";function r(e){return e+a}function o(e){return r(s(e))}function s(e){return n*e}function l(e){return e/n}},7464:(e,t,i)=>{"use strict";function n(e,t){function i(){}i.prototype=e;const n=new i;return t&&t(n),n}function a(e){const t=Object.getPrototypeOf(e);return t!==Object.prototype&&t!==Array.prototype||(e=n(e)),e}function r(e,t){if(!e)return;let i;for(let a=0,r=e.length;a<r;a++){const r=t(e[a]);r&&(i||(i=n(e)),i[a]=r)}return i}i.r(t),i.d(t,{inherit:()=>n,inheritSingle:()=>a,overrideArray:()=>r})},6368:(e,t,i)=>{"use strict";i.r(t),i.d(t,{TextSizeMax:()=>a,TextSizeMin:()=>n,getScale:()=>o});const n=8,a=40,r=a-n;function o(e){return(e-n)/r}},1636:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ExtendedType:()=>r,FormattingType:()=>p,GeographyType:()=>h,MiscellaneousType:()=>g,PrimitiveType:()=>n,ScriptType:()=>u,TemporalType:()=>d,ValueType:()=>c});var n,a,r,o,s=i(2068),l=i(5077);class c{constructor(e,t,i,n){this.underlyingType=e,this.category=t,s.hasFlag(e,r.Temporal)&&(this.temporalType=new d(e)),s.hasFlag(e,r.Geography)&&(this.geographyType=new h(e)),s.hasFlag(e,r.Miscellaneous)&&(this.miscType=new g(e)),s.hasFlag(e,r.Formatting)&&(this.formattingType=new p(e)),s.hasFlag(e,r.Enumeration)&&(this.enumType=i),s.hasFlag(e,r.Scripting)&&(this.scriptingType=new u(e)),s.hasFlag(e,r.Variant)&&(this.variationTypes=n)}static fromDescriptor(e){if((e=e||{}).text)return c.fromExtendedType(r.Text);if(e.integer)return c.fromExtendedType(r.Integer);if(e.numeric)return c.fromExtendedType(r.Double);if(e.bool)return c.fromExtendedType(r.Boolean);if(e.dateTime)return c.fromExtendedType(r.DateTime);if(e.duration)return c.fromExtendedType(r.Duration);if(e.binary)return c.fromExtendedType(r.Binary);if(e.none)return c.fromExtendedType(r.None);if(e.scripting&&e.scripting.source)return c.fromExtendedType(r.ScriptSource);if(e.enumeration)return c.fromEnum(e.enumeration);if(e.temporal){if(e.temporal.year)return c.fromExtendedType(r.Years_Integer);if(e.temporal.quarter)return c.fromExtendedType(r.Quarters_Integer);if(e.temporal.month)return c.fromExtendedType(r.Months_Integer);if(e.temporal.day)return c.fromExtendedType(r.DayOfMonth_Integer);if(e.temporal.paddedDateTableDate)return c.fromExtendedType(r.PaddedDateTableDates)}if(e.geography){if(e.geography.address)return c.fromExtendedType(r.Address);if(e.geography.city)return c.fromExtendedType(r.City);if(e.geography.continent)return c.fromExtendedType(r.Continent);if(e.geography.country)return c.fromExtendedType(r.Country);if(e.geography.county)return c.fromExtendedType(r.County);if(e.geography.region)return c.fromExtendedType(r.Region);if(e.geography.postalCode)return c.fromExtendedType(r.PostalCode_Text);if(e.geography.stateOrProvince)return c.fromExtendedType(r.StateOrProvince);if(e.geography.place)return c.fromExtendedType(r.Place);if(e.geography.latitude)return c.fromExtendedType(r.Latitude_Double);if(e.geography.longitude)return c.fromExtendedType(r.Longitude_Double)}if(e.misc){if(e.misc.image)return c.fromExtendedType(r.Image);if(e.misc.imageUrl)return c.fromExtendedType(r.ImageUrl);if(e.misc.webUrl)return c.fromExtendedType(r.WebUrl);if(e.misc.barcode)return c.fromExtendedType(r.Barcode_Text)}if(e.formatting){if(e.formatting.color)return c.fromExtendedType(r.Color);if(e.formatting.formatString)return c.fromExtendedType(r.FormatString);if(e.formatting.alignment)return c.fromExtendedType(r.Alignment);if(e.formatting.labelDisplayUnits)return c.fromExtendedType(r.LabelDisplayUnits);if(e.formatting.fontSize)return c.fromExtendedType(r.FontSize);if(e.formatting.labelDensity)return c.fromExtendedType(r.LabelDensity)}if(e.extendedType)return c.fromExtendedType(e.extendedType);if(e.operations&&e.operations.searchEnabled)return c.fromExtendedType(r.SearchEnabled);if(e.variant){const t=e.variant.map((e=>c.fromDescriptor(e)));return c.fromVariant(t)}return c.fromExtendedType(r.Null)}static fromExtendedType(e){const t=v(e=e||r.Null),i=function(e){if(function(e){return(e&m)===e}(e))return null;let t=o[e];if(t){const e=t.lastIndexOf("_");if(e>0){const i=t.slice(0,e);o[i]&&(t=i)}}return t||null}(e);return c.fromPrimitiveTypeAndCategory(t,i)}static fromPrimitiveTypeAndCategory(e,t){t=t||null;let i=(e=e||n.Null).toString();return t&&(i+="|"+t),c.typeCache[i]||(c.typeCache[i]=new c(function(e,t){const i=a[e];let s=o[i];if(null==s&&(s=r.Null),e&&t){let i=o[t];if(i){const t=v(i);t===n.Null?(i|=s,o[i]&&(s=i)):t===e&&(s=i)}}return s}(e,t),t))}static fromEnum(e){return new c(r.Enumeration,null,e)}static fromVariant(e){return new c(r.Variant,null,null,e)}static isCompatibleTo(e,t){const i=c.fromDescriptor(e);for(const e of t)if(c.fromDescriptor(e).isCompatibleFrom(i))return!0;return!1}isCompatibleFrom(e){const t=e.primitiveType;return!!(this===e||this.primitiveType===t||t===n.Null||this.numeric&&e.numeric)}equals(e){return(0,l.equals)(this,e)}get primitiveType(){return v(this.underlyingType)}get extendedType(){return this.underlyingType}get categoryString(){return this.category}get text(){return this.primitiveType===n.Text}get numeric(){return s.hasFlag(this.underlyingType,r.Numeric)}get integer(){return this.primitiveType===n.Integer}get bool(){return this.primitiveType===n.Boolean}get dateTime(){return this.primitiveType===n.DateTime||this.primitiveType===n.Date||this.primitiveType===n.Time}get duration(){return this.primitiveType===n.Duration}get binary(){return this.primitiveType===n.Binary}get none(){return this.primitiveType===n.None}get temporal(){return this.temporalType}get geography(){return this.geographyType}get misc(){return this.miscType}get formatting(){return this.formattingType}get enumeration(){return this.enumType}get scripting(){return this.scriptingType}get variant(){return this.variationTypes}}c.typeCache={};class u{constructor(e){this.underlyingType=e}get source(){return b(this.underlyingType,r.ScriptSource)}}class d{constructor(e){this.underlyingType=e}get year(){return b(this.underlyingType,r.Years)}get quarter(){return b(this.underlyingType,r.Quarters)}get month(){return b(this.underlyingType,r.Months)}get day(){return b(this.underlyingType,r.DayOfMonth)}get paddedDateTableDate(){return b(this.underlyingType,r.PaddedDateTableDates)}}class h{constructor(e){this.underlyingType=e}get address(){return b(this.underlyingType,r.Address)}get city(){return b(this.underlyingType,r.City)}get continent(){return b(this.underlyingType,r.Continent)}get country(){return b(this.underlyingType,r.Country)}get county(){return b(this.underlyingType,r.County)}get region(){return b(this.underlyingType,r.Region)}get postalCode(){return b(this.underlyingType,r.PostalCode)}get stateOrProvince(){return b(this.underlyingType,r.StateOrProvince)}get place(){return b(this.underlyingType,r.Place)}get latitude(){return b(this.underlyingType,r.Latitude)}get longitude(){return b(this.underlyingType,r.Longitude)}}class g{constructor(e){this.underlyingType=e}get image(){return b(this.underlyingType,r.Image)}get imageUrl(){return b(this.underlyingType,r.ImageUrl)}get webUrl(){return b(this.underlyingType,r.WebUrl)}get barcode(){return b(this.underlyingType,r.Barcode)}}class p{constructor(e){this.underlyingType=e}get color(){return b(this.underlyingType,r.Color)}get formatString(){return b(this.underlyingType,r.FormatString)}get alignment(){return b(this.underlyingType,r.Alignment)}get labelDisplayUnits(){return b(this.underlyingType,r.LabelDisplayUnits)}get fontSize(){return b(this.underlyingType,r.FontSize)}get labelDensity(){return b(this.underlyingType,r.LabelDensity)}}!function(e){e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=2]="Decimal",e[e.Double=3]="Double",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=6]="Date",e[e.DateTime=7]="DateTime",e[e.DateTimeZone=8]="DateTimeZone",e[e.Time=9]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant"}(n||(n={})),function(e){e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=2]="Decimal",e[e.Double=3]="Double",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=6]="Date",e[e.DateTime=7]="DateTime",e[e.DateTimeZone=8]="DateTimeZone",e[e.Time=9]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant"}(a||(a={})),function(e){e[e.Numeric=256]="Numeric",e[e.Temporal=512]="Temporal",e[e.Geography=1024]="Geography",e[e.Miscellaneous=2048]="Miscellaneous",e[e.Formatting=4096]="Formatting",e[e.Scripting=8192]="Scripting",e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=258]="Decimal",e[e.Double=259]="Double",e[e.Integer=260]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=518]="Date",e[e.DateTime=519]="DateTime",e[e.DateTimeZone=520]="DateTimeZone",e[e.Time=521]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant",e[e.Years=66048]="Years",e[e.Years_Text=66049]="Years_Text",e[e.Years_Integer=66308]="Years_Integer",e[e.Years_Date=66054]="Years_Date",e[e.Years_DateTime=66055]="Years_DateTime",e[e.Months=131584]="Months",e[e.Months_Text=131585]="Months_Text",e[e.Months_Integer=131844]="Months_Integer",e[e.Months_Date=131590]="Months_Date",e[e.Months_DateTime=131591]="Months_DateTime",e[e.PaddedDateTableDates=197127]="PaddedDateTableDates",e[e.Quarters=262656]="Quarters",e[e.Quarters_Text=262657]="Quarters_Text",e[e.Quarters_Integer=262916]="Quarters_Integer",e[e.Quarters_Date=262662]="Quarters_Date",e[e.Quarters_DateTime=262663]="Quarters_DateTime",e[e.DayOfMonth=328192]="DayOfMonth",e[e.DayOfMonth_Text=328193]="DayOfMonth_Text",e[e.DayOfMonth_Integer=328452]="DayOfMonth_Integer",e[e.DayOfMonth_Date=328198]="DayOfMonth_Date",e[e.DayOfMonth_DateTime=328199]="DayOfMonth_DateTime",e[e.Address=6554625]="Address",e[e.City=6620161]="City",e[e.Continent=6685697]="Continent",e[e.Country=6751233]="Country",e[e.County=6816769]="County",e[e.Region=6882305]="Region",e[e.PostalCode=6947840]="PostalCode",e[e.PostalCode_Text=6947841]="PostalCode_Text",e[e.PostalCode_Integer=6948100]="PostalCode_Integer",e[e.StateOrProvince=7013377]="StateOrProvince",e[e.Place=7078913]="Place",e[e.Latitude=7144448]="Latitude",e[e.Latitude_Decimal=7144706]="Latitude_Decimal",e[e.Latitude_Double=7144707]="Latitude_Double",e[e.Longitude=7209984]="Longitude",e[e.Longitude_Decimal=7210242]="Longitude_Decimal",e[e.Longitude_Double=7210243]="Longitude_Double",e[e.Image=13109259]="Image",e[e.ImageUrl=13174785]="ImageUrl",e[e.WebUrl=13240321]="WebUrl",e[e.Barcode=13305856]="Barcode",e[e.Barcode_Text=13305857]="Barcode_Text",e[e.Barcode_Integer=13306116]="Barcode_Integer",e[e.Color=19664897]="Color",e[e.FormatString=19730433]="FormatString",e[e.Alignment=20058113]="Alignment",e[e.LabelDisplayUnits=20123649]="LabelDisplayUnits",e[e.FontSize=20189443]="FontSize",e[e.LabelDensity=20254979]="LabelDensity",e[e.Enumeration=26214401]="Enumeration",e[e.ScriptSource=32776193]="ScriptSource",e[e.SearchEnabled=65541]="SearchEnabled"}(r||(r={})),function(e){e[e.Numeric=256]="Numeric",e[e.Temporal=512]="Temporal",e[e.Geography=1024]="Geography",e[e.Miscellaneous=2048]="Miscellaneous",e[e.Formatting=4096]="Formatting",e[e.Scripting=8192]="Scripting",e[e.Null=0]="Null",e[e.Text=1]="Text",e[e.Decimal=258]="Decimal",e[e.Double=259]="Double",e[e.Integer=260]="Integer",e[e.Boolean=5]="Boolean",e[e.Date=518]="Date",e[e.DateTime=519]="DateTime",e[e.DateTimeZone=520]="DateTimeZone",e[e.Time=521]="Time",e[e.Duration=10]="Duration",e[e.Binary=11]="Binary",e[e.None=12]="None",e[e.Variant=13]="Variant",e[e.Years=66048]="Years",e[e.Years_Text=66049]="Years_Text",e[e.Years_Integer=66308]="Years_Integer",e[e.Years_Date=66054]="Years_Date",e[e.Years_DateTime=66055]="Years_DateTime",e[e.Months=131584]="Months",e[e.Months_Text=131585]="Months_Text",e[e.Months_Integer=131844]="Months_Integer",e[e.Months_Date=131590]="Months_Date",e[e.Months_DateTime=131591]="Months_DateTime",e[e.PaddedDateTableDates=197127]="PaddedDateTableDates",e[e.Quarters=262656]="Quarters",e[e.Quarters_Text=262657]="Quarters_Text",e[e.Quarters_Integer=262916]="Quarters_Integer",e[e.Quarters_Date=262662]="Quarters_Date",e[e.Quarters_DateTime=262663]="Quarters_DateTime",e[e.DayOfMonth=328192]="DayOfMonth",e[e.DayOfMonth_Text=328193]="DayOfMonth_Text",e[e.DayOfMonth_Integer=328452]="DayOfMonth_Integer",e[e.DayOfMonth_Date=328198]="DayOfMonth_Date",e[e.DayOfMonth_DateTime=328199]="DayOfMonth_DateTime",e[e.Address=6554625]="Address",e[e.City=6620161]="City",e[e.Continent=6685697]="Continent",e[e.Country=6751233]="Country",e[e.County=6816769]="County",e[e.Region=6882305]="Region",e[e.PostalCode=6947840]="PostalCode",e[e.PostalCode_Text=6947841]="PostalCode_Text",e[e.PostalCode_Integer=6948100]="PostalCode_Integer",e[e.StateOrProvince=7013377]="StateOrProvince",e[e.Place=7078913]="Place",e[e.Latitude=7144448]="Latitude",e[e.Latitude_Decimal=7144706]="Latitude_Decimal",e[e.Latitude_Double=7144707]="Latitude_Double",e[e.Longitude=7209984]="Longitude",e[e.Longitude_Decimal=7210242]="Longitude_Decimal",e[e.Longitude_Double=7210243]="Longitude_Double",e[e.Image=13109259]="Image",e[e.ImageUrl=13174785]="ImageUrl",e[e.WebUrl=13240321]="WebUrl",e[e.Barcode=13305856]="Barcode",e[e.Barcode_Text=13305857]="Barcode_Text",e[e.Barcode_Integer=13306116]="Barcode_Integer",e[e.Color=19664897]="Color",e[e.FormatString=19730433]="FormatString",e[e.Alignment=20058113]="Alignment",e[e.LabelDisplayUnits=20123649]="LabelDisplayUnits",e[e.FontSize=20189443]="FontSize",e[e.LabelDensity=20254979]="LabelDensity",e[e.Enumeration=26214401]="Enumeration",e[e.ScriptSource=32776193]="ScriptSource",e[e.SearchEnabled=65541]="SearchEnabled"}(o||(o={}));const f=255,m=65535,y=4294901760;function v(e){return e&f}function b(e,t){return(e&y)==(t&y)}},6648:(e,t,i)=>{"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s.apply(this,arguments)}function l(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}i.d(t,{cp:()=>at});var c=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=l(/Edge/i),d=l(/firefox/i),h=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),g=l(/iP(ad|od|hone)/i),p=l(/chrome/i)&&l(/android/i),f={capture:!1,passive:!1};function m(e,t,i){e.addEventListener(t,i,!c&&f)}function y(e,t,i){e.removeEventListener(t,i,!c&&f)}function v(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function b(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function S(e,t,i,n){if(e){i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&v(e,t):v(e,t))||n&&e===i)return e;if(e===i)break}while(e=b(e))}return null}var x,w=/\s+/g;function k(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(w," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(w," ")}}function C(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=i+("string"==typeof i?"":"px")}}function T(e,t){var i="";if("string"==typeof e)i=e;else do{var n=C(e,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(i)}function M(e,t,i){if(e){var n=e.getElementsByTagName(t),a=0,r=n.length;if(i)for(;a<r;a++)i(n[a],a);return n}return[]}function E(){return document.scrollingElement||document.documentElement}function _(e,t,i,n,a){if(e.getBoundingClientRect||e===window){var r,o,s,l,u,d,h;if(e!==window&&e.parentNode&&e!==E()?(o=(r=e.getBoundingClientRect()).top,s=r.left,l=r.bottom,u=r.right,d=r.height,h=r.width):(o=0,s=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(t||i)&&e!==window&&(a=a||e.parentNode,!c))do{if(a&&a.getBoundingClientRect&&("none"!==C(a,"transform")||i&&"static"!==C(a,"position"))){var g=a.getBoundingClientRect();o-=g.top+parseInt(C(a,"border-top-width")),s-=g.left+parseInt(C(a,"border-left-width")),l=o+r.height,u=s+r.width;break}}while(a=a.parentNode);if(n&&e!==window){var p=T(a||e),f=p&&p.a,m=p&&p.d;p&&(l=(o/=m)+(d/=m),u=(s/=f)+(h/=f))}return{top:o,left:s,bottom:l,right:u,width:h,height:d}}}function D(e,t,i){for(var n=I(e,!0),a=_(e)[t];n;){var r=_(n)[i];if(!("top"===i||"left"===i?a>=r:a<=r))return n;if(n===E())break;n=I(n,!1)}return!1}function N(e,t,i,n){for(var a=0,r=0,o=e.children;r<o.length;){if("none"!==o[r].style.display&&o[r]!==Fe.ghost&&(n||o[r]!==Fe.dragged)&&S(o[r],i.draggable,e,!1)){if(a===t)return o[r];a++}r++}return null}function L(e,t){for(var i=e.lastElementChild;i&&(i===Fe.ghost||"none"===C(i,"display")||t&&!v(i,t));)i=i.previousElementSibling;return i||null}function A(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Fe.clone||t&&!v(e,t)||i++;return i}function P(e){var t=0,i=0,n=E();if(e)do{var a=T(e),r=a.a,o=a.d;t+=e.scrollLeft*r,i+=e.scrollTop*o}while(e!==n&&(e=e.parentNode));return[t,i]}function I(e,t){if(!e||!e.getBoundingClientRect)return E();var i=e,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var a=C(i);if(i.clientWidth<i.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!i.getBoundingClientRect||i===document.body)return E();if(n||t)return i;n=!0}}}while(i=i.parentNode);return E()}function O(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function V(e,t){return function(){if(!x){var i=arguments;1===i.length?e.call(this,i[0]):e.apply(this,i),x=setTimeout((function(){x=void 0}),t)}}}function F(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function R(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function z(e,t,i){var n={};return Array.from(e.children).forEach((function(a){var r,o,s,l;if(S(a,t.draggable,e,!1)&&!a.animated&&a!==i){var c=_(a);n.left=Math.min(null!==(r=n.left)&&void 0!==r?r:1/0,c.left),n.top=Math.min(null!==(o=n.top)&&void 0!==o?o:1/0,c.top),n.right=Math.max(null!==(s=n.right)&&void 0!==s?s:-1/0,c.right),n.bottom=Math.max(null!==(l=n.bottom)&&void 0!==l?l:-1/0,c.bottom)}})),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var B="Sortable"+(new Date).getTime();var U=[],$={initializeByDefault:!0},j={mount:function(e){for(var t in $)$.hasOwnProperty(t)&&!(t in e)&&(e[t]=$[t]);U.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),U.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var r=e+"Global";U.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][r]&&t[n.pluginName][r](a({sortable:t},i)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](a({sortable:t},i)))}))},initializePlugins:function(e,t,i,n){for(var a in U.forEach((function(n){var a=n.pluginName;if(e.options[a]||n.initializeByDefault){var r=new n(e,t,e.options);r.sortable=e,r.options=e.options,e[a]=r,s(i,r.defaults)}})),e.options)if(e.options.hasOwnProperty(a)){var r=this.modifyOption(e,a,e.options[a]);void 0!==r&&(e.options[a]=r)}},getEventProperties:function(e,t){var i={};return U.forEach((function(n){"function"==typeof n.eventProperties&&s(i,n.eventProperties.call(t[n.pluginName],e))})),i},modifyOption:function(e,t,i){var n;return U.forEach((function(a){e[a.pluginName]&&a.optionListeners&&"function"==typeof a.optionListeners[t]&&(n=a.optionListeners[t].call(e[a.pluginName],i))})),n}};var q=["evt"],H=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,r=function(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}(i,q);j.pluginEvent.bind(Fe)(e,t,a({dragEl:W,parentEl:Q,ghostEl:Y,rootEl:K,nextEl:X,lastDownEl:J,cloneEl:Z,cloneHidden:ee,dragStarted:ge,putSortable:oe,activeSortable:Fe.active,originalEvent:n,oldIndex:te,oldDraggableIndex:ne,newIndex:ie,newDraggableIndex:ae,hideGhostForTarget:Pe,unhideGhostForTarget:Ie,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){G({sortable:t,name:e,originalEvent:n})}},r))};function G(e){!function(e){var t=e.sortable,i=e.rootEl,n=e.name,r=e.targetEl,o=e.cloneEl,s=e.toEl,l=e.fromEl,d=e.oldIndex,h=e.newIndex,g=e.oldDraggableIndex,p=e.newDraggableIndex,f=e.originalEvent,m=e.putSortable,y=e.extraEventProperties;if(t=t||i&&i[B]){var v,b=t.options,S="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||c||u?(v=document.createEvent("Event")).initEvent(n,!0,!0):v=new CustomEvent(n,{bubbles:!0,cancelable:!0}),v.to=s||i,v.from=l||i,v.item=r||i,v.clone=o,v.oldIndex=d,v.newIndex=h,v.oldDraggableIndex=g,v.newDraggableIndex=p,v.originalEvent=f,v.pullMode=m?m.lastPutMode:void 0;var x=a(a({},y),j.getEventProperties(n,t));for(var w in x)v[w]=x[w];i&&i.dispatchEvent(v),b[S]&&b[S].call(t,v)}}(a({putSortable:oe,cloneEl:Z,targetEl:W,rootEl:K,oldIndex:te,oldDraggableIndex:ne,newIndex:ie,newDraggableIndex:ae},e))}var W,Q,Y,K,X,J,Z,ee,te,ie,ne,ae,re,oe,se,le,ce,ue,de,he,ge,pe,fe,me,ye,ve=!1,be=!1,Se=[],xe=!1,we=!1,ke=[],Ce=!1,Te=[],Me="undefined"!=typeof document,Ee=g,_e=u||c?"cssFloat":"float",De=Me&&!p&&!g&&"draggable"in document.createElement("div"),Ne=function(){if(Me){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Le=function(e,t){var i=C(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),a=N(e,0,t),r=N(e,1,t),o=a&&C(a),s=r&&C(r),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+_(a).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+_(r).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&o.float&&"none"!==o.float){var u="left"===o.float?"left":"right";return!r||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return a&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=n&&"none"===i[_e]||r&&"none"===i[_e]&&l+c>n)?"vertical":"horizontal"},Ae=function(e){function t(e,i){return function(n,a,r,o){var s=n.options.group.name&&a.options.group.name&&n.options.group.name===a.options.group.name;if(null==e&&(i||s))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(n,a,r,o),i)(n,a,r,o);var l=(i?n:a).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var i={},n=e.group;n&&"object"==r(n)||(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i},Pe=function(){!Ne&&Y&&C(Y,"display","none")},Ie=function(){!Ne&&Y&&C(Y,"display","")};Me&&!p&&document.addEventListener("click",(function(e){if(be)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),be=!1,!1}),!0);var Oe=function(e){if(W){e=e.touches?e.touches[0]:e;var t=(a=e.clientX,r=e.clientY,Se.some((function(e){var t=e[B].options.emptyInsertThreshold;if(t&&!L(e)){var i=_(e),n=a>=i.left-t&&a<=i.right+t,s=r>=i.top-t&&r<=i.bottom+t;return n&&s?o=e:void 0}})),o);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[B]._onDragOver(i)}}var a,r,o},Ve=function(e){W&&W.parentNode[B]._isOutsideThisEl(e.target)};function Fe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=s({},t),e[B]=this;var i,n,r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Le(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Fe.supportPointer&&"PointerEvent"in window&&!h,emptyInsertThreshold:5};for(var o in j.initializePlugins(this,e,r),r)!(o in t)&&(t[o]=r[o]);for(var l in Ae(t),this)"_"===l.charAt(0)&&"function"==typeof this[l]&&(this[l]=this[l].bind(this));this.nativeDraggable=!t.forceFallback&&De,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?m(e,"pointerdown",this._onTapStart):(m(e,"mousedown",this._onTapStart),m(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(e,"dragover",this),m(e,"dragenter",this)),Se.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),s(this,(n=[],{captureAnimationState:function(){n=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==C(e,"display")&&e!==Fe.ghost){n.push({target:e,rect:_(e)});var t=a({},n[n.length-1].rect);if(e.thisAnimationDuration){var i=T(e,!0);i&&(t.top-=i.f,t.left-=i.e)}e.fromRect=t}}))},addAnimationState:function(e){n.push(e)},removeAnimationState:function(e){n.splice(function(e,t){for(var i in e)if(e.hasOwnProperty(i))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i);return-1}(n,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation)return clearTimeout(i),void("function"==typeof e&&e());var a=!1,r=0;n.forEach((function(e){var i=0,n=e.target,o=n.fromRect,s=_(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=T(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&O(l,s)&&!O(o,s)&&(u.top-s.top)/(u.left-s.left)==(o.top-s.top)/(o.left-s.left)&&(i=function(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}(u,l,c,t.options)),O(s,o)||(n.prevFromRect=o,n.prevToRect=s,i||(i=t.options.animation),t.animate(n,u,s,i)),i&&(a=!0,r=Math.max(r,i),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),i),n.thisAnimationDuration=i)})),clearTimeout(i),a?i=setTimeout((function(){"function"==typeof e&&e()}),r):"function"==typeof e&&e(),n=[]},animate:function(e,t,i,n){if(n){C(e,"transition",""),C(e,"transform","");var a=T(this.el),r=a&&a.a,o=a&&a.d,s=(t.left-i.left)/(r||1),l=(t.top-i.top)/(o||1);e.animatingX=!!s,e.animatingY=!!l,C(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),C(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),C(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){C(e,"transition",""),C(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}))}function Re(e,t,i,n,a,r,o,s){var l,d,h=e[B],g=h.options.onMove;return!window.CustomEvent||c||u?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=a||t,l.relatedRect=r||_(t),l.willInsertAfter=s,l.originalEvent=o,e.dispatchEvent(l),g&&(d=g.call(h,l,o)),d}function ze(e){e.draggable=!1}function Be(){Ce=!1}function Ue(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function $e(e){return setTimeout(e,0)}function je(e){return clearTimeout(e)}Fe.prototype={constructor:Fe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(pe=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,W):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,a=n.preventOnFilter,r=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=n.filter;if(function(e){Te.length=0;for(var t=e.getElementsByTagName("input"),i=t.length;i--;){var n=t[i];n.checked&&Te.push(n)}}(i),!W&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||n.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!h||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=S(s,n.draggable,i,!1))&&s.animated||J===s)){if(te=A(s),ne=A(s,n.draggable),"function"==typeof c){if(c.call(this,e,s,this))return G({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:i,fromEl:i}),H("filter",t,{evt:e}),void(a&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=S(l,n.trim(),i,!1))return G({sortable:t,rootEl:n,name:"filter",targetEl:s,fromEl:i,toEl:i}),H("filter",t,{evt:e}),!0}))))return void(a&&e.cancelable&&e.preventDefault());n.handle&&!S(l,n.handle,i,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,i){var n,a=this,r=a.el,o=a.options,s=r.ownerDocument;if(i&&!W&&i.parentNode===r){var l=_(i);if(K=r,Q=(W=i).parentNode,X=W.nextSibling,J=i,re=o.group,Fe.dragged=W,se={target:W,clientX:(t||e).clientX,clientY:(t||e).clientY},de=se.clientX-l.left,he=se.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,W.style["will-change"]="all",n=function(){H("delayEnded",a,{evt:e}),Fe.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!d&&a.nativeDraggable&&(W.draggable=!0),a._triggerDragStart(e,t),G({sortable:a,name:"choose",originalEvent:e}),k(W,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){M(W,e.trim(),ze)})),m(s,"dragover",Oe),m(s,"mousemove",Oe),m(s,"touchmove",Oe),m(s,"mouseup",a._onDrop),m(s,"touchend",a._onDrop),m(s,"touchcancel",a._onDrop),d&&this.nativeDraggable&&(this.options.touchStartThreshold=4,W.draggable=!0),H("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(u||c))n();else{if(Fe.eventCanceled)return void this._onDrop();m(s,"mouseup",a._disableDelayedDrag),m(s,"touchend",a._disableDelayedDrag),m(s,"touchcancel",a._disableDelayedDrag),m(s,"mousemove",a._delayedDragTouchMoveHandler),m(s,"touchmove",a._delayedDragTouchMoveHandler),o.supportPointer&&m(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(n,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){W&&ze(W),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._disableDelayedDrag),y(e,"touchend",this._disableDelayedDrag),y(e,"touchcancel",this._disableDelayedDrag),y(e,"mousemove",this._delayedDragTouchMoveHandler),y(e,"touchmove",this._delayedDragTouchMoveHandler),y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):m(document,t?"touchmove":"mousemove",this._onTouchMove):(m(W,"dragend",this),m(K,"dragstart",this._onDragStart));try{document.selection?$e((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(ve=!1,K&&W){H("dragStarted",this,{evt:t}),this.nativeDraggable&&m(document,"dragover",Ve);var i=this.options;!e&&k(W,i.dragClass,!1),k(W,i.ghostClass,!0),Fe.active=this,e&&this._appendGhost(),G({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(le){this._lastX=le.clientX,this._lastY=le.clientY,Pe();for(var e=document.elementFromPoint(le.clientX,le.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(le.clientX,le.clientY))!==t;)t=e;if(W.parentNode[B]._isOutsideThisEl(e),t)do{if(t[B]&&t[B]._onDragOver({clientX:le.clientX,clientY:le.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Ie()}},_onTouchMove:function(e){if(se){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,a=e.touches?e.touches[0]:e,r=Y&&T(Y,!0),o=Y&&r&&r.a,s=Y&&r&&r.d,l=Ee&&ye&&P(ye),c=(a.clientX-se.clientX+n.x)/(o||1)+(l?l[0]-ke[0]:0)/(o||1),u=(a.clientY-se.clientY+n.y)/(s||1)+(l?l[1]-ke[1]:0)/(s||1);if(!Fe.active&&!ve){if(i&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(Y){r?(r.e+=c-(ce||0),r.f+=u-(ue||0)):r={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");C(Y,"webkitTransform",d),C(Y,"mozTransform",d),C(Y,"msTransform",d),C(Y,"transform",d),ce=c,ue=u,le=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Y){var e=this.options.fallbackOnBody?document.body:K,t=_(W,!0,Ee,!0,e),i=this.options;if(Ee){for(ye=e;"static"===C(ye,"position")&&"none"===C(ye,"transform")&&ye!==document;)ye=ye.parentNode;ye!==document.body&&ye!==document.documentElement?(ye===document&&(ye=E()),t.top+=ye.scrollTop,t.left+=ye.scrollLeft):ye=E(),ke=P(ye)}k(Y=W.cloneNode(!0),i.ghostClass,!1),k(Y,i.fallbackClass,!0),k(Y,i.dragClass,!0),C(Y,"transition",""),C(Y,"transform",""),C(Y,"box-sizing","border-box"),C(Y,"margin",0),C(Y,"top",t.top),C(Y,"left",t.left),C(Y,"width",t.width),C(Y,"height",t.height),C(Y,"opacity","0.8"),C(Y,"position",Ee?"absolute":"fixed"),C(Y,"zIndex","100000"),C(Y,"pointerEvents","none"),Fe.ghost=Y,e.appendChild(Y),C(Y,"transform-origin",de/parseInt(Y.style.width)*100+"% "+he/parseInt(Y.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,a=i.options;H("dragStart",this,{evt:e}),Fe.eventCanceled?this._onDrop():(H("setupClone",this),Fe.eventCanceled||((Z=R(W)).removeAttribute("id"),Z.draggable=!1,Z.style["will-change"]="",this._hideClone(),k(Z,this.options.chosenClass,!1),Fe.clone=Z),i.cloneId=$e((function(){H("clone",i),Fe.eventCanceled||(i.options.removeCloneOnHide||K.insertBefore(Z,W),i._hideClone(),G({sortable:i,name:"clone"}))})),!t&&k(W,a.dragClass,!0),t?(be=!0,i._loopId=setInterval(i._emulateDragOver,50)):(y(document,"mouseup",i._onDrop),y(document,"touchend",i._onDrop),y(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",a.setData&&a.setData.call(i,n,W)),m(document,"drop",i),C(W,"transform","translateZ(0)")),ve=!0,i._dragStartId=$e(i._dragStarted.bind(i,t,e)),m(document,"selectstart",i),ge=!0,h&&C(document.body,"user-select","none"))},_onDragOver:function(e){var t,i,n,r,o=this.el,s=e.target,l=this.options,c=l.group,u=Fe.active,d=re===c,h=l.sort,g=oe||u,p=this,f=!1;if(!Ce){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=S(s,l.draggable,o,!0),U("dragOver"),Fe.eventCanceled)return f;if(W.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return j(!1);if(be=!1,u&&!l.disabled&&(d?h||(n=Q!==K):oe===this||(this.lastPutMode=re.checkPull(this,u,W,e))&&c.checkPut(this,u,W,e))){if(r="vertical"===this._getDirection(e,s),t=_(W),U("dragOverValid"),Fe.eventCanceled)return f;if(n)return Q=K,$(),this._hideClone(),U("revert"),Fe.eventCanceled||(X?K.insertBefore(W,X):K.appendChild(W)),j(!0);var m=L(o,l.draggable);if(!m||function(e,t,i){var n=_(L(i.el,i.options.draggable)),a=z(i.el,i.options,Y);return t?e.clientX>a.right+10||e.clientY>n.bottom&&e.clientX>n.left:e.clientY>a.bottom+10||e.clientX>n.right&&e.clientY>n.top}(e,r,this)&&!m.animated){if(m===W)return j(!1);if(m&&o===e.target&&(s=m),s&&(i=_(s)),!1!==Re(K,o,W,t,s,i,e,!!s))return $(),m&&m.nextSibling?o.insertBefore(W,m.nextSibling):o.appendChild(W),Q=o,q(),j(!0)}else if(m&&function(e,t,i){var n=_(N(i.el,0,i.options,!0)),a=z(i.el,i.options,Y);return t?e.clientX<a.left-10||e.clientY<n.top&&e.clientX<n.right:e.clientY<a.top-10||e.clientY<n.bottom&&e.clientX<n.left}(e,r,this)){var y=N(o,0,l,!0);if(y===W)return j(!1);if(i=_(s=y),!1!==Re(K,o,W,t,s,i,e,!1))return $(),o.insertBefore(W,y),Q=o,q(),j(!0)}else if(s.parentNode===o){i=_(s);var v,b,x,w=W.parentNode!==o,T=!function(e,t,i){var n=i?e.left:e.top,a=i?e.right:e.bottom,r=i?e.width:e.height,o=i?t.left:t.top,s=i?t.right:t.bottom,l=i?t.width:t.height;return n===o||a===s||n+r/2===o+l/2}(W.animated&&W.toRect||t,s.animated&&s.toRect||i,r),M=r?"top":"left",E=D(s,"top","top")||D(W,"top","top"),P=E?E.scrollTop:void 0;if(pe!==s&&(b=i[M],xe=!1,we=!T&&l.invertSwap||w),v=function(e,t,i,n,a,r,o,s){var l=n?e.clientY:e.clientX,c=n?i.height:i.width,u=n?i.top:i.left,d=n?i.bottom:i.right,h=!1;if(!o)if(s&&me<c*a){if(!xe&&(1===fe?l>u+c*r/2:l<d-c*r/2)&&(xe=!0),xe)h=!0;else if(1===fe?l<u+me:l>d-me)return-fe}else if(l>u+c*(1-a)/2&&l<d-c*(1-a)/2)return function(e){return A(W)<A(e)?1:-1}(t);return(h=h||o)&&(l<u+c*r/2||l>d-c*r/2)?l>u+c/2?1:-1:0}(e,s,i,r,T?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,we,pe===s),0!==v){var I=A(W);do{I-=v,x=Q.children[I]}while(x&&("none"===C(x,"display")||x===Y))}if(0===v||x===s)return j(!1);pe=s,fe=v;var O=s.nextElementSibling,V=!1,R=Re(K,o,W,t,s,i,e,V=1===v);if(!1!==R)return 1!==R&&-1!==R||(V=1===R),Ce=!0,setTimeout(Be,30),$(),V&&!O?o.appendChild(W):s.parentNode.insertBefore(W,V?O:s),E&&F(E,0,P-E.scrollTop),Q=W.parentNode,void 0===b||we||(me=Math.abs(b-_(s)[M])),q(),j(!0)}if(o.contains(W))return j(!1)}return!1}function U(l,c){H(l,p,a({evt:e,isOwner:d,axis:r?"vertical":"horizontal",revert:n,dragRect:t,targetRect:i,canSort:h,fromSortable:g,target:s,completed:j,onMove:function(i,n){return Re(K,o,W,t,i,_(i),e,n)},changed:q},c))}function $(){U("dragOverAnimationCapture"),p.captureAnimationState(),p!==g&&g.captureAnimationState()}function j(t){return U("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(p),p!==g&&(k(W,oe?oe.options.ghostClass:u.options.ghostClass,!1),k(W,l.ghostClass,!0)),oe!==p&&p!==Fe.active?oe=p:p===Fe.active&&oe&&(oe=null),g===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){U("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(s===W&&!W.animated||s===o&&!s.animated)&&(pe=null),l.dragoverBubble||e.rootEl||s===document||(W.parentNode[B]._isOutsideThisEl(e.target),!t&&Oe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function q(){ie=A(W),ae=A(W,l.draggable),G({sortable:p,name:"change",toEl:o,newIndex:ie,newDraggableIndex:ae,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",Oe),y(document,"mousemove",Oe),y(document,"touchmove",Oe)},_offUpEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._onDrop),y(e,"touchend",this._onDrop),y(e,"pointerup",this._onDrop),y(e,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;ie=A(W),ae=A(W,i.draggable),H("drop",this,{evt:e}),Q=W&&W.parentNode,ie=A(W),ae=A(W,i.draggable),Fe.eventCanceled||(ve=!1,we=!1,xe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),je(this.cloneId),je(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&C(document.body,"user-select",""),C(W,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),Y&&Y.parentNode&&Y.parentNode.removeChild(Y),(K===Q||oe&&"clone"!==oe.lastPutMode)&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),W&&(this.nativeDraggable&&y(W,"dragend",this),ze(W),W.style["will-change"]="",ge&&!ve&&k(W,oe?oe.options.ghostClass:this.options.ghostClass,!1),k(W,this.options.chosenClass,!1),G({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:e}),K!==Q?(ie>=0&&(G({rootEl:Q,name:"add",toEl:Q,fromEl:K,originalEvent:e}),G({sortable:this,name:"remove",toEl:Q,originalEvent:e}),G({rootEl:Q,name:"sort",toEl:Q,fromEl:K,originalEvent:e}),G({sortable:this,name:"sort",toEl:Q,originalEvent:e})),oe&&oe.save()):ie!==te&&ie>=0&&(G({sortable:this,name:"update",toEl:Q,originalEvent:e}),G({sortable:this,name:"sort",toEl:Q,originalEvent:e})),Fe.active&&(null!=ie&&-1!==ie||(ie=te,ae=ne),G({sortable:this,name:"end",toEl:Q,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){H("nulling",this),K=W=Q=Y=X=Z=J=ee=se=le=ge=ie=ae=te=ne=pe=fe=oe=re=Fe.dragged=Fe.ghost=Fe.clone=Fe.active=null,Te.forEach((function(e){e.checked=!0})),Te.length=ce=ue=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":W&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,a=i.length,r=this.options;n<a;n++)S(e=i[n],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||Ue(e));return t},sort:function(e,t){var i={},n=this.el;this.toArray().forEach((function(e,t){var a=n.children[t];S(a,this.options.draggable,n,!1)&&(i[e]=a)}),this),t&&this.captureAnimationState(),e.forEach((function(e){i[e]&&(n.removeChild(i[e]),n.appendChild(i[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return S(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var n=j.modifyOption(this,e,t);i[e]=void 0!==n?n:t,"group"===e&&Ae(i)},destroy:function(){H("destroy",this);var e=this.el;e[B]=null,y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart),y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Se.splice(Se.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(H("hideClone",this),Fe.eventCanceled)return;C(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),ee=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ee){if(H("showClone",this),Fe.eventCanceled)return;W.parentNode!=K||this.options.group.revertClone?X?K.insertBefore(Z,X):K.appendChild(Z):K.insertBefore(Z,W),this.options.group.revertClone&&this.animate(W,Z),C(Z,"display",""),ee=!1}}else this._hideClone()}},Me&&m(document,"touchmove",(function(e){(Fe.active||ve)&&e.cancelable&&e.preventDefault()})),Fe.utils={on:m,off:y,css:C,find:M,is:function(e,t){return!!S(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},throttle:V,closest:S,toggleClass:k,clone:R,index:A,nextTick:$e,cancelNextTick:je,detectDirection:Le,getChild:N},Fe.get=function(e){return e[B]},Fe.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Fe.utils=a(a({},Fe.utils),e.utils)),j.mount(e)}))},Fe.create=function(e,t){return new Fe(e,t)},Fe.version="1.15.2";var qe,He,Ge,We,Qe,Ye,Ke=[],Xe=!1;function Je(){Ke.forEach((function(e){clearInterval(e.pid)})),Ke=[]}function Ze(){clearInterval(Ye)}var et=V((function(e,t,i,n){if(t.scroll){var a,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=E(),u=!1;He!==i&&(He=i,Je(),qe=t.scroll,a=t.scrollFn,!0===qe&&(qe=I(i,!0)));var d=0,h=qe;do{var g=h,p=_(g),f=p.top,m=p.bottom,y=p.left,v=p.right,b=p.width,S=p.height,x=void 0,w=void 0,k=g.scrollWidth,T=g.scrollHeight,M=C(g),D=g.scrollLeft,N=g.scrollTop;g===c?(x=b<k&&("auto"===M.overflowX||"scroll"===M.overflowX||"visible"===M.overflowX),w=S<T&&("auto"===M.overflowY||"scroll"===M.overflowY||"visible"===M.overflowY)):(x=b<k&&("auto"===M.overflowX||"scroll"===M.overflowX),w=S<T&&("auto"===M.overflowY||"scroll"===M.overflowY));var L=x&&(Math.abs(v-r)<=s&&D+b<k)-(Math.abs(y-r)<=s&&!!D),A=w&&(Math.abs(m-o)<=s&&N+S<T)-(Math.abs(f-o)<=s&&!!N);if(!Ke[d])for(var P=0;P<=d;P++)Ke[P]||(Ke[P]={});Ke[d].vx==L&&Ke[d].vy==A&&Ke[d].el===g||(Ke[d].el=g,Ke[d].vx=L,Ke[d].vy=A,clearInterval(Ke[d].pid),0==L&&0==A||(u=!0,Ke[d].pid=setInterval(function(){n&&0===this.layer&&Fe.active._onTouchMove(Qe);var t=Ke[this.layer].vy?Ke[this.layer].vy*l:0,i=Ke[this.layer].vx?Ke[this.layer].vx*l:0;"function"==typeof a&&"continue"!==a.call(Fe.dragged.parentNode[B],i,t,e,Qe,Ke[this.layer].el)||F(Ke[this.layer].el,i,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=I(h,!1)));Xe=u}}),30),tt=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,a=e.activeSortable,r=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=i||a;o();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(r("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function it(){}function nt(){}it.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=N(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:tt},s(it,{pluginName:"revertOnSpill"}),nt.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:tt},s(nt,{pluginName:"removeOnSpill"}),Fe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):t.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),Ze(),Je(),clearTimeout(x),x=void 0},nulling:function(){Qe=He=qe=Xe=Ye=Ge=We=null,Ke.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,n=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,r=document.elementFromPoint(n,a);if(Qe=e,t||this.options.forceAutoScrollFallback||u||c||h){et(e,this.options,r,t);var o=I(r,!0);!Xe||Ye&&n===Ge&&a===We||(Ye&&Ze(),Ye=setInterval((function(){var r=I(document.elementFromPoint(n,a),!0);r!==o&&(o=r,Je()),et(e,i.options,r,t)}),10),Ge=n,We=a)}else{if(!this.options.bubbleScroll||I(r,!0)===E())return void Je();et(e,this.options,I(r,!1),!1)}}},s(e,{pluginName:"scroll",initializeByDefault:!0})}),Fe.mount(nt,it);const at=Fe},8840:(e,t,i)=>{"use strict";i.d(t,{U:()=>c});var n=i(7884),a=i(172),r=i(3520),o=i(6636),s=i(2064),l=i(7492);class c extends s.k{responsiveRule(e){const t=this.barSize.width-this.bulletMargin.left-this.bulletMargin.right;switch(e){case"value-axis":return t<38;case"category-axis":return t<40;case"data-labels":return t<50;case"overlap":return t<90;case"data-labels-change":return t<60}return!1}getContainerMargin(){const e=super.getContainerMargin();if(this.showValueAxis){const t=a.fromPointToPixel(this.settings.axis.fontSize);e.bottom+=t+15}return e}getMarkerStroke(){return(0,r.QN)(this.model.fields,o.QJ.Targets)?4*(this.settings.markers.size?this.settings.markers.size:Math.max(1,this.barSize.height/15)):0}getBulletMargin(){const e=this.getValueAxisNeededMargin(),t=this.getTargetsNeededMargin(),i=this.getBulletAppearanceNeededMargin(),n=this.getDataLabelsNeededMargin(),a=this.getTargetLabelsNeededMargin();return{left:Math.max(e.left,t.left,i.left,n.left,a.left),right:Math.max(e.right,t.right,i.right,n.right,a.right),top:Math.max(0,n.top,a.top),bottom:Math.max(0,n.bottom,a.bottom)}}getValueAxisNeededMargin(){let e=0,t=0;if(this.showValueAxis){const i=this.getValueAxis(),a=e=>{const t={text:e,fontFamily:this.settings.axis.fontFamily,fontSize:String(this.settings.axis.fontSize)};return(0,r.U1)(t)+5};n.SuD("g").call(i).selectAll("g").each(((i,r,o)=>{const s=o[r];if(0==r||r==o.length-1){const i=n.MlD(o[r]).select("text").text(),l=a(i),c=s.getAttribute("transform").match(/(-?[0-9.]+)/g);if(c[0]){const i=parseFloat(c[0]);0==r?t=Math.max(0,l/2-i):e=Math.max(0,i+l/2-this.barSize.width)}}}))}return{left:this.showCategoryAxis?0:t,right:e,top:0,bottom:0}}getTargetsNeededMargin(){const e={left:0,right:0,top:0,bottom:0};if((0,r.QN)(this.model.fields,o.QJ.Targets)){const t=this.getMaxMarkerSpace();e.left=(0,o._)(this.model.domains.targets.min,this.model.domains.all.min)?t/2:0,e.right=(0,o._)(this.model.domains.targets.max,this.model.domains.all.max)?t/2:0}return e}getBulletAppearanceNeededMargin(){const e={left:0,right:0,top:0,bottom:0};if(this.settings.bulletShape.shadows&&"outside"==this.settings.bulletShape.shadowOffset&&((0,o._)(this.model.domains.value.max,this.model.domains.all.max)||(0,o._)(this.model.domains.comparisonValue.max,this.model.domains.all.max)&&this.settings.bulletShape.shadowsComparison)){const t=this.getFeDropShadow(this.settings.bulletShape.shadowPosition);t.dx>0&&(e.right=2*t.dx)}return this.settings.bulletShape.border&&(e.right=Math.max(e.right,this.settings.bulletShape.borderStroke/2),e.left=this.showCategoryAxis?0:this.settings.bulletShape.borderStroke/2),e}getDataLabelsNeededMargin(){const e={left:0,right:0,top:0,bottom:0};if(this.showDataLabel&&this.model.dataPoints.length){const t=(0,r.QN)(this.model.fields,o.QJ.TargetVariance)&&"outside-end-variance"==this.settings.dataLabels.position,i=this.getTempScale(),n=i.domain(),a={min:n[0],max:n[1]};this.model.dataPoints.forEach(((n,o)=>{if((0,r.QN)(n,"value")){let r=n.value;if(t){const e=n.variance.value<0,t=n.value>0;t&&e?r+=Math.abs(n.variance.value):t||e||(r-=n.variance.value)}const s={showVariance:this.showVariance(n),showDataLabelChange:this.showDataLabelChange,settings:this.settings.dataLabels},c={value:n.value,changeValue:this.getChangeGoal(n),format:n.format},u=new l.i(this.model,this.settings,s,c),d=u.size;if("outside-end"==this.settings.dataLabels.position||"outside-end-variance"==this.settings.dataLabels.position){let t=0,o=0;if(n.value>0?o=Math.max(o,d.width+l.i.spacing):n.value<0&&(t=Math.max(t,d.width+2*l.i.spacing)),t){const n=a.min<r?Math.abs(i(a.min)-i(r)):0;e.left=Math.max(e.left,t-n)}if(o){const t=a.max>r?Math.abs(i(a.max)-i(r)):0;e.right=Math.max(e.right,o-t)}}0==o&&(e.top=Math.abs(this.bulletSize.height-this.bulletSpacing<u.size.height?this.bulletSize.height-this.bulletSpacing-u.size.height:0)),o==this.model.dataPoints.length-1&&(e.bottom=Math.abs(this.bulletSize.height-this.bulletSpacing<u.size.height?this.bulletSize.height-this.bulletSpacing-u.size.height:0))}}))}return e}getTargetLabelsNeededMargin(){const e={left:0,right:0,top:0,bottom:0};if((0,r.QN)(this.model.fields,o.QJ.Targets)&&this.settings.targetLabels.show){const t=this.getTempScale(),i=t.domain(),n={min:i[0],max:i[1]};this.model.dataPoints.forEach(((i,a)=>{i.targets.forEach((r=>{const o={showVariance:!1,showDataLabelChange:!1,settings:this.settings.targetLabels},s={value:r.value,changeValue:null,format:i.format},c=new l.i(this.model,this.settings,o,s),u={left:0,right:0,top:0,bottom:0},d=this.getMarkerSpace(r.marker);if("right"==this.settings.targetLabels.position?u.right=Math.max(u.right,c.size.width+l.i.spacing+d/2):"left"==this.settings.targetLabels.position?u.left=Math.max(u.left,c.size.width+2*l.i.spacing+d/2):(u.left=Math.max(u.left,Math.max(c.size.width/2,d/2)),u.right=Math.max(u.right,Math.max(c.size.width/2,d/2))),u.left){const i=n.min<r.value?Math.abs(t(n.min)-t(r.value)):0;e.left=Math.max(e.left,u.left-i)}if(u.right){const i=n.max>r.value?Math.abs(t(n.max)-t(r.value)):0;e.right=Math.max(e.right,u.right-i)}const h="cross"==r.marker?2:"line"==r.marker?0:(this.bulletSize.height-this.bulletSpacing)/2-this.markerStroke/2;0==a&&("top"==this.settings.targetLabels.position?u.top=c.size.height+2*l.i.spacing-h:"center"!=this.settings.targetLabels.position&&"left"!=this.settings.targetLabels.position&&"right"!=this.settings.targetLabels.position||(u.top=Math.max(d/2,Math.abs(this.bulletSize.height-this.bulletSpacing<c.size.height?this.bulletSize.height-this.bulletSpacing-c.size.height:0)))),e.top=Math.max(e.top,u.top),a==this.model.dataPoints.length-1&&("bottom"==this.settings.targetLabels.position?u.bottom=c.size.height+2*l.i.spacing-h:"center"==this.settings.targetLabels.position&&(u.bottom=Math.abs(this.bulletSize.height-this.bulletSpacing<c.size.height?this.bulletSize.height-this.bulletSpacing-c.size.height:0))),e.bottom=Math.max(e.bottom,u.bottom)}))}))}return e}getBulletSize(){let e={width:0,height:0};const t={min:this.settings.general.minHeight?this.bulletSpacing+this.settings.general.minHeight:this.minSize+this.bulletSpacing,max:this.settings.general.maxHeight?this.bulletSpacing+this.settings.general.maxHeight:this.containerRect.height-this.bulletMargin.top-this.bulletMargin.bottom};return e={width:this.containerRect.width,height:Math.min(t.max,Math.max(t.min,(this.containerRect.height-this.bulletMargin.top-this.bulletMargin.bottom-(this.model.dataPoints.length>1?5:0))/this.model.dataPoints.length))},e}getCategoryAxisSize(){const e={width:0,height:0};if(this.showCategoryAxis){const t=this.getCategoryAxisWidth(),i=Math.max(0,this.settings.label.autoSize?t:0,this.settings.label.percentile?this.bulletSize.width*(this.settings.label.percentile/100):0),n=Math.max(0,this.settings.label.percentile?0:Math.min(t,.25*this.bulletSize.width)),a=i||n;e.width=a}return e}getValueAxis(){const e=Math.max(Math.floor(this.barSize.width/80),2),t=Math.min(this.bulletSize.height*this.model.dataPoints.length,this.containerRect.height-this.bulletMargin.top)+this.categoryAxisSpacing,i=this.getValueAxisFormatter(),a=n.M89().domain([this.model.domains.all.min,this.model.domains.all.max]).range([this.bulletMargin.left,this.barSize.width-this.bulletMargin.right]).nice().nice();return n.s5Y(a).ticks(e).tickSizeOuter(0).tickFormat((e=>i.format(e))).tickSize(t)}drawValueAxis(){if(this.showValueAxis){const e={x:this.containerRect.x+this.categoryAxisSize.width+this.categoryAxisSpacing,y:this.containerRect.y+this.bulletMargin.top},t=this.getValueAxis();super.drawValueAxis(e,t),this.drawValueAxisBaseline(e,t);const i=n.MlD(".xAxis");i.style("pointer-event","auto");const o=i.node().getBBox(),s=i.selectAll(".tick"),l=o.width/s.size()-2;s.each(((e,t,i)=>{const o=n.MlD(i[t]).select("text"),s={text:o.text(),fontFamily:this.settings.axis.fontFamily,fontSize:a.fromPoint(this.settings.axis.fontSize)};o.text((0,r.yk)(s,l)),o.attr("title",s.text).attr("role","text").attr("aria-label",s.text),o.append("title").text(s.text)}))}}drawValueAxisBaseline(e,t){if(this.settings.axis.baseline){const i=n.MlD(this.element).append("svg").classed("xAxis xAxisBaseline",!0).style("position","absolute").style("top",`${e.y}px`).style("left",`${e.x}px`).style("z-index",1e3).style("overflow","visible").style("pointer-events","none"),a=t.scale()(Math.max(0,this.niceDomain.min));i.append("line").attr("y1",0).attr("y2",t.tickSize()).attr("x1",a).attr("x2",a).style("stroke",this.settings.axis.baselineFill.solid.color).style("stroke-width",this.settings.axis.baselineStroke)}}getBarRect(e,t,i,n){const a=this.scale(e<0?e<this.niceDomain.min?this.niceDomain.min:e:Math.max(0,this.niceDomain.min)),r=this.scale(e<0?0:Math.min(this.niceDomain.max,e));return{x:i.x+(this.categoryAxisSize.width+this.categoryAxisSpacing+a),y:i.y+this.barSize.height/t,width:Math.max(0,r-a),height:Math.max(0,this.barSize.height-this.barSize.height/t*2)*(n?1-this.settings.variances.percentile/100:1)}}getLabelsContainerRect(e){return{x:e.x+this.categoryAxisSize.width+this.categoryAxisSpacing,y:0,width:this.svgBulletContainerSize.width-(this.categoryAxisSize.width+this.categoryAxisSpacing),height:this.svgBulletContainerSize.height}}getComparisonBarRect(e,t,i,n){const a=this.getBarRect(e,t,i,n);return a.height/=n?1-this.settings.variances.percentile/100:1,a}getVarianceBarRect(e,t,i,n,a){const r=t.x+(this.categoryAxisSize.width+this.categoryAxisSpacing+this.scale(i)),o=Math.abs(this.scale(i)-this.scale(a)),s=this.settings.variances.percentile/100;return{x:n>0?r:e.x+(a>0?e.width:0),y:e.y+e.height*("hanging"==this.settings.variances.alignment?1:1-s),width:o,height:e.height/("hanging"==this.settings.variances.alignment?1-s:1)*s}}drawStates(e,t,i){if(this.showStates){let n=e.states;!this.settings.states.additionalStates&&e.states.length>5&&(n.length=5),this.settings.states.autoSort&&(n=n.sort(((e,t)=>e.value-t.value)));for(let e=n.length-1;e>=0;e--){const a=n[e],r=this.scale(this.niceDomain.min);let o=this.scale(a.value);this.settings.states.extendLastState&&e==n.length-1&&(o=this.scale(this.niceDomain.max)),i.append("rect").classed("range hl",!0).style("fill",a.color).attr("x",t.x+(this.categoryAxisSize.width+this.categoryAxisSpacing+r)).attr("y",t.y).attr("width",Math.max(0,o-r)).attr("height",Math.max(0,this.barSize.height)).style("opacity",this.settings.states.opacity/100)}}}getBulletBarSize(){return{width:this.bulletSize.width-this.categoryAxisSize.width-this.categoryAxisSpacing-this.scrollbarMargin,height:this.bulletSize.height-this.bulletSpacing}}drawBullets(){this.scale=n.M89().domain([this.model.domains.all.min,this.model.domains.all.max]).range([this.bulletMargin.left,this.barSize.width-this.bulletMargin.right]),this.showValueAxis&&this.scale.nice().nice();const e=this.scale.domain();this.niceDomain={min:e[0],max:e[1]},this.drawValueAxis(),this.scrollingElement=n.MlD(this.element).append("div").classed("chart",!0).style("position","relative").style("z-index","10").style("width",Math.max(0,this.containerRect.width)+"px").style("height",Math.max(0,this.containerRect.height)+"px").style("overflow-x","hidden").style("overflow-y",this.model.dataPoints.length>1?"auto":"hidden").style("margin-top",this.containerRect.y+"px").style("margin-left",this.containerRect.x+"px"),this.svgBulletContainerSize={width:Math.max(0,this.bulletSize.width),height:Math.max(0,this.model.dataPoints.length*this.bulletSize.height)};const t=this.scrollingElement.append("svg").attr("width",this.svgBulletContainerSize.width).attr("height",this.svgBulletContainerSize.height+this.bulletMargin.top+this.bulletMargin.bottom);this.settings.bulletShape.shadows&&this.createShadowFilter(t),this.bulletsContainer=t.append("g").classed("bullets",!0).attr("role","listbox"),this.dataLabelsContainer=this.bulletsContainer.append("g").classed("data-labels",!0),this.targetLabelsContainer=this.bulletsContainer.append("g").classed("target-labels",!0);const i=[];for(let e=0;e<this.model.dataPoints.length;e++){const t=this.model.dataPoints[e],n={x:0,y:e*this.bulletSize.height+this.bulletMargin.top+this.bulletSpacing/2},a=this.drawBullet(t,n,e);this.settings.labelsOption.overflow||a.forEach((e=>{e.rect.height>this.bulletSize.height&&e.hide()})),i.push(a)}this.labelOverlap||!this.showDataLabel&&!this.settings.targetLabels.show||this.checkAllLabelsOverlap(i)}drawMarker(e,t,i){"hidden"!=e.marker&&("line"==e.marker?i.append("line").classed("marker hl",!0).attr("x1",t.x1).attr("x2",t.x2).attr("y1",t.y1).attr("y2",t.y2).style("stroke",e.markerColor).style("stroke-width",this.markerStroke/4):"cross"==e.marker?(i.append("line").classed("marker hl",!0).attr("x1",t.x1).attr("x2",t.x2).attr("y1",t.y1).attr("y2",t.y2).style("stroke",e.markerColor).style("stroke-width",this.markerStroke/4),i.append("line").classed("marker hl",!0).attr("x1",t.x2).attr("x2",t.x1).attr("y1",t.y1).attr("y2",t.y2).style("stroke",e.markerColor).style("stroke-width",this.markerStroke/4)):"circle"==e.marker?i.append("circle").classed("marker hl",!0).attr("cx",t.x1).attr("cy",t.y1).attr("r",this.markerStroke/2).attr("fill",e.markerColor):"square"==e.marker&&i.append("rect").classed("marker hl",!0).attr("x",t.x1).attr("y",t.y1).attr("width",this.markerStroke).attr("height",this.markerStroke).attr("fill",e.markerColor))}getMarkerPosition(e,t){let i;if("hidden"==e.marker)return i;const n=this.scale(e.value);if("line"==e.marker){const e=2;i={x1:t.x+(this.categoryAxisSize.width+this.categoryAxisSpacing+n),x2:t.x+(this.categoryAxisSize.width+this.categoryAxisSpacing+n),y1:t.y+e,y2:t.y+(this.barSize.height-e)}}else if("cross"==e.marker){const e=5,a=this.barSize.height/5;i={x1:t.x+(this.categoryAxisSize.width+this.categoryAxisSpacing+n-a),x2:t.x+(this.categoryAxisSize.width+this.categoryAxisSpacing+n+a),y1:t.y+e,y2:t.y+(this.barSize.height-e)}}else"circle"==e.marker?i={x1:t.x+(this.categoryAxisSize.width+this.categoryAxisSpacing+n),x2:0,y1:t.y+this.barSize.height/2,y2:0}:"square"==e.marker&&(i={x1:t.x+(this.categoryAxisSize.width+this.categoryAxisSpacing+n-this.markerStroke/2),x2:0,y1:t.y+(this.barSize.height/2-this.markerStroke/2),y2:0});return i}getMarkerRect(e,t){return e?{x:e.x1-("circle"==t?this.markerStroke/2:"line"==t?this.markerStroke/4/2:0),y:e.y1-("circle"==t?this.markerStroke/2:0),width:"cross"==t?e.x2-e.x1:this.getMarkerSpace(t),height:"circle"==t||"square"==t?this.markerStroke:e.y2-e.y1}:void 0}drawCategoryAxis(e,t,i){if(this.showCategoryAxis){const n=t.append("g").classed("labelXAxis",!0).append("text").classed("label hl-font",!0),a=this.getCategoryAxisLabelProps(e),o={x:i.x+this.categoryAxisSize.width,y:i.y+this.bulletSize.height/2-this.bulletSpacing/2};n.text((0,r.yk)(a,this.categoryAxisSize.width)).attr("x",o.x).attr("y",o.y).attr("dy","5px").style("font-family",a.fontFamily).style("font-size",a.fontSize).attr("text-anchor","end").attr("fill",this.settings.label.fill.solid.color).attr("title",e.displayName).attr("role","text").attr("aria-label",e.displayName),n.append("title").text(e.displayName)}}}},7836:(e,t,i)=>{"use strict";i.d(t,{y:()=>c});var n=i(7884),a=i(172),r=i(3520),o=i(6636),s=i(2064),l=i(7492);class c extends s.k{categoryAxisShift=0;get hasHorizontalScrollbar(){if(this.scrollingElement){const e=this.scrollingElement.node();return e.scrollWidth>e.clientWidth}return!1}responsiveRule(e){const t=this.barSize.height-this.bulletMargin.top-this.bulletMargin.bottom;switch(e){case"value-axis":return t<18;case"category-axis":return t<20;case"data-labels":return t<30;case"overlap":return t<70;case"data-labels-change":return t<60}return!1}getContainerMargin(){const e=super.getContainerMargin();if(this.showValueAxis){const t=a.fromPoint(this.settings.axis.fontSize),i=(0,r.U1)({fontSize:t,fontFamily:this.settings.axis.fontFamily,text:this.getValueAxisFormatter().format(Math.max(Math.abs(this.model.domains.all.min),Math.abs(this.model.domains.all.max)))});e.left+=i+10}return e}getMarkerStroke(){return(0,r.QN)(this.model.fields,o.QJ.Targets)?4*(this.settings.markers.size?this.settings.markers.size:Math.max(1,this.barSize.width/15)):0}getBulletMargin(){const e=this.getTargetsNeededMargin(),t=this.getBulletAppearanceNeededMargin(),i=this.getDataLabelsNeededMargin(),n=this.getTargetLabelNeededMargin();return{top:Math.max(e.top,t.top,i.top,n.top),bottom:Math.max(e.bottom,t.bottom,i.bottom,n.bottom),left:Math.max(0,i.left,n.left),right:Math.max(0,i.right,n.right)}}getTargetsNeededMargin(){const e={left:0,right:0,top:0,bottom:0};if((0,r.QN)(this.model.fields,o.QJ.Targets)){const t=this.getMaxMarkerSpace();e.bottom=(0,o._)(this.model.domains.targets.min,this.model.domains.all.min)?t/2:0,e.top=(0,o._)(this.model.domains.targets.max,this.model.domains.all.max)?t/2:0}return e}getBulletAppearanceNeededMargin(){const e={left:0,right:0,top:0,bottom:0};if(this.settings.bulletShape.shadows&&"outside"==this.settings.bulletShape.shadowOffset&&!this.showCategoryAxis&&((0,o._)(this.model.domains.value.max,this.model.domains.all.max)||(0,o._)(this.model.domains.comparisonValue.max,this.model.domains.all.max)&&this.settings.bulletShape.shadowsComparison)){const t=this.getFeDropShadow(this.settings.bulletShape.shadowPosition);t.dy>0&&(e.bottom=2*t.dy)}return this.settings.bulletShape.border&&(e.top=this.settings.bulletShape.borderStroke/2,e.bottom=Math.max(e.bottom,this.settings.bulletShape.borderStroke/2)),e}getDataLabelsNeededMargin(){const e={left:0,right:0,top:0,bottom:0};if(this.showDataLabel&&this.model.dataPoints.length){const t=(0,r.QN)(this.model.fields,o.QJ.TargetVariance)&&"outside-end-variance"==this.settings.dataLabels.position,i=this.getTempScale(),n=i.domain(),a={min:n[0],max:n[1]};this.model.dataPoints.forEach(((n,o)=>{if((0,r.QN)(n,"value")){let r=n.value;if(t){const e=n.variance.value<0,t=n.value>0;t&&e?r+=Math.abs(n.variance.value):t||e||(r-=n.variance.value)}const s={showVariance:this.showVariance(n),showDataLabelChange:this.showDataLabelChange,settings:this.settings.dataLabels},c={value:n.value,changeValue:this.getChangeGoal(n),format:n.format},u=new l.i(this.model,this.settings,s,c),d=u.size;if("outside-end"==this.settings.dataLabels.position||"outside-end-variance"==this.settings.dataLabels.position){let t=0,o=0;if(n.value>0?t=Math.max(t,d.height+2*l.i.spacing):n.value<0&&(o=Math.max(o,d.height+2*l.i.spacing)),o){const t=a.min<r?Math.abs(i(a.min)-i(r)):0;e.bottom=Math.max(e.bottom,o-t)}if(t){const n=a.max>r?Math.abs(i(a.max)-i(r)):0;e.top=Math.max(e.top,t-n)}}0==o&&(e.left=Math.abs(this.bulletSize.width-this.bulletSpacing<u.size.width?this.bulletSize.width-this.bulletSpacing-u.size.width:0)),o==this.model.dataPoints.length-1&&(e.right=Math.abs(this.bulletSize.width-this.bulletSpacing<u.size.width?this.bulletSize.width-this.bulletSpacing-u.size.width:0))}}))}return e}getTargetLabelNeededMargin(){const e={left:0,right:0,top:0,bottom:0};if((0,r.QN)(this.model.fields,o.QJ.Targets)&&this.settings.targetLabels.show){const t=this.getTempScale(),i=t.domain(),n={min:i[0],max:i[1]};this.model.dataPoints.forEach(((i,a)=>{i.targets.forEach((r=>{const o={showVariance:!1,showDataLabelChange:!1,settings:this.settings.targetLabels},s={value:r.value,changeValue:null,format:i.format},c=new l.i(this.model,this.settings,o,s),u={left:0,right:0,top:0,bottom:0},d=this.getMarkerSpace(r.marker);if("top"==this.settings.targetLabels.position?u.top=Math.max(u.top,c.size.height+2*l.i.spacing+d/2):"bottom"==this.settings.targetLabels.position?u.bottom=Math.max(u.bottom,c.size.height+2*l.i.spacing+d/2):"center"!=this.settings.targetLabels.position&&"left"!=this.settings.targetLabels.position&&"right"!=this.settings.targetLabels.position||(u.bottom=Math.max(u.bottom,Math.max(c.size.height/2,d/2)),u.top=Math.max(u.top,Math.max(c.size.height/2,d/2))),u.bottom){const i=n.min<r.value?Math.abs(t(n.min)-t(r.value)):0;e.bottom=Math.max(e.bottom,u.bottom-i)}if(u.top){const i=n.max>r.value?Math.abs(t(n.max)-t(r.value)):0;e.top=Math.max(e.top,u.top-i)}const h="cross"==r.marker?2:"line"==r.marker?0:(this.bulletSize.height-this.bulletSpacing)/2-this.markerStroke/2;0==a&&("left"==this.settings.targetLabels.position&&(u.left=c.size.width+2*l.i.spacing-h),e.left=Math.max(u.left,Math.abs(this.bulletSize.width-this.bulletSpacing<c.size.width?this.bulletSize.width-this.bulletSpacing-c.size.width:0))),a==this.model.dataPoints.length-1&&("right"==this.settings.targetLabels.position&&(u.right=c.size.width+l.i.spacing),e.right=Math.max(u.right,Math.abs(this.bulletSize.width-this.bulletSpacing<c.size.width?this.bulletSize.width-this.bulletSpacing-c.size.width:0)))}))}))}return e}getBulletSize(){let e={width:0,height:0};const t={min:this.settings.general.minWidth?this.bulletSpacing+this.settings.general.minWidth:this.minSize+this.bulletSpacing,max:this.settings.general.maxWidth?this.bulletSpacing+this.settings.general.maxWidth:this.containerRect.width-this.bulletMargin.left-this.bulletMargin.right};return e={width:Math.min(t.max,Math.max(t.min,(this.containerRect.width-this.bulletMargin.left-this.bulletMargin.right-20-this.categoryAxisShift)/this.model.dataPoints.length)),height:this.containerRect.height},e}getCategoryAxisSize(){const e={width:0,height:0};if(this.showCategoryAxis){const t=this.getCategoryAxisWidth(),i=this.bulletSize.width-this.bulletSpacing,n=Math.max(0,this.settings.label.autoSize&&i<t?t:0,this.settings.label.percentile?this.bulletSize.height*(this.settings.label.percentile/100)-2*this.categoryAxisSpacing:0),a=Math.max(0,this.settings.label.percentile?0:.25*this.bulletSize.height-2*this.categoryAxisSpacing),o=n||a;this.settings.label.autoSize&&(this.settings.label.rotation="auto");let s=0;if(s="auto"!=this.settings.label.rotation?parseInt(this.settings.label.rotation):t<=i?0:o>=t?-90:o<i?0:-35,this.categoryAxisRotation=s,this.categoryAxisShift=0,s)if(-90==s)e.height=o;else{const i=t*Math.sin(s);e.height=n||Math.min(i,a);const o=e.height/Math.sin(s)-2*this.categoryAxisSpacing,l=this.getCategoryAxisLabelProps(this.model.dataPoints[0]),c=(0,r.yk)(l,o);l.text=c;const u=(0,r.U1)(l),d=u*Math.sin(s);let h=Math.max(0,Math.sqrt(Math.pow(u,2)-Math.pow(d,2))-this.barSize.width/2);this.showValueAxis&&(h-=this.containerRect.x),this.categoryAxisShift=Math.max(0,h)}else e.height=Math.max(n,1.2*this.settings.label.fontSize)}return e}getValueAxis(){const e=n.M89().domain([this.model.domains.all.min,this.model.domains.all.max]).range([this.barSize.height-this.bulletMargin.bottom,this.bulletMargin.top]).nice().nice(),t=Math.max(Math.floor(this.barSize.height/30),2),i=this.containerRect.width,a=this.getValueAxisFormatter();return n.e_G(e).ticks(t).tickSizeOuter(0).tickFormat((e=>a.format(e))).tickSize(i)}drawValueAxis(){if(this.showValueAxis){const e=this.getValueAxis(),t={x:this.containerRect.x+this.containerRect.width,y:this.containerRect.y};super.drawValueAxis(t,e),this.drawValueAxisBaseline(this.containerRect,e)}}drawValueAxisBaseline(e,t){if(this.settings.axis.baseline){const i=n.MlD(this.element).append("svg").classed("xAxis",!0).style("position","absolute").style("top",`${e.y}px`).style("left",`${e.x}px`).style("z-index",1e3).style("overflow","visible").style("pointer-events","none"),a=t.scale()(Math.max(0,this.niceDomain.min));i.append("line").attr("x1",0).attr("x2",t.tickSize()).attr("y1",a).attr("y2",a).style("stroke",this.settings.axis.baselineFill.solid.color).style("stroke-width",this.settings.axis.baselineStroke)}}getBarRect(e,t,i,n){const a=this.scale(e<0?e<this.niceDomain.min?this.niceDomain.min:e:Math.max(0,this.niceDomain.min)),r=this.scale(e<0?0:Math.min(this.niceDomain.max,e));return{x:i.x+this.barSize.width/t,y:i.y+(this.barSize.height-r),width:Math.max(0,this.barSize.width-this.barSize.width/t*2)*(n?1-this.settings.variances.percentile/100:1),height:Math.max(0,r-a)}}getComparisonBarRect(e,t,i,n){const a=this.getBarRect(e,t,i,n);return a.width/=n?1-this.settings.variances.percentile/100:1,a}getVarianceBarRect(e,t,i,n,a){const r=t.y+(this.barSize.height-this.scale(i)),o=Math.abs(this.scale(i)-this.scale(a)),s=this.settings.variances.percentile/100;return{x:e.x+e.width*("hanging"==this.settings.variances.alignment?1:1-s),y:n<0?r:e.y+(a<0?e.height:0),width:e.width/("hanging"==this.settings.variances.alignment?1-s:1)*s,height:o}}drawStates(e,t,i){if(this.showStates){let n=e.states;!this.settings.states.additionalStates&&e.states.length>5&&(n.length=5),this.settings.states.autoSort&&(n=n.sort(((e,t)=>e.value-t.value)));for(let e=n.length-1;e>=0;e--){const a=n[e],r=this.scale(this.niceDomain.min);let o=this.scale(a.value);this.settings.states.extendLastState&&e==n.length-1&&(o=this.scale(this.niceDomain.max)),i.append("rect").classed("range hl",!0).style("fill",a.color).attr("x",t.x).attr("y",t.y+(this.barSize.height-o)).attr("width",Math.max(0,this.barSize.width)).attr("height",Math.max(0,o-r)).style("opacity",this.settings.states.opacity/100)}}}getBulletBarSize(){return{width:this.bulletSize.width-this.bulletSpacing,height:this.bulletSize.height-this.categoryAxisSize.height-this.categoryAxisSpacing-this.scrollbarMargin}}getLabelsContainerRect(e){return{x:0,y:e.y,width:0,height:this.containerRect.height-this.categoryAxisSize.height-this.categoryAxisSpacing-this.scrollbarMargin}}drawBullets(){this.scale=n.M89().domain([this.model.domains.all.min,this.model.domains.all.max]).range([this.bulletMargin.bottom,this.barSize.height-this.bulletMargin.top]),this.showValueAxis&&this.scale.nice().nice();const e=this.scale.domain();this.niceDomain={min:e[0],max:e[1]},this.drawValueAxis(),this.scrollingElement=n.MlD(this.element).append("div").classed("chart",!0).style("position","relative").style("z-index","10").style("width",Math.max(0,this.containerRect.width-20)+"px").style("height",Math.max(0,this.containerRect.height)+"px").style("overflow-x",this.model.dataPoints.length>1?"auto":"hidden").style("overflow-y","hidden").style("margin-top",this.containerRect.y+"px").style("margin-left",this.containerRect.x+"px").style("padding","0 10px"),this.svgBulletContainerSize={width:Math.max(0,this.model.dataPoints.length*this.bulletSize.width)+this.categoryAxisShift,height:null};const t=this.scrollingElement.append("svg").attr("width",this.svgBulletContainerSize.width+this.bulletMargin.left+this.bulletMargin.right).attr("height","100%");this.settings.bulletShape.shadows&&this.createShadowFilter(t),this.bulletsContainer=t.append("g").classed("bullets",!0).attr("role","listbox"),this.dataLabelsContainer=this.bulletsContainer.append("g").classed("data-labels",!0),this.targetLabelsContainer=this.bulletsContainer.append("g").classed("target-labels",!0);const i=[];for(let e=0;e<this.model.dataPoints.length;e++){const t=this.model.dataPoints[e],n={x:e*this.bulletSize.width+this.bulletMargin.left+this.bulletSpacing/2,y:0},a=this.drawBullet(t,n,e);this.settings.labelsOption.overflow||a.forEach((e=>{e.rect.width>this.bulletSize.width&&e.hide()})),i.push(a)}if(this.labelOverlap||!this.showDataLabel&&!this.settings.targetLabels.show||this.checkAllLabelsOverlap(i),this.showCategoryAxis&&this.categoryAxisRotation<0&&this.categoryAxisRotation>-90)if(this.hasHorizontalScrollbar)this.bulletsContainer.style("transform",`translateX(${this.categoryAxisShift+this.containerRect.x}px)`),t.attr("width",this.svgBulletContainerSize.width+this.containerRect.x+this.categoryAxisSpacing);else{this.bulletsContainer.style("transform",`translateX(${this.categoryAxisShift}px)`);const e=n.MlD(this.element).append("svg").classed("yAxis",!0).style("position","absolute").style("top",`${this.containerRect.y}px`).style("left",`${this.containerRect.x+this.categoryAxisSpacing+this.categoryAxisShift}px`).style("overflow","visible").style("z-index",1e3);this.bulletsContainer.selectAll(".bullet .labelXAxis").each(((t,i,n)=>{const a=n[i];a.remove(),e.node().appendChild(a)}))}}drawMarker(e,t,i){if("hidden"==e.marker)return null;"line"==e.marker?i.append("line").classed("marker hl",!0).attr("x1",t.x1).attr("x2",t.x2).attr("y1",t.y1).attr("y2",t.y2).style("stroke",e.markerColor).style("stroke-width",this.markerStroke/4):"cross"==e.marker?(i.append("line").classed("marker hl",!0).attr("x1",t.x1).attr("x2",t.x2).attr("y1",t.y1).attr("y2",t.y2).style("stroke",e.markerColor).style("stroke-width",this.markerStroke/4),i.append("line").classed("marker hl",!0).attr("x1",t.x2).attr("x2",t.x1).attr("y1",t.y1).attr("y2",t.y2).style("stroke",e.markerColor).style("stroke-width",this.markerStroke/4)):"circle"==e.marker?i.append("circle").classed("marker hl",!0).attr("cx",t.x1).attr("cy",t.y1).attr("r",this.markerStroke/2).attr("fill",e.markerColor):"square"==e.marker&&i.append("rect").classed("marker hl",!0).attr("x",t.x1).attr("y",t.y1).attr("width",this.markerStroke).attr("height",this.markerStroke).attr("fill",e.markerColor)}getMarkerPosition(e,t){let i;if("hidden"==e.marker)return i;const n=this.scale(e.value);if("line"==e.marker){const e=2;i={x1:t.x+e,x2:t.x+(this.barSize.width-e),y1:t.y+(this.barSize.height-n),y2:t.y+(this.barSize.height-n)}}else if("cross"==e.marker){const e=5,a=this.barSize.width/5;i={x1:t.x+e,x2:t.x+(this.barSize.width-e),y1:t.y+(this.barSize.height-n-a),y2:t.y+(this.barSize.height-n+a)}}else"circle"==e.marker?i={x1:t.x+this.barSize.width/2,x2:0,y1:t.y+(this.barSize.height-n),y2:0}:"square"==e.marker&&(i={x1:t.x+(this.barSize.width/2-this.markerStroke/2),x2:0,y1:t.y+(this.barSize.height-n-this.markerStroke/2),y2:0});return i}getMarkerRect(e,t){return e?{x:e.x1-("circle"==t?this.markerStroke/2:0),y:e.y1-("circle"==t?this.markerStroke/2:"line"==t?this.markerStroke/4/2:0),width:"circle"==t||"square"==t?this.markerStroke:e.x2-e.x1,height:"cross"==t?e.y2-e.y1:this.markerStroke/("line"==t?4:1)}:void 0}drawCategoryAxis(e,t,i){if(this.showCategoryAxis){const n=t.append("g").classed("labelXAxis",!0);n.append("title").text(e.displayName);const a=n.append("text").classed("label hl-font",!0),o=this.getCategoryAxisLabelProps(e),s={x:i.x+this.barSize.width/2,y:Math.max(0,this.containerRect.height-this.categoryAxisSize.height-this.categoryAxisSpacing)},l=0==this.categoryAxisRotation?this.barSize.width:-90==this.categoryAxisRotation?this.categoryAxisSize.height:this.categoryAxisSize.height/Math.sin(this.categoryAxisRotation)-2*this.categoryAxisSpacing;a.text((0,r.yk)(o,l)).attr("x",s.x).attr("y",s.y).style("font-family",o.fontFamily).style("font-size",o.fontSize).attr("text-anchor",0==this.categoryAxisRotation?"middle":"end").attr("fill",this.settings.label.fill.solid.color).style("dominant-baseline","middle").attr("title",e.displayName).attr("role","text").attr("aria-label",e.displayName),a.append("title").text(e.displayName),this.categoryAxisRotation<0&&a.attr("transform",`rotate(${this.categoryAxisRotation}, ${s.x}, ${s.y})`)}}}},2064:(e,t,i)=>{"use strict";i.d(t,{k:()=>c});var n=i(7884),a=i(172),r=i(7988),o=i(3520),s=i(6636),l=i(7492);class c{element;visualLegend;settings;model;selectionManager;tooltipServiceWrapper;colorRulesEnumerator;interactive;scrollingElement;svgBulletContainerSize;bulletsContainer;dataLabelsContainer;targetLabelsContainer;containerRect={x:0,y:0,width:0,height:0};bulletSize={width:0,height:0};bulletMargin={top:0,right:0,bottom:0,left:0};barSize={width:0,height:0};categoryAxisSize={width:0,height:0};categoryAxisRotation=0;scale;axisScale;niceDomain;showValueAxis;showCategoryAxis;showStates;showDataLabel;showDataLabelChange;showBullet;labelOverlap;bulletSpacing=1;categoryAxisSpacing=10;scrollbarMargin=16;minSize=16;markerStroke=0;getBorderRadius(e,t){return Math.max(0,e/100*t)}valueBarDivider(e){return e.comparisonValue?3:5}constructor(e,t,i,n,a,r,l,c){this.element=e,this.visualLegend=t,this.settings=i,this.model=n,this.selectionManager=a,this.tooltipServiceWrapper=r,this.colorRulesEnumerator=l,this.interactive=c,this.showBullet=!0,this.showValueAxis=this.settings.axis.show,this.showCategoryAxis=this.settings.label.show,this.showStates=this.settings.states.show,this.showDataLabel=this.settings.dataLabels.show,this.labelOverlap=this.settings.labelsOption.overlap,this.showDataLabelChange=(()=>{const e=(0,o.QN)(this.model.fields,s.QJ.Targets)&&("target-achieved"==this.settings.dataLabels.showChange||"target-first"==this.settings.dataLabels.showChange||"target-last"==this.settings.dataLabels.showChange||"target-next"==this.settings.dataLabels.showChange),t=(0,o.QN)(this.model.fields,s.QJ.ComparisonValue)&&"comparison"==this.settings.dataLabels.showChange,i=(0,o.QN)(this.model.fields,s.QJ.TargetVariance)&&"target-variance"==this.settings.dataLabels.showChange;return(e||t||i)&&this.showDataLabel})()}getDomains(e){return this.model.domains[e.domainKey]}applyResponsiveRules(){this.showDataLabelChange&&this.showDataLabel&&("outside-end"==this.settings.dataLabels.position||"outside-end-variance"==this.settings.dataLabels.position)&&this.responsiveRule("data-labels-change")&&(this.showDataLabelChange=!1,this.setSizes(),this.bulletMargin=this.getBulletMargin()),this.showDataLabel&&("outside-end"==this.settings.dataLabels.position||"outside-end-variance"==this.settings.dataLabels.position)&&this.responsiveRule("data-labels")&&(this.showDataLabel=!1,this.setSizes(),this.bulletMargin=this.getBulletMargin()),this.responsiveRule("overlap")&&(this.labelOverlap=!1),this.showCategoryAxis&&!this.settings.label.percentile&&this.responsiveRule("category-axis")&&(this.showCategoryAxis=!1,this.setSizes()),this.showValueAxis&&this.responsiveRule("value-axis")&&(this.showValueAxis=!1,this.bulletMargin=this.getBulletMargin(),this.setSizes())}showVariance(e){return(0,o.QN)(this.model.fields,s.QJ.TargetVariance)&&!!e.variance}draw(e){if(this.destroy(),0==this.model.dataPoints.length)return;const t=this.getContainerMargin(),i={x:t.left,y:t.top,width:e.width-t.left-t.right,height:e.height-t.top-t.bottom};if(this.containerRect=i,this.estimateSizes(),this.drawBullets(),this.moveLabelsForward(),this.tooltipServiceWrapper&&this.tooltipServiceWrapper.addTooltip(n.MlD(this.element).selectAll(".bullet .bar"),(e=>e.tooltips.length?e.tooltips:null),(e=>e.selectionId)),this.interactive){n.MlD(this.element).selectAll(".bullet").on("contextmenu",(e=>{const t=e.target,i=n.MlD(t).datum();this.selectionManager.showContextMenu(i?i.selectionId:{},{x:e.clientX,y:e.clientY}),e.preventDefault()})).on("click",((e,t)=>{this.selectionManager.select(t.selectionId,e.ctrlKey||e.metaKey).then((e=>this.select(e))),e.stopPropagation()})).on("keydown",((e,t)=>{"Enter"===e.key&&(this.selectionManager.select(t.selectionId,e.ctrlKey||e.metaKey).then((e=>this.select(e))),e.stopPropagation())}));const e=this.selectionManager.getSelectionIds();e.length&&this.select(e)}this.settings.accessibility.arrowKeys&&n.MlD(".chart").on("keydown",(e=>{const t=document.activeElement;switch(e.key){case"ArrowUp":case"ArrowLeft":e.preventDefault(),this.moveFocusTo(t,"previous");break;case"ArrowDown":case"ArrowRight":e.preventDefault(),this.moveFocusTo(t,"next")}})),n.COP("[tabindex]").on("mousedown",(e=>{e.target.classList.remove("focusRing")})),n.COP("[tabindex]").on("keyup",(e=>{e.target.classList.add("focusRing")}))}moveFocusTo(e,t){const i=this.findMatchingClass(e,["value","variance","comparisonMeasure"]),n=Array.from(this.element.querySelectorAll(`[tabindex="0"].${i}`));let a=n.indexOf(e);"next"===t?-1!==a&&(a==n.length-1&&(a=-1),n[a+1].focus()):(0==a&&(a=n.length),n[a-1].focus())}findMatchingClass(e,t){for(const i of t)if(e.classList.contains(i))return i;return null}drawBullet(e,t,i){const n=this.bulletsContainer.append("g").classed("bullet",!0).data([e]),a=this.getBulletColors(e);e.tooltips&&e.tooltips.length>0&&(e.tooltips[0].color=a[0]),void 0!==e.highlightValue&&(e.tooltips[1].color=a[1]);const r=(0,o.QN)(e,"highlightValue")&&(!e.highlightValue||0==e.highlightValue),s=n.append("g").classed("bar",!0).attr("role","option").style("opacity",r?.3:1);this.drawStates(e,t,s),this.drawComparison(e,t,s,i);const c=this.drawValue(e,t,a,s,i),u=this.drawTargets(e,s,t);if(this.drawCategoryAxis(e,n,t),this.showDataLabel){if(e.value&&(!(0,o.QN)(e,"highlightValue")||e.highlightValue)){const i={bulletSize:this.bulletSize,bulletPosition:t,bulletSpacing:this.bulletSpacing,containerRect:this.getLabelsContainerRect(t),showVariance:this.showVariance(e),showDataLabelChange:this.showDataLabelChange,settings:this.settings.dataLabels,containerSVG:this.dataLabelsContainer,elementRect:this.showVariance(e)&&"outside-end-variance"==this.settings.dataLabels.position?c.varianceBar:c.bar},n={value:e.highlightValue?e.highlightValue:e.value,changeValue:this.getChangeGoal(e),format:e.format,bulletColor:a[e.highlightValue?1:0],markerColor:a[e.highlightValue?1:0]},r=new l.i(this.model,this.settings,i,n);"data-target"==this.settings.labelsOption.order?u.unshift(r):u.push(r),r.draw()}this.labelOverlap||this.checkLabelsOverlap(u)}return u}drawValue(e,t,i,n,a){const r={bar:{x:0,y:0,width:0,height:0},varianceBar:{x:0,y:0,width:0,height:0}};if(e.value&&this.showBullet){r.bar=this.getBarRect(e.value,this.valueBarDivider(e),t,this.showVariance(e)&&"hanging"==this.settings.variances.alignment);const s=this.getBorderRadius(this.settings.bulletShape.percentile,"h"==this.settings.general.orientation?r.bar.height:r.bar.width),l=n.append("rect").classed("measure hl",!0).classed("value",!0).style("fill",i[0]).attr("x",r.bar.x).attr("y",r.bar.y).attr("width",r.bar.width).attr("height",r.bar.height).attr("rx",s).attr("tabindex",0).attr("aria-label",`${this.getAriaLabel(e.tooltips.filter((e=>"value"==e.ariaElement||"target"==e.ariaElement)),a)}`);if(this.showVariance(e)){r.varianceBar=this.getVarianceBarRect(r.bar,t,e.variance.targetValue,e.variance.value,e.value);const i=n.append("rect").classed("measure hl",!0).classed("variance",!0).style("fill",e.variance.color).attr("x",r.varianceBar.x).attr("y",r.varianceBar.y).attr("width",r.varianceBar.width).attr("height",r.varianceBar.height).attr("rx",s).attr("tabindex",0).attr("aria-label",`${this.getAriaLabel(e.tooltips.filter((e=>"variance"==e.ariaElement)),a)}`);this.settings.bulletShape.shadows&&i.attr("filter","url(#shadow)"),this.settings.bulletShape.border&&this.drawBorder(i),(0,o.QN)(e,"highlightValue")&&i.style("opacity","0.3")}this.settings.bulletShape.shadows&&l.attr("filter","url(#shadow)"),this.settings.bulletShape.border&&this.drawBorder(l),(0,o.QN)(e,"highlightValue")&&l.style("opacity","0.3"),this.drawHighlightValue(e,t,i,n)}return r}drawHighlightValue(e,t,i,n){if(e.highlightValue){const a=this.getBarRect(e.highlightValue,this.valueBarDivider(e),t,this.showVariance(e)&&"hanging"==this.settings.variances.alignment),r=this.getBorderRadius(this.settings.bulletShape.percentile,"h"==this.settings.general.orientation?a.height:a.width),o=n.append("rect").classed("measure hl",!0).style("fill",i[1]).attr("x",a.x).attr("y",a.y).attr("width",a.width).attr("height",a.height).attr("rx",r);if(this.showVariance(e)){const i=this.getVarianceBarRect(a,t,e.variance.targetValue,e.variance.highlightValue,e.highlightValue);n.append("rect").classed("measure hl",!0).style("fill",e.variance.highlightColor).attr("x",i.x).attr("y",i.y).attr("width",i.width).attr("height",i.height).attr("rx",r)}this.settings.bulletShape.shadows&&o.attr("filter","url(#shadow)"),this.settings.bulletShape.border&&this.drawBorder(o)}}drawBorder(e){e.style("stroke-width",this.settings.bulletShape.borderStroke).style("stroke",this.settings.bulletShape.borderFill.solid.color).style("stroke-linecap","round").style("stroke-opacity",this.settings.bulletShape.borderOpacity/100).style("stroke-dasharray",this.getStrokeDasharray(this.settings.bulletShape.borderStyle,this.settings.bulletShape.lineDensity,this.settings.bulletShape.borderStroke))}drawComparison(e,t,i,n){if(e.comparisonValue&&this.showBullet){const a=this.getComparisonBarRect(e.comparisonValue,10,t,this.showVariance(e)),r=i.append("rect").classed("comparisonMeasure hl",!0).style("fill",e.comparisonColor).attr("x",a.x).attr("y",a.y).attr("width",a.width).attr("height",a.height).attr("tabindex",0).attr("aria-label",`${this.getAriaLabel(e.tooltips.filter((e=>"comparisonValue"==e.ariaElement)),n)}`);if(this.settings.bulletShape.shadowsComparison&&r.attr("filter","url(#shadow)"),(0,o.QN)(e,"highlightComparisonValue")){r.style("opacity","0.3");const n=this.getComparisonBarRect(e.highlightComparisonValue,10,t,this.showVariance(e));i.append("rect").classed("highlightedComparison",!0).style("fill",e.comparisonColor).attr("x",n.x).attr("y",n.y).attr("width",n.width).attr("height",n.height)}}}drawTargets(e,t,i){const n=[];if(this.showBullet){for(let a=0;a<e.targets.length;a++){const r=e.targets[a];if(r&&r.value>=this.niceDomain.min&&r.value<=this.niceDomain.max){const a=this.getMarkerPosition(r,i);if(this.drawMarker(r,a,t),this.settings.targetLabels.show){const t=this.getMarkerRect(a,r.marker),o={bulletSize:this.bulletSize,containerRect:this.getLabelsContainerRect(i),showVariance:this.showVariance(e),showDataLabelChange:!1,settings:this.settings.targetLabels,containerSVG:this.targetLabelsContainer,elementRect:t},s={value:r.value,changeValue:null,format:e.format,markerColor:r.markerColor},c=new l.i(this.model,this.settings,o,s);c.draw(),n.push(c)}}}this.labelOverlap||this.checkLabelsOverlap(n)}return n}moveLabelsForward(){const e=[this.targetLabelsContainer,this.dataLabelsContainer];"target-data"==this.settings.labelsOption.order&&e.reverse(),e.forEach((e=>{e.remove(),this.bulletsContainer.node().appendChild(e.node())}))}getContainerMargin(){const e={top:10,right:2,left:2,bottom:2};if(this.visualLegend){const t=this.visualLegend.legend.getMargins(),i=this.visualLegend.legend.getOrientation();this.visualLegend.legend.isVisible()&&(i==r.qv.Top||i==r.qv.TopCenter?e.top+=t.height:i==r.qv.Left||i==r.qv.LeftCenter?e.left+=t.width:i==r.qv.Right||i==r.qv.RightCenter?e.right+=t.width+20:e.bottom+=t.height)}return e}getValueAxisFormatter(){return o.eo.instance.create({format:this.model.dataPoints[0].format,formatSingleValues:!1,value:0==this.settings.axis.unit?Math.max(Math.abs(this.model.domains.all.min),Math.abs(this.model.domains.all.max)):this.settings.axis.unit,precision:this.settings.axis.precision,allowFormatBeautification:!0,displayUnitSystemType:this.settings.axis.unit,cultureSelector:this.settings.general.numberLocale})}drawValueAxis(e,t){if(this.showValueAxis){const i=n.MlD(this.element).append("svg").classed("xAxis",!0).classed("hideTickLine",!this.settings.axis.gridlines).style("position","absolute").style("top",`${e.y}px`).style("left",`${e.x}px`).style("z-index","backward"==this.settings.axis.positionGridlines?"1":"999").style("overflow","visible").style("pointer-events","none").append("g").classed("axis",!0).call(t);i.selectAll("line").attr("stroke",this.settings.axis.fillGridlines.solid.color).style("stroke-width",this.settings.axis.strokeGridlines).style("stroke-dasharray",this.getStrokeDasharray(this.settings.axis.styleGridlines,this.settings.axis.lineDensity,this.settings.axis.strokeGridlines)).style("stroke-linecap",this.settings.axis.lineCap),i.selectAll("text").style("fill",this.settings.axis.fill.solid.color).style("font-family",this.settings.axis.fontFamily).style("font-size",a.fromPoint(this.settings.axis.fontSize)).style("pointer-events","auto")}}getCategoryAxisWidth(){let e=0;if(this.showCategoryAxis){for(let t=0;t<this.model.dataPoints.length;t++){const i=(0,o.U1)(this.getCategoryAxisLabelProps(this.model.dataPoints[t]));e=Math.max(e,i)}e+=2}return e}getCategoryAxisLabelProps(e){const t={text:this.settings.label.text&&1==this.model.dataPoints.length?this.settings.label.text:e.displayName,fontFamily:this.settings.label.fontFamily,fontSize:a.fromPoint(this.settings.label.fontSize),fontWeight:"bold"};return null!=t.text&&t.text||(t.text="(Blank)"),t}getBulletColors(e){let t=e.color,i=t;if(this.settings.targets.advancedRules&&this.colorRulesEnumerator){const n="dataPointFill"+(e.domainKey?`-${e.domainKey}`:"");t=this.colorRulesEnumerator.getColor(n,e.colorRulesValues,t),i=this.colorRulesEnumerator.getColor(n,e.colorRulesValues,i,!0)}else{let i=-1,n=!1,a=-1,r=!1;for(let t=0;t<e.targets.length;t++){const o=e.targets[t],s=o.value*(this.settings.targets.tolerance/100);if(o.color){if(">"==o.comparison){const l=o.value-s;!n&&e.value>l&&(i=t),!r&&e.highlightValue>l&&(a=t)}else if(">="==o.comparison){const l=o.value-s;!n&&e.value>=l&&(i=t),!r&&e.highlightValue>=l&&(a=t)}else if("<"==o.comparison){const l=o.value+s;!n&&e.value<l&&(i=t),!r&&e.highlightValue<l&&(a=t)}else if("<="==o.comparison){const l=o.value+s;!n&&e.value<=l&&(i=t),!r&&e.highlightValue<=l&&(a=t)}else!n&&e.value>=o.value-s&&e.value<=o.value+s&&(i=t),!r&&e.highlightValue>=o.value-s&&e.highlightValue<=o.value+s&&(a=t);i>-1&&this.settings.targets.stopAfterMatch&&(n=!0),a>-1&&this.settings.targets.stopAfterMatch&&(r=!0)}}i>-1&&(t=e.targets[i].color),a>-1&&e.targets[a].color}return[t,i]}getChangeGoal(e){let t=null;const i=(0,o.QN)(e,"highlightValue")?e.highlightValue:e.value,n=this.settings.dataLabels.showChange;if(""!=n&&this.showDataLabelChange)if("comparison"==n)(0,o.QN)(this.model.fields,s.QJ.ComparisonValue)&&(t=e.comparisonValue);else if("target-variance"==n)(0,o.QN)(this.model.fields,s.QJ.TargetVariance)&&e.variance&&(t=e.variance.targetValue);else{const a=[];for(let t=0;t<e.targets.length;t++)a.push(e.targets[t].value);if(a.sort(((e,t)=>e-t)),a.length>0)if("target-first"==n)t=a[0];else if("target-last"==n)t=a[a.length-1];else if("target-achieved"==n||"target-next"==n){let e=-1;t=a[0];for(let n=0;n<a.length;n++)i>=a[n]&&(t=a[n],e=n);"target-next"==n&&e+1<a.length&&(t=a[e+1])}}return t}getTempScale(){const e="h"==this.settings.general.orientation,t=n.M89().domain([this.model.domains.all.min,this.model.domains.all.max]).range([0,e?this.barSize.width:this.barSize.height]);return this.showValueAxis&&t.nice().nice(),t}createShadowFilter(e){const t=e.append("filter").attr("id","shadow").attr("x","-100%").attr("y","-100%").attr("width","300%").attr("height","300%"),i=this.getFeDropShadow(this.settings.bulletShape.shadowPosition);"outside"==this.settings.bulletShape.shadowOffset?t.append("feDropShadow").attr("dx",i.dx).attr("dy",i.dy).attr("stdDeviation",i.stdDeviation).attr("flood-color",i.floodColor).attr("flood-opacity",i.floodOpacity):(t.append("feOffset").attr("dx",-i.dx).attr("dy",-i.dy),t.append("feGaussianBlur").attr("stdDeviation",i.stdDeviation).attr("result","offset-blur"),t.append("feFlood").attr("flood-color",i.floodColor).attr("flood-opacity",i.floodOpacity).attr("result","color"),t.append("feComposite").attr("operator","out").attr("in","SourceGraphic").attr("in2","offset-blur").attr("result","inverse"),t.append("feComposite").attr("operator","in").attr("in","color").attr("in2","inverse").attr("result","shadow"),t.append("feComposite").attr("operator","over").attr("in","shadow").attr("in2","SourceGraphic").attr("result","inverse"))}getFeDropShadow(e){const t={dx:0,dy:0,stdDeviation:0,floodColor:"#000",floodOpacity:.3};switch(e){case"bottom-right":t.dx=5,t.dy=5,t.stdDeviation=3;break;case"bottom":t.dx=0,t.dy=5,t.stdDeviation=3;break;case"bottom-left":t.dx=-5,t.dy=5,t.stdDeviation=3;break;case"right":t.dx=5,t.dy=0,t.stdDeviation=3;break;case"center":t.dx=0,t.dy=0,t.stdDeviation=3,t.floodOpacity=1;break;case"left":t.dx=-5,t.dy=0,t.stdDeviation=3;break;case"top-right":t.dx=5,t.dy=-5,t.stdDeviation=3;break;case"top":t.dx=0,t.dy=-5,t.stdDeviation=3;break;case"top-left":t.dx=-5,t.dy=-5,t.stdDeviation=3}return t}getMaxMarkerSpace(){let e=0;return this.settings.markers.shape.values.forEach((t=>{e=Math.max(e,this.getMarkerSpace(t.value))})),e+=this.bulletSpacing,e}getMarkerSpace(e){return"line"==e?this.markerStroke/4:"circle"==e||"square"==e?this.markerStroke:"cross"==e?("h"==this.settings.general.orientation?this.barSize.height:this.barSize.width)/5*2+this.markerStroke:0}setSizes(){this.bulletSpacing=this.settings.general.bulletSpacing,this.bulletSize=this.getBulletSize(),this.categoryAxisSize=this.getCategoryAxisSize(),this.barSize=this.getBulletBarSize(),this.markerStroke=this.getMarkerStroke()}estimateSizes(){this.setSizes(),this.bulletMargin=this.getBulletMargin(),this.applyResponsiveRules(),this.setSizes()}getStrokeDasharray(e,t,i){return"solid"==e?"0":"dotted"==e?`1 ${40-t+i}`:`15 ${40-t+i}`}select(e){e.length?n.MlD(this.element).selectAll(".bullet, .data-label").each(((t,i,a)=>{const r=e.find((e=>e.equals(t.selectionId))),o=n.MlD(a[i]);o.selectAll(".hl").style("opacity",r?1:.3),o.selectAll(".bar").attr("selected",r?"true":"false"),o.selectAll(".hl-font").style("font-weight",r?"bold":"normal")})):(n.COP(".hl").style("opacity",1),n.COP(".bar").attr("selected","false"),n.COP(".hl-font").style("font-weight","normal"))}doRectsOverlap(e){const t=e=>({tLeft:{x:e.x,y:e.y},bRight:{x:e.x+e.width,y:e.y+e.height}}),i=t(e[0]),n=t(e[1]);return!(i.tLeft.x>n.bRight.x||n.tLeft.x>i.bRight.x||n.bRight.y<i.tLeft.y||i.bRight.y<n.tLeft.y)}checkLabelsOverlap(e){if(e.length>1)for(let t=0;t<=e.length-1;t++)if(!e[t].isHidden)for(let i=t+1;i<=e.length-1;i++)this.doRectsOverlap([e[t].rect,e[i].rect])&&e[i].hide()}checkAllLabelsOverlap(e){for(let t=0;t<e.length-1;t++)e[t].forEach((i=>{if(!i.isHidden)for(let n=t+1;n<e.length;n++)e[n].forEach((e=>{this.doRectsOverlap([i.rect,e.rect])&&e.hide()}))}))}getAriaLabel(e,t){let i=!1,n=!1,a=!1,r="";return e.forEach((e=>{!i&&e.header&&(r+=e.header+"; ",i=!0),n||"target"!=e.ariaElement||(r+="Targets: ",n=!0),a||"comparisonValue"!=e.ariaElement||(r+="Comparison: ",a=!0),r+=`${e.ariaLabel||e.displayName}: ${e.value}; ${t+1} of ${this.model.dataPoints.length}`})),r}destroy(){n.MlD(this.element).selectAll(".chart, .xAxis, .yAxis").remove()}}},708:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ChartHorizontal:()=>n.U,ChartVertical:()=>a.y});var n=i(8840),a=i(7836)},7492:(e,t,i)=>{"use strict";i.d(t,{i:()=>o});var n=i(3520),a=i(172),r=i(68);class o{model;settings;labelConfig;dataPoint;rect={x:0,y:0,width:0,height:0};static spacing=5;labelContainer;get spanSpace(){return this.labelConfig.showDataLabelChange?5:0}get isHorizontal(){return"h"==this.settings.general.orientation}get padding(){if(this.labelConfig.settings.background||this.labelConfig.settings.border){const e=a.fromPointToPixel(this.labelConfig.settings.fontSize);return{top:Math.ceil(.25*e),bottom:Math.ceil(.25*e),left:Math.ceil(.5*e),right:Math.ceil(.5*e)}}return{top:0,left:0,right:0,bottom:0}}get border(){return this.labelConfig.settings.border?this.labelConfig.settings.borderStroke:0}get size(){const e=this.getSpans(this.dataPoint.value,this.dataPoint.format,this.dataPoint.changeValue);return this.getSize(e)}get isHidden(){return this.labelContainer&&"none"==this.labelContainer.style("display")}constructor(e,t,i,n){this.model=e,this.settings=t,this.labelConfig=i,this.dataPoint=n}getStrokeDasharray(e,t,i){return"solid"==e?"0":"dotted"==e?`1 ${40-t+i}`:`15 ${40-t+i}`}getBorderRadius(e,t){return Math.max(0,e/100*t)}formatChangeValue(e,t,i){const a="percentage"==this.labelConfig.settings.changeValueType,o=(e-t)/(a?Math.abs(t):1),s=a?(0,n.uY)(i):i,l=o>0,c=n.eo.instance.create({format:s,value:a?o:0==this.labelConfig.settings.unit?Math.max(Math.abs(this.model.domains.all.min),Math.abs(this.model.domains.all.max)):this.labelConfig.settings.unit,formatSingleValues:a,allowFormatBeautification:!0,precision:this.labelConfig.settings.changePrecision,displayUnitSystemType:a?r.DisplayUnitSystemType.DataLabels:this.labelConfig.settings.unit,cultureSelector:this.settings.general.numberLocale});return isNaN(o)?"":(l?" +":" ")+c.format(o)}getSpans(e,t,i){const r=n.eo.instance.create({format:t,formatSingleValues:!1,value:0==this.labelConfig.settings.unit?Math.max(Math.abs(this.model.domains.all.min),Math.abs(this.model.domains.all.max)):this.labelConfig.settings.unit,precision:this.labelConfig.settings.precision,displayUnitSystemType:this.labelConfig.settings.unit,allowFormatBeautification:!0,cultureSelector:this.settings.general.numberLocale}).format(e),o=a.fromPointToPixel(this.labelConfig.settings.fontSize),s=[r];let l="";if(this.labelConfig.showDataLabelChange&&null!==i)if("auto"==i){const e="comparison"==this.labelConfig.settings.showChange?this.model.domains.comparisonValue:"target-variance"==this.labelConfig.settings.showChange?this.model.domains.targetVariance:this.model.domains.targets,i=Math.min(this.model.domains.all.max,this.model.domains.all.min),n=Math.max(e.max,e.min);l=this.formatChangeValue(i,n,t)}else l=this.formatChangeValue(e,i,t);""!=l&&s.push(l);const c=[];return s.forEach(((e,t)=>{const i={text:e,fontFamily:this.labelConfig.settings.fontFamily,fontSize:o-(t>0?2:0)+"px"};c.push({text:e,size:(0,n.Yj)(i)})})),c}getSize(e,t){const i=this.padding,n=this.border,a=Array.isArray(e)?e:this.getSpans(e,t,"auto");return this.isHorizontal?{width:a.map((e=>e.size.width)).reduce(((e,t)=>e+t),0)+i.left+i.right+2*n,height:a[0].size.height+i.top+i.bottom+2*n}:{width:Math.max(...a.map((e=>e.size.width)))+i.left+i.right+2*n,height:a.map((e=>e.size.height)).reduce(((e,t)=>e+t),0)+i.top+i.bottom+2*n+(a.length>1?this.spanSpace:0)}}getDominantBaseline(e){return{Arial:"central","Arial Black":"central","Arial Unicode MS":"middle",Calibri:"central",Cambria:"central","Cambria Math":"middle",Candara:"central","Comic Sans MS":"central",Consolas:"central",Constantia:"central",Corbel:"central","Courier New":"central","wf_standard-font":"mathematical","wf_standard-font_light":"mathematical",Georgia:"central","Lucida Sans Unicode":"central","Segoe UI":"central","Segoe UI Light":"central","Segoe UI Semibold":"central","Segoe UI Bold":"central",Symbol:"central",Tahoma:"central","Times New Roman":"central","Trebuchet MS":"central",Verdana:"central",Wingdings:"central"}[e.replace(/["']/g,"").split(",")[0]]||"central"}getHorizontalProps(){if(!this.labelConfig.settings.show||!this.labelConfig.elementRect||this.labelConfig.elementRect.width<=0||this.labelConfig.elementRect.height<=0)return;const e=this.labelConfig.elementRect,t=this.labelConfig.containerRect,i=this.getSpans(this.dataPoint.value,this.dataPoint.format,this.dataPoint.changeValue),n=this.getSize(i),a=n.width+2*o.spacing>e.width,r=n.width/2;let s=this.dataPoint.value<0,l=this.labelConfig.settings.position;const c={x:0,y:e.y+e.height/2};if(this.labelConfig.showVariance&&this.labelConfig.bulletPosition&&this.labelConfig.bulletSize&&("baseline"==this.settings.variances.alignment&&(this.labelConfig.settings.center=!0),this.labelConfig.settings.center&&(c.y=this.labelConfig.bulletPosition.y+(this.labelConfig.bulletSize.height-this.labelConfig.bulletSpacing)/2)),"outside-end-variance"!=l||this.labelConfig.showVariance||(l="outside-end"),"auto"==l){const i=s?e.x-(t.x-o.spacing):t.width+t.x-(e.x+e.width+o.spacing);if(i>n.width+2*o.spacing)l="outside-end";else if(t.width+t.x-(e.x+e.width+o.spacing)>n.width+o.spacing)s=!1,l="outside-end";else{if(!(i<n.width+2*o.spacing))return;l="inside-end"}}if("outside-end"==l)c.x=s?e.x-n.width-o.spacing:e.x+e.width+o.spacing;else if("outside-end-variance"==l)c.x=s?e.x-n.width-o.spacing:e.x+e.width+o.spacing;else if("inside-end"==l){if(a)return;c.x=s?e.x+o.spacing:e.x+e.width-n.width-o.spacing}else if("inside-center"==l){if(a)return;c.x=e.x+e.width/2-n.width/2}else if("inside-base"==l){if(a)return;c.x=s?e.x+e.width-n.width-o.spacing:e.x+o.spacing}else"left"==l?c.x=e.x-n.width-o.spacing:"right"==l?c.x=e.x+e.width+o.spacing:"top"==l?(c.x=e.x+e.width/2-r,c.y=e.y-n.height/2-o.spacing):"bottom"==l?(c.x=e.x+e.width/2-r,c.y=e.y+e.height+n.height/2+o.spacing):"center"==l&&(c.x=e.x+e.width/2-r);return(this.labelConfig.settings.background||this.labelConfig.settings.border)&&(c.x+=this.padding.left+this.border),{rect:{x:c.x,y:c.y,width:n.width,height:n.height},spans:i,color:this.getTextColor(l)}}getVerticalProps(){if(!this.labelConfig.settings.show||!this.labelConfig.elementRect||this.labelConfig.elementRect.width<=0||this.labelConfig.elementRect.height<=0)return;const e=this.labelConfig.elementRect,t=this.labelConfig.containerRect,i=this.getSpans(this.dataPoint.value,this.dataPoint.format,this.dataPoint.changeValue),n=this.getSize(i),a=i[0].size.height/2,r=n.height+2*o.spacing>e.height;let s=this.dataPoint.value<0,l=this.labelConfig.settings.position;const c={x:e.x+e.width/2,y:0};if(this.labelConfig.showVariance&&this.labelConfig.bulletPosition&&this.labelConfig.bulletSize&&(c.x=this.labelConfig.bulletPosition.x+(this.labelConfig.bulletSize.width-this.labelConfig.bulletSpacing)/2),"outside-end-variance"==l&&(l="outside-end"),"auto"==l){const i=s?t.y+t.height-(e.y+e.height)-o.spacing:e.y-t.y-o.spacing;if(i>n.height+2*o.spacing)l="outside-end";else if(e.y-t.y>n.width+o.spacing)s=!1,l="outside-end";else{if(!(i<n.height+2*o.spacing))return;l="inside-end"}}if("outside-end"==l)c.y=s?e.y+e.height+o.spacing+a:e.y-n.height+a-o.spacing;else if("inside-end"==l){if(r)return;c.y=s?e.y+e.height-n.height+a-o.spacing:e.y+o.spacing+a}else if("inside-center"==l){if(r)return;c.y=e.y+e.height/2-n.height/2+a}else if("inside-base"==l){if(r)return;c.y=s?e.y+a+o.spacing:e.y+e.height-o.spacing-n.height+a}else"top"==l?c.y=e.y-n.height+a-o.spacing:"bottom"==l?c.y=e.y+e.height+o.spacing+a:"center"!=l&&"right"!=l&&"left"!=l||(c.y=e.y+e.height/2-n.height/2+a,"right"==l&&(c.x=e.x+e.width+o.spacing+n.width/2),"left"==l&&(c.x=e.x-o.spacing-n.width/2));return{rect:{x:c.x,y:c.y,width:n.width,height:n.height},spans:i,color:this.getTextColor(l)}}draw(){const e=this.isHorizontal?this.getHorizontalProps():this.getVerticalProps();if(e){const t=a.fromPointToPixel(this.labelConfig.settings.fontSize);this.labelContainer=this.labelConfig.containerSVG.append("g").data([this.dataPoint]).classed("label",!0).style("pointer-events",this.settings.accessibility.screenReaderLabel?"auto":"none");const i=this.labelContainer.append("text").classed("hl",!0).attr("x",e.rect.x).attr("y",e.rect.y).style("font-family",this.labelConfig.settings.fontFamily).attr("text-anchor",this.isHorizontal?"start":"middle").attr("fill",e.color||"#000").attr("dominant-baseline",this.getDominantBaseline(this.labelConfig.settings.fontFamily));let n=0;for(let a=0;a<e.spans.length;a++){const r=i.append("tspan").text(e.spans[a].text).style("font-size",(a>0?t-2:t)+"px").style("opacity",a>0?.7:1).attr("dy",this.isHorizontal?"0":n+(0==a?this.padding.top:0)).attr("dominant-baseline",this.getDominantBaseline(this.labelConfig.settings.fontFamily));i.attr("title",e.spans[a].text).attr("role","text").attr("aria-label",e.spans[a].text),i.append("title").text(e.spans[a].text),this.isHorizontal||(r.attr("x",e.rect.x),n+=e.spans[a].size.height+this.spanSpace)}const r={x:e.rect.x+(this.isHorizontal?-this.padding.left-this.border:-e.rect.width/2),y:e.rect.y-(this.isHorizontal?e.rect.height/2:e.spans[0].size.height/2),width:e.rect.width,height:e.rect.height};let o;this.rect=r,(this.labelConfig.settings.background||this.labelConfig.settings.border)&&(o=this.labelContainer.append("rect").classed("hl",!0).attr("x",r.x).attr("y",r.y).attr("rx",this.getBorderRadius(this.labelConfig.settings.percentile,r.height)).attr("width",r.width).attr("height",r.height).attr("fill",this.labelConfig.settings.background?"background-border"==this.labelConfig.settings.useMarkerColor||"background"==this.labelConfig.settings.useMarkerColor?this.dataPoint.markerColor:this.labelConfig.settings.backgroundFill.solid.color:"none").attr("fill-opacity",this.labelConfig.settings.backgroundOpacity/100),this.labelConfig.settings.border&&o.style("stroke","border"==this.labelConfig.settings.useMarkerColor||"border-text"==this.labelConfig.settings.useMarkerColor||"background-border"==this.labelConfig.settings.useMarkerColor?this.dataPoint.markerColor:this.labelConfig.settings.borderFill.solid.color).style("stroke-opacity",this.labelConfig.settings.borderOpacity/100).style("stroke-width",this.labelConfig.settings.borderStroke).style("stroke-dasharray",this.getStrokeDasharray(this.labelConfig.settings.borderStyle,this.labelConfig.settings.lineDensity,this.labelConfig.settings.borderStroke)).style("stroke-linecap","round"),i.remove(),this.labelContainer.node().appendChild(i.node()))}}getTextColor(e){let t=this.labelConfig.settings.fill?this.labelConfig.settings.fill.solid.color:null;if(null==t&&this.labelConfig.settings.background){const e=this.labelConfig.settings.backgroundFill.solid.color;t=(0,n.QH)(e)}return"background"!=this.labelConfig.settings.useMarkerColor&&"background-border"!=this.labelConfig.settings.useMarkerColor||(t=(0,n.QH)(this.dataPoint.markerColor)),"text"!=this.labelConfig.settings.useMarkerColor&&"border-text"!=this.labelConfig.settings.useMarkerColor||(t=this.dataPoint.markerColor),e&&this.isHorizontal&&("inside-base"!=e&&"inside-end"!=e&&"inside-center"!=e||null!=t&&("text"!=this.labelConfig.settings.useMarkerColor&&"border-text"!=this.labelConfig.settings.useMarkerColor||this.labelConfig.settings.background)||(t=(0,n.QH)(this.dataPoint.bulletColor))),t}hide(){this.labelContainer&&this.labelContainer.style("display","none")}}},6636:(e,t,i)=>{"use strict";i.d(t,{QJ:()=>n,_:()=>L,ey:()=>s});var n,a=i(7988),r=i(3520),o=a.oP;function s(e,t,i=0,a,s){const T=(0,r.I7)(t);(0,r.I7)(t)||(t={dataPoints:[],legendDataPoints:[],domains:{all:{min:0,max:0},value:{min:0,max:0},comparisonValue:{min:0,max:0},targets:{min:null,max:null},targetVariance:{min:null,max:null}},fields:{}});const _=e.dataViews;if(_&&_[0]&&_[0].categorical&&_[0].categorical.values){const e=_[0].categorical;t.fields={...t.fields,...(0,r.o1)(e.values,!1),...e.categories?(0,r.o1)(e.categories,!1):{}},(0,r.QN)(t.fields,n.Category)?(t.domains=function(e,t,i){return e||(e={all:{min:0,max:0},value:{min:0,max:0},comparisonValue:{min:0,max:0},targets:{min:null,max:null},targetVariance:{min:null,max:null}}),{all:M(e.all,t.values,[n.Value,n.ComparisonValue,n.Targets,n.TargetVariance],!0,i.axis.start,i.axis.end),value:M(e.value,t.values,[n.Value]),comparisonValue:M(e.comparisonValue,t.values,[n.ComparisonValue]),targets:M(e.targets,t.values,[n.Targets],!1),targetVariance:M(e.targetVariance,t.values,[n.TargetVariance],!1)}}(t.domains,e,a),t.dataPoints=t.dataPoints.concat(function(e,t,i,a,s,m){const y=[];if(t.categories&&t.categories.length){const v=t.categories.length>1&&e.label.hierarchyLabels;let b;v&&(b=function(e,t,i){const n=[];for(let a=0;a<e[e.length-1].values.length;a++){const r=[];for(let t=0;t<e.length;t++)r.push(e[t].values[a]);i&&r.reverse(),n.push(r.join(t))}return n}(t.categories,e.label.separator,e.label.reverseLabels));const S=t.categories[t.categories.length-1],x=e.dataPoint.showAll,C=S.source.type.dateTime;for(let o=0;o<S.values.length;o++){if(o<a)continue;const f=o,T={displayName:null==S.values[o]||null==S.values[o]?"(Blank)":(v?b[o]:C?D(e.general.locale,S.values[o],S.source.format):S.values[o]).toString(),selectionId:thisVisual.host.createSelectionIdBuilder().withCategory(S,o).createSelectionId(),states:[],targets:[],tooltips:[],colorRulesValues:{}},M=T.displayName||S.source.displayName;for(let a=0;a<t.values.length;a++){const s=t.values[a],h=s.values[o],p=s.highlights?s.highlights[o]:null,m=(0,r.kz)(s,o),y=(0,r.m2)(s),v=w(h,m,e);s.source.roles[n.Value]&&l(h,p,T,M,s,m,y,e,v,f),s.source.roles[n.ComparisonValue]&&c(h,T,M,s,m,e,v,f),s.source.roles[n.Targets]&&u(h,T,i,s,e,v),s.source.roles[n.TargetVariance]&&k(h,T,e,M),s.source.roles[n.States]&&d(h,T,i,s,e,m,v),s.source.roles[n.Tooltips]&&g(h,T,M,s,v),[n.Value,n.ComparisonValue,n.Targets,n.ColorRules].forEach((e=>{s.source.roles[e]&&(null===h||isNaN(h)||(T.colorRulesValues[s.source.queryName]={value:h,highlightValue:p,domain:y}))}))}!(0,r.QN)(i,n.States)&&e.states.show&&h(T,e,m.all),y.push(T),(0,r.QN)(i,n.Value)&&x&&e.legend.show&&p(T,s)}y.length&&e.legend.show&&((0,r.QN)(i,n.Value)&&!x&&function(e,t,i){const a=t[n.Value][0].source;(0,r.I$)(i,{label:a.displayName,color:e,markerShape:o.circle,customShape:null,identity:thisVisual.host.createSelectionIdBuilder().withMeasure(a.queryName).createSelectionId(),selected:!1})}(y[0].color,i,s),(0,r.QN)(i,n.ComparisonValue)&&function(e,t,i,a){const r=t[n.ComparisonValue][0].source;f(i,{label:`${r.displayName} ${a}`,color:e,markerShape:o.circle,customShape:null,identity:thisVisual.host.createSelectionIdBuilder().withMeasure(r.queryName).createSelectionId(),selected:!1})}(y[0].comparisonColor,i,s,e.tooltips.labelComparison),(0,r.QN)(i,n.Targets)&&function(e,t,i){e[n.Targets].forEach(((e,n)=>{const a=e.source;let r=t.markers.shape.values[n].value;if("hidden"==r)return;const s=t.markers.fill.values[n].value.solid.color;let l=o.circle;"square"==r?(l=o.square,r=null):"circle"==r&&(l=o.circle,r=null),f(i,{label:`${a.displayName} ${t.tooltips.labelTargets}`,color:s,markerShape:l,customShape:r,identity:thisVisual.host.createSelectionIdBuilder().withMeasure(a.queryName).createSelectionId(),selected:!1})}))}(i,e,s))}return y}(a,e,t.fields,i,t.legendDataPoints,t.domains))):(t.measureDomains=function(e,t,i){e||(e={});const a=(0,r.o1)(t.values,!0);return t.values.forEach((t=>{if(t.source.roles[n.Value]){const r=t.source.queryName;e[r]||(e[r]={all:{min:0,max:0},value:{min:0,max:0},comparisonValue:{min:0,max:0},targets:{min:null,max:null},targetVariance:{min:null,max:null}});let o=[t];[n.ComparisonValue,n.Targets,n.TargetVariance].forEach((e=>{o=o.concat(E(t,e,a,i))})),e[r]={all:M(e[r].all,o,[n.Value,n.ComparisonValue,n.Targets,n.TargetVariance],!0,i.axis.start,i.axis.end),value:M(e[r].value,o,[n.Value]),comparisonValue:M(e[r].comparisonValue,o,[n.ComparisonValue]),targets:M(e[r].targets,o,[n.Targets],!1),targetVariance:M(e[r].targetVariance,o,[n.TargetVariance],!1)}}})),e}(t.measureDomains,e,a),t.domains=function(e){const t={all:{min:0,max:0},value:{min:0,max:0},comparisonValue:{min:0,max:0},targets:{min:null,max:null},targetVariance:{min:null,max:null}};return Object.keys(t).forEach((i=>{t[i]=Object.values(e).reduce(((e,t)=>({min:Math.min(e.min,t[i].min),max:Math.max(e.max,t[i].max)})),{min:0,max:0})})),t}(t.measureDomains),t.dataPoints=t.dataPoints.concat(function(e,t,i,a,s,l){const c=[];if(t.values&&t.values.length){const a=t.values;for(let t=0;t<a.length;t++){const o=a[t],u=0,d=o.values[u],h=o.highlights&&o.highlights.length?o.highlights[0]:null;if(o.source.roles[n.Value]){const t={displayName:String(o.source.displayName),format:(0,r.kz)(o,u),selectionId:thisVisual.host.createSelectionIdBuilder().withMeasure(o.source.queryName).createSelectionId(),states:[],targets:[],tooltips:[],colorRulesValues:{},domainKey:o.source.queryName};null===d||isNaN(d)||m(d,h,o,i,t,s,e),(0,r.QN)(i,n.ComparisonValue)&&y(o,a,i,t,s,e),(0,r.QN)(i,n.Targets)&&v(o,a,i,t,e),(0,r.QN)(i,n.TargetVariance)&&C(o,a,0,t,e),(0,r.QN)(i,n.States)?b(d,i,t,e):S(t,e,l[o.source.queryName].all),(0,r.QN)(i,n.Tooltips)&&x(i,t,e),c.push(t)}}(0,r.QN)(i,n.Targets)&&function(e,t,i){e[n.Targets].forEach(((e,n)=>{const a=e.source;let r=i.markers.shape.values[n].value,s=o.circle;"square"==r?(s=o.square,r=null):"circle"==r&&(s=o.circle,r=null),i.legend.show&&f(t,{label:`${a.displayName} ${i.tooltips.labelTargets}`,color:i.markers.fill.values[n].value.solid.color,markerShape:s,customShape:r,identity:thisVisual.host.createSelectionIdBuilder().withMeasure(a.queryName).createSelectionId(),selected:!1})}))}(i,s,e),c.forEach((e=>function(e,t){t.forEach((t=>{const i=(0,r.m2)(t);[n.Value,n.ComparisonValue,n.Targets,n.ColorRules].forEach((n=>{if(t.source.roles[n]){const n=0,a=t.values[n];if(null!==a&&!isNaN(a)){const n=t.highlights&&t.highlights.length?t.highlights[0]:null;return void(e.colorRulesValues[t.source.queryName]={value:a,highlightValue:n,domain:i})}}}))}))}(e,a)))}return c}(a,e,t.fields,0,t.legendDataPoints,t.measureDomains))),s&&!T&&a.legend.show&&(t.legendDataPoints=t.legendDataPoints.concat(s.getLegendDataPoints()))}return t}function l(e,t,i,n,a,r,o,s,l,c){i.value=e,i.format=r,i.colorRulesValues[a.source.queryName]={value:e,domain:o};const u=s.dataPoint.showAll?s.dataPoint.fill.values[c].value:s.dataPoint.defaultFill;i.color=u?u.solid.color:null,i.tooltips.push({header:n,opacity:a.highlights?"0.3":"1",displayName:a.source.displayName,value:null==e||null==e?"(Blank)":l.format(e),ariaElement:"value"}),a.highlights&&(i.highlightValue=isNaN(t)?0:t,i.tooltips.push({displayName:s.tooltips.highlightedValue,value:null==i.highlightValue||null==e?"(Blank)":l.format(t),ariaElement:"value"}))}function c(e,t,i,n,a,r,o,s){t.comparisonValue=e,t.format||(t.format=a);const l=r.dataPoint.comparisonFill.values[0].value;if(t.comparisonColor=l?l.solid.color:null,t.tooltips.push({header:i,opacity:n.highlights?"0.3":"1",displayName:`${n.source.displayName} ${r.tooltips.labelComparison}`.trim(),value:null==e||null==e?"(Blank)":o.format(e),color:t.comparisonColor,ariaElement:"comparisonValue",ariaLabel:n.source.displayName}),n.highlights){const e=n.highlights[s];t.highlightComparisonValue=isNaN(e)?0:e,t.tooltips.push({displayName:`${r.tooltips.highlightedValue} ${r.tooltips.labelComparison}`.trim(),value:null==t.highlightValue?"(Blank)":o.format(e),color:t.comparisonColor,ariaElement:"comparisonValue",ariaLabel:r.tooltips.highlightedValue})}}function u(e,t,i,a,r,o){if(null!==e&&!isNaN(e)){const s=_(a,n.Targets,i),l=a.source.displayName,c=r.markers.shape.values[s].value,u=r.markers.fill.values[s].value,d=r.targets.fill.values[s].value,h=r.targets.comparison.values[s].value;t.targets.push({value:e,marker:c,markerColor:u?u.solid.color:null,color:d?d.solid.color:null,comparison:h,displayName:l}),"hidden"!=c&&t.tooltips.push({displayName:`${l} ${r.tooltips.labelTargets}`.trim(),color:u?u.solid.color:null,value:null==e?"(Blank)":o.format(e),ariaElement:"target",ariaLabel:l})}}function d(e,t,i,a,r,o,s){if(null!==e&&!isNaN(e)){let l=0;for(let e=0;e<i[n.States].length;e++)if(i[n.States][e].source.queryName==a.source.queryName){l=e;break}const c=r.states.fill.values[l].value.solid.color;t.states.push({value:e,color:c,displayName:a.source.displayName,format:o,selectionId:thisVisual.host.createSelectionIdBuilder().withMeasure(a.source.queryName).createSelectionId()}),r.states.showTooltips&&t.tooltips.push({displayName:`${a.source.displayName} ${r.tooltips.labelStates}`.trim(),color:c,value:null==e?"(Blank)":s.format(e),ariaElement:"state",ariaLabel:a.source.displayName})}}function h(e,t,i){const n=e.states,a=N(t.states,i);for(let i=0;i<a.length;i++){const r=a[i],o=w(r,e.format,t),s=t.states["state"+(i+1)+"Fill"].solid.color;n.push({value:r,color:s,displayName:null,format:"percentage"==t.states.calculate?"%":"",selectionId:null}),t.states.showTooltips&&e.tooltips.push({displayName:`State ${i+1}`,color:s,value:null==r?"(Blank)":o.format(r),ariaElement:"state"})}}function g(e,t,i,n,a){null!==e&&t.tooltips.push({header:i,displayName:n.source.displayName,color:"#333",opacity:"0",value:null==e?"(Blank)":a.format(e),ariaElement:"value"})}function p(e,t){f(t,{label:e.displayName,color:e.color,markerShape:o.circle,customShape:null,identity:e.selectionId,selected:!1})}function f(e,t){(0,r.I$)(e,t,["label","markerShape","customShape","identity"])}function m(e,t,i,a,r,s,l){r.value=e;const c=_(i,n.Value,a),u=w(e,r.format,l),d=l.dataPoint.fill.values[c].value;r.color=d?d.solid.color:null,r.tooltips.push({displayName:String(i.source.displayName),color:r.color,opacity:i.highlights?"0.3":"1",value:u.format(e),ariaElement:"value"}),l.legend.show&&f(s,{label:r.displayName,color:r.color,markerShape:o.circle,customShape:null,identity:r.selectionId,selected:!1}),i.highlights&&i.highlights.length&&(r.highlightValue=isNaN(t)?0:t,r.tooltips.push({displayName:l.tooltips.highlightedValue,color:r.color,value:u.format(t),ariaElement:"value"}))}function y(e,t,i,a,s,l){const c=E(e,n.ComparisonValue,t,l),u=c.length?c[0]:null;if(u){const e=_(u,n.ComparisonValue,i),t=u.values[0];a.comparisonValue=t;const c=w(t,(0,r.kz)(u,0),l),d=l.dataPoint.comparisonFill.values[e].value;if(a.comparisonColor=d?d.solid.color:null,a.tooltips.push({displayName:`${u.source.displayName} ${l.tooltips.labelComparison}`.trim(),color:a.comparisonColor,opacity:u.highlights?"0.3":"1",value:null==t||null==t?"(Blank)":c.format(t),ariaElement:"comparisonValue",ariaLabel:u.source.displayName}),l.legend.show&&f(s,{label:`${u.source.displayName} ${l.tooltips.labelComparison}`,color:a.comparisonColor,markerShape:o.circle,customShape:null,identity:a.selectionId,selected:!1}),u.highlights){const e=u.highlights[0];a.highlightComparisonValue=isNaN(e)?0:e,a.tooltips.push({displayName:`${l.tooltips.highlightedValue} ${l.tooltips.labelComparison}`.trim(),color:a.comparisonColor,value:null==a.highlightValue?"(Blank)":c.format(e),ariaElement:"comparisonValue",ariaLabel:l.tooltips.highlightedValue})}}}function v(e,t,i,a,o){const s=E(e,n.Targets,t,o);for(let e=0;e<s.length;e++){const t=s[e],l=_(t,n.Targets,i),c=t.source.displayName,u=t.values[0],d=w(u,(0,r.kz)(t,0),o),h=o.markers.shape.values[l].value,g=o.markers.fill.values[l].value,p=o.targets.fill.values[l].value,f=o.targets.comparison.values[l].value;a.targets.push({value:u,marker:h,markerColor:g?g.solid.color:null,color:p?p.solid.color:null,comparison:f,displayName:c}),"hidden"!=h&&a.tooltips.push({displayName:`${c} ${o.tooltips.labelTargets}`.trim(),color:g?g.solid.color:null,value:null==u||null==u?"(Blank)":d.format(u),ariaElement:"target",ariaLabel:c})}}function b(e,t,i,a){if(null!==e&&!isNaN(e))for(let e=0;e<t[n.States].length;e++){const o=t[n.States][e],s=o.source.displayName,l=o.values[0],c=a.states.fill.values[e].value.solid.color,u=(0,r.kz)(o,0),d=w(l,u,a);i.states.push({value:l,color:c,displayName:s,format:u,selectionId:thisVisual.host.createSelectionIdBuilder().withMeasure(o.source.queryName).createSelectionId()}),a.states.showTooltips&&i.tooltips.push({displayName:`${s} ${a.tooltips.labelStates}`.trim(),color:c,value:null==l||null==l?"(Blank)":d.format(l),ariaElement:"state",ariaLabel:s})}}function S(e,t,i){if(t.states.show){const n=w(e.value,e.format,t),a=e.states,r=N(t.states,i);for(let i=0;i<r.length;i++){const o=t.states["state"+(i+1)+"Fill"].solid.color,s=r[i];a.push({value:s,color:o,displayName:null,format:"percentage"==t.states.calculate?"%":"",selectionId:null}),t.states.showTooltips&&e.tooltips.push({displayName:`State ${i+1}`,color:o,value:null==s?"(Blank)":n.format(s),ariaElement:"state"})}}}function x(e,t,i){e[n.Tooltips].forEach((e=>{const n=(0,r.kz)(e),a=e.values[0],o=w(a,n,i);t.tooltips.push({displayName:e.source.displayName,color:"#333",opacity:"0",value:null==a||null==a?"(Blank)":o.format(a),ariaElement:"value"})}))}function w(e,t,i){return r.eo.instance.create({format:t,formatSingleValues:!1,value:0==i.tooltips.unit?e:i.tooltips.unit,displayUnitSystemType:i.tooltips.unit,precision:i.tooltips.precision,allowFormatBeautification:!0,cultureSelector:i.general.numberLocale})}function k(e,t,i,n){null===e||isNaN(e)||T(e,t,i,n)}function C(e,t,i,a,r){const o=E(e,n.TargetVariance,t,r),s=o.length?o[0]:null;if(s){const e=s.values[0];null===e||isNaN(e)||T(e,a,r)}}function T(e,t,i,n){if(t.value){const a=w(t.value,t.format,i),r=t.value-e,o=t.highlightValue?t.highlightValue-e:null;if(t.variance={value:r,color:r>0?i.variances.fillGood.solid.color:i.variances.fillBad.solid.color,highlightValue:o,highlightColor:o>0?i.variances.fillGood.solid.color:i.variances.fillBad.solid.color,targetValue:e},i.variances.showTooltips){const e=i.tooltips.labelVariances||"Variance";t.tooltips.push({header:n,displayName:e,color:t.variance.color,opacity:t.variance.highlightValue?"0.3":"1",value:null==r||null==r?"(Blank)":a.format(r),ariaElement:"variance"}),t.variance.highlightValue&&t.tooltips.push({displayName:`${e} ${i.tooltips.highlightedValue}`.trim(),color:t.variance.highlightColor,value:null==o||null==o?"(Blank)":a.format(o),ariaElement:"variance"})}}}function M(e,t,i,n=!0,a=null,o=null){return null!=a&&null!=o?(e.min=a,e.max=o):(t.forEach((t=>{for(let a=0;a<i.length;a++)if(t.source.roles[i[a]]){const i=(0,r.QN)(t,"minLocal")?n?Math.min(0,t.minLocal):t.minLocal:n?Math.min(0,...t.values):Math.min(...t.values),a=(0,r.QN)(t,"maxLocal")?n?Math.max(0,t.maxLocal):t.maxLocal:n?Math.max(0,...t.values):Math.max(...t.values);isNaN(i)||(e.min=null!==e.min?Math.min(e.min,i):i),isNaN(a)||(e.max=null!==e.max?Math.max(e.max,a):a);break}})),null!=a&&(e.min=a),null!=o&&(e.max=o)),null===e.min&&(e.min=0),(null===e.max||e.min>e.max)&&(e.max=e.min),e}function E(e,t,i,a){let o=[];const s=Array.isArray(i)?(0,r.o1)(i,!0):i;if(s[n.Value]&&s[n.Value].length){let i=!1;if(t==n.ComparisonValue?i=!0:t==n.Targets?s[n.Value].length>1&&!a.markers.share?i=!0:o=s[t]||[]:t==n.TargetVariance&&(s[n.Value].length>1&&!a.variances.share?i=!0:s[n.TargetVariance]&&s[n.TargetVariance].length&&(o=[s[n.TargetVariance][0]])),i){const i=s[n.Value].findIndex((t=>t.source.queryName==e.source.queryName));s[t]&&s[t][i]&&(o=[s[t][i]])}}return o}function _(e,t,i){if(i[t])for(let n=0;n<i[t].length;n++)if(i[t][n].source.queryName==e.source.queryName)return n;return 0}function D(e,t,i){return t?i?r.eo.instance.create({format:i,formatSingleValues:!1,cultureSelector:e}).format(t):new Intl.DateTimeFormat(e,{year:"numeric",month:"2-digit",day:"2-digit"}).format(t):"(Blank)"}function N(e,t){let i=[];for(let n=1;n<=5;n++){let a=e["state"+n+("percentage"==e.calculate?"Perc":"")];"absolute"==e.calculate&&null!=a&&(a=a/t.max*100),i.push(a)}i=function(e){const t=(e,t)=>{let i=t.find((e=>e>0));null==i&&(i=100);const n=(i-e)/t.filter((e=>0!=e)).length,a=[];let r=e;return t.forEach((e=>{null==e?(e=r+n,a.push(e),r=e):a.push(e)})),a},i=(e=>{let t=0;for(let i=0;i<e.length;i++)e[i]<=t?0!=e[i]&&(e[i]=null):e[i]=Math.max(0,Math.min(100,e[i])),t=Math.max(t,e[i]);return e})(e.slice());let n=[],a=0,r=[];for(let e=0;e<i.length;e++)if(r.push(i[e]),i[e]||e==i.length-1){const e=t(a,r);n=n.concat(e),a=e[e.length-1],r=[]}return n}(i);for(let e=0;e<i.length;e++)i[e]=i[e]/100*t.max;return i}function L(e,t,i=.05){const n=[Math.abs(t*(1-i)),Math.abs(t*(1+i))];return Math.abs(e)>n[0]&&Math.abs(e)<n[1]}!function(e){e.Category="Category",e.Value="Value",e.ComparisonValue="ComparisonValue",e.Targets="targets",e.TargetVariance="TargetVariance",e.States="states",e.Tooltips="tooltips",e.ColorRules="ColorRules"}(n||(n={}))},7524:(e,t,i)=>{"use strict";i.d(t,{K:()=>r});var n=i(3520),a=i(3096);class r extends a._{get title(){return"Borders, Shadows and Roundness"}draw(){(0,n.En)(".step-cols",this.element,[(0,n.En)(".step-section.options",[(0,n.En)("p",[(0,n.En)(".step-section-title","Border"),(0,n.En)("select.border",{list:[{value:"",text:"None"},{value:"solid",text:"Solid",selected:!0},{value:"dashed",text:"Dashed"},{value:"dotted",text:"Dotted"}],events:{change:(e,t)=>{""==t.value?this.settings.bulletShape.border=!1:(this.settings.bulletShape.border=!0,this.settings.bulletShape.borderStyle=t.value),this.generatePreview()}}})]),(0,n.En)("p",[(0,n.En)(".step-section-title","Shadow"),(0,n.En)("select.shadow-offset",{list:[{value:"",text:"None"},{value:"outside",text:"Outside",selected:!0},{value:"inside",text:"Inside"}],events:{change:(e,t)=>{""==t.value?this.settings.bulletShape.shadows=!1:(this.settings.bulletShape.shadows=!0,this.settings.bulletShape.shadowOffset=t.value),this.generatePreview()}}}),(0,n.En)("select.shadow-position",{attr:{name:"bulletShape.shadowPosition"},list:[{value:"bottom-right",text:"Bottom right"},{value:"bottom",text:"Bottom"},{value:"bottom-left",text:"Bottom left"},{value:"right",text:"Right"},{value:"center",text:"Center"},{value:"left",text:"Left"},{value:"top-right",text:"Top right"},{value:"top",text:"Top"},{value:"top-left",text:"Top left"}]})]),(0,n.En)("p",[(0,n.En)(".step-section-title","Corner Radius"),(0,n.En)("input.percentile",{attr:{type:"range",min:0,max:50,step:5,value:this.settings.bulletShape.percentile,name:"bulletShape.percentile"}})])]),(0,n.En)(".step-section.preview",{middleware:e=>this.previewContainer=e})]),this.generatePreview()}getDummyDataset(){return[{tree:null,single:null,matrix:null,table:null,metadata:{columns:[{roles:{Category:!0},type:{underlyingType:1,category:null,primitiveType:1,extendedType:1,categoryString:null,text:!0,numeric:!1,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},displayName:"Category",queryName:"ProductCategory.Category",expr:{_kind:2,source:{_kind:0,entity:"ProductCategory",variable:"p",kind:0},ref:"Category",kind:2},rolesIndex:{Category:[0]},index:0,identityExprs:[{_kind:2,source:{_kind:0,entity:"ProductCategory",kind:0},ref:"Category",kind:2}]},{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"SalesAmount",queryName:"Sales.SalesAmount",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"SalesAmount",kind:3},sort:2,sortOrder:0,rolesIndex:{Value:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:1,isMeasure:!0,aggregates:{minLocal:240738.09,maxLocal:1426288.26}},{roles:{ComparisonValue:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:'"€"#,0.00;-"€"#,0.00;"€"#,0.00',displayName:"SalesCost",queryName:"Sales.SalesCost",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"SalesCost",kind:3},rolesIndex:{ComparisonValue:[0]},objects:{general:{formatString:'"€"#,0.00;-"€"#,0.00;"€"#,0.00'}},index:2,isMeasure:!0,aggregates:{minLocal:104765.73,maxLocal:620715.83}},{roles:{targets:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"NetPrice",queryName:"Sum(Sales.NetPrice)",expr:{_kind:4,arg:{_kind:2,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"NetPrice",kind:2},func:0,kind:4},rolesIndex:{targets:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:3,isMeasure:!0,aggregates:{minLocal:155142.8151,maxLocal:908428.366}}],objects:{premium:{enabled:!1},label:{show:!1}},dataRoles:{drillableRoles:{Category:[]}}},categorical:{categories:[{source:{roles:{Category:!0},type:{underlyingType:1,category:null,primitiveType:1,extendedType:1,categoryString:null,text:!0,numeric:!1,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},displayName:"Category",queryName:"ProductCategory.Category",expr:{_kind:2,source:{_kind:0,entity:"ProductCategory",variable:"p",kind:0},ref:"Category",kind:2},rolesIndex:{Category:[0]},index:0,identityExprs:[{_kind:2,source:{_kind:0,entity:"ProductCategory",kind:0},ref:"Category",kind:2}]},values:["Home Appliances","Computers","Cameras and Camcorders","Cellphones"],identity:[{identityIndex:0},{identityIndex:1},{identityIndex:2},{identityIndex:3}],identityFields:[{_kind:2,source:{_kind:0,entity:"ProductCategory",kind:0},ref:"Category",kind:2}]}],values:[{source:{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"SalesAmount",queryName:"Sales.SalesAmount",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"SalesAmount",kind:3},sort:2,sortOrder:0,rolesIndex:{Value:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:1,isMeasure:!0,aggregates:{minLocal:240738.09,maxLocal:1426288.26}},values:[1426288.26,903856.11,861595.54,240738.09],minLocal:240738.09,maxLocal:1426288.26},{source:{roles:{ComparisonValue:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:'"€"#,0.00;-"€"#,0.00;"€"#,0.00',displayName:"SalesCost",queryName:"Sales.SalesCost",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"SalesCost",kind:3},rolesIndex:{ComparisonValue:[0]},objects:{general:{formatString:'"€"#,0.00;-"€"#,0.00;"€"#,0.00'}},index:2,isMeasure:!0,aggregates:{minLocal:104765.73,maxLocal:620715.83}},values:[620715.83,390382.97,332489.79,104765.73],minLocal:104765.73,maxLocal:620715.83},{source:{roles:{targets:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"NetPrice",queryName:"Sum(Sales.NetPrice)",expr:{_kind:4,arg:{_kind:2,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"NetPrice",kind:2},func:0,kind:4},rolesIndex:{targets:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:3,isMeasure:!0,aggregates:{minLocal:155142.8151,maxLocal:908428.366}},values:[908428.366,583040.4177,571949.1364,155142.8151],minLocal:155142.8151,maxLocal:908428.366}]}}]}changeDefaultSettings(){this.settings.axis.show=!1,this.settings.states.show=!1,this.settings.label.autoSize=!1,this.settings.bulletShape.border=!0,this.settings.bulletShape.borderStroke=2,this.settings.bulletShape.lineDensity=35,this.settings.bulletShape.percentile=20,this.settings.bulletShape.shadows=!0,this.settings.bulletShape.shadowPosition="bottom-right",this.settings.bulletShape.shadowOffset="outside"}}},1036:(e,t,i)=>{"use strict";i.d(t,{i:()=>s});var n=i(3520),a=i(3096);const r=[{id:"c621155b-cc43-37d7-1e24-517dbcf59f0a",displayName:"Rule 1",automatic:!1,locked:null,enabled:!0,stop:!1,legend:!0,property:"dataPointFill",mode:"colorScale",conditions:{color:"#3CB44A",operator:0,conditions:{0:{id:0,field:{role:""},comparison:2,mode:1,value:null}},level:"default"},colorScales:{field:{role:"Value",roleIndex:0},blank:"ignore",blankColor:"#e6e6e6",type:0,relative:!1,scalesByLevel:{default:{min:{mode:0,value:null,color:"#e6f2e6"},max:{mode:0,value:null,color:"#3CB44A"},center:{mode:0,value:null,color:null},topColor:null,bottomColor:null}}}}],o=[{id:"_8ea12de1-bd6e-f5f1-694b-8bbd9508fd52",displayName:"Rule 2",automatic:!1,locked:null,enabled:!0,stop:!1,legend:!0,property:"dataPointFill",mode:"conditions",conditions:{color:"#3CB44A",operator:0,conditions:{0:{id:0,field:{role:"Value",roleIndex:0},comparison:4,mode:2,value:0,fieldValue:{role:"targets",roleIndex:0}}},level:"default"},colorScales:{field:{role:""},blank:"ignore",blankColor:"#e6e6e6",type:0,relative:!1,scalesByLevel:{default:{min:{mode:0,value:null,color:"#e6f2e6"},max:{mode:0,value:null,color:"#3CB44A"},center:{mode:0,value:null,color:null},topColor:null,bottomColor:null}}}},{id:"_3c60bd36-7129-83be-4772-969c9b9e1620",displayName:"Rule 3",automatic:!1,locked:null,enabled:!0,stop:!1,legend:!0,property:"dataPointFill",mode:"conditions",conditions:{color:"#E81123",operator:0,conditions:{0:{id:0,field:{role:"Value",roleIndex:0},comparison:0,mode:2,value:0,fieldValue:{role:"targets",roleIndex:0}}},level:"default"},colorScales:{field:{role:""},blank:"ignore",blankColor:"#e6e6e6",type:0,relative:!1,scalesByLevel:{default:{min:{mode:0,value:null,color:"#e6f2e6"},max:{mode:0,value:null,color:"#3CB44A"},center:{mode:0,value:null,color:null},topColor:null,bottomColor:null}}}}];class s extends a._{get title(){return"Advanced Color Rules"}draw(){(0,n.En)(".step-cols",this.element,[(0,n.En)(".step-section.options",[(0,n.En)("p",[(0,n.En)(".step-section-title","Sample Rules"),(0,n.En)("select.rules",{list:[{value:"heatmap",text:"Heatmap",selected:!0},{value:"conditional",text:"Conditional"}],events:{change:(e,t)=>{"heatmap"==t.value?this.settings.internal.colorRules=r:"conditional"==t.value&&(this.settings.internal.colorRules=o),this.generatePreview()}}})])]),(0,n.En)(".step-section.preview",{middleware:e=>this.previewContainer=e})]),this.generatePreview()}getDummyDataset(){return[{matrix:null,table:null,tree:null,single:null,metadata:{columns:[{roles:{Category:!0},type:{underlyingType:1,category:null,primitiveType:1,extendedType:1,categoryString:null,text:!0,numeric:!1,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},displayName:"Category",queryName:"Product Category.Category",expr:{_kind:2,source:{_kind:0,entity:"Product Category",variable:"p",kind:0},ref:"Category",kind:2},rolesIndex:{Category:[0]},index:0,identityExprs:[{_kind:2,source:{_kind:0,entity:"Product Category",kind:0},ref:"Category",kind:2}]},{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"Sales Amount",queryName:"Sales.Sales Amount",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Sales Amount",kind:3},sort:2,sortOrder:0,rolesIndex:{Value:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:1,isMeasure:!0,aggregates:{minLocal:42832.57,maxLocal:1426288.26}},{roles:{targets:!0},type:{underlyingType:260,category:null,primitiveType:4,extendedType:260,categoryString:null,text:!1,numeric:!0,integer:!0,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"State 500K",queryName:"States.State 500K",expr:{_kind:3,source:{_kind:0,entity:"States",variable:"s1",kind:0},ref:"State 500K",kind:3},rolesIndex:{targets:[0]},objects:{general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},index:2,isMeasure:!0,aggregates:{minLocal:5e5,maxLocal:5e5}}],dataRoles:{drillableRoles:{Category:[]}}},categorical:{categories:[{source:{roles:{Category:!0},type:{underlyingType:1,category:null,primitiveType:1,extendedType:1,categoryString:null,text:!0,numeric:!1,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},displayName:"Category",queryName:"Product Category.Category",expr:{_kind:2,source:{_kind:0,entity:"Product Category",variable:"p",kind:0},ref:"Category",kind:2},rolesIndex:{Category:[0]},index:0,identityExprs:[{_kind:2,source:{_kind:0,entity:"Product Category",kind:0},ref:"Category",kind:2}]},values:["Home Appliances","Computers","Cameras and camcorders","TV and Video","Cell phones","Audio","Music, Movies and Audio Books","Games and Toys"],identity:[{identityIndex:0},{identityIndex:1},{identityIndex:2},{identityIndex:3},{identityIndex:4},{identityIndex:5},{identityIndex:6},{identityIndex:7}],identityFields:[{_kind:2,source:{_kind:0,entity:"Product Category",kind:0},ref:"Category",kind:2}]}],values:[{source:{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"Sales Amount",queryName:"Sales.Sales Amount",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Sales Amount",kind:3},sort:2,sortOrder:0,rolesIndex:{Value:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:1,isMeasure:!0,aggregates:{minLocal:42832.57,maxLocal:1426288.26}},values:[1426288.26,903856.11,861595.54,650402.19,240738.09,47116.66,47088.48,42832.57],minLocal:42832.57,maxLocal:1426288.26},{source:{roles:{targets:!0},type:{underlyingType:260,category:null,primitiveType:4,extendedType:260,categoryString:null,text:!1,numeric:!0,integer:!0,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"State 500K",queryName:"States.State 500K",expr:{_kind:3,source:{_kind:0,entity:"States",variable:"s1",kind:0},ref:"State 500K",kind:3},rolesIndex:{targets:[0]},objects:{general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},index:2,isMeasure:!0,aggregates:{minLocal:5e5,maxLocal:5e5}},values:[5e5,5e5,5e5,5e5,5e5,5e5,5e5,5e5],minLocal:5e5,maxLocal:5e5}]}}]}changeDefaultSettings(){this.settings.internal.colorRules=r,this.settings.targets.advancedRules=!0,this.settings.axis.show=!1,this.settings.states.show=!1,this.settings.label.autoSize=!1}}},5404:(e,t,i)=>{"use strict";i.d(t,{g:()=>r});var n=i(3520),a=i(3096);class r extends a._{get title(){return"Labels Customization"}draw(){(0,n.En)(".step-cols",this.element,[(0,n.En)(".step-section.options",[(0,n.En)("p",[(0,n.En)(".step-section-title","Position"),(0,n.En)("select.position",{list:[{value:"auto",text:"Auto",selected:!0},{value:"inside-base",text:"Inside-base"},{value:"inside-center",text:"Inside-center"},{value:"inside-end",text:"Inside end"},{value:"outside-end",text:"Outside end"}],events:{change:(e,t)=>{this.settings.dataLabels.position=t.value,this.generatePreview()}}})]),(0,n.En)("p",[(0,n.En)(".step-section-title","Appearance"),(0,n.En)("select.appearance",{list:[{value:"",text:"Default",selected:!0},{value:"sample-1",text:"Sample 1"},{value:"sample-2",text:"Sample 2"},{value:"sample-3",text:"Sample 3"}],events:{change:(e,t)=>{""==t.value?(this.settings.dataLabels.background=!1,this.settings.dataLabels.fontFamily=n.Ul,this.settings.dataLabels.fontSize=9,this.settings.dataLabels.border=!1):"sample-1"==t.value?(this.settings.dataLabels.background=!0,this.settings.dataLabels.fontFamily=n.Ul,this.settings.dataLabels.fontSize=12,this.settings.dataLabels.backgroundOpacity=90,this.settings.dataLabels.backgroundFill={solid:{color:"#222"}},this.settings.dataLabels.fill={solid:{color:"#fff"}},this.settings.dataLabels.border=!1,this.settings.dataLabels.percentile=30):"sample-2"==t.value?(this.settings.dataLabels.background=!0,this.settings.dataLabels.backgroundFill={solid:{color:"#fff"}},this.settings.dataLabels.fontFamily=n.KD,this.settings.dataLabels.backgroundOpacity=80,this.settings.dataLabels.border=!0,this.settings.dataLabels.borderStyle="solid",this.settings.dataLabels.borderStroke=2,this.settings.dataLabels.borderFill={solid:{color:"#A98BDE"}},this.settings.dataLabels.fill={solid:{color:"#000000"}},this.settings.dataLabels.percentile=0):"sample-3"==t.value&&(this.settings.dataLabels.background=!1,this.settings.dataLabels.fontFamily=n.Ul,this.settings.dataLabels.fontSize=12,this.settings.dataLabels.border=!0,this.settings.dataLabels.borderFill={solid:{color:"#222"}},this.settings.dataLabels.borderStyle="dotted",this.settings.dataLabels.percentile=30,this.settings.dataLabels.fill={solid:{color:"#222"}}),this.generatePreview()}}})])]),(0,n.En)(".step-section.preview",{middleware:e=>this.previewContainer=e})]),this.generatePreview()}getDummyDataset(){return[{tree:null,single:null,matrix:null,table:null,metadata:{columns:[{roles:{Category:!0},type:{underlyingType:1,category:null,primitiveType:1,extendedType:1,categoryString:null,text:!0,numeric:!1,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},displayName:"Category",queryName:"ProductCategory.Category",expr:{_kind:2,source:{_kind:0,entity:"ProductCategory",variable:"p",kind:0},ref:"Category",kind:2},rolesIndex:{Category:[0]},index:0,identityExprs:[{_kind:2,source:{_kind:0,entity:"ProductCategory",kind:0},ref:"Category",kind:2}]},{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"SalesAmount",queryName:"Sales.SalesAmount",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"SalesAmount",kind:3},sort:2,sortOrder:0,rolesIndex:{Value:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:1,isMeasure:!0,aggregates:{minLocal:240738.09,maxLocal:1426288.26}},{roles:{ComparisonValue:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:'"€"#,0.00;-"€"#,0.00;"€"#,0.00',displayName:"SalesCost",queryName:"Sales.SalesCost",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"SalesCost",kind:3},rolesIndex:{ComparisonValue:[0]},objects:{general:{formatString:'"€"#,0.00;-"€"#,0.00;"€"#,0.00'}},index:2,isMeasure:!0,aggregates:{minLocal:104765.73,maxLocal:620715.83}},{roles:{targets:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"NetPrice",queryName:"Sum(Sales.NetPrice)",expr:{_kind:4,arg:{_kind:2,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"NetPrice",kind:2},func:0,kind:4},rolesIndex:{targets:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:3,isMeasure:!0,aggregates:{minLocal:155142.8151,maxLocal:908428.366}}],objects:{premium:{enabled:!1},label:{show:!1}},dataRoles:{drillableRoles:{Category:[]}}},categorical:{categories:[{source:{roles:{Category:!0},type:{underlyingType:1,category:null,primitiveType:1,extendedType:1,categoryString:null,text:!0,numeric:!1,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},displayName:"Category",queryName:"ProductCategory.Category",expr:{_kind:2,source:{_kind:0,entity:"ProductCategory",variable:"p",kind:0},ref:"Category",kind:2},rolesIndex:{Category:[0]},index:0,identityExprs:[{_kind:2,source:{_kind:0,entity:"ProductCategory",kind:0},ref:"Category",kind:2}]},values:["Home Appliances","Computers","Cameras and Camcorders","Cellphones"],identity:[{identityIndex:0},{identityIndex:1},{identityIndex:2},{identityIndex:3}],identityFields:[{_kind:2,source:{_kind:0,entity:"ProductCategory",kind:0},ref:"Category",kind:2}]}],values:[{source:{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"SalesAmount",queryName:"Sales.SalesAmount",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"SalesAmount",kind:3},sort:2,sortOrder:0,rolesIndex:{Value:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:1,isMeasure:!0,aggregates:{minLocal:240738.09,maxLocal:1426288.26}},values:[1426288.26,903856.11,861595.54,240738.09],minLocal:240738.09,maxLocal:1426288.26},{source:{roles:{ComparisonValue:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:'"€"#,0.00;-"€"#,0.00;"€"#,0.00',displayName:"SalesCost",queryName:"Sales.SalesCost",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"SalesCost",kind:3},rolesIndex:{ComparisonValue:[0]},objects:{general:{formatString:'"€"#,0.00;-"€"#,0.00;"€"#,0.00'}},index:2,isMeasure:!0,aggregates:{minLocal:104765.73,maxLocal:620715.83}},values:[620715.83,390382.97,332489.79,104765.73],minLocal:104765.73,maxLocal:620715.83},{source:{roles:{targets:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"NetPrice",queryName:"Sum(Sales.NetPrice)",expr:{_kind:4,arg:{_kind:2,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"NetPrice",kind:2},func:0,kind:4},rolesIndex:{targets:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:3,isMeasure:!0,aggregates:{minLocal:155142.8151,maxLocal:908428.366}},values:[908428.366,583040.4177,571949.1364,155142.8151],minLocal:155142.8151,maxLocal:908428.366}]}}]}changeDefaultSettings(){this.settings.dataLabels.show=!0,this.settings.axis.show=!1,this.settings.states.show=!1,this.settings.label.autoSize=!1,this.settings.dataPoint.defaultFill={solid:{color:"#A98BDE"}},this.settings.dataPoint.comparisonFill={dataBoundType:n.q2.Category,columnRole:"ComparisonValue",values:[{value:{solid:{color:"#e6e6e6"}},selector:null,displayName:""}]}}}},3096:(e,t,i)=>{"use strict";i.d(t,{_:()=>c});var n=i(3520),a=i(672),r=i(6636),o=i(708),s=i(5768),l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class c extends n.Qr{element;data;settings;previewContainer;dataOptions;constructor(e,t,i){super(e,t,i),this.element=e,this.data=t,this.settings=i,this.initPreviewData(),this.listen()}listen(){const e=(e,t)=>{if(e){const i=e.split("|"),n=t.split("|");for(let e=0;e<i.length;e++){const[t,a]=i[e].split(".");let r=n[e];"true"==r||"false"==r?r="true"==r:isNaN(r)||(r=Number(r)),this.settings[t][a]=r}this.generatePreview()}};this.element.addLiveEventListener("click",".options-block .option-value",((t,i)=>{const a=i.closest(".options-block");(0,n.op)(".option-value",a).forEach((e=>e.classList.remove("active"))),i.classList.add("active"),e(a.dataset.option,i.dataset.value)})),this.element.addLiveEventListener("change","input, select",((t,i)=>{const n=i,a="checkbox"==n.type?String(n.checked):n.value;e(n.name,a)}))}initPreviewData(){const e=this.getDummyDataset();this.dataOptions={dataViews:e,viewport:null,type:2},this.settings=(0,a.yu)(this.dataOptions),this.changeDefaultSettings()}generatePreview(){if(!this.previewContainer)return;const e=new s.a8;e.update(this.dataOptions,this.settings.internal.colorRules),console.log("SETTINGS",this.settings);const t=(0,r.ey)(this.dataOptions,null,0,this.settings,e);if(t){const i=new o.ChartHorizontal(this.previewContainer,null,this.settings,t,null,null,e,!1);if(i){const e=this.previewContainer.getBoundingClientRect();i.draw(e)}}}}!function(e,t,i,n){var a,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);r>3&&o&&Object.defineProperty(t,i,o)}([(0,n.mS)(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],c.prototype,"generatePreview",null)},9812:(e,t,i)=>{"use strict";i.d(t,{Q:()=>r});var n=i(3520),a=i(3096);class r extends a._{get title(){return"Target Labels"}draw(){(0,n.En)(".step-cols",this.element,[(0,n.En)(".step-section.options",[(0,n.En)("p",[(0,n.En)(".step-section-title","Position"),(0,n.En)("select.position",{list:[{value:"top",text:"Top",selected:!0},{value:"bottom",text:"Bottom"},{value:"center",text:"Center"},{value:"left",text:"Left"},{value:"right",text:"Right"}],events:{change:(e,t)=>{this.settings.targetLabels.position=t.value,this.generatePreview()}}})]),(0,n.En)("p",[(0,n.En)(".step-section-title","Appearance"),(0,n.En)("select.appearance",{list:[{value:"",text:"Default",selected:!0},{value:"sample-1",text:"Sample 1"},{value:"sample-2",text:"Sample 2"},{value:"sample-3",text:"Sample 3"}],events:{change:(e,t)=>{""==t.value?(this.settings.markers.fill.values[0].value={solid:{color:"#118DFF"}},this.settings.markers.fill.values[1].value={solid:{color:"#E044A7"}},this.settings.targetLabels.useMarkerColor="",this.settings.targetLabels.background=!1,this.settings.targetLabels.border=!1,this.settings.targetLabels.fontSize=8,this.settings.targetLabels.fontFamily=n.Ul):"sample-1"==t.value?(this.settings.targetLabels.border=!0,this.settings.targetLabels.useMarkerColor="border-text",this.settings.targetLabels.background=!0,this.settings.markers.fill.values[0].value={solid:{color:"#CF9546"}},this.settings.markers.fill.values[1].value={solid:{color:"#7A989A"}},this.settings.targetLabels.backgroundFill={solid:{color:"#F8F8F8"}},this.settings.targetLabels.fontSize=8,this.settings.targetLabels.fontFamily="Arial Black"):"sample-2"==t.value?(this.settings.targetLabels.background=!0,this.settings.targetLabels.border=!1,this.settings.targetLabels.fontSize=8,this.settings.targetLabels.useMarkerColor="background",this.settings.markers.fill.values[0].value={solid:{color:"#C67052"}},this.settings.markers.fill.values[1].value={solid:{color:"#849271"}},this.settings.targetLabels.fontFamily="Verdana",this.settings.targetLabels.percentile=10,this.settings.markers.size=2):"sample-3"==t.value&&(this.settings.targetLabels.border=!1,this.settings.targetLabels.background=!1,this.settings.targetLabels.useMarkerColor="text",this.settings.markers.fill.values[0].value={solid:{color:"#118DFF"}},this.settings.markers.fill.values[1].value={solid:{color:"#E044A7"}},this.settings.targetLabels.fontSize=9,this.settings.targetLabels.fontFamily=n.Ul),this.generatePreview()}}})]),(0,n.En)("p",[(0,n.En)(".step-section-title","Overlap"),(0,n._6)(".overvalp",null,{change:(e,t)=>{this.settings.labelsOption.overlap=t,this.generatePreview()}})])]),(0,n.En)(".step-section.preview",{middleware:e=>this.previewContainer=e})]),this.generatePreview()}getDummyDataset(){return[{tree:null,single:null,matrix:null,table:null,metadata:{columns:[{roles:{Category:!0},type:{underlyingType:1,category:null,primitiveType:1,extendedType:1,categoryString:null,text:!0,numeric:!1,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},displayName:"Category",queryName:"Product Category.Category",expr:{_kind:2,source:{_kind:0,entity:"Product Category",variable:"p",kind:0},ref:"Category",kind:2},rolesIndex:{Category:[0]},index:0,identityExprs:[{_kind:2,source:{_kind:0,entity:"Product Category",kind:0},ref:"Category",kind:2}]},{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"Sales Amount",queryName:"Sales.Sales Amount",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Sales Amount",kind:3},sort:2,sortOrder:0,rolesIndex:{Value:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:1,isMeasure:!0,aggregates:{minLocal:650402.19,maxLocal:1426288.26}},{roles:{targets:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:'"€" #,0.00;-"€" #,0.00;"€" #,0.00',displayName:"Sales Cost",queryName:"Sales.Sales Cost",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Sales Cost",kind:3},rolesIndex:{targets:[0]},objects:{markers:{fill:{solid:{color:"#118dff"}}},general:{formatString:'"€" #,0.00;-"€" #,0.00;"€" #,0.00'}},index:2,isMeasure:!0,aggregates:{minLocal:297484.99,maxLocal:620715.83}},{roles:{targets:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:'"€"\\ #,0.00;-"€"\\ #,0.00;"€"\\ #,0.00',displayName:"80%-Sales",queryName:"States.80%-Sales",expr:{_kind:3,source:{_kind:0,entity:"States",variable:"s1",kind:0},ref:"80%-Sales",kind:3},rolesIndex:{targets:[1]},objects:{markers:{fill:{solid:{color:"#e044a7"}},shape:"line"},general:{formatString:'"€"\\ #,0.00;-"€"\\ #,0.00;"€"\\ #,0.00'}},index:3,isMeasure:!0,aggregates:{minLocal:520321.752,maxLocal:1141030.608}}],objects:{states:{show:!1},dataPoint:{defaultFill:{solid:{color:"#000000"}},showAll:!1},labelsOption:{overlap:!1,order:"data-target"},variances:{show:!0},targetLabels:{show:!0,useMarkerColor:"border-text",border:!0,background:!1,backgroundOpacity:75,borderStroke:1,percentile:10,fontSize:8,position:"top",fontFamily:"'Arial Black'"},label:{autoSize:!1},general:{bulletSpacing:37},axis:{show:!1},dataLabels:{show:!0}},dataRoles:{drillableRoles:{Category:[]}}},categorical:{categories:[{source:{roles:{Category:!0},type:{underlyingType:1,category:null,primitiveType:1,extendedType:1,categoryString:null,text:!0,numeric:!1,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},displayName:"Category",queryName:"Product Category.Category",expr:{_kind:2,source:{_kind:0,entity:"Product Category",variable:"p",kind:0},ref:"Category",kind:2},rolesIndex:{Category:[0]},index:0,identityExprs:[{_kind:2,source:{_kind:0,entity:"Product Category",kind:0},ref:"Category",kind:2}]},values:["Home Appliances","Computers","Cameras and camcorders","TV and Video"],identity:[{identityIndex:0},{identityIndex:1},{identityIndex:2},{identityIndex:3}],identityFields:[{_kind:2,source:{_kind:0,entity:"Product Category",kind:0},ref:"Category",kind:2}]}],values:[{source:{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"Sales Amount",queryName:"Sales.Sales Amount",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Sales Amount",kind:3},sort:2,sortOrder:0,rolesIndex:{Value:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:1,isMeasure:!0,aggregates:{minLocal:650402.19,maxLocal:1426288.26}},values:[1426288.26,903856.11,861595.54,650402.19],minLocal:650402.19,maxLocal:1426288.26},{source:{roles:{targets:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:'"€" #,0.00;-"€" #,0.00;"€" #,0.00',displayName:"Sales Cost",queryName:"Sales.Sales Cost",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Sales Cost",kind:3},rolesIndex:{targets:[0]},objects:{markers:{fill:{solid:{color:"#118dff"}}},general:{formatString:'"€" #,0.00;-"€" #,0.00;"€" #,0.00'}},index:2,isMeasure:!0,aggregates:{minLocal:297484.99,maxLocal:620715.83}},values:[620715.83,390382.97,332489.79,297484.99],minLocal:297484.99,maxLocal:620715.83},{source:{roles:{targets:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:'"€"\\ #,0.00;-"€"\\ #,0.00;"€"\\ #,0.00',displayName:"80%-Sales",queryName:"States.80%-Sales",expr:{_kind:3,source:{_kind:0,entity:"States",variable:"s1",kind:0},ref:"80%-Sales",kind:3},rolesIndex:{targets:[1]},objects:{markers:{fill:{solid:{color:"#e044a7"}},shape:"line"},general:{formatString:'"€"\\ #,0.00;-"€"\\ #,0.00;"€"\\ #,0.00'}},index:3,isMeasure:!0,aggregates:{minLocal:520321.752,maxLocal:1141030.608}},values:[1141030.608,723084.888,689276.432,520321.752],minLocal:520321.752,maxLocal:1141030.608}]}}]}changeDefaultSettings(){this.settings.general.bulletSpacing=30,this.settings.markers.size=3,this.settings.markers.fill.values[0].value={solid:{color:"#118DFF"}},this.settings.markers.fill.values[1].value={solid:{color:"#E044A7"}},this.settings.markers.shape.values[1].value="line",this.settings.targetLabels.show=!0,this.settings.targetLabels.fontFamily=n.Ul,this.settings.targetLabels.fontSize=9,this.settings.targetLabels.border=!1,this.settings.targetLabels.useMarkerColor="",this.settings.targetLabels.position="top",this.settings.targetLabels.background=!1,this.settings.dataLabels.show=!0,this.settings.dataLabels.position="outside-end",this.settings.axis.show=!1,this.settings.states.show=!1,this.settings.label.autoSize=!1,this.settings.labelsOption.order="target-data",this.settings.dataPoint.defaultFill={solid:{color:"#B3B3B3"}}}}},5608:(e,t,i)=>{"use strict";i.d(t,{O:()=>r});var n=i(3520),a=i(3096);class r extends a._{get title(){return"Variances"}draw(){(0,n.En)(".step-cols",this.element,[(0,n.En)(".step-section.options",[(0,n.En)("p",[(0,n.En)(".step-section-title","Good Color"),(0,n.En)("span.good-color.dialog-col",[n.eM.DOM({id:"fillGood",color:this.settings.variances.fillGood.solid.color})])]),(0,n.En)("p",[(0,n.En)(".step-section-title","Bad Color"),(0,n.En)("span.bad-color.dialog-col",[n.eM.DOM({id:"fillBad",color:this.settings.variances.fillBad.solid.color})])]),(0,n.En)("p",[(0,n.En)(".step-section-title","Share Targets"),(0,n.En)("span.share.dialog-col",[(0,n._6)(".share-toogle",null,{checked:this.settings.variances.share,change:(e,t)=>{this.settings.variances.share=t,this.settings.markers.share=t,this.generatePreview()}})])])]),(0,n.En)(".step-section.preview",{middleware:e=>this.previewContainer=e})]),this.generatePreview(),n.eM.instance.on("change",(e=>{this.settings.variances[e.id].solid.color=e.color,this.generatePreview()}))}getDummyDataset(){return[{matrix:null,table:null,tree:null,single:null,metadata:{columns:[{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"Sales Amount",queryName:"Sales.Sales Amount",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Sales Amount",kind:3},sort:2,sortOrder:0,objects:{dataPoint:{fill:{solid:{color:"#333333"}}},general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},rolesIndex:{Value:[0]},index:0,isMeasure:!0},{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:'"€" #,0.00;-"€" #,0.00;"€" #,0.00',displayName:"Sales Cost",queryName:"Sales.Sales Cost",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Sales Cost",kind:3},rolesIndex:{Value:[1]},objects:{dataPoint:{fill:{solid:{color:"#333333"}}},general:{formatString:'"€" #,0.00;-"€" #,0.00;"€" #,0.00'}},index:1,isMeasure:!0},{roles:{targets:!0,TargetVariance:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"20%-Sales",queryName:"States.20%-Sales",expr:{_kind:3,source:{_kind:0,entity:"States",variable:"s1",kind:0},ref:"20%-Sales",kind:3},rolesIndex:{targets:[0],TargetVariance:[0]},objects:{markers:{fill:{solid:{color:"#b3b3b3"}}},general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},index:2,isMeasure:!0},{roles:{targets:!0,TargetVariance:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:'"€"\\ #,0.00;-"€"\\ #,0.00;"€"\\ #,0.00',displayName:"80%-Sales",queryName:"States.80%-Sales",expr:{_kind:3,source:{_kind:0,entity:"States",variable:"s1",kind:0},ref:"80%-Sales",kind:3},rolesIndex:{targets:[1],TargetVariance:[1]},objects:{general:{formatString:'"€"\\ #,0.00;-"€"\\ #,0.00;"€"\\ #,0.00'}},index:3,isMeasure:!0}],objects:{states:{show:!1},axis:{show:!0},variances:{share:!1,fillGood:{solid:{color:"#6DC065"}}},markers:{share:!1},legend:{show:!1},dataLabels:{show:!0,fontSize:11,showChange:"target-variance"}},dataRoles:{drillableRoles:{Category:[]}}},categorical:{values:[{source:{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"Sales Amount",queryName:"Sales.Sales Amount",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Sales Amount",kind:3},sort:2,sortOrder:0,objects:{dataPoint:{fill:{solid:{color:"#333333"}}},general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},rolesIndex:{Value:[0]},index:0,isMeasure:!0},values:[4219917.9]},{source:{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:'"€" #,0.00;-"€" #,0.00;"€" #,0.00',displayName:"Sales Cost",queryName:"Sales.Sales Cost",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Sales Cost",kind:3},rolesIndex:{Value:[1]},objects:{dataPoint:{fill:{solid:{color:"#333333"}}},general:{formatString:'"€" #,0.00;-"€" #,0.00;"€" #,0.00'}},index:1,isMeasure:!0},values:[1805669.41]},{source:{roles:{targets:!0,TargetVariance:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"20%-Sales",queryName:"States.20%-Sales",expr:{_kind:3,source:{_kind:0,entity:"States",variable:"s1",kind:0},ref:"20%-Sales",kind:3},rolesIndex:{targets:[0],TargetVariance:[0]},objects:{markers:{fill:{solid:{color:"#b3b3b3"}}},general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},index:2,isMeasure:!0},values:[843983.58]},{source:{roles:{targets:!0,TargetVariance:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:'"€"\\ #,0.00;-"€"\\ #,0.00;"€"\\ #,0.00',displayName:"80%-Sales",queryName:"States.80%-Sales",expr:{_kind:3,source:{_kind:0,entity:"States",variable:"s1",kind:0},ref:"80%-Sales",kind:3},rolesIndex:{targets:[1],TargetVariance:[1]},objects:{general:{formatString:'"€"\\ #,0.00;-"€"\\ #,0.00;"€"\\ #,0.00'}},index:3,isMeasure:!0},values:[3375934.32]}]}}]}changeDefaultSettings(){this.settings.axis.show=!0,this.settings.states.show=!1,this.settings.dataPoint.fill.values[0].value={solid:{color:"#333333"}},this.settings.dataPoint.fill.values[1].value={solid:{color:"#333333"}},this.settings.markers.fill.values[0].value={solid:{color:"#b3b3b3"}},this.settings.dataLabels.show=!0,this.settings.dataLabels.fontSize=11,this.settings.dataLabels.showChange="target-variance",this.settings.dataLabels.background=!0,this.settings.dataLabels.backgroundOpacity=80,this.settings.dataLabels.percentile=20,this.settings.variances.share=!1,this.settings.markers.share=!1}}},9676:(e,t,i)=>{"use strict";i.d(t,{K:()=>a});var n=i(3520);class a extends n.Qr{get title(){return"Want more from Bullet Chart?"}draw(){(0,n.En)(".welcome",this.element,[(0,n.En)(".hero",[(0,n.En)(".bullet-chart-logo"),(0,n.En)(".welcome-text","Unlock these features with a Premium license:")]),(0,n.En)(".features",[(0,n.En)(".feature",[(0,n.En)(".icon.icon-sort"),(0,n.En)("div","Variances")]),(0,n.En)(".feature",[(0,n.En)(".icon.icon-theme"),(0,n.En)("div","Target Labels")]),(0,n.En)(".feature",[(0,n.En)(".icon.icon-theme"),(0,n.En)("div","Labels Customization")]),(0,n.En)(".feature",[(0,n.En)(".icon.icon-marker-ok"),(0,n.En)("div","Advanced Color Rules")]),(0,n.En)(".feature",[(0,n.En)(".icon.icon-theme"),(0,n.En)("div","Bullet Spacing")]),(0,n.En)(".feature",[(0,n.En)(".icon.icon-theme"),(0,n.En)("div","Borders and Shadows")]),(0,n.En)(".feature",[(0,n.En)(".icon.icon-table"),(0,n.En)("div","Gridline")]),(0,n.En)(".feature",[(0,n.En)(".icon.icon-marker-flag"),(0,n.En)("div","Unlimited Targets")]),(0,n.En)(".feature",[(0,n.En)(".icon.icon-layout"),(0,n.En)("div","Templates")]),(0,n.En)(".feature",[(0,n.En)(".icon.icon-layers"),(0,n.En)("div","Incremental Loading")])])])}}},6820:(e,t,i)=>{"use strict";i.r(t),i.d(t,{PremiumStepBulletShape:()=>r.K,PremiumStepColorRules:()=>l.i,PremiumStepLabels:()=>o.g,PremiumStepTargetLabels:()=>s.Q,PremiumStepVariances:()=>a.O,PremiumStepWelcome:()=>n.K});var n=i(9676),a=i(5608),r=i(7524),o=i(5404),s=i(9812),l=i(1036)},672:(e,t,i)=>{"use strict";i.d(t,{Ap:()=>f,CM:()=>p,EH:()=>g,Ef:()=>c,Gg:()=>u,Gy:()=>w,MP:()=>m,MV:()=>s,O4:()=>S,S2:()=>C,S8:()=>l,Xb:()=>v,_2:()=>d,c9:()=>E,gd:()=>h,iQ:()=>b,oj:()=>k,uK:()=>x,u_:()=>y,yu:()=>M});var n=i(3520),a=i(7988),r=i(6636);class o{premium=new l;general=new s;label=new c;axis=new u;dataLabels=new d;dataPoint=new h;bulletShape=new g;targets=new p;labelsOption=new y;variances=new v;markers=new f;targetLabels=new m;states=new b;legend=new S;tooltips=new x;editor=new w;about=new k;internal=new T;accessibility=new C}class s{orientation="h";numberLocale="en-US";locale="";minHeight=null;maxHeight=null;minWidth=null;maxWidth=null;bulletSpacing=1;maxRows=null;enumerate(e){return{general:[{name:"orientation"},{if:()=>"h"==e.general.orientation,then:[{name:"minHeight",range:[0,1e4]},{name:"maxHeight",range:[0,1e4]}]},{if:()=>"v"==e.general.orientation,then:[{name:"minWidth",range:[0,1e4]},{name:"maxWidth",range:[0,1e4]}]},{name:"bulletSpacing",range:[0,50]},{name:"maxRows",range:[0,1e6]},{name:"numberLocale"},{name:"locale"}]}}}class l{showDialog=!1;enumerate(e,t){return{premium:[{name:"showDialog",if:()=>!t}]}}}class c{show=!0;text="";fontFamily=n.KD;fontSize=9;fill=null;autoSize=!0;percentile=0;rotation="auto";hierarchyLabels=!0;separator=", ";reverseLabels=!1;enumerate(e,t){return{label:[{name:"show"},{name:"text",if:()=>t.dataPoints.length<=1},{name:"autoSize"},{name:"percentile",range:[0,80]},{name:"rotation",if:()=>"v"==e.general.orientation&&!e.label.autoSize},{name:"fontFamily"},{name:"fontSize"},{name:"fill"},{name:"hierarchyLabels",if:()=>(0,n.QN)(t.fields,r.QJ.Category)},{if:()=>(0,n.QN)(t.fields,r.QJ.Category)&&e.label.hierarchyLabels,then:[{name:"separator"},{name:"reverseLabels"}]}]}}}class u{show=!0;start=null;end=null;fontFamily=n.KD;fontSize=8;fill=null;unit=0;precision=null;baseline=!1;baselineFill={solid:{color:"#000"}};baselineStroke=1;gridlines=!0;fillGridlines={solid:{color:"#e9e9e9"}};strokeGridlines=1;lineCap="square";lineDensity=35;positionGridlines="backward";styleGridlines="solid";enumerate(e){return{axis:[{name:"show"},{name:"start"},{name:"end"},{name:"fontFamily"},{name:"fontSize"},{name:"fill"},{name:"unit"},{name:"precision",range:[0,15]},{name:"baseline"},{if:()=>e.axis.baseline,then:[{name:"baselineFill"},{name:"baselineStroke",range:[1,10]}]},{name:"gridlines"},{if:()=>e.axis.gridlines,then:[{name:"fillGridlines"},{name:"strokeGridlines",range:[1,10]},{name:"positionGridlines"},{name:"styleGridlines"},{name:"lineCap"},{name:"lineDensity",range:[1,40],if:()=>"dotted"==e.axis.styleGridlines||"dashed"==e.axis.styleGridlines}]}]}}}class d{show=!1;fill=null;useMarkerColor="";fontFamily=n.Ul;fontSize=9;unit=0;precision=null;position="auto";center=!1;changeValueType="percentage";showChange="";changePrecision=null;background=!1;backgroundFill={solid:{color:"#f2f2f2"}};backgroundOpacity=100;border=!1;borderFill={solid:{color:"#000"}};borderOpacity=100;borderStroke=1;borderStyle="solid";lineDensity=40;percentile=0;enumerate(e,t){return{dataLabels:[{name:"show"},{name:"fontFamily"},{name:"fontSize"},{name:"useMarkerColor"},{name:"fill",if:()=>""==e.dataLabels.useMarkerColor||"border"==e.dataLabels.useMarkerColor},{name:"unit"},{name:"precision",range:[0,15]},{name:"position"},{name:"center",if:()=>(0,n.QN)(t.fields,r.QJ.TargetVariance)&&"h"==e.general.orientation&&"hanging"==e.variances.alignment},{if:()=>(0,n.QN)(t.fields,r.QJ.Targets)||(0,n.QN)(t.fields,r.QJ.ComparisonValue)||(0,n.QN)(t.fields,r.QJ.TargetVariance),then:[{name:"showChange"},{if:()=>""!=e.dataLabels.showChange,then:[{name:"changeValueType"},{name:"changePrecision",range:[0,15]}]}]},{name:"background",if:()=>e.dataLabels.show},{if:()=>e.dataLabels.background,then:[{name:"backgroundFill",if:()=>"background"!=e.dataLabels.useMarkerColor&&"background-border"!=e.dataLabels.useMarkerColor},{name:"backgroundOpacity",range:[0,100]}]},{name:"border"},{if:()=>e.dataLabels.border,then:[{name:"borderFill",if:()=>"border"!=e.dataLabels.useMarkerColor&&"border-text"!=e.dataLabels.useMarkerColor&&"background-border"!=e.dataLabels.useMarkerColor},{name:"borderOpacity",range:[0,100]},{name:"borderStroke",range:[1,10]},{name:"borderStyle"},{name:"lineDensity",range:[1,40],if:()=>"dotted"==e.dataLabels.borderStyle||"dashed"==e.dataLabels.borderStyle}]},{name:"percentile",if:()=>e.dataLabels.background||e.dataLabels.border}]}}}class h{defaultFill=null;showAll=!1;fill=null;comparisonFill=null;enumerate(e,t){return{dataPoint:[{if:()=>(0,n.QN)(t.fields,r.QJ.Category),then:[{name:"defaultFill",conditional:!1},{name:"showAll"}]},{name:"fill",if:()=>e.dataPoint.showAll||!(0,n.QN)(t.fields,r.QJ.Category),dataBound:!0,conditional:!1},{name:"comparisonFill",if:()=>(0,n.QN)(t.fields,r.QJ.ComparisonValue),dataBound:!0,conditional:!1}]}}}class g{border=!1;borderFill={solid:{color:"#000"}};borderOpacity=100;borderStroke=1;borderStyle="solid";lineDensity=40;percentile=0;shadows=!1;shadowPosition="bottom-right";shadowOffset="outside";shadowsComparison=!1;enumerate(e,t){return{bulletShape:[{name:"border"},{if:()=>e.bulletShape.border,then:[{name:"borderFill"},{name:"borderOpacity",range:[0,100]},{name:"borderStroke",range:[1,10]},{name:"borderStyle"},{name:"lineDensity",range:[1,40],if:()=>"dotted"==e.bulletShape.borderStyle||"dashed"==e.bulletShape.borderStyle}]},{name:"percentile"},{name:"shadows"},{name:"shadowOffset",if:()=>e.bulletShape.shadows},{name:"shadowPosition",if:()=>e.bulletShape.shadows},{name:"shadowsComparison",if:()=>(0,n.QN)(t.fields,r.QJ.ComparisonValue)&&e.bulletShape.shadows}]}}}class p{advancedRules=!1;comparison=null;fill=null;stopAfterMatch=!1;tolerance=0;enumerate(e,t){return{targets:[{name:"advancedRules"},{if:()=>!e.targets.advancedRules&&(0,n.QN)(t.fields,r.QJ.Targets)&&(0,n.QN)(t.fields,r.QJ.Value),then:[{name:"comparison",displayName:"{index}. If Value is [condition] {field}",dataBound:!0},{name:"fill",displayName:"{index}. Assign color",dataBound:!0},{name:"stopAfterMatch",if:()=>t.fields[r.QJ.Value].length<=1||e.markers.share},{name:"tolerance"}]}]}}}class f{fill=null;size=null;shape=null;share=!0;enumerate(e,t){return{markers:[{if:()=>(0,n.QN)(t.fields,r.QJ.Targets),then:[{name:"size",range:[1,30]},{name:"fill",dataBound:!0},{name:"shape",dataBound:!0},{name:"share",if:()=>(0,n.QN)(t.fields,r.QJ.Value)&&t.fields[r.QJ.Value].length>1}]}]}}}class m{show=!1;fill=null;useMarkerColor="";fontFamily=n.Ul;fontSize=9;unit=0;precision=null;position="right";background=!1;backgroundFill={solid:{color:"#f2f2f2"}};backgroundOpacity=100;border=!1;borderFill={solid:{color:"#000"}};borderOpacity=100;borderStroke=1;percentile=0;center=!1;changeValueType="percentage";showChange="";changePrecision=null;borderStyle="solid";lineDensity=40;enumerate(e,t){return{targetLabels:[{if:()=>(0,n.QN)(t.fields,r.QJ.Targets),then:[{name:"show"},{name:"useMarkerColor"},{name:"fill",if:()=>""==e.targetLabels.useMarkerColor||"border"==e.targetLabels.useMarkerColor},{name:"fontFamily"},{name:"fontSize"},{name:"unit"},{name:"precision",range:[0,15]},{name:"position"},{name:"background",if:()=>e.targetLabels.show},{if:()=>e.targetLabels.background,then:[{name:"backgroundFill",if:()=>"background"!=e.targetLabels.useMarkerColor&&"background-border"!=e.targetLabels.useMarkerColor},{name:"backgroundOpacity"}]},{name:"border",if:()=>e.targetLabels.show},{if:()=>e.targetLabels.border,then:[{name:"borderFill",if:()=>"border"!=e.targetLabels.useMarkerColor&&"border-text"!=e.targetLabels.useMarkerColor&&"background-border"!=e.targetLabels.useMarkerColor},{name:"borderOpacity"},{name:"borderStroke"},{name:"percentile"}]}]}]}}}class y{order="data-target";overlap=!1;overflow=!0;enumerate(e,t){return{labelsOption:[{if:()=>(0,n.QN)(t.fields,r.QJ.Value)||(0,n.QN)(t.fields,r.QJ.Targets),then:[{name:"order",if:()=>(0,n.QN)(t.fields,r.QJ.Value)&&(0,n.QN)(t.fields,r.QJ.Targets)},{name:"overlap"},{name:"overflow"}]}]}}}class v{fillGood={solid:{color:"#6DC065"}};fillBad={solid:{color:"#F20D0E"}};percentile=50;alignment="hanging";showTooltips=!0;share=!0;enumerate(e){return{variances:[{if:()=>(0,n.QN)(e.fields,r.QJ.TargetVariance),then:[{name:"fillGood"},{name:"fillBad"},{name:"percentile",range:[10,50]},{name:"alignment"},{name:"showTooltips"},{name:"share",if:()=>(0,n.QN)(e.fields,r.QJ.Value)&&e.fields[r.QJ.Value].length>1}]}]}}}class b{show=!0;fill=null;opacity=100;showTooltips=!1;autoSort=!1;additionalStates=!1;calculate="percentage";state1=null;state1Perc=null;state1Fill={solid:{color:"#bbb"}};state2=null;state2Perc=null;state2Fill={solid:{color:"#ccc"}};state3=null;state3Perc=null;state3Fill={solid:{color:"#ddd"}};state4=null;state4Perc=null;state4Fill={solid:{color:"#eee"}};state5=null;state5Perc=null;state5Fill={solid:{color:"#f2f2f2"}};extendLastState=!1;enumerate(e,t){return{states:[{name:"show"},{name:"fill",if:()=>(0,n.QN)(t.fields,r.QJ.States),dataBound:!0},{name:"showTooltips"},{name:"opacity",range:[0,100]},{name:"autoSort",if:()=>(0,n.QN)(t.fields,r.QJ.States)&&t.fields.states.length>1},{name:"additionalStates",if:()=>(0,n.QN)(t.fields,r.QJ.States)&&t.fields.states.length>1},{if:()=>!(0,n.QN)(t.fields,r.QJ.States),then:[{name:"calculate"},{name:"state1",if:()=>"absolute"==e.states.calculate},{name:"state1Perc",if:()=>"percentage"==e.states.calculate},{name:"state1Fill"},{name:"state2",if:()=>"absolute"==e.states.calculate},{name:"state2Perc",if:()=>"percentage"==e.states.calculate},{name:"state2Fill"},{name:"state3",if:()=>"absolute"==e.states.calculate},{name:"state3Perc",if:()=>"percentage"==e.states.calculate},{name:"state3Fill"},{name:"state4",if:()=>"absolute"==e.states.calculate},{name:"state4Perc",if:()=>"percentage"==e.states.calculate},{name:"state4Fill"},{name:"state5",if:()=>"absolute"==e.states.calculate},{name:"state5Perc",if:()=>"percentage"==e.states.calculate},{name:"state5Fill"}]},{name:"extendLastState"}]}}}class S{show=!1;position=a.qv[a.qv.Top];showTitle=!1;titleText="";labelColor=null;fontFamily=n.KD;fontSize=8;enumerate(e){return{legend:[{name:"show"},{name:"position"},{name:"showTitle"},{name:"titleText",if:()=>e.legend.showTitle},{name:"labelColor"},{name:"fontFamily"},{name:"fontSize"}]}}}class x{unit=1;precision=null;highlightedValue="Highlighted";labelComparison="";labelStates="";labelTargets="";labelVariances="Variance";enumerate(){return{tooltips:[{name:"unit"},{name:"precision",range:[0,15]},{name:"highlightedValue"},{name:"labelComparison"},{name:"labelStates"},{name:"labelTargets"},{name:"labelVariances"}]}}}class w{hide=!1;pin=!1;enumerate(e){return{editor:[{name:"hide"},{name:"pin",if:()=>!e.editor.hide}]}}}class k{name="";version="";license="";diagnostics=!1;enumerate(e,t,i){return{about:[{name:"name",value:t.displayName},{name:"version",value:t.versionDisplayName},{name:"license",value:i},{name:"diagnostics"}]}}}class C{screenReaderLabel=!1;arrowKeys=!0;enumerate(){return{accessibility:[{name:"screenReaderLabel"},{name:"arrowKeys"}]}}}class T{colorRules=null}const M=e=>{const t=new o,i=thisVisual.host.colorPalette;t.general.locale=thisVisual.host.locale,t.label.fill={solid:{color:i.foreground.value}},t.axis.fill={solid:{color:i.foreground.value}},t.dataPoint.defaultFill={solid:{color:i.getColor("0").value}},t.legend.labelColor={solid:{color:i.foreground.value}};const a=e&&e.dataViews&&e.dataViews[0];if(a){(0,n.Q1)(a.metadata.columns,r.QJ.Category,n.K_.First)?t.dataPoint.fill=(0,n.AR)(r.QJ.Category,e,{kind:"color",palette:i}):t.dataPoint.fill=(0,n.mm)(r.QJ.Value,e,{kind:"static",value:{solid:{color:i.getColor("0").value}}}),t.dataPoint.comparisonFill=(0,n.mm)(r.QJ.ComparisonValue,e,{kind:"static",value:{solid:{color:"#99E3DD"}}}),t.states.fill=(0,n.mm)(r.QJ.States,e,{kind:"list",list:[{solid:{color:"#bbb"}},{solid:{color:"#ccc"}},{solid:{color:"#ddd"}},{solid:{color:"#eee"}},{solid:{color:"#f2f2f2"}}]}),t.targets.comparison=(0,n.mm)(r.QJ.Targets,e,{kind:"static",value:"<"}),t.targets.fill=(0,n.mm)(r.QJ.Targets,e,{kind:"static",value:null}),t.markers.fill=(0,n.mm)(r.QJ.Targets,e,{kind:"static",value:{solid:{color:i.foreground.value}}});let o=!0;a.categorical&&a.categorical.values&&(0,n.Q1)(a.categorical.values,r.QJ.Value).length>1&&(o=(0,n.Kk)(a.metadata.objects,"markers","share",t.markers.share,[["targets.share","markers.share"]])),t.markers.shape=(0,n.mm)(r.QJ.Targets,e,{kind:"list",list:o?["line","circle","square","cross"]:["line"]})}return t};function E(){return[{property:"states.opacity",defaultValue:(new b).opacity,displayName:"States Opacity"},{property:"states.additionalStates",defaultValue:(new b).additionalStates,displayName:"Additional states"},{property:"axis.fillGridlines",defaultValue:(new u).fillGridlines,displayName:"Gridlines color"},{property:"axis.strokeGridlines",defaultValue:(new u).strokeGridlines,displayName:"Gridlines stroke"},{property:"axis.positionGridlines",defaultValue:(new u).positionGridlines,displayName:"Gridlines position"},{property:"axis.styleGridlines",defaultValue:(new u).styleGridlines,displayName:"Gridlines line style"},{property:"axis.lineCap",defaultValue:(new u).lineCap,displayName:"Gridlines linecap"},{property:"axis.lineDensity",defaultValue:(new u).lineDensity,displayName:"Gridlines line density"},{property:"axis.baseline",defaultValue:(new u).baseline,displayName:"Axis baseline"},{property:"label.percentile",defaultValue:(new c).percentile,displayName:"Category axis size %"},{property:"label.rotation",defaultValue:(new c).rotation,displayName:"Category axis text rotation"},{property:"dataLabels.position",defaultValue:(new d).position,displayName:"Data labels position"},{property:"dataLabels.background",defaultValue:(new d).background,displayName:"Data labels background"},{property:"dataLabels.border",defaultValue:(new d).border,displayName:"Data labels border"},{property:"dataLabels.changeValueType",defaultValue:(new d).changeValueType,displayName:"Data labels change value type"},{property:"bulletShape.border",defaultValue:(new g).border,displayName:"Bullet border"},{property:"bulletShape.percentile",defaultValue:(new g).percentile,displayName:"Bullet corner radius"},{property:"bulletShape.shadows",defaultValue:(new g).shadows,displayName:"Bullet shadows"},{property:"targets.advancedRules",defaultValue:(new p).advancedRules,displayName:"Advanced color rules"},{property:"targetLabels.show",defaultValue:(new m).show,displayName:"Targets Labels"},{property:"labelsOption.order",defaultValue:(new y).order,displayName:"Labels priority"},{property:"labelsOption.overflow",defaultValue:(new y).overflow,displayName:"Labels overflow"},{property:"labelsOption.overlap",defaultValue:(new y).overlap,displayName:"Labels overlap"}]}},4087:(e,t,i)=>{"use strict";i.d(t,{s:()=>a});var n=i(3520);class a{element;landingPage;constructor(e){this.element=e}draw(){this.landingPage||(this.landingPage=(0,n.En)(".visual-landing",this.element,[(0,n.En)(".watermark"),(0,n.En)("a.logo",{attr:{href:"https://okviz.com/",target:"_blank",title:"OKVIZ website"},events:{click:e=>{e.preventDefault();const t=e.currentTarget;thisVisual.host.launchUrl(t.href)}}})]))}destroy(){this.landingPage&&(this.landingPage.remove(),this.landingPage=null)}}},1532:(e,t,i)=>{"use strict";i.d(t,{a:()=>o});var n=i(7884),a=i(1976),r=i(7988);class o{legend;legendObserver;legendDataPoints;legendSettings;get visible(){return this.canBeVisible&&this.legend&&this.legend.isVisible()}get canBeVisible(){return this.legendSettings&&this.legendSettings.show&&this.legendDataPoints&&this.legendDataPoints.length}get size(){return this.visible?this.legend.getMargins():{width:0,height:0}}constructor(e){this.legend=a.ct(e,!1,null,!0,r.qv.Top),this.legendObserver=new MutationObserver((()=>this.replaceLegendCustomIcons()))}draw(e,t,i){this.legendDataPoints=e,this.legendSettings=t,this.canBeVisible?(this.legend.changeOrientation(r.qv[t.position]),this.legend.drawLegend({title:t.showTitle?t.titleText:"",dataPoints:e,labelColor:t.labelColor.solid.color,fontSize:t.fontSize,fontFamily:t.fontFamily},i),this.replaceLegendCustomIcons()):this.legend.drawLegend({dataPoints:[]},i)}replaceLegendCustomIcons(){this.legendObserver.disconnect();const e=n.MlD("#legendGroup");e.selectAll(".customLegendIcon").remove(),e.selectAll(".legendIcon").style("display",null),this.legendDataPoints.filter((e=>!!e.customShape)).length&&e.selectAll(".legendItem").each(((e,t,i)=>{const a=this.legendDataPoints[t];if(a&&a.customShape){const e=n.MlD(i[t]),r=e.select(".legendText"),o=r.node().getBoundingClientRect(),s=5,l=parseFloat(r.attr("x"))-s-2,c=parseFloat(r.attr("y"))-o.height/2+s-2;if(e.select(".legendIcon").style("display","none"),"line"==a.customShape)e.append("line").classed("customLegendIcon",!0).attr("x1",l).attr("x2",l).attr("y1",c-s).attr("y2",c+s).style("stroke",a.color).style("stroke-width",s/2);else if("cross"==a.customShape){const t=e.append("g").classed("customLegendIcon",!0);t.append("line").attr("x1",l+s).attr("x2",l-s).attr("y1",c-s).attr("y2",c+s).style("stroke",a.color).style("stroke-width",s/2),t.append("line").attr("x1",l-s).attr("x2",l+s).attr("y1",c-s).attr("y2",c+s).style("stroke",a.color).style("stroke-width",s/2)}}})),this.legendObserver.observe(e.node(),{childList:!0,subtree:!0})}destroy(){this.legendObserver.disconnect(),this.legendDataPoints=null,this.legend.drawLegend({dataPoints:[]},null)}}},9308:(e,t,i)=>{"use strict";i.d(t,{U:()=>s});var n=i(5768),a=i(6636),r=i(708),o=i(672);const s=[{id:"builtin-vertical",name:"Vertical Bars",description:"",required:[],premium:!1,type:0,category:"",settings:{premium:{showDialog:!1},general:{orientation:"v",locale:"en-US",numberLocale:"en-US",minHeight:null,maxHeight:null,minWidth:null,maxWidth:null,maxRows:null},label:{show:!0,text:"",fontFamily:"'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",fontSize:9,fill:{solid:{color:"#252423"}},autoSize:!1,percentile:0,rotation:"auto",hierarchyLabels:!0,separator:", ",reverseLabels:!1},axis:{show:!0,start:null,end:null,fontFamily:"'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",fontSize:8,fill:{solid:{color:"#252423"}},unit:0,precision:1,baseline:!1,baselineFill:{solid:{color:"#000"}},baselineStroke:1,gridlines:!0,fillGridlines:{solid:{color:"#e9e9e9"}},strokeGridlines:1,lineCap:"square",lineDensity:20,positionGridlines:"backward",styleGridlines:"solid"},dataLabels:{show:!0,fill:{solid:{color:null}},fontFamily:"wf_standard-font, helvetica, arial, sans-serif",fontSize:11,unit:0,precision:null,position:"auto",center:!1,changeValueType:"percentage",showChange:"",changePrecision:null,overflow:!0,background:!0,backgroundFill:{solid:{color:"#f2f2f2"}},backgroundOpacity:80,border:!1,borderFill:{solid:{color:"#000"}},borderOpacity:100,borderStroke:1,borderStyle:"solid",lineDensity:40,percentile:0},dataPoint:{defaultFill:{solid:{color:"#118DFF"}},showAll:!1},bulletShape:{border:!1,borderFill:{solid:{color:"#000"}},borderOpacity:100,borderStroke:1,borderStyle:"solid",lineDensity:40,percentile:0,shadows:!1,shadowPosition:"bottom-right",shadowOffset:"outside",shadowsComparison:!1},targets:{advancedRules:!1,stopAfterMatch:!1,tolerance:0},variances:{show:!0,fillGood:{solid:{color:"#6DC065"}},fillBad:{solid:{color:"#F20D0E"}},percentile:50,alignment:"hanging",showTooltips:!0,share:!0},markers:{size:null,share:!0},states:{show:!1,opacity:100,showTooltips:!1,autoSort:!1,additionalStates:!1,calculate:"percentage",state1:null,state1Perc:null,state1Fill:{solid:{color:"#bbb"}},state2:null,state2Perc:null,state2Fill:{solid:{color:"#ccc"}},state3:null,state3Perc:null,state3Fill:{solid:{color:"#ddd"}},state4:null,state4Perc:null,state4Fill:{solid:{color:"#eee"}},state5:null,state5Perc:null,state5Fill:{solid:{color:"#f2f2f2"}},extendLastState:!0},legend:{show:!1,position:"Bottom",showTitle:!1,titleText:"",labelColor:{solid:{color:"#252423"}},fontFamily:"'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",fontSize:8},tooltips:{unit:1,precision:null,highlightedValue:"Highlighted",labelComparison:"(comparison)",labelStates:"(state)",labelTargets:"(target)",labelVariances:"Variance"},editor:{hide:!1,pin:!0},internal:{colorRules:null}},dataSettings:{dataPoint:{fill:{dataBoundType:1,columnRole:"Category",values:[{value:{solid:{color:"#12239E"}},selector:{data:[{identityIndex:0}]}},{value:{solid:{color:"#E66C37"}},selector:{data:[{identityIndex:1}]}},{value:{solid:{color:"#6B007B"}},selector:{data:[{identityIndex:2}]}},{value:{solid:{color:"#E044A7"}},selector:{data:[{identityIndex:3}]}},{value:{solid:{color:"#744EC2"}},selector:{data:[{identityIndex:4}]}},{value:{solid:{color:"#D9B300"}},selector:{data:[{identityIndex:5}]}},{value:{solid:{color:"#D64550"}},selector:{data:[{identityIndex:6}]}},{value:{solid:{color:"#197278"}},selector:{data:[{identityIndex:7}]}}]},comparisonFill:{dataBoundType:2,columnRole:"ComparisonValue",values:[{value:{solid:{color:"#99E3DD"}}}]}},targets:{comparison:{dataBoundType:2,columnRole:"targets",values:[{value:"<"}]},fill:{dataBoundType:2,columnRole:"targets",values:[{value:{solid:{color:null}}}]}},markers:{fill:{dataBoundType:2,columnRole:"targets",values:[{value:{solid:{color:"#252423"}}}]},shape:{dataBoundType:2,columnRole:"targets",values:[{value:"line"}]}},states:{fill:{dataBoundType:2,columnRole:"states",values:[]}}}},{id:"builtin-horizontal",name:"Horizontal Bars",description:"",required:[],premium:!1,type:0,category:"",settings:{premium:{showDialog:!1},general:{orientation:"h",locale:"en-US",numberLocale:"en-US",minHeight:null,maxHeight:null,minWidth:null,maxWidth:null,maxRows:null},label:{show:!0,text:"",fontFamily:"'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",fontSize:9,fill:{solid:{color:"#252423"}},autoSize:!1,percentile:0,rotation:"auto",hierarchyLabels:!0,separator:", ",reverseLabels:!1},axis:{show:!0,start:null,end:null,fontFamily:"'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",fontSize:8,fill:{solid:{color:"#252423"}},unit:0,precision:1,baseline:!1,baselineFill:{solid:{color:"#000"}},baselineStroke:1,gridlines:!0,fillGridlines:{solid:{color:"#e9e9e9"}},strokeGridlines:1,lineCap:"square",lineDensity:20,positionGridlines:"backward",styleGridlines:"solid"},dataLabels:{show:!0,fill:{solid:{color:null}},fontFamily:"wf_standard-font, helvetica, arial, sans-serif",fontSize:11,unit:0,precision:null,position:"auto",center:!1,changeValueType:"percentage",showChange:"",changePrecision:null,overflow:!0,background:!0,backgroundFill:{solid:{color:"#f2f2f2"}},backgroundOpacity:80,border:!1,borderFill:{solid:{color:"#000"}},borderOpacity:100,borderStroke:1,borderStyle:"solid",lineDensity:40,percentile:0},dataPoint:{defaultFill:{solid:{color:"#118DFF"}},showAll:!1},bulletShape:{border:!1,borderFill:{solid:{color:"#000"}},borderOpacity:100,borderStroke:1,borderStyle:"solid",lineDensity:40,percentile:0,shadows:!1,shadowPosition:"bottom-right",shadowOffset:"outside",shadowsComparison:!1},targets:{advancedRules:!1,stopAfterMatch:!1,tolerance:0},variances:{show:!0,fillGood:{solid:{color:"#6DC065"}},fillBad:{solid:{color:"#F20D0E"}},percentile:50,alignment:"hanging",showTooltips:!0,share:!0},markers:{size:null,share:!0},states:{show:!1,opacity:100,showTooltips:!1,autoSort:!1,additionalStates:!1,calculate:"percentage",state1:null,state1Perc:null,state1Fill:{solid:{color:"#bbb"}},state2:null,state2Perc:null,state2Fill:{solid:{color:"#ccc"}},state3:null,state3Perc:null,state3Fill:{solid:{color:"#ddd"}},state4:null,state4Perc:null,state4Fill:{solid:{color:"#eee"}},state5:null,state5Perc:null,state5Fill:{solid:{color:"#f2f2f2"}},extendLastState:!0},legend:{show:!1,position:"Bottom",showTitle:!1,titleText:"",labelColor:{solid:{color:"#252423"}},fontFamily:"'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",fontSize:8},tooltips:{unit:1,precision:null,highlightedValue:"Highlighted",labelComparison:"(comparison)",labelStates:"(state)",labelTargets:"(target)",labelVariances:"Variance"},editor:{hide:!1,pin:!0},internal:{colorRules:null}},dataSettings:{dataPoint:{fill:{dataBoundType:1,columnRole:"Category",values:[{value:{solid:{color:"#12239E"}},selector:{data:[{identityIndex:0}]}},{value:{solid:{color:"#E66C37"}},selector:{data:[{identityIndex:1}]}},{value:{solid:{color:"#6B007B"}},selector:{data:[{identityIndex:2}]}},{value:{solid:{color:"#E044A7"}},selector:{data:[{identityIndex:3}]}},{value:{solid:{color:"#744EC2"}},selector:{data:[{identityIndex:4}]}},{value:{solid:{color:"#D9B300"}},selector:{data:[{identityIndex:5}]}},{value:{solid:{color:"#D64550"}},selector:{data:[{identityIndex:6}]}},{value:{solid:{color:"#197278"}},selector:{data:[{identityIndex:7}]}}]},comparisonFill:{dataBoundType:2,columnRole:"ComparisonValue",values:[{value:{solid:{color:"#99E3DD"}}}]}},targets:{comparison:{dataBoundType:2,columnRole:"targets",values:[{value:"<"}]},fill:{dataBoundType:2,columnRole:"targets",values:[{value:{solid:{color:null}}}]}},markers:{fill:{dataBoundType:2,columnRole:"targets",values:[{value:{solid:{color:"#252423"}}}]},shape:{dataBoundType:2,columnRole:"targets",values:[{value:"line"}]}},states:{fill:{dataBoundType:2,columnRole:"states",values:[]}}}},{id:"builtin-variances",name:"Variances",description:"",required:[],premium:!1,category:"",settings:{premium:{showDialog:!1},general:{orientation:"h",locale:"en-US",numberLocale:"en-US",minHeight:null,maxHeight:null,minWidth:null,maxWidth:null,maxRows:null},label:{show:!0,text:"Sales amount",fontFamily:"'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",fontSize:9,fill:{solid:{color:"#252423"}},autoSize:!0,percentile:0,rotation:"auto",hierarchyLabels:!0,separator:", ",reverseLabels:!1},axis:{show:!0,start:null,end:null,fontFamily:"'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",fontSize:8,fill:{solid:{color:"#252423"}},unit:0,precision:1,baseline:!1,baselineFill:{solid:{color:"#000"}},baselineStroke:1,gridlines:!0,fillGridlines:{solid:{color:"#e9e9e9"}},strokeGridlines:1,lineCap:"square",lineDensity:35,positionGridlines:"backward",styleGridlines:"solid"},dataLabels:{show:!0,fill:null,fontFamily:"wf_standard-font, helvetica, arial, sans-serif",fontSize:9,unit:0,precision:null,position:"auto",center:!1,changeValueType:"percentage",showChange:"target-variance",changePrecision:2,overflow:!0,background:!0,backgroundFill:{solid:{color:"#f2f2f2"}},backgroundOpacity:80,border:!1,borderFill:{solid:{color:"#000"}},borderOpacity:100,borderStroke:1,borderStyle:"solid",lineDensity:40,percentile:51},dataPoint:{defaultFill:{solid:{color:"#118DFF"}},showAll:!1},bulletShape:{border:!1,borderFill:{solid:{color:"#000"}},borderOpacity:100,borderStroke:1,borderStyle:"solid",lineDensity:40,percentile:0,shadows:!1,shadowPosition:"bottom-right",shadowOffset:"outside",shadowsComparison:!1},targets:{advancedRules:!1,stopAfterMatch:!1,tolerance:0},variances:{show:!0,fillGood:{solid:{color:"#6DC065"}},fillBad:{solid:{color:"#F20D0E"}},percentile:30,alignment:"baseline",showTooltips:!0,share:!1},markers:{size:null,share:!1},states:{show:!1,opacity:100,showTooltips:!1,autoSort:!1,additionalStates:!1,calculate:"percentage",state1:null,state1Perc:null,state1Fill:{solid:{color:"#bbb"}},state2:null,state2Perc:null,state2Fill:{solid:{color:"#ccc"}},state3:null,state3Perc:null,state3Fill:{solid:{color:"#ddd"}},state4:null,state4Perc:null,state4Fill:{solid:{color:"#eee"}},state5:null,state5Perc:null,state5Fill:{solid:{color:"#f2f2f2"}},extendLastState:!1},legend:{show:!1,position:"Right",showTitle:!1,titleText:"",labelColor:{solid:{color:"#252423"}},fontFamily:"'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",fontSize:8},tooltips:{unit:1,precision:null,highlightedValue:"Highlighted",labelComparison:"",labelStates:"",labelTargets:"",labelVariances:"Variance"},editor:{hide:!1,pin:!0},internal:{colorRules:null}},dataSettings:{dataPoint:{fill:{dataBoundType:2,columnRole:"Value",values:[{value:{solid:{color:"#000000"}}},{value:{solid:{color:"#000000"}}},{value:{solid:{color:"#000000"}}}]},comparisonFill:{dataBoundType:2,columnRole:"ComparisonValue",values:[]}},targets:{comparison:{dataBoundType:2,columnRole:"targets",values:[{value:"<"}]},fill:{dataBoundType:2,columnRole:"targets",values:[{value:null}]}},markers:{fill:{dataBoundType:2,columnRole:"targets",values:[{value:{solid:{color:"#333333"}}}]},shape:{dataBoundType:2,columnRole:"targets",values:[{value:"line"}]}},states:{fill:{dataBoundType:2,columnRole:"states",values:[]}}}}],l=[{dataViews:[{tree:null,single:null,matrix:null,table:null,metadata:{columns:[{roles:{Category:!0},type:{underlyingType:1,category:null,primitiveType:1,extendedType:1,categoryString:null,text:!0,numeric:!1,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},displayName:"Category",queryName:"Product Category.Category",expr:{_kind:2,source:{_kind:0,entity:"Product Category",variable:"p",kind:0},ref:"Category",kind:2},rolesIndex:{Category:[0]},index:0,identityExprs:[{_kind:2,source:{_kind:0,entity:"Product Category",kind:0},ref:"Category",kind:2}]},{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"Actual",queryName:"Sales.Actual",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Actual",kind:3},sort:2,sortOrder:0,rolesIndex:{Value:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:1,isMeasure:!0,aggregates:{minLocal:42832.57,maxLocal:1426288.26}},{roles:{targets:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"Target",queryName:"Sales.Target",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Target",kind:3},rolesIndex:{targets:[0]},objects:{general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},index:2,isMeasure:!0,aggregates:{minLocal:612526.1,maxLocal:668178.02}},{roles:{ComparisonValue:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"Target2",queryName:"Sales.Target2",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Target2",kind:3},rolesIndex:{ComparisonValue:[0]},objects:{targets:{marker:"circle"},markers:{shape:"cross"},general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},index:3,isMeasure:!0,aggregates:{minLocal:918789.15,maxLocal:1002267.03}}],objects:{label:{autoSize:!1},axis:{precision:1},general:{orientation:"v"},states:{show:!1},legend:{position:"Bottom"},dataPoint:{showAll:!1},markers:{fill:{solid:{color:"#094780"}}},bulletShape:{border:!1,radius:0,shadows:!1},editor:{pin:!0},dataLabels:{show:!0,background:!0,backgroundOpacity:80,fontSize:11,radius:3,showChange:""}}},categorical:{categories:[{source:{roles:{Category:!0},type:{underlyingType:1,category:null,primitiveType:1,extendedType:1,categoryString:null,text:!0,numeric:!1,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},displayName:"Category",queryName:"Product Category.Category",expr:{_kind:2,source:{_kind:0,entity:"Product Category",variable:"p",kind:0},ref:"Category",kind:2},rolesIndex:{Category:[0]},index:0,identityExprs:[{_kind:2,source:{_kind:0,entity:"Product Category",kind:0},ref:"Category",kind:2}]},values:["Home Appliances","Computers","Cameras and camcorders","TV and Video","Cell phones","Audio","Music, Movies and Audio Books","Games and Toys"],identity:[{identityIndex:0},{identityIndex:1},{identityIndex:2},{identityIndex:3},{identityIndex:4},{identityIndex:5},{identityIndex:6},{identityIndex:7}],identityFields:[{_kind:2,source:{_kind:0,entity:"Product Category",kind:0},ref:"Category",kind:2}]}],values:[{source:{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"Actual",queryName:"Sales.Actual",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Actual",kind:3},sort:2,sortOrder:0,rolesIndex:{Value:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:1,isMeasure:!0,aggregates:{minLocal:42832.57,maxLocal:1426288.26}},values:[1426288.26,903856.11,861595.54,650402.19,240738.09,47116.66,47088.48,42832.57],minLocal:42832.57,maxLocal:1426288.26},{source:{roles:{ComparisonValue:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"Target2",queryName:"Sales.Target2",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Target2",kind:3},rolesIndex:{ComparisonValue:[0]},objects:{targets:{marker:"circle"},markers:{shape:"cross"},general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},index:3,isMeasure:!0,aggregates:{minLocal:918789.15,maxLocal:1002267.03}},values:[1002267.03,971804.205,992831.76,988977.165,925961.265,930548.895,940194.66,918789.15],minLocal:918789.15,maxLocal:1002267.03},{source:{roles:{targets:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"Target",queryName:"Sales.Target",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Target",kind:3},rolesIndex:{targets:[0]},objects:{general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},index:2,isMeasure:!0,aggregates:{minLocal:612526.1,maxLocal:668178.02}},values:[668178.02,647869.47,661887.84,659318.11,617307.51,620365.93,626796.44,612526.1],minLocal:612526.1,maxLocal:668178.02}]}}]},{dataViews:[{matrix:null,table:null,tree:null,single:null,metadata:{columns:[{roles:{Value:!0},type:{underlyingType:260,category:null,primitiveType:4,extendedType:260,categoryString:null,text:!1,numeric:!0,integer:!0,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"Sales Amount",queryName:"Sales.Sales Amount",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Sales Amount",kind:3},sort:2,sortOrder:0,objects:{dataPoint:{fill:{solid:{color:"#000000"}}},general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},rolesIndex:{Value:[0]},index:0,isMeasure:!0},{roles:{targets:!0,TargetVariance:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"Target2",queryName:"Sales.Target2",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Target2",kind:3},rolesIndex:{targets:[1],TargetVariance:[1]},objects:{markers:{fill:{solid:{color:"#333333"}}},general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},index:1,isMeasure:!0},{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"Target",queryName:"Sales.Target",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Target",kind:3},rolesIndex:{Value:[2]},objects:{markers:{fill:{solid:{color:"#666666"}},shape:"line"},dataPoint:{fill:{solid:{color:"#000000"}}},general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},index:2,isMeasure:!0},{roles:{targets:!0,TargetVariance:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"Unit Price",queryName:"Sum(Sales.Unit Price)",expr:{_kind:4,arg:{_kind:2,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Unit Price",kind:2},func:0,kind:4},rolesIndex:{targets:[0],TargetVariance:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:3,isMeasure:!0},{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"Actual",queryName:"Sales.Actual",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Actual",kind:3},rolesIndex:{Value:[1]},objects:{markers:{fill:{solid:{color:"#333333"}}},dataPoint:{fill:{solid:{color:"#000000"}}},general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:4,isMeasure:!0}],objects:{label:{text:"Sales amount",autoSize:!0},axis:{precision:1},general:{orientation:"h"},legend:{position:"Right",show:!1},markers:{fill:{solid:{color:"#666666"}},share:!1},states:{show:!1},editor:{pin:!0},dataLabels:{show:!0,showChange:"target-variance",changePrecision:2,background:!0,radius:2,backgroundOpacity:80,percentile:51,fontSize:9},variances:{share:!1,percentile:30,alignment:"hanging"}},dataRoles:{drillableRoles:{Category:[]}}},categorical:{values:[{source:{roles:{Value:!0},type:{underlyingType:260,category:null,primitiveType:4,extendedType:260,categoryString:null,text:!1,numeric:!0,integer:!0,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"Sales Amount",queryName:"Sales.Sales Amount",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Sales Amount",kind:3},sort:2,sortOrder:0,objects:{dataPoint:{fill:{solid:{color:"#000000"}}},general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},rolesIndex:{Value:[0]},index:0,isMeasure:!0},values:[75e4]},{source:{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"Actual",queryName:"Sales.Actual",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Actual",kind:3},rolesIndex:{Value:[1]},objects:{markers:{fill:{solid:{color:"#333333"}}},dataPoint:{fill:{solid:{color:"#000000"}}},general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:4,isMeasure:!0},values:[4219917.9]},{source:{roles:{Value:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"Target",queryName:"Sales.Target",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Target",kind:3},rolesIndex:{Value:[2]},objects:{markers:{fill:{solid:{color:"#666666"}},shape:"line"},dataPoint:{fill:{solid:{color:"#000000"}}},general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},index:2,isMeasure:!0},values:[642759.08]},{source:{roles:{targets:!0,TargetVariance:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.00;(\\$#,0.00);\\$#,0.00",displayName:"Unit Price",queryName:"Sum(Sales.Unit Price)",expr:{_kind:4,arg:{_kind:2,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Unit Price",kind:2},func:0,kind:4},rolesIndex:{targets:[0],TargetVariance:[0]},objects:{general:{formatString:"\\$#,0.00;(\\$#,0.00);\\$#,0.00"}},index:3,isMeasure:!0},values:[3010491.4]},{source:{roles:{targets:!0,TargetVariance:!0},type:{underlyingType:258,category:null,primitiveType:2,extendedType:258,categoryString:null,text:!1,numeric:!0,integer:!1,bool:!1,dateTime:!1,duration:!1,binary:!1,json:!1,none:!1},format:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############",displayName:"Target2",queryName:"Sales.Target2",expr:{_kind:3,source:{_kind:0,entity:"Sales",variable:"s",kind:0},ref:"Target2",kind:3},rolesIndex:{targets:[1],TargetVariance:[1]},objects:{markers:{fill:{solid:{color:"#333333"}}},general:{formatString:"\\$#,0.###############;(\\$#,0.###############);\\$#,0.###############"}},index:1,isMeasure:!0},values:[964138.62]}]}}]}];n.WS.prototype.preview=(e,t,i,s)=>{try{s||(s=l[i.dataIndex||0]);const c=(0,n.qW)(i,(0,o.yu)(s)).settings,u=new n.a8;u.update(s,c.internal.colorRules);const d=(0,a.ey)(s,null,0,c,u);if(d)return new r["v"==c.general.orientation?"ChartVertical":"ChartHorizontal"](e,null,c,d,null,null,u,!1).draw(t),!0}catch(e){}return!1}},7876:(e,t,i)=>{"use strict";i.d(t,{w:()=>y});var n=i(4580),a=i(708),r=i(1532),o=i(6820),s=i(4087),l=i(672),c=i(6636),u=i(3520),d=i(656),h=i(3960),g=i(5768),p=i(9308),f=function(e,t,i,n){var a,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},m=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class y{model;meta;selectionManager;tooltipServiceWrapper;legend;events;landingPage;licenseManager;editor;colorRulesEnumerator;settings;settingsEnumerator;fetcher;wizard;chart;callbackSelectionIds;initMeta(){this.meta=new u.mU,this.meta.name="bulletChartByOKViz",this.meta.displayName="Bullet Chart by OKVIZ",this.meta.url="https://okviz.com/bullet-chart",this.meta.contactUrl="https://okviz.com/support/",this.meta.guid="PBI_CV_9272D058_BEA0_476A_B090_A712545F92FA",this.meta.version="2.3.2.7",this.meta.released="2024-03-02",this.meta.logMe()}constructor(e){globalThis.thisVisual={host:e.host,element:e.element,internalUpdate:!1},this.init(e)}init(e){this.initMeta(),(0,u.Yz)(this.meta.shortName,"Constructor",e),this.events=e.host.eventService,this.selectionManager=e.host.createSelectionManager(),this.selectionManager.registerOnSelectCallback((e=>{this.callbackSelectionIds=e})),this.tooltipServiceWrapper=(0,n.Y)(e.host.tooltipService,e.element),this.settingsEnumerator=new u.G4([["markers.fill","markers.fill"],["targets.markerFill","markers.fill"],["targets.share","markers.share"],["bulletShape.radius","bulletShape.percentile"],["dataLabels.radius","dataLabels.percentile"],["dataLabels.overflow","labelsOption.overflow"]]),this.fetcher=new d.E3;const t={itemsPerRow:3,showCategories:!0,showCurrent:!0,canImport:!0,allowDummyData:!0,templates:p.U,protectedProperties:[]},i={roles:[c.QJ.Value,c.QJ.ComparisonValue,c.QJ.Targets,c.QJ.ColorRules],properties:{},hasLegend:!0};this.editor=new g.GW({plugins:{ColorRulesManager:i,TemplateManager:t}}),this.editor.on("beforeChange",(e=>{e.changedPlugins.indexOf("ColorRulesManager")>=0&&u.c8.SAVE({objectName:"targets",properties:{advancedRules:!0},selector:null},!1,this.settings)})),thisVisual.host.downloadService.exportStatus().then((e=>this.editor.options.plugins.TemplateManager.canExport=e)),this.colorRulesEnumerator=new g.a8,this.legend=new r.a(e.element),this.landingPage=new s.s(e.element),this.licenseManager=new h.Qr(this.meta,[{id:"premium",planIds:["okviz35133452.bulletchartbyokviz.tier1","okviz35133452.bulletchartbyokviz.tier2","okviz35133452.bulletchartbyokviz.tier3","okviz35133452.bulletchartbyokviz.tier4","okviz35133452.bulletchartbyokviz.tier5","okviz35133452.bulletchartbyokviz.tier6","okviz35133452.bulletchartbyokviz.tier7","okviz35133452.bulletchartbyokviz.tier8","okviz35133452.bulletchartbyokviz.tier9","okviz35133452.bulletchartbyokviz.tier10","okviz35133452.bulletchartbyokviz.tier11","okviz35133452.bulletchartbyokviz.tier12","okviz35133452.bulletchartbyokviz.tier13","okviz35133452.bulletchartbyokviz.tier14","okviz35133452.bulletchartbyokviz.tier15","okviz35133452.bulletchartbyokviz.tier16","okviz35133452.bulletchartbyokviz.tier17","okviz35133452.bulletchartbyokviz.tier18","okviz35133452.bulletchartbyokviz.tier19","okviz35133452.bulletchartbyokviz.tier20"],type:h.Qz.Feature,featureSettings:(0,l.c9)(),featureRoles:[c.QJ.TargetVariance]}],{featureSettingsReset:h.s$.Message,canRunOnUnsuppEnv:!1})}update(e){performance.mark("visual.update"),this.events.renderingStarted(e),this.meta.update(),this.licenseManager.update(e),this.settings=this.settingsEnumerator.parseSettings(e,(0,l.yu)(e));const t=this.settings.about.diagnostics&&1==e.viewMode;this.editor.update(e,this.settings,t),this.colorRulesEnumerator.update(e),u.sv.instance.status=t?u.uG.Enabled:u.uG.Auto,(0,u.Yz)(this.meta.shortName,"Update",e),(0,u.Yz)(this.meta.shortName,"Settings",this.settings);const i=this.licenseManager.checkFeature("premium"),n=this.fetcher.update(e,this.settings.general.maxRows,i);if(n.type!=d.Ej.Internal){if(n.type==d.Ej.None)this.legend.destroy(),this.chart&&this.chart.destroy(),this.landingPage.draw();else{if(n.resetModel&&(this.model=null),n.updateModel&&(this.model=(0,c.ey)(e,this.model,n.startIndex,this.settings,this.colorRulesEnumerator)),(0,u.Yz)(this.meta.shortName,"Model",this.model),!this.model)return;this.landingPage.destroy(),this.legend.draw(this.model.legendDataPoints,this.settings.legend,e.viewport),this.updateColorRulesProperties(),this.chart=new a["v"==this.settings.general.orientation?"ChartVertical":"ChartHorizontal"](thisVisual.element,this.legend,this.settings,this.model,this.selectionManager,this.tooltipServiceWrapper,this.colorRulesEnumerator,thisVisual.host.hostCapabilities.allowInteractions),this.chart.draw(e.viewport),this.callbackSelectionIds&&this.callbackSelectionIds.length&&this.chart.select(this.callbackSelectionIds)}this.callbackSelectionIds=[],this.events.renderingFinished(e),this.settings.about.diagnostics&&(performance.measure("Rendering","visual.update"),performance.getEntriesByType("measure").forEach((e=>(0,u.Yz)(this.meta.shortName,`${e.name} (ms)`,e.duration)))),performance.clearMarks(),performance.clearMeasures(),!i&&this.settings.premium.showDialog&&1==e.viewMode&&(u.c8.SAVE({objectName:"premium",properties:{showDialog:!1},selector:null},!0,this.settings),this.showPremiumDialog())}}enumerateObjectInstances(e){if(this.model)return this.settingsEnumerator.enumerate(e.objectName,{...(new l.MV).enumerate(this.settings),...(new l.S8).enumerate(this.settings,this.licenseManager.checkFeature("premium")),...(new l.Ef).enumerate(this.settings,this.model),...(new l.Gg).enumerate(this.settings),...(new l._2).enumerate(this.settings,this.model),...(new l.gd).enumerate(this.settings,this.model),...(new l.EH).enumerate(this.settings,this.model),...(new l.CM).enumerate(this.settings,this.model),...(new l.u_).enumerate(this.settings,this.model),...(new l.Ap).enumerate(this.settings,this.model),...(new l.MP).enumerate(this.settings,this.model),...(new l.Xb).enumerate(this.model),...(new l.iQ).enumerate(this.settings,this.model),...(new l.O4).enumerate(this.settings),...(new l.uK).enumerate(),...(new l.Gy).enumerate(this.settings),...(new l.oj).enumerate(this.settings,this.meta,this.licenseManager.featureStatus("premium").displayStatus),...(new l.S2).enumerate()},this.settings)}updateColorRulesProperties(){const e={};(0,u.QN)(this.model.fields,c.QJ.Category)?e.dataPointFill="Bar color":this.model.dataPoints.forEach((t=>{e[`dataPointFill-${t.domainKey}`]=`Bar color (${t.displayName})`})),this.editor.options.plugins.ColorRulesManager.properties=e}showPremiumDialog(){new u.CW({size:{width:600,height:400},showProgress:!1,settings:this.settings,diagnostics:this.settings.about.diagnostics,steps:[{id:"step1",className:"PremiumStepWelcome"},{id:"step2",className:"PremiumStepVariances"},{id:"step3",className:"PremiumStepTargetLabels"},{id:"step4",className:"PremiumStepLabels"},{id:"step5",className:"PremiumStepColorRules"},{id:"step6",className:"PremiumStepBulletShape"}]}).show()}}f([(0,u.mS)(),m("design:type",Function),m("design:paramtypes",[Object]),m("design:returntype",void 0)],y.prototype,"init",null),f([(0,u.mS)(),m("design:type",Function),m("design:paramtypes",[Object]),m("design:returntype",void 0)],y.prototype,"update",null),f([(0,u.mS)(),m("design:type",Function),m("design:paramtypes",[Object]),m("design:returntype",Object)],y.prototype,"enumerateObjectInstances",null),u.Uh.prototype.getStepInstance=(e,t,i)=>"function"==typeof o[t.className]?new o[t.className](e,t,i):null},1224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locales=void 0,t.locales={"en-US":["en-US","default",{englishName:"English (United States)"}],"fr-FR":["fr-FR","default",{name:"fr-FR",englishName:"French (France)",nativeName:"français (France)",language:"fr",numberFormat:{",":" ",".":",",percent:{",":" ",".":","},currency:{pattern:["-n $","n $"],",":" ",".":",",symbol:"€"}},calendars:{standard:{firstDay:1,days:{names:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],namesAbbr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],namesShort:["di","lu","ma","me","je","ve","sa"]},months:{names:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],namesAbbr:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""]},AM:null,PM:null,eras:[{name:"ap. J.-C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"d MMMM",Y:"MMMM yyyy"}}}}],"it-IT":["it-IT","default",{name:"it-IT",englishName:"Italian (Italy)",nativeName:"italiano (Italia)",language:"it",numberFormat:{",":".",".":",",percent:{pattern:["-n%","n%"],",":".",".":","},currency:{pattern:["-$ n","$ n"],",":".",".":",",symbol:"€"}},calendars:{standard:{firstDay:1,days:{names:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],namesAbbr:["dom","lun","mar","mer","gio","ven","sab"],namesShort:["do","lu","ma","me","gi","ve","sa"]},months:{names:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],namesAbbr:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""]},AM:null,PM:null,eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd d MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd d MMMM yyyy HH:mm",F:"dddd d MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"}}}}],"hi-IN":["hi-IN","default",{name:"hi-IN",englishName:"Hindi (India)",nativeName:"हिंदी (भारत)",language:"hi",numberFormat:{groupSizes:[3,2],percent:{groupSizes:[3,2]},currency:{pattern:["$ -n","$ n"],groupSizes:[3,2],symbol:"रु"}},calendars:{standard:{"/":"-",firstDay:1,days:{names:["रविवार","सोमवार","मंगलवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"],namesAbbr:["रवि.","सोम.","मंगल.","बुध.","गुरु.","शुक्र.","शनि."],namesShort:["र","स","म","ब","ग","श","श"]},months:{names:["जनवरी","फरवरी","मार्च","अप्रैल","मई","जून","जुलाई","अगस्त","सितम्बर","अक्तूबर","नवम्बर","दिसम्बर",""],namesAbbr:["जनवरी","फरवरी","मार्च","अप्रैल","मई","जून","जुलाई","अगस्त","सितम्बर","अक्तूबर","नवम्बर","दिसम्बर",""]},AM:["पूर्वाह्न","पूर्वाह्न","पूर्वाह्न"],PM:["अपराह्न","अपराह्न","अपराह्न"],patterns:{d:"dd-MM-yyyy",D:"dd MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dd MMMM yyyy HH:mm",F:"dd MMMM yyyy HH:mm:ss",M:"dd MMMM"}}}}]}},3312:(e,t,i)=>{"use strict";function n(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}i.d(t,{c:()=>n})},8124:(e,t,i)=>{"use strict";i.d(t,{cp:()=>l});var n=i(3312),a=i(864),r=i(2152);const o=(0,a.c)(n.c),s=o.right,l=(o.left,(0,a.c)(r.c).center,s)},864:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});var n=i(3312),a=i(3480);function r(e){let t,i,r;function s(e,n,a=0,r=e.length){if(a<r){if(0!==t(n,n))return r;do{const t=a+r>>>1;i(e[t],n)<0?a=t+1:r=t}while(a<r)}return a}return 2!==e.length?(t=n.c,i=(t,i)=>(0,n.c)(e(t),i),r=(t,i)=>e(t)-i):(t=e===n.c||e===a.c?e:o,i=e,r=e),{left:s,center:function(e,t,i=0,n=e.length){const a=s(e,t,i,n-1);return a>i&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,n,a=0,r=e.length){if(a<r){if(0!==t(n,n))return r;do{const t=a+r>>>1;i(e[t],n)<=0?a=t+1:r=t}while(a<r)}return a}}}function o(){return 0}},3480:(e,t,i)=>{"use strict";function n(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}i.d(t,{c:()=>n})},2152:(e,t,i)=>{"use strict";function n(e){return null===e?NaN:+e}i.d(t,{c:()=>n})},8064:(e,t,i)=>{"use strict";i.d(t,{El:()=>c,cp:()=>s,uy:()=>l});const n=Math.sqrt(50),a=Math.sqrt(10),r=Math.sqrt(2);function o(e,t,i){const s=(t-e)/Math.max(0,i),l=Math.floor(Math.log10(s)),c=s/Math.pow(10,l),u=c>=n?10:c>=a?5:c>=r?2:1;let d,h,g;return l<0?(g=Math.pow(10,-l)/u,d=Math.round(e*g),h=Math.round(t*g),d/g<e&&++d,h/g>t&&--h,g=-g):(g=Math.pow(10,l)*u,d=Math.round(e/g),h=Math.round(t/g),d*g<e&&++d,h*g>t&&--h),h<d&&.5<=i&&i<2?o(e,t,2*i):[d,h,g]}function s(e,t,i){if(!((i=+i)>0))return[];if((e=+e)==(t=+t))return[e];const n=t<e,[a,r,s]=n?o(t,e,i):o(e,t,i);if(!(r>=a))return[];const l=r-a+1,c=new Array(l);if(n)if(s<0)for(let e=0;e<l;++e)c[e]=(r-e)/-s;else for(let e=0;e<l;++e)c[e]=(r-e)*s;else if(s<0)for(let e=0;e<l;++e)c[e]=(a+e)/-s;else for(let e=0;e<l;++e)c[e]=(a+e)*s;return c}function l(e,t,i){return o(e=+e,t=+t,i=+i)[2]}function c(e,t,i){i=+i;const n=(t=+t)<(e=+e),a=n?l(t,e,i):l(e,t,i);return(n?-1:1)*(a<0?1/-a:a)}},7624:(e,t,i)=>{"use strict";i.d(t,{e_:()=>m,s5:()=>f});var n=i(9364),a=1,r=2,o=3,s=4,l=1e-6;function c(e){return"translate("+e+",0)"}function u(e){return"translate(0,"+e+")"}function d(e){return t=>+e(t)}function h(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),i=>+e(i)+t}function g(){return!this.__axis}function p(e,t){var i=[],p=null,f=null,m=6,y=6,v=3,b="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,S=e===a||e===s?-1:1,x=e===s||e===r?"x":"y",w=e===a||e===o?c:u;function k(c){var u=null==p?t.ticks?t.ticks.apply(t,i):t.domain():p,k=null==f?t.tickFormat?t.tickFormat.apply(t,i):n.c:f,C=Math.max(m,0)+v,T=t.range(),M=+T[0]+b,E=+T[T.length-1]+b,_=(t.bandwidth?h:d)(t.copy(),b),D=c.selection?c.selection():c,N=D.selectAll(".domain").data([null]),L=D.selectAll(".tick").data(u,t).order(),A=L.exit(),P=L.enter().append("g").attr("class","tick"),I=L.select("line"),O=L.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),L=L.merge(P),I=I.merge(P.append("line").attr("stroke","currentColor").attr(x+"2",S*m)),O=O.merge(P.append("text").attr("fill","currentColor").attr(x,S*C).attr("dy",e===a?"0em":e===o?"0.71em":"0.32em")),c!==D&&(N=N.transition(c),L=L.transition(c),I=I.transition(c),O=O.transition(c),A=A.transition(c).attr("opacity",l).attr("transform",(function(e){return isFinite(e=_(e))?w(e+b):this.getAttribute("transform")})),P.attr("opacity",l).attr("transform",(function(e){var t=this.parentNode.__axis;return w((t&&isFinite(t=t(e))?t:_(e))+b)}))),A.remove(),N.attr("d",e===s||e===r?y?"M"+S*y+","+M+"H"+b+"V"+E+"H"+S*y:"M"+b+","+M+"V"+E:y?"M"+M+","+S*y+"V"+b+"H"+E+"V"+S*y:"M"+M+","+b+"H"+E),L.attr("opacity",1).attr("transform",(function(e){return w(_(e)+b)})),I.attr(x+"2",S*m),O.attr(x,S*C).text(k),D.filter(g).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===r?"start":e===s?"end":"middle"),D.each((function(){this.__axis=_}))}return k.scale=function(e){return arguments.length?(t=e,k):t},k.ticks=function(){return i=Array.from(arguments),k},k.tickArguments=function(e){return arguments.length?(i=null==e?[]:Array.from(e),k):i.slice()},k.tickValues=function(e){return arguments.length?(p=null==e?null:Array.from(e),k):p&&p.slice()},k.tickFormat=function(e){return arguments.length?(f=e,k):f},k.tickSize=function(e){return arguments.length?(m=y=+e,k):m},k.tickSizeInner=function(e){return arguments.length?(m=+e,k):m},k.tickSizeOuter=function(e){return arguments.length?(y=+e,k):y},k.tickPadding=function(e){return arguments.length?(v=+e,k):v},k.offset=function(e){return arguments.length?(b=+e,k):b},k}function f(e){return p(o,e)}function m(e){return p(s,e)}},9364:(e,t,i)=>{"use strict";function n(e){return e}i.d(t,{c:()=>n})},7160:(e,t,i)=>{"use strict";i.d(t,{e_:()=>n.e_,s5:()=>n.s5});var n=i(7624)},1084:(e,t,i)=>{"use strict";i(3588);const{abs:n,max:a,min:r}=Math;function o(e){return{type:e}}["w","e"].map(o),["n","s"].map(o),["n","w","e","s","nw","ne","sw","se"].map(o)},8928:(e,t,i)=>{"use strict";i(1084)},2352:(e,t,i)=>{"use strict";i.d(t,{cp:()=>S,uI:()=>k});var n=i(3656);function a(){}var r=.7,o=1/r,s="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,d=new RegExp(`^rgb\\(${s},${s},${s}\\)$`),h=new RegExp(`^rgb\\(${c},${c},${c}\\)$`),g=new RegExp(`^rgba\\(${s},${s},${s},${l}\\)$`),p=new RegExp(`^rgba\\(${c},${c},${c},${l}\\)$`),f=new RegExp(`^hsl\\(${l},${c},${c}\\)$`),m=new RegExp(`^hsla\\(${l},${c},${c},${l}\\)$`),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function S(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=u.exec(e))?(i=t[1].length,t=parseInt(t[1],16),6===i?x(t):3===i?new C(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===i?w(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===i?w(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=d.exec(e))?new C(t[1],t[2],t[3],1):(t=h.exec(e))?new C(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=g.exec(e))?w(t[1],t[2],t[3],t[4]):(t=p.exec(e))?w(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=f.exec(e))?N(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?N(t[1],t[2]/100,t[3]/100,t[4]):y.hasOwnProperty(e)?x(y[e]):"transparent"===e?new C(NaN,NaN,NaN,0):null}function x(e){return new C(e>>16&255,e>>8&255,255&e,1)}function w(e,t,i,n){return n<=0&&(e=t=i=NaN),new C(e,t,i,n)}function k(e,t,i,n){return 1===arguments.length?((r=e)instanceof a||(r=S(r)),r?new C((r=r.rgb()).r,r.g,r.b,r.opacity):new C):new C(e,t,i,null==n?1:n);var r}function C(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}function T(){return`#${D(this.r)}${D(this.g)}${D(this.b)}`}function M(){const e=E(this.opacity);return`${1===e?"rgb(":"rgba("}${_(this.r)}, ${_(this.g)}, ${_(this.b)}${1===e?")":`, ${e})`}`}function E(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function D(e){return((e=_(e))<16?"0":"")+e.toString(16)}function N(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new A(e,t,i,n)}function L(e){if(e instanceof A)return new A(e.h,e.s,e.l,e.opacity);if(e instanceof a||(e=S(e)),!e)return new A;if(e instanceof A)return e;var t=(e=e.rgb()).r/255,i=e.g/255,n=e.b/255,r=Math.min(t,i,n),o=Math.max(t,i,n),s=NaN,l=o-r,c=(o+r)/2;return l?(s=t===o?(i-n)/l+6*(i<n):i===o?(n-t)/l+2:(t-i)/l+4,l/=c<.5?o+r:2-o-r,s*=60):l=c>0&&c<1?0:s,new A(s,l,c,e.opacity)}function A(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}function P(e){return(e=(e||0)%360)<0?e+360:e}function I(e){return Math.max(0,Math.min(1,e||0))}function O(e,t,i){return 255*(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)}(0,n.c)(a,S,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:v,formatHex:v,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return L(this).formatHsl()},formatRgb:b,toString:b}),(0,n.c)(C,k,(0,n.S)(a,{brighter(e){return e=null==e?o:Math.pow(o,e),new C(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?r:Math.pow(r,e),new C(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new C(_(this.r),_(this.g),_(this.b),E(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T,formatHex:T,formatHex8:function(){return`#${D(this.r)}${D(this.g)}${D(this.b)}${D(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:M,toString:M})),(0,n.c)(A,(function(e,t,i,n){return 1===arguments.length?L(e):new A(e,t,i,null==n?1:n)}),(0,n.S)(a,{brighter(e){return e=null==e?o:Math.pow(o,e),new A(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?r:Math.pow(r,e),new A(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,a=2*i-n;return new C(O(e>=240?e-240:e+120,a,n),O(e,a,n),O(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new A(P(this.h),I(this.s),I(this.l),E(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=E(this.opacity);return`${1===e?"hsl(":"hsla("}${P(this.h)}, ${100*I(this.s)}%, ${100*I(this.l)}%${1===e?")":`, ${e})`}`}}))},3656:(e,t,i)=>{"use strict";function n(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function a(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}i.d(t,{S:()=>a,c:()=>n})},8648:(e,t,i)=>{"use strict";i.d(t,{c:()=>l});var n={value:()=>{}};function a(){for(var e,t=0,i=arguments.length,n={};t<i;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new r(n)}function r(e){this._=e}function o(e,t){for(var i,n=0,a=e.length;n<a;++n)if((i=e[n]).name===t)return i.value}function s(e,t,i){for(var a=0,r=e.length;a<r;++a)if(e[a].name===t){e[a]=n,e=e.slice(0,a).concat(e.slice(a+1));break}return null!=i&&e.push({name:t,value:i}),e}r.prototype=a.prototype={constructor:r,on:function(e,t){var i,n,a=this._,r=(n=a,(e+"").trim().split(/^|\s+/).map((function(e){var t="",i=e.indexOf(".");if(i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),l=-1,c=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++l<c;)if(i=(e=r[l]).type)a[i]=s(a[i],e.name,t);else if(null==t)for(i in a)a[i]=s(a[i],e.name,null);return this}for(;++l<c;)if((i=(e=r[l]).type)&&(i=o(a[i],e.name)))return i},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new r(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var i,n,a=new Array(i),r=0;r<i;++r)a[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,i=(n=this._[e]).length;r<i;++r)n[r].value.apply(t,a)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,r=n.length;a<r;++a)n[a].value.apply(t,i)}};const l=a},4076:(e,t,i)=>{"use strict";function n(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}i.d(t,{AT:()=>n})},8668:(e,t,i)=>{"use strict";var n,a,r,o;i.d(t,{E9:()=>a,gV:()=>r}),o={thousands:",",grouping:[3],currency:["$",""]},n=(0,i(2296).c)(o),a=n.format,r=n.formatPrefix},2224:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(7672);function a(e){return(e=(0,n.g)(Math.abs(e)))?e[1]:NaN}},7672:(e,t,i)=>{"use strict";function n(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function a(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,n=e.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+e.slice(i+1)]}i.d(t,{c:()=>n,g:()=>a})},5236:(e,t,i)=>{"use strict";function n(e,t){return function(i,n){for(var a=i.length,r=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),r.push(i.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return r.reverse().join(t)}}i.d(t,{c:()=>n})},1196:(e,t,i)=>{"use strict";function n(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}i.d(t,{c:()=>n})},6948:(e,t,i)=>{"use strict";i.d(t,{c:()=>r,u:()=>n});var n,a=i(7672);function r(e,t){var i=(0,a.g)(e,t);if(!i)return e+"";var r=i[0],o=i[1],s=o-(n=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+(0,a.g)(e,Math.max(0,t+s-1))[0]}},264:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(7672);function a(e,t){var i=(0,n.g)(e,t);if(!i)return e+"";var a=i[0],r=i[1];return r<0?"0."+new Array(-r).join("0")+a:a.length>r+1?a.slice(0,r+1)+"."+a.slice(r+1):a+new Array(r-a.length+2).join("0")}},4772:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(e){if(!(t=n.exec(e)))throw new Error("invalid format: "+e);var t;return new r({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function r(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}a.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},4476:(e,t,i)=>{"use strict";function n(e){e:for(var t,i=e.length,n=1,a=-1;n<i;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}i.d(t,{c:()=>n})},2360:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(7672),a=i(6948),r=i(264);const o={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:n.c,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>(0,r.c)(100*e,t),r:r.c,s:a.c,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)}},9848:(e,t,i)=>{"use strict";function n(e){return e}i.d(t,{c:()=>n})},2296:(e,t,i)=>{"use strict";i.d(t,{c:()=>g});var n=i(2224),a=i(5236),r=i(1196),o=i(4772),s=i(4476),l=i(2360),c=i(6948),u=i(9848),d=Array.prototype.map,h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function g(e){var t=void 0===e.grouping||void 0===e.thousands?u.c:(0,a.c)(d.call(e.grouping,Number),e.thousands+""),i=void 0===e.currency?"":e.currency[0]+"",g=void 0===e.currency?"":e.currency[1]+"",p=void 0===e.decimal?".":e.decimal+"",f=void 0===e.numerals?u.c:(0,r.c)(d.call(e.numerals,String)),m=void 0===e.percent?"%":e.percent+"",y=void 0===e.minus?"−":e.minus+"",v=void 0===e.nan?"NaN":e.nan+"";function b(e){var n=(e=(0,o.c)(e)).fill,a=e.align,r=e.sign,u=e.symbol,d=e.zero,b=e.width,S=e.comma,x=e.precision,w=e.trim,k=e.type;"n"===k?(S=!0,k="g"):l.c[k]||(void 0===x&&(x=12),w=!0,k="g"),(d||"0"===n&&"="===a)&&(d=!0,n="0",a="=");var C="$"===u?i:"#"===u&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",T="$"===u?g:/[%p]/.test(k)?m:"",M=l.c[k],E=/[defgprs%]/.test(k);function _(e){var i,o,l,u=C,g=T;if("c"===k)g=M(e)+g,e="";else{var m=(e=+e)<0||1/e<0;if(e=isNaN(e)?v:M(Math.abs(e),x),w&&(e=(0,s.c)(e)),m&&0==+e&&"+"!==r&&(m=!1),u=(m?"("===r?r:y:"-"===r||"("===r?"":r)+u,g=("s"===k?h[8+c.u/3]:"")+g+(m&&"("===r?")":""),E)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){g=(46===l?p+e.slice(i+1):e.slice(i))+g,e=e.slice(0,i);break}}S&&!d&&(e=t(e,1/0));var _=u.length+e.length+g.length,D=_<b?new Array(b-_+1).join(n):"";switch(S&&d&&(e=t(D+e,D.length?b-g.length:1/0),D=""),a){case"<":e=u+e+g+D;break;case"=":e=u+D+e+g;break;case"^":e=D.slice(0,_=D.length>>1)+u+e+g+D.slice(_);break;default:e=D+u+e+g}return f(e)}return x=void 0===x?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),_.toString=function(){return e+""},_}return{format:b,formatPrefix:function(e,t){var i=b(((e=(0,o.c)(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor((0,n.c)(t)/3))),r=Math.pow(10,-a),s=h[8+a/3];return function(e){return i(r*e)+s}}}}},872:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(2224);function a(e){return Math.max(0,-(0,n.c)(Math.abs(e)))}},16:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(2224);function a(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,n.c)(t)/3)))-(0,n.c)(Math.abs(e)))}},8040:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(2224);function a(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,n.c)(t)-(0,n.c)(e))+1}},4700:(e,t,i)=>{"use strict";i.d(t,{Y:()=>a});var n=i(7268);function a(e,t){var i,a=t?t.length:0,r=e?Math.min(a,e.length):0,o=new Array(r),s=new Array(a);for(i=0;i<r;++i)o[i]=(0,n.c)(e[i],t[i]);for(;i<a;++i)s[i]=t[i];return function(e){for(i=0;i<r;++i)s[i]=o[i](e);return s}}},5684:(e,t,i)=>{"use strict";function n(e,t,i,n,a){var r=e*e,o=r*e;return((1-3*e+3*r-o)*t+(4-6*r+3*o)*i+(1+3*e+3*r-3*o)*n+o*a)/6}function a(e){var t=e.length-1;return function(i){var a=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),r=e[a],o=e[a+1],s=a>0?e[a-1]:2*r-o,l=a<t-1?e[a+2]:2*o-r;return n((i-a/t)*t,s,r,o,l)}}i.d(t,{M:()=>a,c:()=>n})},1820:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(5684);function a(e){var t=e.length;return function(i){var a=Math.floor(((i%=1)<0?++i:i)*t),r=e[(a+t-1)%t],o=e[a%t],s=e[(a+1)%t],l=e[(a+2)%t];return(0,n.c)((i-a/t)*t,r,o,s,l)}}},9432:(e,t,i)=>{"use strict";i.d(t,{cp:()=>r,oR:()=>a});var n=i(5092);function a(e){return 1==(e=+e)?r:function(t,i){return i-t?function(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}(t,i,e):(0,n.c)(isNaN(t)?i:t)}}function r(e,t){var i=t-e;return i?function(e,t){return function(i){return e+i*t}}(e,i):(0,n.c)(isNaN(e)?t:e)}},5092:(e,t,i)=>{"use strict";i.d(t,{c:()=>n});const n=e=>()=>e},3280:(e,t,i)=>{"use strict";function n(e,t){var i=new Date;return e=+e,t=+t,function(n){return i.setTime(e*(1-n)+t*n),i}}i.d(t,{c:()=>n})},5568:(e,t,i)=>{"use strict";function n(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}i.d(t,{c:()=>n})},2275:(e,t,i)=>{"use strict";function n(e,t){t||(t=[]);var i,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(r){for(i=0;i<n;++i)a[i]=e[i]*(1-r)+t[i]*r;return a}}function a(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}i.d(t,{c:()=>n,g:()=>a})},1400:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(7268);function a(e,t){var i,a={},r={};for(i in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)i in e?a[i]=(0,n.c)(e[i],t[i]):r[i]=t[i];return function(e){for(i in a)r[i]=a[i](e);return r}}},8948:(e,t,i)=>{"use strict";i.d(t,{cp:()=>s});var n=i(2352),a=i(5684),r=i(1820),o=i(9432);const s=function e(t){var i=(0,o.oR)(t);function a(e,t){var a=i((e=(0,n.uI)(e)).r,(t=(0,n.uI)(t)).r),r=i(e.g,t.g),s=i(e.b,t.b),l=(0,o.cp)(e.opacity,t.opacity);return function(t){return e.r=a(t),e.g=r(t),e.b=s(t),e.opacity=l(t),e+""}}return a.gamma=e,a}(1);function l(e){return function(t){var i,a,r=t.length,o=new Array(r),s=new Array(r),l=new Array(r);for(i=0;i<r;++i)a=(0,n.uI)(t[i]),o[i]=a.r||0,s[i]=a.g||0,l[i]=a.b||0;return o=e(o),s=e(s),l=e(l),a.opacity=1,function(e){return a.r=o(e),a.g=s(e),a.b=l(e),a+""}}}l(a.M),l(r.c)},6248:(e,t,i)=>{"use strict";function n(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}i.d(t,{c:()=>n})},239:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(5568),a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r=new RegExp(a.source,"g");function o(e,t){var i,o,s,l=a.lastIndex=r.lastIndex=0,c=-1,u=[],d=[];for(e+="",t+="";(i=a.exec(e))&&(o=r.exec(t));)(s=o.index)>l&&(s=t.slice(l,s),u[c]?u[c]+=s:u[++c]=s),(i=i[0])===(o=o[0])?u[c]?u[c]+=o:u[++c]=o:(u[++c]=null,d.push({i:c,x:(0,n.c)(i,o)})),l=r.lastIndex;return l<t.length&&(s=t.slice(l),u[c]?u[c]+=s:u[++c]=s),u.length<2?d[0]?function(e){return function(t){return e(t)+""}}(d[0].x):function(e){return function(){return e}}(t):(t=d.length,function(e){for(var i,n=0;n<t;++n)u[(i=d[n]).i]=i.x(e);return u.join("")})}},7265:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a,c:()=>r});var n=180/Math.PI,a={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function r(e,t,i,a,r,o){var s,l,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*i+t*a)&&(i-=e*c,a-=t*c),(l=Math.sqrt(i*i+a*a))&&(i/=l,a/=l,c/=l),e*a<t*i&&(e=-e,t=-t,c=-c,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*n,skewX:Math.atan(c)*n,scaleX:s,scaleY:l}}},8240:(e,t,i)=>{"use strict";i.d(t,{C:()=>o,o:()=>s});var n=i(5568),a=i(8380);function r(e,t,i,a){function r(e){return e.length?e.pop()+" ":""}return function(o,s){var l=[],c=[];return o=e(o),s=e(s),function(e,a,r,o,s,l){if(e!==r||a!==o){var c=s.push("translate(",null,t,null,i);l.push({i:c-4,x:(0,n.c)(e,r)},{i:c-2,x:(0,n.c)(a,o)})}else(r||o)&&s.push("translate("+r+t+o+i)}(o.translateX,o.translateY,s.translateX,s.translateY,l,c),function(e,t,i,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:i.push(r(i)+"rotate(",null,a)-2,x:(0,n.c)(e,t)})):t&&i.push(r(i)+"rotate("+t+a)}(o.rotate,s.rotate,l,c),function(e,t,i,o){e!==t?o.push({i:i.push(r(i)+"skewX(",null,a)-2,x:(0,n.c)(e,t)}):t&&i.push(r(i)+"skewX("+t+a)}(o.skewX,s.skewX,l,c),function(e,t,i,a,o,s){if(e!==i||t!==a){var l=o.push(r(o)+"scale(",null,",",null,")");s.push({i:l-4,x:(0,n.c)(e,i)},{i:l-2,x:(0,n.c)(t,a)})}else 1===i&&1===a||o.push(r(o)+"scale("+i+","+a+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,l,c),o=s=null,function(e){for(var t,i=-1,n=c.length;++i<n;)l[(t=c[i]).i]=t.x(e);return l.join("")}}}var o=r(a.u,"px, ","px)","deg)"),s=r(a.W,", ",")",")")},8380:(e,t,i)=>{"use strict";i.d(t,{W:()=>o,u:()=>r});var n,a=i(7265);function r(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?a.Z:(0,a.c)(t.a,t.b,t.c,t.d,t.e,t.f)}function o(e){return null==e?a.Z:(n||(n=document.createElementNS("http://www.w3.org/2000/svg","g")),n.setAttribute("transform",e),(e=n.transform.baseVal.consolidate())?(e=e.matrix,(0,a.c)(e.a,e.b,e.c,e.d,e.e,e.f)):a.Z)}},7268:(e,t,i)=>{"use strict";i.d(t,{c:()=>h});var n=i(2352),a=i(8948),r=i(4700),o=i(3280),s=i(5568),l=i(1400),c=i(239),u=i(5092),d=i(2275);function h(e,t){var i,h=typeof t;return null==t||"boolean"===h?(0,u.c)(t):("number"===h?s.c:"string"===h?(i=(0,n.cp)(t))?(t=i,a.cp):c.c:t instanceof n.cp?a.cp:t instanceof Date?o.c:(0,d.g)(t)?d.c:Array.isArray(t)?r.Y:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?l.c:s.c)(e,t)}},5752:(e,t,i)=>{"use strict";function n(e){return function(){return e}}i.d(t,{c:()=>n})},2512:(e,t,i)=>{"use strict";i.d(t,{cp:()=>m,kT:()=>p,sI:()=>f});var n=i(8124),a=i(7268),r=i(5568),o=i(6248),s=i(5752),l=i(9688),c=[0,1];function u(e){return e}function d(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:(0,s.c)(isNaN(t)?NaN:.5)}function h(e,t,i){var n=e[0],a=e[1],r=t[0],o=t[1];return a<n?(n=d(a,n),r=i(o,r)):(n=d(n,a),r=i(r,o)),function(e){return r(n(e))}}function g(e,t,i){var a=Math.min(e.length,t.length)-1,r=new Array(a),o=new Array(a),s=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<a;)r[s]=d(e[s],e[s+1]),o[s]=i(t[s],t[s+1]);return function(t){var i=(0,n.cp)(e,t,1,a)-1;return o[i](r[i](t))}}function p(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function f(){var e,t,i,n,s,d,p=c,f=c,m=a.c,y=u;function v(){var e,t,i,a=Math.min(p.length,f.length);return y!==u&&(e=p[0],t=p[a-1],e>t&&(i=e,e=t,t=i),y=function(i){return Math.max(e,Math.min(t,i))}),n=a>2?g:h,s=d=null,b}function b(t){return null==t||isNaN(t=+t)?i:(s||(s=n(p.map(e),f,m)))(e(y(t)))}return b.invert=function(i){return y(t((d||(d=n(f,p.map(e),r.c)))(i)))},b.domain=function(e){return arguments.length?(p=Array.from(e,l.c),v()):p.slice()},b.range=function(e){return arguments.length?(f=Array.from(e),v()):f.slice()},b.rangeRound=function(e){return f=Array.from(e),m=o.c,v()},b.clamp=function(e){return arguments.length?(y=!!e||u,v()):y!==u},b.interpolate=function(e){return arguments.length?(m=e,v()):m},b.unknown=function(e){return arguments.length?(i=e,b):i},function(i,n){return e=i,t=n,v()}}function m(){return f()(u,u)}},4112:(e,t,i)=>{"use strict";i.d(t,{M8:()=>n.c,kz:()=>a.c});var n=i(2211),a=i(3760)},3920:(e,t,i)=>{"use strict";function n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}i.d(t,{K:()=>n})},2211:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});var n=i(8064),a=i(2512),r=i(3920),o=i(9992);function s(){var e=(0,a.cp)();return e.copy=function(){return(0,a.kT)(e,s())},r.K.apply(e,arguments),function(e){var t=e.domain;return e.ticks=function(e){var i=t();return(0,n.cp)(i[0],i[i.length-1],null==e?10:e)},e.tickFormat=function(e,i){var n=t();return(0,o.c)(n[0],n[n.length-1],null==e?10:e,i)},e.nice=function(i){null==i&&(i=10);var a,r,o=t(),s=0,l=o.length-1,c=o[s],u=o[l],d=10;for(u<c&&(r=c,c=u,u=r,r=s,s=l,l=r);d-- >0;){if((r=(0,n.uy)(c,u,i))===a)return o[s]=c,o[l]=u,t(o);if(r>0)c=Math.floor(c/r)*r,u=Math.ceil(u/r)*r;else{if(!(r<0))break;c=Math.ceil(c*r)/r,u=Math.floor(u*r)/r}a=r}return e},e}(e)}},3760:(e,t,i)=>{"use strict";i.d(t,{c:()=>f});var n=i(8064),a=i(4772),r=i(8668),o=i(1179),s=i(2512),l=i(3920);function c(e){return Math.log(e)}function u(e){return Math.exp(e)}function d(e){return-Math.log(-e)}function h(e){return-Math.exp(-e)}function g(e){return isFinite(e)?+("1e"+e):e<0?0:e}function p(e){return(t,i)=>-e(-t,i)}function f(){const e=function(e){const t=e(c,u),i=t.domain;let s,l,f=10;function m(){return s=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(f),l=function(e){return 10===e?g:e===Math.E?Math.exp:t=>Math.pow(e,t)}(f),i()[0]<0?(s=p(s),l=p(l),e(d,h)):e(c,u),t}return t.base=function(e){return arguments.length?(f=+e,m()):f},t.domain=function(e){return arguments.length?(i(e),m()):i()},t.ticks=e=>{const t=i();let a=t[0],r=t[t.length-1];const o=r<a;o&&([a,r]=[r,a]);let c,u,d=s(a),h=s(r);const g=null==e?10:+e;let p=[];if(!(f%1)&&h-d<g){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(c=1;c<f;++c)if(u=d<0?c/l(-d):c*l(d),!(u<a)){if(u>r)break;p.push(u)}}else for(;d<=h;++d)for(c=f-1;c>=1;--c)if(u=d>0?c/l(-d):c*l(d),!(u<a)){if(u>r)break;p.push(u)}2*p.length<g&&(p=(0,n.cp)(a,r,g))}else p=(0,n.cp)(d,h,Math.min(h-d,g)).map(l);return o?p.reverse():p},t.tickFormat=(e,i)=>{if(null==e&&(e=10),null==i&&(i=10===f?"s":","),"function"!=typeof i&&(f%1||null!=(i=(0,a.c)(i)).precision||(i.trim=!0),i=(0,r.E9)(i)),e===1/0)return i;const n=Math.max(1,f*e/t.ticks().length);return e=>{let t=e/l(Math.round(s(e)));return t*f<f-.5&&(t*=f),t<=n?i(e):""}},t.nice=()=>i((0,o.c)(i(),{floor:e=>l(Math.floor(s(e))),ceil:e=>l(Math.ceil(s(e)))})),t}((0,s.sI)()).domain([1,10]);return e.copy=()=>(0,s.kT)(e,f()).base(e.base()),l.K.apply(e,arguments),e}},1179:(e,t,i)=>{"use strict";function n(e,t){var i,n=0,a=(e=e.slice()).length-1,r=e[n],o=e[a];return o<r&&(i=n,n=a,a=i,i=r,r=o,o=i),e[n]=t.floor(r),e[a]=t.ceil(o),e}i.d(t,{c:()=>n})},9688:(e,t,i)=>{"use strict";function n(e){return+e}i.d(t,{c:()=>n})},9992:(e,t,i)=>{"use strict";i.d(t,{c:()=>c});var n=i(8064),a=i(4772),r=i(16),o=i(8668),s=i(8040),l=i(872);function c(e,t,i,c){var u,d=(0,n.El)(e,t,i);switch((c=(0,a.c)(null==c?",f":c)).type){case"s":var h=Math.max(Math.abs(e),Math.abs(t));return null!=c.precision||isNaN(u=(0,r.c)(d,h))||(c.precision=u),(0,o.gV)(c,h);case"":case"e":case"g":case"p":case"r":null!=c.precision||isNaN(u=(0,s.c)(d,Math.max(Math.abs(e),Math.abs(t))))||(c.precision=u-("e"===c.type));break;case"f":case"%":null!=c.precision||isNaN(u=(0,l.c)(d))||(c.precision=u-2*("%"===c.type))}return(0,o.E9)(c)}},9048:(e,t,i)=>{"use strict";function n(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}i.d(t,{c:()=>n})},1396:(e,t,i)=>{"use strict";function n(e){return function(){return e}}i.d(t,{c:()=>n})},4844:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});var n=i(7548),a=i(3291);function r(e){return(0,a.c)((0,n.c)(e).call(document.documentElement))}},7548:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});var n=i(976),a=i(3168);function r(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===a.i&&t.documentElement.namespaceURI===a.i?t.createElement(e):t.createElementNS(i,e)}}function o(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function s(e){var t=(0,n.c)(e);return(t.local?o:r)(t)}},6388:(e,t,i)=>{"use strict";i.d(t,{CO:()=>r.c,Ml:()=>a.c,Su:()=>n.c});var n=i(4844),a=i(3291),r=i(7924)},2677:(e,t,i)=>{"use strict";function n(e){return function(){return this.matches(e)}}function a(e){return function(t){return t.matches(e)}}i.d(t,{M:()=>n,c:()=>a})},976:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(3168);function a(e){var t=e+="",i=t.indexOf(":");return i>=0&&"xmlns"!==(t=e.slice(0,i))&&(e=e.slice(i+1)),n.c.hasOwnProperty(t)?{space:n.c[t],local:e}:e}},3168:(e,t,i)=>{"use strict";i.d(t,{c:()=>a,i:()=>n});var n="http://www.w3.org/1999/xhtml";const a={svg:"http://www.w3.org/2000/svg",xhtml:n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},3291:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(4640);function a(e){return"string"==typeof e?new n.GR([[document.querySelector(e)]],[document.documentElement]):new n.GR([[e]],n.Sq)}},7924:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});var n=i(9048),a=i(4640);function r(e){return"string"==typeof e?new a.GR([document.querySelectorAll(e)],[document.documentElement]):new a.GR([(0,n.c)(e)],a.Sq)}},5848:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(7548);function a(e){var t="function"==typeof e?e:(0,n.c)(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}},4364:(e,t,i)=>{"use strict";i.d(t,{c:()=>u});var n=i(976);function a(e){return function(){this.removeAttribute(e)}}function r(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t){return function(){this.setAttribute(e,t)}}function s(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function l(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttribute(e):this.setAttribute(e,i)}}function c(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function u(e,t){var i=(0,n.c)(e);if(arguments.length<2){var u=this.node();return i.local?u.getAttributeNS(i.space,i.local):u.getAttribute(i)}return this.each((null==t?i.local?r:a:"function"==typeof t?i.local?c:l:i.local?s:o)(i,t))}},6692:(e,t,i)=>{"use strict";function n(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}i.d(t,{c:()=>n})},5084:(e,t,i)=>{"use strict";function n(e){return e.trim().split(/^|\s+/)}function a(e){return e.classList||new r(e)}function r(e){this._node=e,this._names=n(e.getAttribute("class")||"")}function o(e,t){for(var i=a(e),n=-1,r=t.length;++n<r;)i.add(t[n])}function s(e,t){for(var i=a(e),n=-1,r=t.length;++n<r;)i.remove(t[n])}function l(e){return function(){o(this,e)}}function c(e){return function(){s(this,e)}}function u(e,t){return function(){(t.apply(this,arguments)?o:s)(this,e)}}function d(e,t){var i=n(e+"");if(arguments.length<2){for(var r=a(this.node()),o=-1,s=i.length;++o<s;)if(!r.contains(i[o]))return!1;return!0}return this.each(("function"==typeof t?u:t?l:c)(i,t))}i.d(t,{c:()=>d}),r.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}},8344:(e,t,i)=>{"use strict";function n(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function a(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function r(e){return this.select(e?a:n)}i.d(t,{c:()=>r})},9252:(e,t,i)=>{"use strict";i.d(t,{c:()=>c});var n=i(4640),a=i(6848),r=i(1396);function o(e,t,i,n,r,o){for(var s,l=0,c=t.length,u=o.length;l<u;++l)(s=t[l])?(s.__data__=o[l],n[l]=s):i[l]=new a.K(e,o[l]);for(;l<c;++l)(s=t[l])&&(r[l]=s)}function s(e,t,i,n,r,o,s){var l,c,u,d=new Map,h=t.length,g=o.length,p=new Array(h);for(l=0;l<h;++l)(c=t[l])&&(p[l]=u=s.call(c,c.__data__,l,t)+"",d.has(u)?r[l]=c:d.set(u,c));for(l=0;l<g;++l)u=s.call(e,o[l],l,o)+"",(c=d.get(u))?(n[l]=c,c.__data__=o[l],d.delete(u)):i[l]=new a.K(e,o[l]);for(l=0;l<h;++l)(c=t[l])&&d.get(p[l])===c&&(r[l]=c)}function l(e){return e.__data__}function c(e,t){if(!arguments.length)return Array.from(this,l);var i=t?s:o,a=this._parents,c=this._groups;"function"!=typeof e&&(e=(0,r.c)(e));for(var d=c.length,h=new Array(d),g=new Array(d),p=new Array(d),f=0;f<d;++f){var m=a[f],y=c[f],v=y.length,b=u(e.call(m,m&&m.__data__,f,a)),S=b.length,x=g[f]=new Array(S),w=h[f]=new Array(S);i(m,y,x,w,p[f]=new Array(v),b,t);for(var k,C,T=0,M=0;T<S;++T)if(k=x[T]){for(T>=M&&(M=T+1);!(C=w[M])&&++M<S;);k._next=C||null}}return(h=new n.GR(h,a))._enter=g,h._exit=p,h}function u(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}},792:(e,t,i)=>{"use strict";function n(e){return arguments.length?this.property("__data__",e):this.node().__data__}i.d(t,{c:()=>n})},4636:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});var n=i(2800);function a(e,t,i){var a=(0,n.c)(e),r=a.CustomEvent;"function"==typeof r?r=new r(t,i):(r=a.document.createEvent("Event"),i?(r.initEvent(t,i.bubbles,i.cancelable),r.detail=i.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function r(e,t){return function(){return a(this,e,t)}}function o(e,t){return function(){return a(this,e,t.apply(this,arguments))}}function s(e,t){return this.each(("function"==typeof t?o:r)(e,t))}},6436:(e,t,i)=>{"use strict";function n(e){for(var t=this._groups,i=0,n=t.length;i<n;++i)for(var a,r=t[i],o=0,s=r.length;o<s;++o)(a=r[o])&&e.call(a,a.__data__,o,r);return this}i.d(t,{c:()=>n})},104:(e,t,i)=>{"use strict";function n(){return!this.node()}i.d(t,{c:()=>n})},6848:(e,t,i)=>{"use strict";i.d(t,{K:()=>o,c:()=>r});var n=i(5232),a=i(4640);function r(){return new a.GR(this._enter||this._groups.map(n.c),this._parents)}function o(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}o.prototype={constructor:o,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},3544:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});var n=i(5232),a=i(4640);function r(){return new a.GR(this._exit||this._groups.map(n.c),this._parents)}},7964:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});var n=i(4640),a=i(2677);function r(e){"function"!=typeof e&&(e=(0,a.M)(e));for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o)for(var s,l=t[o],c=l.length,u=r[o]=[],d=0;d<c;++d)(s=l[d])&&e.call(s,s.__data__,d,l)&&u.push(s);return new n.GR(r,this._parents)}},5548:(e,t,i)=>{"use strict";function n(){this.innerHTML=""}function a(e){return function(){this.innerHTML=e}}function r(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function o(e){return arguments.length?this.each(null==e?n:("function"==typeof e?r:a)(e)):this.node().innerHTML}i.d(t,{c:()=>o})},4640:(e,t,i)=>{"use strict";i.d(t,{GR:()=>R,Sq:()=>F,cp:()=>B});var n=i(9556),a=i(5364),r=i(1832),o=i(2648),s=i(7964),l=i(9252),c=i(6848),u=i(3544),d=i(6576),h=i(9344),g=i(540),p=i(2368),f=i(6692),m=i(5076),y=i(6152),v=i(1627),b=i(104),S=i(6436),x=i(4364),w=i(4248),k=i(7528),C=i(5084),T=i(4388),M=i(5548),E=i(7016),_=i(6068),D=i(5848),N=i(2040),L=i(4e3),A=i(8344),P=i(792),I=i(7264),O=i(4636),V=i(4564),F=[null];function R(e,t){this._groups=e,this._parents=t}function z(){return new R([[document.documentElement]],F)}R.prototype=z.prototype={constructor:R,select:n.c,selectAll:a.c,selectChild:r.c,selectChildren:o.c,filter:s.c,data:l.c,enter:c.c,exit:u.c,join:d.c,merge:h.c,selection:function(){return this},order:g.c,sort:p.c,call:f.c,nodes:m.c,node:y.c,size:v.c,empty:b.c,each:S.c,attr:x.c,style:w.c,property:k.c,classed:C.c,text:T.c,html:M.c,raise:E.c,lower:_.c,append:D.c,insert:N.c,remove:L.c,clone:A.c,datum:P.c,on:I.c,dispatch:O.c,[Symbol.iterator]:V.c};const B=z},2040:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(7548),a=i(5668);function r(){return null}function o(e,t){var i="function"==typeof e?e:(0,n.c)(e),o=null==t?r:"function"==typeof t?t:(0,a.c)(t);return this.select((function(){return this.insertBefore(i.apply(this,arguments),o.apply(this,arguments)||null)}))}},4564:(e,t,i)=>{"use strict";function*n(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n,a=e[t],r=0,o=a.length;r<o;++r)(n=a[r])&&(yield n)}i.d(t,{c:()=>n})},6576:(e,t,i)=>{"use strict";function n(e,t,i){var n=this.enter(),a=this,r=this.exit();return"function"==typeof e?(n=e(n))&&(n=n.selection()):n=n.append(e+""),null!=t&&(a=t(a))&&(a=a.selection()),null==i?r.remove():i(r),n&&a?n.merge(a).order():a}i.d(t,{c:()=>n})},6068:(e,t,i)=>{"use strict";function n(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function a(){return this.each(n)}i.d(t,{c:()=>a})},9344:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(4640);function a(e){for(var t=e.selection?e.selection():e,i=this._groups,a=t._groups,r=i.length,o=a.length,s=Math.min(r,o),l=new Array(r),c=0;c<s;++c)for(var u,d=i[c],h=a[c],g=d.length,p=l[c]=new Array(g),f=0;f<g;++f)(u=d[f]||h[f])&&(p[f]=u);for(;c<r;++c)l[c]=i[c];return new n.GR(l,this._parents)}},6152:(e,t,i)=>{"use strict";function n(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],a=0,r=n.length;a<r;++a){var o=n[a];if(o)return o}return null}i.d(t,{c:()=>n})},5076:(e,t,i)=>{"use strict";function n(){return Array.from(this)}i.d(t,{c:()=>n})},7264:(e,t,i)=>{"use strict";function n(e){return function(){var t=this.__on;if(t){for(var i,n=0,a=-1,r=t.length;n<r;++n)i=t[n],e.type&&i.type!==e.type||i.name!==e.name?t[++a]=i:this.removeEventListener(i.type,i.listener,i.options);++a?t.length=a:delete this.__on}}}function a(e,t,i){return function(){var n,a=this.__on,r=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(a)for(var o=0,s=a.length;o<s;++o)if((n=a[o]).type===e.type&&n.name===e.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=r,n.options=i),void(n.value=t);this.addEventListener(e.type,r,i),n={type:e.type,name:e.name,value:t,listener:r,options:i},a?a.push(n):this.__on=[n]}}function r(e,t,i){var r,o,s=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}}))}(e+""),l=s.length;if(!(arguments.length<2)){for(c=t?a:n,r=0;r<l;++r)this.each(c(s[r],t,i));return this}var c=this.node().__on;if(c)for(var u,d=0,h=c.length;d<h;++d)for(r=0,u=c[d];r<l;++r)if((o=s[r]).type===u.type&&o.name===u.name)return u.value}i.d(t,{c:()=>r})},540:(e,t,i)=>{"use strict";function n(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var n,a=e[t],r=a.length-1,o=a[r];--r>=0;)(n=a[r])&&(o&&4^n.compareDocumentPosition(o)&&o.parentNode.insertBefore(n,o),o=n);return this}i.d(t,{c:()=>n})},7528:(e,t,i)=>{"use strict";function n(e){return function(){delete this[e]}}function a(e,t){return function(){this[e]=t}}function r(e,t){return function(){var i=t.apply(this,arguments);null==i?delete this[e]:this[e]=i}}function o(e,t){return arguments.length>1?this.each((null==t?n:"function"==typeof t?r:a)(e,t)):this.node()[e]}i.d(t,{c:()=>o})},7016:(e,t,i)=>{"use strict";function n(){this.nextSibling&&this.parentNode.appendChild(this)}function a(){return this.each(n)}i.d(t,{c:()=>a})},4e3:(e,t,i)=>{"use strict";function n(){var e=this.parentNode;e&&e.removeChild(this)}function a(){return this.each(n)}i.d(t,{c:()=>a})},9556:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});var n=i(4640),a=i(5668);function r(e){"function"!=typeof e&&(e=(0,a.c)(e));for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o)for(var s,l,c=t[o],u=c.length,d=r[o]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l);return new n.GR(r,this._parents)}},5364:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(4640),a=i(9048),r=i(8468);function o(e){e="function"==typeof e?function(e){return function(){return(0,a.c)(e.apply(this,arguments))}}(e):(0,r.c)(e);for(var t=this._groups,i=t.length,o=[],s=[],l=0;l<i;++l)for(var c,u=t[l],d=u.length,h=0;h<d;++h)(c=u[h])&&(o.push(e.call(c,c.__data__,h,u)),s.push(c));return new n.GR(o,s)}},1832:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(2677),a=Array.prototype.find;function r(){return this.firstElementChild}function o(e){return this.select(null==e?r:function(e){return function(){return a.call(this.children,e)}}("function"==typeof e?e:(0,n.c)(e)))}},2648:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(2677),a=Array.prototype.filter;function r(){return Array.from(this.children)}function o(e){return this.selectAll(null==e?r:function(e){return function(){return a.call(this.children,e)}}("function"==typeof e?e:(0,n.c)(e)))}},1627:(e,t,i)=>{"use strict";function n(){let e=0;for(const t of this)++e;return e}i.d(t,{c:()=>n})},2368:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(4640);function a(e){function t(t,i){return t&&i?e(t.__data__,i.__data__):!t-!i}e||(e=r);for(var i=this._groups,a=i.length,o=new Array(a),s=0;s<a;++s){for(var l,c=i[s],u=c.length,d=o[s]=new Array(u),h=0;h<u;++h)(l=c[h])&&(d[h]=l);d.sort(t)}return new n.GR(o,this._parents).order()}function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},5232:(e,t,i)=>{"use strict";function n(e){return new Array(e.length)}i.d(t,{c:()=>n})},4248:(e,t,i)=>{"use strict";i.d(t,{V:()=>l,c:()=>s});var n=i(2800);function a(e){return function(){this.style.removeProperty(e)}}function r(e,t,i){return function(){this.style.setProperty(e,t,i)}}function o(e,t,i){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,i)}}function s(e,t,i){return arguments.length>1?this.each((null==t?a:"function"==typeof t?o:r)(e,t,null==i?"":i)):l(this.node(),e)}function l(e,t){return e.style.getPropertyValue(t)||(0,n.c)(e).getComputedStyle(e,null).getPropertyValue(t)}},4388:(e,t,i)=>{"use strict";function n(){this.textContent=""}function a(e){return function(){this.textContent=e}}function r(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function o(e){return arguments.length?this.each(null==e?n:("function"==typeof e?r:a)(e)):this.node().textContent}i.d(t,{c:()=>o})},5668:(e,t,i)=>{"use strict";function n(){}function a(e){return null==e?n:function(){return this.querySelector(e)}}i.d(t,{c:()=>a})},8468:(e,t,i)=>{"use strict";function n(){return[]}function a(e){return null==e?n:function(){return this.querySelectorAll(e)}}i.d(t,{c:()=>a})},2800:(e,t,i)=>{"use strict";function n(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}i.d(t,{c:()=>n})},7424:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(9568);function a(e,t,i){var a=new n.uE;return t=null==t?0:+t,a.restart((i=>{a.stop(),e(i+t)}),t,i),a}},9568:(e,t,i)=>{"use strict";i.d(t,{kD:()=>y,kX:()=>p,uE:()=>m});var n,a,r=0,o=0,s=0,l=1e3,c=0,u=0,d=0,h="object"==typeof performance&&performance.now?performance:Date,g="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function p(){return u||(g(f),u=h.now()+d)}function f(){u=0}function m(){this._call=this._time=this._next=null}function y(e,t,i){var n=new m;return n.restart(e,t,i),n}function v(){u=(c=h.now())+d,r=o=0;try{!function(){p(),++r;for(var e,t=n;t;)(e=u-t._time)>=0&&t._call.call(void 0,e),t=t._next;--r}()}finally{r=0,function(){for(var e,t,i=n,r=1/0;i;)i._call?(r>i._time&&(r=i._time),e=i,i=i._next):(t=i._next,i._next=null,i=e?e._next=t:n=t);a=e,S(r)}(),u=0}}function b(){var e=h.now(),t=e-c;t>l&&(d-=t,c=e)}function S(e){r||(o&&(o=clearTimeout(o)),e-u>24?(e<1/0&&(o=setTimeout(v,e-h.now()-d)),s&&(s=clearInterval(s))):(s||(c=h.now(),s=setInterval(b,l)),r=1,g(v)))}m.prototype=y.prototype={constructor:m,restart:function(e,t,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?p():+i)+(null==t?0:+t),this._next||a===this||(a?a._next=this:n=this,a=this),this._call=e,this._time=i,S()},stop:function(){this._call&&(this._call=null,this._time=1/0,S())}}},3588:(e,t,i)=>{"use strict";i(4080)},8224:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(1160);function a(e,t){var i,a,r,o=e.__transition,s=!0;if(o){for(r in t=null==t?null:t+"",o)(i=o[r]).name===t?(a=i.state>n.yI&&i.state<n.wj,i.state=n.ox,i.timer.stop(),i.on.call(a?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete o[r]):s=!1;s&&delete e.__transition}}},4080:(e,t,i)=>{"use strict";var n=i(4640),a=i(6312),r=i(1632);n.cp.prototype.interrupt=a.c,n.cp.prototype.transition=r.c},6312:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(8224);function a(e){return this.each((function(){(0,n.c)(this,e)}))}},1632:(e,t,i)=>{"use strict";i.d(t,{c:()=>c});var n=i(2292),a=i(1160),r=i(4076),o=i(9568),s={time:null,delay:0,duration:250,ease:r.AT};function l(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}function c(e){var t,i;e instanceof n.Ox?(t=e._id,e=e._name):(t=(0,n.mU)(),(i=s).time=(0,o.kX)(),e=null==e?null:e+"");for(var r=this._groups,c=r.length,u=0;u<c;++u)for(var d,h=r[u],g=h.length,p=0;p<g;++p)(d=h[p])&&(0,a.cp)(d,e,t,p,h,i||l(d,t));return new n.Ox(r,this._parents,e,t)}},8296:(e,t,i)=>{"use strict";i.d(t,{c:()=>g});var n=i(8240),a=i(976),r=i(5864),o=i(7808);function s(e){return function(){this.removeAttribute(e)}}function l(e){return function(){this.removeAttributeNS(e.space,e.local)}}function c(e,t,i){var n,a,r=i+"";return function(){var o=this.getAttribute(e);return o===r?null:o===n?a:a=t(n=o,i)}}function u(e,t,i){var n,a,r=i+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===n?a:a=t(n=o,i)}}function d(e,t,i){var n,a,r;return function(){var o,s,l=i(this);if(null!=l)return(o=this.getAttribute(e))===(s=l+"")?null:o===n&&s===a?r:(a=s,r=t(n=o,l));this.removeAttribute(e)}}function h(e,t,i){var n,a,r;return function(){var o,s,l=i(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===n&&s===a?r:(a=s,r=t(n=o,l));this.removeAttributeNS(e.space,e.local)}}function g(e,t){var i=(0,a.c)(e),g="transform"===i?n.o:o.c;return this.attrTween(e,"function"==typeof t?(i.local?h:d)(i,g,(0,r.w)(this,"attr."+e,t)):null==t?(i.local?l:s)(i):(i.local?u:c)(i,g,t))}},5212:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(976);function a(e,t){var i,n;function a(){var a=t.apply(this,arguments);return a!==n&&(i=(n=a)&&function(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}(e,a)),i}return a._value=t,a}function r(e,t){var i,n;function a(){var a=t.apply(this,arguments);return a!==n&&(i=(n=a)&&function(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}(e,a)),i}return a._value=t,a}function o(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;var o=(0,n.c)(e);return this.tween(i,(o.local?a:r)(o,t))}},9744:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(1160);function a(e,t){return function(){(0,n._6)(this,e).delay=+t.apply(this,arguments)}}function r(e,t){return t=+t,function(){(0,n._6)(this,e).delay=t}}function o(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?a:r)(t,e)):(0,n._M)(this.node(),t).delay}},8067:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(1160);function a(e,t){return function(){(0,n.WO)(this,e).duration=+t.apply(this,arguments)}}function r(e,t){return t=+t,function(){(0,n.WO)(this,e).duration=t}}function o(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?a:r)(t,e)):(0,n._M)(this.node(),t).duration}},1772:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(1160);function a(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){(0,n.WO)(this,e).ease=t}}(t,e)):(0,n._M)(this.node(),t).ease}},3100:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(1160);function a(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var i=t.apply(this,arguments);if("function"!=typeof i)throw new Error;(0,n.WO)(this,e).ease=i}}(this._id,e))}},7616:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(1160);function a(){var e,t,i=this,a=i._id,r=i.size();return new Promise((function(o,s){var l={value:s},c={value:function(){0==--r&&o()}};i.each((function(){var i=(0,n.WO)(this,a),r=i.on;r!==e&&((t=(e=r).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),i.on=t})),0===r&&o()}))}},5908:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});var n=i(2677),a=i(2292);function r(e){"function"!=typeof e&&(e=(0,n.M)(e));for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o)for(var s,l=t[o],c=l.length,u=r[o]=[],d=0;d<c;++d)(s=l[d])&&e.call(s,s.__data__,d,l)&&u.push(s);return new a.Ox(r,this._parents,this._name,this._id)}},2292:(e,t,i)=>{"use strict";i.d(t,{Ox:()=>T,mU:()=>M});var n=i(4640),a=i(8296),r=i(5212),o=i(9744),s=i(8067),l=i(1772),c=i(3100),u=i(5908),d=i(7320),h=i(8072),g=i(419),p=i(3056),f=i(1880),m=i(8496),y=i(2400),v=i(1480),b=i(1544),S=i(8008),x=i(4940),w=i(5864),k=i(7616),C=0;function T(e,t,i,n){this._groups=e,this._parents=t,this._name=i,this._id=n}function M(){return++C}var E=n.cp.prototype;T.prototype=function(e){return(0,n.cp)().transition(e)}.prototype={constructor:T,select:p.c,selectAll:f.c,selectChild:E.selectChild,selectChildren:E.selectChildren,filter:u.c,merge:d.c,selection:m.c,transition:x.c,call:E.call,nodes:E.nodes,node:E.node,size:E.size,empty:E.empty,each:E.each,on:h.c,attr:a.c,attrTween:r.c,style:y.c,styleTween:v.c,text:b.c,textTween:S.c,remove:g.c,tween:w.c,delay:o.c,duration:s.c,ease:l.c,easeVarying:c.c,end:k.c,[Symbol.iterator]:E[Symbol.iterator]}},7808:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});var n=i(2352),a=i(5568),r=i(8948),o=i(239);function s(e,t){var i;return("number"==typeof t?a.c:t instanceof n.cp?r.cp:(i=(0,n.cp)(t))?(t=i,r.cp):o.c)(e,t)}},7320:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(2292);function a(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,a=t.length,r=i.length,o=Math.min(a,r),s=new Array(a),l=0;l<o;++l)for(var c,u=t[l],d=i[l],h=u.length,g=s[l]=new Array(h),p=0;p<h;++p)(c=u[p]||d[p])&&(g[p]=c);for(;l<a;++l)s[l]=t[l];return new n.Ox(s,this._parents,this._name,this._id)}},8072:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(1160);function a(e,t){var i=this._id;return arguments.length<2?(0,n._M)(this.node(),i).on.on(e):this.each(function(e,t,i){var a,r,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?n._6:n.WO;return function(){var n=o(this,e),s=n.on;s!==a&&(r=(a=s).copy()).on(t,i),n.on=r}}(i,e,t))}},419:(e,t,i)=>{"use strict";function n(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}));var e}i.d(t,{c:()=>n})},1160:(e,t,i)=>{"use strict";i.d(t,{WO:()=>y,_6:()=>m,_M:()=>v,cp:()=>f,ox:()=>p,wj:()=>g,yI:()=>u});var n=i(8648),a=i(9568),r=i(7424),o=(0,n.c)("start","end","cancel","interrupt"),s=[],l=0,c=1,u=2,d=3,h=4,g=5,p=6;function f(e,t,i,n,f,m){var y=e.__transition;if(y){if(i in y)return}else e.__transition={};!function(e,t,i){var n,o=e.__transition;function s(a){var g,m,y,v;if(i.state!==c)return f();for(g in o)if((v=o[g]).name===i.name){if(v.state===d)return(0,r.c)(s);v.state===h?(v.state=p,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete o[g]):+g<t&&(v.state=p,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete o[g])}if((0,r.c)((function(){i.state===d&&(i.state=h,i.timer.restart(l,i.delay,i.time),l(a))})),i.state=u,i.on.call("start",e,e.__data__,i.index,i.group),i.state===u){for(i.state=d,n=new Array(y=i.tween.length),g=0,m=-1;g<y;++g)(v=i.tween[g].value.call(e,e.__data__,i.index,i.group))&&(n[++m]=v);n.length=m+1}}function l(t){for(var a=t<i.duration?i.ease.call(null,t/i.duration):(i.timer.restart(f),i.state=g,1),r=-1,o=n.length;++r<o;)n[r].call(e,a);i.state===g&&(i.on.call("end",e,e.__data__,i.index,i.group),f())}function f(){for(var n in i.state=p,i.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=i,i.timer=(0,a.kD)((function(e){i.state=c,i.timer.restart(s,i.delay,i.time),i.delay<=e&&s(e-i.delay)}),0,i.time)}(e,i,{name:t,index:n,group:f,on:o,tween:s,time:m.time,delay:m.delay,duration:m.duration,ease:m.ease,timer:null,state:l})}function m(e,t){var i=v(e,t);if(i.state>l)throw new Error("too late; already scheduled");return i}function y(e,t){var i=v(e,t);if(i.state>d)throw new Error("too late; already running");return i}function v(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}},3056:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(5668),a=i(2292),r=i(1160);function o(e){var t=this._name,i=this._id;"function"!=typeof e&&(e=(0,n.c)(e));for(var o=this._groups,s=o.length,l=new Array(s),c=0;c<s;++c)for(var u,d,h=o[c],g=h.length,p=l[c]=new Array(g),f=0;f<g;++f)(u=h[f])&&(d=e.call(u,u.__data__,f,h))&&("__data__"in u&&(d.__data__=u.__data__),p[f]=d,(0,r.cp)(p[f],t,i,f,p,(0,r._M)(u,i)));return new a.Ox(l,this._parents,t,i)}},1880:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(8468),a=i(2292),r=i(1160);function o(e){var t=this._name,i=this._id;"function"!=typeof e&&(e=(0,n.c)(e));for(var o=this._groups,s=o.length,l=[],c=[],u=0;u<s;++u)for(var d,h=o[u],g=h.length,p=0;p<g;++p)if(d=h[p]){for(var f,m=e.call(d,d.__data__,p,h),y=(0,r._M)(d,i),v=0,b=m.length;v<b;++v)(f=m[v])&&(0,r.cp)(f,t,i,v,m,y);l.push(m),c.push(d)}return new a.Ox(l,c,t,i)}},8496:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(4640).cp.prototype.constructor;function a(){return new n(this._groups,this._parents)}},2400:(e,t,i)=>{"use strict";i.d(t,{c:()=>c});var n=i(8240),a=i(4248),r=i(1160),o=i(5864),s=i(7808);function l(e){return function(){this.style.removeProperty(e)}}function c(e,t,i){var c="transform"==(e+="")?n.C:s.c;return null==t?this.styleTween(e,function(e,t){var i,n,r;return function(){var o=(0,a.V)(this,e),s=(this.style.removeProperty(e),(0,a.V)(this,e));return o===s?null:o===i&&s===n?r:r=t(i=o,n=s)}}(e,c)).on("end.style."+e,l(e)):"function"==typeof t?this.styleTween(e,function(e,t,i){var n,r,o;return function(){var s=(0,a.V)(this,e),l=i(this),c=l+"";return null==l&&(this.style.removeProperty(e),c=l=(0,a.V)(this,e)),s===c?null:s===n&&c===r?o:(r=c,o=t(n=s,l))}}(e,c,(0,o.w)(this,"style."+e,t))).each(function(e,t){var i,n,a,o,s="style."+t,c="end."+s;return function(){var u=(0,r.WO)(this,e),d=u.on,h=null==u.value[s]?o||(o=l(t)):void 0;d===i&&a===h||(n=(i=d).copy()).on(c,a=h),u.on=n}}(this._id,e)):this.styleTween(e,function(e,t,i){var n,r,o=i+"";return function(){var s=(0,a.V)(this,e);return s===o?null:s===n?r:r=t(n=s,i)}}(e,c,t),i).on("end.style."+e,null)}},1480:(e,t,i)=>{"use strict";function n(e,t,i){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(e,t,i){var n,a;function r(){var r=t.apply(this,arguments);return r!==a&&(n=(a=r)&&function(e,t,i){return function(n){this.style.setProperty(e,t.call(this,n),i)}}(e,r,i)),n}return r._value=t,r}(e,t,null==i?"":i))}i.d(t,{c:()=>n})},1544:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(5864);function a(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}((0,n.w)(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))}},8008:(e,t,i)=>{"use strict";function n(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,i;function n(){var n=e.apply(this,arguments);return n!==i&&(t=(i=n)&&function(e){return function(t){this.textContent=e.call(this,t)}}(n)),t}return n._value=e,n}(e))}i.d(t,{c:()=>n})},4940:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});var n=i(2292),a=i(1160);function r(){for(var e=this._name,t=this._id,i=(0,n.mU)(),r=this._groups,o=r.length,s=0;s<o;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){var h=(0,a._M)(l,t);(0,a.cp)(l,e,i,d,c,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new n.Ox(r,this._parents,e,i)}},5864:(e,t,i)=>{"use strict";i.d(t,{c:()=>o,w:()=>s});var n=i(1160);function a(e,t){var i,a;return function(){var r=(0,n.WO)(this,e),o=r.tween;if(o!==i)for(var s=0,l=(a=i=o).length;s<l;++s)if(a[s].name===t){(a=a.slice()).splice(s,1);break}r.tween=a}}function r(e,t,i){var a,r;if("function"!=typeof i)throw new Error;return function(){var o=(0,n.WO)(this,e),s=o.tween;if(s!==a){r=(a=s).slice();for(var l={name:t,value:i},c=0,u=r.length;c<u;++c)if(r[c].name===t){r[c]=l;break}c===u&&r.push(l)}o.tween=r}}function o(e,t){var i=this._id;if(e+="",arguments.length<2){for(var o,s=(0,n._M)(this.node(),i).tween,l=0,c=s.length;l<c;++l)if((o=s[l]).name===e)return o.value;return null}return this.each((null==t?a:r)(i,e,t))}function s(e,t,i){var a=e._id;return e.each((function(){var e=(0,n.WO)(this,a);(e.value||(e.value={}))[t]=i.apply(this,arguments)})),function(e){return(0,n._M)(e,a).value[t]}}},5912:(e,t,i)=>{"use strict";i(3880),i(7992)},7992:(e,t,i)=>{"use strict";function n(e,t,i){this.k=e,this.x=t,this.y=i}n.prototype={constructor:n,scale:function(e){return 1===e?this:new n(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new n(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new n(1,0,0),n.prototype},3880:(e,t,i)=>{"use strict";i(3588),i(7992)},7884:(e,t,i)=>{"use strict";i.d(t,{COP:()=>r.CO,M89:()=>a.M8,MlD:()=>r.Ml,SuD:()=>r.Su,e_G:()=>n.e_,kzl:()=>a.kz,s5Y:()=>n.s5});var n=i(7160),a=(i(8928),i(4112)),r=i(6388);i(3588),i(5912)}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";i.r(n),i.d(n,{default:()=>r});var e=i(7876),t=window.powerbi,a={name:"PBI_CV_9272D058_BEA0_476A_B090_A712545F92FA",displayName:"Bullet Chart by OKVIZ",class:"Visual",apiVersion:"5.4.0",create:t=>{if(e.w)return new e.w(t);throw"Visual instance not found"},createModalDialog:(e,t,i)=>{const n=globalThis.dialogRegistry;e in n&&new n[e](t,i)},custom:!0};void 0!==t&&(t.visuals=t.visuals||{},t.visuals.plugins=t.visuals.plugins||{},t.visuals.plugins.PBI_CV_9272D058_BEA0_476A_B090_A712545F92FA=a);const r=a})(),PBI_CV_9272D058_BEA0_476A_B090_A712545F92FA=n})();