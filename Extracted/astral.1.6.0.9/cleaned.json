{
    "visual": {
        "name": "astralAI",
        "displayName": "AstralAI",
        "guid": "astral",
        "visualClassName": "Visual",
        "version": "1.6.0.9",
        "description": "Astral AI-powered component for Power BI",
        "supportUrl": "https://astralinsights.ai/",
        "gitHubUrl": "https://github.com/Astral-Insights/duke-health-pbi-agent"
    },
    "author": {
        "name": "Victor Torrealba",
        "email": "victor@astralinsights.ai"
    },
    "apiVersion": "5.11.0",
    "style": "style/visual.less",
    "stringResources": {},
    "capabilities": {
        "dataRoles": [
            {
                "displayName": "Data Fields",
                "name": "dataFields",
                "kind": "Grouping"
            }
        ],
        "objects": {
            "fieldMappings": {
                "displayName": "Field Mappings",
                "properties": {
                    "costCenterField": {
                        "displayName": "Cost Center Field",
                        "type": {
                            "text": true
                        },
                        "description": "Field name for cost center (e.g., 'cost_center_name', 'department')"
                    },
                    "drugNameField": {
                        "displayName": "Drug Name Field",
                        "type": {
                            "text": true
                        },
                        "description": "Field name for drug name (e.g., 'drug_name', 'medication_name')"
                    },
                    "ndcField": {
                        "displayName": "NDC Field",
                        "type": {
                            "text": true
                        },
                        "description": "Field name for NDC code (e.g., 'ndc', 'ndc_code')"
                    },
                    "purchaseDollarsField": {
                        "displayName": "Purchase Dollars Field",
                        "type": {
                            "text": true
                        },
                        "description": "Field name for purchase amount (e.g., 'purchase_dollars_cardinal', 'cost')"
                    },
                    "quantityField": {
                        "displayName": "Quantity Field",
                        "type": {
                            "text": true
                        },
                        "description": "Field name for quantity (e.g., 'total_quantity_cardinal', 'qty')"
                    },
                    "unitCostField": {
                        "displayName": "Unit Cost Field",
                        "type": {
                            "text": true
                        },
                        "description": "Field name for unit cost (e.g., 'unit_cost_per_quantity_cardinal', 'unit_price')"
                    },
                    "fiscalPeriodField": {
                        "displayName": "Fiscal Period Field",
                        "type": {
                            "text": true
                        },
                        "description": "Field name for fiscal period (e.g., 'fiscal_period', 'period')"
                    },
                    "fiscalYearField": {
                        "displayName": "Fiscal Year Field",
                        "type": {
                            "text": true
                        },
                        "description": "Field name for fiscal year (e.g., 'fiscal_year', 'year')"
                    },
                    "groupField": {
                        "displayName": "Group Field",
                        "type": {
                            "text": true
                        },
                        "description": "Field name for group classification (e.g., 'group', 'category')"
                    }
                }
            },
            "proxySettings": {
                "displayName": "Proxy Configuration",
                "properties": {
                    "proxyUrl": {
                        "displayName": "Proxy URL",
                        "type": {
                            "text": true
                        },
                        "description": "Azure Function App proxy URL (e.g., https://your-app.azurewebsites.net)"
                    },
                    "apiKey": {
                        "displayName": "API Key (Development)",
                        "type": {
                            "text": true
                        },
                        "description": "API key for development mode (leave empty for production Power BI auth)"
                    }
                }
            }
        },
        "dataViewMappings": [
            {
                "categorical": {
                    "categories": {
                        "for": {
                            "in": "dataFields"
                        },
                        "dataReductionAlgorithm": {
                            "top": {
                                "count": 20000
                            }
                        }
                    }
                }
            }
        ],
        "privileges": [
            {
                "name": "WebAccess",
                "essential": true,
                "parameters": [
                    "https://*.azurewebsites.net",
                    "https://api.openai.com/v1/chat/completions",
                    "https://api.openai.com/v1/audio/speech",
                    "https://*.openai.azure.com",
                    "https://*.services.ai.azure.com/",
                    "https://api.fabric.microsoft.com/*"
                ]
            }
        ]
    },
    "visualEntryPoint": "",
    "externalJS": [],
    "assets": {
        "icon": "assets/icon.png"
    }
}